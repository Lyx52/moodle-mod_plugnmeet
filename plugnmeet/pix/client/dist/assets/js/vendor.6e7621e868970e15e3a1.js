/*! For license information please see vendor.6e7621e868970e15e3a1.js.LICENSE.txt */
(self.webpackChunkplugnmeet_client=self.webpackChunkplugnmeet_client||[]).push([[736],{60290:(e,t,n)=>{var r,i;self,e.exports=(r=n(67294),i=n(73935),function(){var e,t,n,o,a={7945:function(e,t,n){e.exports=n(1602)},200:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=c||u||Function("return this")(),p=Object.prototype.toString,f=Math.max,h=Math.min,m=function(){return d.Date.now()};function g(e,t,n){var i,o,a,s,l,c,u=0,d=!1,p=!1,g=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=o;return i=o=void 0,u=t,s=e.apply(r,n)}function w(e){return u=e,l=setTimeout(S,t),d?b(e):s}function x(e){var n=e-c;return void 0===c||n>=t||n<0||p&&e-u>=a}function S(){var e=m();if(x(e))return k(e);l=setTimeout(S,function(e){var n=t-(e-c);return p?h(n,a-(e-u)):n}(e))}function k(e){return l=void 0,g&&i?b(e):(i=o=void 0,s)}function T(){var e=m(),n=x(e);if(i=arguments,o=this,c=e,n){if(void 0===l)return w(c);if(p)return l=setTimeout(S,t),b(c)}return void 0===l&&(l=setTimeout(S,t)),s}return t=y(t)||0,v(n)&&(d=!!n.leading,a=(p="maxWait"in n)?f(y(n.maxWait)||0,t):a,g="trailing"in n?!!n.trailing:g),T.cancel=function(){void 0!==l&&clearTimeout(l),u=0,i=c=o=l=void 0},T.flush=function(){return void 0===l?s:k(m())},T}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==p.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=a.test(e);return n||s.test(e)?l(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return v(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),g(e,t,{leading:i,maxWait:t,trailing:o})}},2891:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",l=16,c=32,u=64,d=128,p=256,f=1/0,h=9007199254740991,m=NaN,g=4294967295,v=[["ary",d],["bind",1],["bindKey",2],["curry",8],["curryRight",l],["flip",512],["partial",c],["partialRight",u],["rearg",p]],y="[object Arguments]",b="[object Array]",w="[object Boolean]",x="[object Date]",S="[object Error]",k="[object Function]",T="[object GeneratorFunction]",E="[object Map]",_="[object Number]",C="[object Object]",O="[object Promise]",P="[object RegExp]",A="[object Set]",I="[object String]",M="[object Symbol]",N="[object WeakMap]",R="[object ArrayBuffer]",D="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",B="[object Int8Array]",F="[object Int16Array]",U="[object Int32Array]",$="[object Uint8Array]",H="[object Uint8ClampedArray]",G="[object Uint16Array]",V="[object Uint32Array]",z=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,K=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,X=/[&<>"']/g,Z=RegExp(q.source),Y=RegExp(X.source),Q=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,de=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,pe=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,me=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,we=/^(?:0|[1-9]\d*)$/,xe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,Te="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",_e="A-Z\\xc0-\\xd6\\xd8-\\xde",Ce="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",Ae="[\\ud800-\\udfff]",Ie="["+Oe+"]",Me="["+Te+"]",Ne="\\d+",Re="[\\u2700-\\u27bf]",De="["+Ee+"]",Le="[^\\ud800-\\udfff"+Oe+Ne+"\\u2700-\\u27bf"+Ee+_e+"]",je="\\ud83c[\\udffb-\\udfff]",Be="[^\\ud800-\\udfff]",Fe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ue="[\\ud800-\\udbff][\\udc00-\\udfff]",$e="["+_e+"]",He="(?:"+De+"|"+Le+")",Ge="(?:"+$e+"|"+Le+")",Ve="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",ze="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",We="(?:"+Me+"|"+je+")?",Ke="[\\ufe0e\\ufe0f]?",qe=Ke+We+"(?:\\u200d(?:"+[Be,Fe,Ue].join("|")+")"+Ke+We+")*",Xe="(?:"+[Re,Fe,Ue].join("|")+")"+qe,Ze="(?:"+[Be+Me+"?",Me,Fe,Ue,Ae].join("|")+")",Ye=RegExp(Pe,"g"),Qe=RegExp(Me,"g"),Je=RegExp(je+"(?="+je+")|"+Ze+qe,"g"),et=RegExp([$e+"?"+De+"+"+Ve+"(?="+[Ie,$e,"$"].join("|")+")",Ge+"+"+ze+"(?="+[Ie,$e+He,"$"].join("|")+")",$e+"?"+He+"+"+Ve,$e+"+"+ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Xe].join("|"),"g"),tt=RegExp("[\\u200d\\ud800-\\udfff"+Te+Ce+"]"),nt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,rt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,ot={};ot[L]=ot[j]=ot[B]=ot[F]=ot[U]=ot[$]=ot[H]=ot[G]=ot[V]=!0,ot[y]=ot[b]=ot[R]=ot[w]=ot[D]=ot[x]=ot[S]=ot[k]=ot[E]=ot[_]=ot[C]=ot[P]=ot[A]=ot[I]=ot[N]=!1;var at={};at[y]=at[b]=at[R]=at[D]=at[w]=at[x]=at[L]=at[j]=at[B]=at[F]=at[U]=at[E]=at[_]=at[C]=at[P]=at[A]=at[I]=at[M]=at[$]=at[H]=at[G]=at[V]=!0,at[S]=at[k]=at[N]=!1;var st={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ct=parseInt,ut="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,dt="object"==typeof self&&self&&self.Object===Object&&self,pt=ut||dt||Function("return this")(),ft=t&&!t.nodeType&&t,ht=ft&&e&&!e.nodeType&&e,mt=ht&&ht.exports===ft,gt=mt&&ut.process,vt=function(){try{return ht&&ht.require&&ht.require("util").types||gt&&gt.binding&&gt.binding("util")}catch(e){}}(),yt=vt&&vt.isArrayBuffer,bt=vt&&vt.isDate,wt=vt&&vt.isMap,xt=vt&&vt.isRegExp,St=vt&&vt.isSet,kt=vt&&vt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function _t(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function At(e,t){return!(null==e||!e.length)&&Ut(e,t,0)>-1}function It(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Nt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Rt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Dt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var jt=Vt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ft(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ut(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ft(e,Ht,n)}function $t(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ht(e){return e!=e}function Gt(e,t){var n=null==e?0:e.length;return n?Kt(e,t)/n:m}function Vt(e){return function(t){return null==t?i:t[e]}}function zt(e){return function(t){return null==e?i:e[t]}}function Wt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Kt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function qt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,hn(e)+1).replace(ae,""):e}function Zt(e){return function(t){return e(t)}}function Yt(e,t){return Mt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,r=e.length;++n<r&&Ut(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length;n--&&Ut(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var nn=zt({\u00c0:"A",\u00c1:"A",\u00c2:"A",\u00c3:"A",\u00c4:"A",\u00c5:"A",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u00e3:"a",\u00e4:"a",\u00e5:"a",\u00c7:"C",\u00e7:"c",\u00d0:"D",\u00f0:"d",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u00cb:"E",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u00eb:"e",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u00cf:"I",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u00ef:"i",\u00d1:"N",\u00f1:"n",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u00d5:"O",\u00d6:"O",\u00d8:"O",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u00f5:"o",\u00f6:"o",\u00f8:"o",\u00d9:"U",\u00da:"U",\u00db:"U",\u00dc:"U",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u00fc:"u",\u00dd:"Y",\u00fd:"y",\u00ff:"y",\u00c6:"Ae",\u00e6:"ae",\u00de:"Th",\u00fe:"th",\u00df:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u010e:"D",\u0110:"D",\u010f:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011a:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011b:"e",\u011c:"G",\u011e:"G",\u0120:"G",\u0122:"G",\u011d:"g",\u011f:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012a:"I",\u012c:"I",\u012e:"I",\u0130:"I",\u0129:"i",\u012b:"i",\u012d:"i",\u012f:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013b:"L",\u013d:"L",\u013f:"L",\u0141:"L",\u013a:"l",\u013c:"l",\u013e:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014a:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014b:"n",\u014c:"O",\u014e:"O",\u0150:"O",\u014d:"o",\u014f:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015a:"S",\u015c:"S",\u015e:"S",\u0160:"S",\u015b:"s",\u015d:"s",\u015f:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016a:"U",\u016c:"U",\u016e:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016b:"u",\u016d:"u",\u016f:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017b:"Z",\u017d:"Z",\u017a:"z",\u017c:"z",\u017e:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017f:"s"}),rn=zt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+st[e]}function an(e){return tt.test(e)}function sn(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function ln(e,t){return function(n){return e(t(n))}}function cn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function pn(e){return an(e)?function(e){for(var t=Je.lastIndex=0;Je.test(e);)++t;return t}(e):jt(e)}function fn(e){return an(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function hn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var mn=zt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function e(t){var n,r=(t=null==t?pt:gn.defaults(pt.Object(),t,gn.pick(pt,rt))).Array,se=t.Date,Te=t.Error,Ee=t.Function,_e=t.Math,Ce=t.Object,Oe=t.RegExp,Pe=t.String,Ae=t.TypeError,Ie=r.prototype,Me=Ee.prototype,Ne=Ce.prototype,Re=t["__core-js_shared__"],De=Me.toString,Le=Ne.hasOwnProperty,je=0,Be=(n=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Fe=Ne.toString,Ue=De.call(Ce),$e=pt._,He=Oe("^"+De.call(Le).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ge=mt?t.Buffer:i,Ve=t.Symbol,ze=t.Uint8Array,We=Ge?Ge.allocUnsafe:i,Ke=ln(Ce.getPrototypeOf,Ce),qe=Ce.create,Xe=Ne.propertyIsEnumerable,Ze=Ie.splice,Je=Ve?Ve.isConcatSpreadable:i,tt=Ve?Ve.iterator:i,st=Ve?Ve.toStringTag:i,ut=function(){try{var e=ho(Ce,"defineProperty");return e({},"",{}),e}catch(e){}}(),dt=t.clearTimeout!==pt.clearTimeout&&t.clearTimeout,ft=se&&se.now!==pt.Date.now&&se.now,ht=t.setTimeout!==pt.setTimeout&&t.setTimeout,gt=_e.ceil,vt=_e.floor,jt=Ce.getOwnPropertySymbols,zt=Ge?Ge.isBuffer:i,vn=t.isFinite,yn=Ie.join,bn=ln(Ce.keys,Ce),wn=_e.max,xn=_e.min,Sn=se.now,kn=t.parseInt,Tn=_e.random,En=Ie.reverse,_n=ho(t,"DataView"),Cn=ho(t,"Map"),On=ho(t,"Promise"),Pn=ho(t,"Set"),An=ho(t,"WeakMap"),In=ho(Ce,"create"),Mn=An&&new An,Nn={},Rn=$o(_n),Dn=$o(Cn),Ln=$o(On),jn=$o(Pn),Bn=$o(An),Fn=Ve?Ve.prototype:i,Un=Fn?Fn.valueOf:i,$n=Fn?Fn.toString:i;function Hn(e){if(is(e)&&!Ka(e)&&!(e instanceof Wn)){if(e instanceof zn)return e;if(Le.call(e,"__wrapped__"))return Ho(e)}return new zn(e)}var Gn=function(){function e(){}return function(t){if(!rs(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function Vn(){}function zn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Wn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Zn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Xn;++t<n;)this.add(e[t])}function Yn(e){var t=this.__data__=new qn(e);this.size=t.size}function Qn(e,t){var n=Ka(e),r=!n&&Wa(e),i=!n&&!r&&Ya(e),o=!n&&!r&&!i&&ps(e),a=n||r||i||o,s=a?qt(e.length,Pe):[],l=s.length;for(var c in e)!t&&!Le.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||xo(c,l))||s.push(c);return s}function Jn(e){var t=e.length;return t?e[Zr(0,t-1)]:i}function er(e,t){return Bo(Ii(e),cr(t,0,e.length))}function tr(e){return Bo(Ii(e))}function nr(e,t,n){(n!==i&&!Ga(e[t],n)||n===i&&!(t in e))&&sr(e,t,n)}function rr(e,t,n){var r=e[t];Le.call(e,t)&&Ga(r,n)&&(n!==i||t in e)||sr(e,t,n)}function ir(e,t){for(var n=e.length;n--;)if(Ga(e[n][0],t))return n;return-1}function or(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ar(e,t){return e&&Mi(t,Rs(t),e)}function sr(e,t,n){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function lr(e,t){for(var n=-1,o=t.length,a=r(o),s=null==e;++n<o;)a[n]=s?i:Ps(e,t[n]);return a}function cr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function ur(e,t,n,r,o,a){var s,l=1&t,c=2&t,u=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!rs(e))return e;var d=Ka(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!l)return Ii(e,s)}else{var p=vo(e),f=p==k||p==T;if(Ya(e))return Ei(e,l);if(p==C||p==y||f&&!o){if(s=c||f?{}:bo(e),!l)return c?function(e,t){return Mi(e,go(e),t)}(e,function(e,t){return e&&Mi(t,Ds(t),e)}(s,e)):function(e,t){return Mi(e,mo(e),t)}(e,ar(s,e))}else{if(!at[p])return o?e:{};s=function(e,t,n){var r,i=e.constructor;switch(t){case R:return _i(e);case w:case x:return new i(+e);case D:return function(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case j:case B:case F:case U:case $:case H:case G:case V:return Ci(e,n);case E:case A:return new i;case _:case I:return new i(e);case P:return function(e){var t=new e.constructor(e.source,me.exec(e));return t.lastIndex=e.lastIndex,t}(e);case M:return r=e,Un?Ce(Un.call(r)):{}}}(e,p,l)}}a||(a=new Yn);var h=a.get(e);if(h)return h;a.set(e,s),cs(e)?e.forEach((function(r){s.add(ur(r,t,n,r,e,a))})):os(e)&&e.forEach((function(r,i){s.set(i,ur(r,t,n,i,e,a))}));var m=d?i:(u?c?ao:oo:c?Ds:Rs)(e);return _t(m||e,(function(r,i){m&&(r=e[i=r]),rr(s,i,ur(r,t,n,i,e,a))})),s}function dr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function pr(e,t,n){if("function"!=typeof e)throw new Ae(o);return Ro((function(){e.apply(i,n)}),t)}function fr(e,t,n,r){var i=-1,o=At,a=!0,s=e.length,l=[],c=t.length;if(!s)return l;n&&(t=Mt(t,Zt(n))),r?(o=It,a=!1):t.length>=200&&(o=Qt,a=!1,t=new Zn(t));e:for(;++i<s;){var u=e[i],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d==d){for(var p=c;p--;)if(t[p]===d)continue e;l.push(u)}else o(t,d,r)||l.push(u)}return l}Hn.templateSettings={escape:Q,evaluate:J,interpolate:ee,variable:"",imports:{_:Hn}},Hn.prototype=Vn.prototype,Hn.prototype.constructor=Hn,zn.prototype=Gn(Vn.prototype),zn.prototype.constructor=zn,Wn.prototype=Gn(Vn.prototype),Wn.prototype.constructor=Wn,Kn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},Kn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Kn.prototype.get=function(e){var t=this.__data__;if(In){var n=t[e];return n===a?i:n}return Le.call(t,e)?t[e]:i},Kn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==i:Le.call(t,e)},Kn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=In&&t===i?a:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=ir(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ze.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=ir(t,e);return n<0?i:t[n][1]},qn.prototype.has=function(e){return ir(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=ir(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Xn.prototype.clear=function(){this.size=0,this.__data__={hash:new Kn,map:new(Cn||qn),string:new Kn}},Xn.prototype.delete=function(e){var t=po(this,e).delete(e);return this.size-=t?1:0,t},Xn.prototype.get=function(e){return po(this,e).get(e)},Xn.prototype.has=function(e){return po(this,e).has(e)},Xn.prototype.set=function(e,t){var n=po(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Zn.prototype.add=Zn.prototype.push=function(e){return this.__data__.set(e,a),this},Zn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.clear=function(){this.__data__=new qn,this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Yn.prototype.get=function(e){return this.__data__.get(e)},Yn.prototype.has=function(e){return this.__data__.has(e)},Yn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Xn(r)}return n.set(e,t),this.size=n.size,this};var hr=Di(Sr),mr=Di(kr,!0);function gr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function vr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(l===i?s==s&&!ds(s):n(s,l)))var l=s,c=a}return c}function yr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=wo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?br(s,t-1,n,r,i):Nt(i,s):r||(i[i.length]=s)}return i}var wr=Li(),xr=Li(!0);function Sr(e,t){return e&&wr(e,t,Rs)}function kr(e,t){return e&&xr(e,t,Rs)}function Tr(e,t){return Pt(t,(function(t){return es(e[t])}))}function Er(e,t){for(var n=0,r=(t=xi(t,e)).length;null!=e&&n<r;)e=e[Uo(t[n++])];return n&&n==r?e:i}function _r(e,t,n){var r=t(e);return Ka(e)?r:Nt(r,n(e))}function Cr(e){return null==e?e===i?"[object Undefined]":"[object Null]":st&&st in Ce(e)?function(e){var t=Le.call(e,st),n=e[st];try{e[st]=i;var r=!0}catch(e){}var o=Fe.call(e);return r&&(t?e[st]=n:delete e[st]),o}(e):function(e){return Fe.call(e)}(e)}function Or(e,t){return e>t}function Pr(e,t){return null!=e&&Le.call(e,t)}function Ar(e,t){return null!=e&&t in Ce(e)}function Ir(e,t,n){for(var o=n?It:At,a=e[0].length,s=e.length,l=s,c=r(s),u=1/0,d=[];l--;){var p=e[l];l&&t&&(p=Mt(p,Zt(t))),u=xn(p.length,u),c[l]=!n&&(t||a>=120&&p.length>=120)?new Zn(l&&p):i}p=e[0];var f=-1,h=c[0];e:for(;++f<a&&d.length<u;){var m=p[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(h?Qt(h,g):o(d,g,n))){for(l=s;--l;){var v=c[l];if(!(v?Qt(v,g):o(e[l],g,n)))continue e}h&&h.push(g),d.push(m)}}return d}function Mr(e,t,n){var r=null==(e=Ao(e,t=xi(t,e)))?e:e[Uo(Jo(t))];return null==r?i:Tt(r,e,n)}function Nr(e){return is(e)&&Cr(e)==y}function Rr(e,t,n,r,o){return e===t||(null==e||null==t||!is(e)&&!is(t)?e!=e&&t!=t:function(e,t,n,r,o,a){var s=Ka(e),l=Ka(t),c=s?b:vo(e),u=l?b:vo(t),d=(c=c==y?C:c)==C,p=(u=u==y?C:u)==C,f=c==u;if(f&&Ya(e)){if(!Ya(t))return!1;s=!0,d=!1}if(f&&!d)return a||(a=new Yn),s||ps(e)?ro(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case D:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!o(new ze(e),new ze(t)));case w:case x:case _:return Ga(+e,+t);case S:return e.name==t.name&&e.message==t.message;case P:case I:return e==t+"";case E:var s=sn;case A:var l=1&r;if(s||(s=un),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var u=ro(s(e),s(t),r,i,o,a);return a.delete(e),u;case M:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var h=d&&Le.call(e,"__wrapped__"),m=p&&Le.call(t,"__wrapped__");if(h||m){var g=h?e.value():e,v=m?t.value():t;return a||(a=new Yn),o(g,v,n,r,a)}}return!!f&&(a||(a=new Yn),function(e,t,n,r,o,a){var s=1&n,l=oo(e),c=l.length;if(c!=oo(t).length&&!s)return!1;for(var u=c;u--;){var d=l[u];if(!(s?d in t:Le.call(t,d)))return!1}var p=a.get(e),f=a.get(t);if(p&&f)return p==t&&f==e;var h=!0;a.set(e,t),a.set(t,e);for(var m=s;++u<c;){var g=e[d=l[u]],v=t[d];if(r)var y=s?r(v,g,d,t,e,a):r(g,v,d,e,t,a);if(!(y===i?g===v||o(g,v,n,r,a):y)){h=!1;break}m||(m="constructor"==d)}if(h&&!m){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(h=!1)}return a.delete(e),a.delete(t),h}(e,t,n,r,o,a))}(e,t,n,r,Rr,o))}function Dr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Ce(e);o--;){var l=n[o];if(s&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<a;){var c=(l=n[o])[0],u=e[c],d=l[1];if(s&&l[2]){if(u===i&&!(c in e))return!1}else{var p=new Yn;if(r)var f=r(u,d,c,e,t,p);if(!(f===i?Rr(d,u,3,r,p):f))return!1}}return!0}function Lr(e){return!(!rs(e)||(t=e,Be&&Be in t))&&(es(e)?He:ye).test($o(e));var t}function jr(e){return"function"==typeof e?e:null==e?al:"object"==typeof e?Ka(e)?Gr(e[0],e[1]):Hr(e):ml(e)}function Br(e){if(!_o(e))return bn(e);var t=[];for(var n in Ce(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!rs(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=_o(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function $r(e,t){var n=-1,i=Xa(e)?r(e.length):[];return hr(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Hr(e){var t=fo(e);return 1==t.length&&t[0][2]?Oo(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Gr(e,t){return ko(e)&&Co(t)?Oo(Uo(e),t):function(n){var r=Ps(n,e);return r===i&&r===t?As(n,e):Rr(t,r,3)}}function Vr(e,t,n,r,o){e!==t&&wr(t,(function(a,s){if(o||(o=new Yn),rs(a))!function(e,t,n,r,o,a,s){var l=Mo(e,n),c=Mo(t,n),u=s.get(c);if(u)nr(e,n,u);else{var d=a?a(l,c,n+"",e,t,s):i,p=d===i;if(p){var f=Ka(c),h=!f&&Ya(c),m=!f&&!h&&ps(c);d=c,f||h||m?Ka(l)?d=l:Za(l)?d=Ii(l):h?(p=!1,d=Ei(c,!0)):m?(p=!1,d=Ci(c,!0)):d=[]:ss(c)||Wa(c)?(d=l,Wa(l)?d=ws(l):rs(l)&&!es(l)||(d=bo(c))):p=!1}p&&(s.set(c,d),o(d,c,r,a,s),s.delete(c)),nr(e,n,d)}}(e,t,s,n,Vr,r,o);else{var l=r?r(Mo(e,s),a,s+"",e,t,o):i;l===i&&(l=a),nr(e,s,l)}}),Ds)}function zr(e,t){var n=e.length;if(n)return xo(t+=t<0?n:0,n)?e[t]:i}function Wr(e,t,n){t=t.length?Mt(t,(function(e){return Ka(e)?function(t){return Er(t,1===e.length?e[0]:e)}:e})):[al];var r=-1;t=Mt(t,Zt(uo()));var i=$r(e,(function(e,n,i){var o=Mt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;++r<a;){var l=Oi(i[r],o[r]);if(l)return r>=s?l:l*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Kr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Er(e,a);n(s,a)&&ti(o,xi(a,e),s)}return o}function qr(e,t,n,r){var i=r?$t:Ut,o=-1,a=t.length,s=e;for(e===t&&(t=Ii(t)),n&&(s=Mt(e,Zt(n)));++o<a;)for(var l=0,c=t[o],u=n?n(c):c;(l=i(s,u,l,r))>-1;)s!==e&&Ze.call(s,l,1),Ze.call(e,l,1);return e}function Xr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;xo(i)?Ze.call(e,i,1):fi(e,i)}}return e}function Zr(e,t){return e+vt(Tn()*(t-e+1))}function Yr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Do(Po(e,t,al),e+"")}function Jr(e){return Jn(Gs(e))}function ei(e,t){var n=Gs(e);return Bo(n,cr(t,0,n.length))}function ti(e,t,n,r){if(!rs(e))return e;for(var o=-1,a=(t=xi(t,e)).length,s=a-1,l=e;null!=l&&++o<a;){var c=Uo(t[o]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var d=l[c];(u=r?r(d,c,l):i)===i&&(u=rs(d)?d:xo(t[o+1])?[]:{})}rr(l,c,u),l=l[c]}return e}var ni=Mn?function(e,t){return Mn.set(e,t),e}:al,ri=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:rl(t),writable:!0})}:al;function ii(e){return Bo(Gs(e))}function oi(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var a=r(o);++i<o;)a[i]=e[i+t];return a}function ai(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function si(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ds(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return li(e,t,al,n)}function li(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!=t,l=null===t,c=ds(t),u=t===i;o<a;){var d=vt((o+a)/2),p=n(e[d]),f=p!==i,h=null===p,m=p==p,g=ds(p);if(s)var v=r||m;else v=u?m&&(r||f):l?m&&f&&(r||!h):c?m&&f&&!h&&(r||!g):!h&&!g&&(r?p<=t:p<t);v?o=d+1:a=d}return xn(a,4294967294)}function ci(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ga(s,l)){var l=s;o[i++]=0===a?0:a}}return o}function ui(e){return"number"==typeof e?e:ds(e)?m:+e}function di(e){if("string"==typeof e)return e;if(Ka(e))return Mt(e,di)+"";if(ds(e))return $n?$n.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function pi(e,t,n){var r=-1,i=At,o=e.length,a=!0,s=[],l=s;if(n)a=!1,i=It;else if(o>=200){var c=t?null:Yi(e);if(c)return un(c);a=!1,i=Qt,l=new Zn}else l=t?[]:s;e:for(;++r<o;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var p=l.length;p--;)if(l[p]===d)continue e;t&&l.push(d),s.push(u)}else i(l,d,n)||(l!==s&&l.push(d),s.push(u))}return s}function fi(e,t){return null==(e=Ao(e,t=xi(t,e)))||delete e[Uo(Jo(t))]}function hi(e,t,n,r){return ti(e,t,n(Er(e,t)),r)}function mi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?oi(e,r?0:o,r?o+1:i):oi(e,r?o+1:0,r?i:o)}function gi(e,t){var n=e;return n instanceof Wn&&(n=n.value()),Rt(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function vi(e,t,n){var i=e.length;if(i<2)return i?pi(e[0]):[];for(var o=-1,a=r(i);++o<i;)for(var s=e[o],l=-1;++l<i;)l!=o&&(a[o]=fr(a[o]||s,e[l],t,n));return pi(br(a,1),t,n)}function yi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var l=r<a?t[r]:i;n(s,e[r],l)}return s}function bi(e){return Za(e)?e:[]}function wi(e){return"function"==typeof e?e:al}function xi(e,t){return Ka(e)?e:ko(e,t)?[e]:Fo(xs(e))}var Si=Qr;function ki(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:oi(e,t,n)}var Ti=dt||function(e){return pt.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var n=e.length,r=We?We(n):new e.constructor(n);return e.copy(r),r}function _i(e){var t=new e.constructor(e.byteLength);return new ze(t).set(new ze(e)),t}function Ci(e,t){var n=t?_i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Oi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e==e,a=ds(e),s=t!==i,l=null===t,c=t==t,u=ds(t);if(!l&&!u&&!a&&e>t||a&&s&&c&&!l&&!u||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!u&&e<t||u&&n&&o&&!r&&!a||l&&n&&o||!s&&o||!c)return-1}return 0}function Pi(e,t,n,i){for(var o=-1,a=e.length,s=n.length,l=-1,c=t.length,u=wn(a-s,0),d=r(c+u),p=!i;++l<c;)d[l]=t[l];for(;++o<s;)(p||o<a)&&(d[n[o]]=e[o]);for(;u--;)d[l++]=e[o++];return d}function Ai(e,t,n,i){for(var o=-1,a=e.length,s=-1,l=n.length,c=-1,u=t.length,d=wn(a-l,0),p=r(d+u),f=!i;++o<d;)p[o]=e[o];for(var h=o;++c<u;)p[h+c]=t[c];for(;++s<l;)(f||o<a)&&(p[h+n[s]]=e[o++]);return p}function Ii(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Mi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var l=t[a],c=r?r(n[l],e[l],l,n,e):i;c===i&&(c=e[l]),o?sr(n,l,c):rr(n,l,c)}return n}function Ni(e,t){return function(n,r){var i=Ka(n)?Et:or,o=t?t():{};return i(n,e,uo(r,2),o)}}function Ri(e){return Qr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&So(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Ce(t);++r<o;){var l=n[r];l&&e(t,l,r,a)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Xa(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ce(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Li(e){return function(t,n,r){for(var i=-1,o=Ce(t),a=r(t),s=a.length;s--;){var l=a[e?s:++i];if(!1===n(o[l],l,o))break}return t}}function ji(e){return function(t){var n=an(t=xs(t))?fn(t):i,r=n?n[0]:t.charAt(0),o=n?ki(n,1).join(""):t.slice(1);return r[e]()+o}}function Bi(e){return function(t){return Rt(el(Ws(t).replace(Ye,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Gn(e.prototype),r=e.apply(n,t);return rs(r)?r:n}}function Ui(e){return function(t,n,r){var o=Ce(t);if(!Xa(t)){var a=uo(n,3);t=Rs(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function $i(e){return io((function(t){var n=t.length,r=n,a=zn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ae(o);if(a&&!l&&"wrapper"==lo(s))var l=new zn([],!0)}for(r=l?r:n;++r<n;){var c=lo(s=t[r]),u="wrapper"==c?so(s):i;l=u&&To(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?l[lo(u[0])].apply(l,u[3]):1==s.length&&To(s)?l[c]():l.thru(s)}return function(){var e=arguments,r=e[0];if(l&&1==e.length&&Ka(r))return l.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Hi(e,t,n,o,a,s,l,c,u,p){var f=t&d,h=1&t,m=2&t,g=24&t,v=512&t,y=m?i:Fi(e);return function i(){for(var d=arguments.length,b=r(d),w=d;w--;)b[w]=arguments[w];if(g)var x=co(i),S=tn(b,x);if(o&&(b=Pi(b,o,a,g)),s&&(b=Ai(b,s,l,g)),d-=S,g&&d<p){var k=cn(b,x);return Xi(e,t,Hi,i.placeholder,n,b,k,c,u,p-d)}var T=h?n:this,E=m?T[e]:e;return d=b.length,c?b=Io(b,c):v&&d>1&&b.reverse(),f&&u<d&&(b.length=u),this&&this!==pt&&this instanceof i&&(E=y||Fi(E)),E.apply(T,b)}}function Gi(e,t){return function(n,r){return function(e,t,n,r){return Sr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Vi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=di(n),r=di(r)):(n=ui(n),r=ui(r)),o=e(n,r)}return o}}function zi(e){return io((function(t){return t=Mt(t,Zt(uo())),Qr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Wi(e,t){var n=(t=t===i?" ":di(t)).length;if(n<2)return n?Yr(t,e):t;var r=Yr(t,gt(e/pn(t)));return an(t)?ki(fn(r),0,e).join(""):r.slice(0,e)}function Ki(e){return function(t,n,o){return o&&"number"!=typeof o&&So(t,n,o)&&(n=o=i),t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n,i){for(var o=-1,a=wn(gt((t-e)/(n||1)),0),s=r(a);a--;)s[i?a:++o]=e,e+=n;return s}(t,n,o=o===i?t<n?1:-1:gs(o),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=bs(t),n=bs(n)),e(t,n)}}function Xi(e,t,n,r,o,a,s,l,d,p){var f=8&t;t|=f?c:u,4&(t&=~(f?u:c))||(t&=-4);var h=[e,t,o,f?a:i,f?s:i,f?i:a,f?i:s,l,d,p],m=n.apply(i,h);return To(e)&&No(m,h),m.placeholder=r,Lo(m,e,t)}function Zi(e){var t=_e[e];return function(e,n){if(e=bs(e),(n=null==n?0:xn(vs(n),292))&&vn(e)){var r=(xs(e)+"e").split("e");return+((r=(xs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Yi=Pn&&1/un(new Pn([,-0]))[1]==f?function(e){return new Pn(e)}:dl;function Qi(e){return function(t){var n=vo(t);return n==E?sn(t):n==A?dn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,n,a,f,h,m,g){var v=2&t;if(!v&&"function"!=typeof e)throw new Ae(o);var y=a?a.length:0;if(y||(t&=-97,a=f=i),m=m===i?m:wn(vs(m),0),g=g===i?g:vs(g),y-=f?f.length:0,t&u){var b=a,w=f;a=f=i}var x=v?i:so(e),S=[e,t,n,a,f,b,w,h,m,g];if(x&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==d&&8==n||r==d&&n==p&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var l=t[3];if(l){var c=e[3];e[3]=c?Pi(c,l,t[4]):l,e[4]=c?cn(e[3],s):t[4]}(l=t[5])&&(c=e[5],e[5]=c?Ai(c,l,t[6]):l,e[6]=c?cn(e[5],s):t[6]),(l=t[7])&&(e[7]=l),r&d&&(e[8]=null==e[8]?t[8]:xn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(S,x),e=S[0],t=S[1],n=S[2],a=S[3],f=S[4],!(g=S[9]=S[9]===i?v?0:e.length:wn(S[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)k=8==t||t==l?function(e,t,n){var o=Fi(e);return function a(){for(var s=arguments.length,l=r(s),c=s,u=co(a);c--;)l[c]=arguments[c];var d=s<3&&l[0]!==u&&l[s-1]!==u?[]:cn(l,u);return(s-=d.length)<n?Xi(e,t,Hi,a.placeholder,i,l,d,i,i,n-s):Tt(this&&this!==pt&&this instanceof a?o:e,this,l)}}(e,t,g):t!=c&&33!=t||f.length?Hi.apply(i,S):function(e,t,n,i){var o=1&t,a=Fi(e);return function t(){for(var s=-1,l=arguments.length,c=-1,u=i.length,d=r(u+l),p=this&&this!==pt&&this instanceof t?a:e;++c<u;)d[c]=i[c];for(;l--;)d[c++]=arguments[++s];return Tt(p,o?n:this,d)}}(e,t,n,a);else var k=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==pt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,n);return Lo((x?ni:No)(k,S),e,t)}function eo(e,t,n,r){return e===i||Ga(e,Ne[n])&&!Le.call(r,n)?t:e}function to(e,t,n,r,o,a){return rs(e)&&rs(t)&&(a.set(t,e),Vr(e,t,i,to,a),a.delete(t)),e}function no(e){return ss(e)?i:e}function ro(e,t,n,r,o,a){var s=1&n,l=e.length,c=t.length;if(l!=c&&!(s&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var p=-1,f=!0,h=2&n?new Zn:i;for(a.set(e,t),a.set(t,e);++p<l;){var m=e[p],g=t[p];if(r)var v=s?r(g,m,p,t,e,a):r(m,g,p,e,t,a);if(v!==i){if(v)continue;f=!1;break}if(h){if(!Lt(t,(function(e,t){if(!Qt(h,t)&&(m===e||o(m,e,n,r,a)))return h.push(t)}))){f=!1;break}}else if(m!==g&&!o(m,g,n,r,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function io(e){return Do(Po(e,i,qo),e+"")}function oo(e){return _r(e,Rs,mo)}function ao(e){return _r(e,Ds,go)}var so=Mn?function(e){return Mn.get(e)}:dl;function lo(e){for(var t=e.name+"",n=Nn[t],r=Le.call(Nn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function co(e){return(Le.call(Hn,"placeholder")?Hn:e).placeholder}function uo(){var e=Hn.iteratee||sl;return e=e===sl?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function po(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function fo(e){for(var t=Rs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Co(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Lr(n)?n:i}var mo=jt?function(e){return null==e?[]:(e=Ce(e),Pt(jt(e),(function(t){return Xe.call(e,t)})))}:yl,go=jt?function(e){for(var t=[];e;)Nt(t,mo(e)),e=Ke(e);return t}:yl,vo=Cr;function yo(e,t,n){for(var r=-1,i=(t=xi(t,e)).length,o=!1;++r<i;){var a=Uo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ns(i)&&xo(a,i)&&(Ka(e)||Wa(e))}function bo(e){return"function"!=typeof e.constructor||_o(e)?{}:Gn(Ke(e))}function wo(e){return Ka(e)||Wa(e)||!!(Je&&e&&e[Je])}function xo(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&we.test(e))&&e>-1&&e%1==0&&e<t}function So(e,t,n){if(!rs(n))return!1;var r=typeof t;return!!("number"==r?Xa(n)&&xo(t,n.length):"string"==r&&t in n)&&Ga(n[t],e)}function ko(e,t){if(Ka(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ds(e))||ne.test(e)||!te.test(e)||null!=t&&e in Ce(t)}function To(e){var t=lo(e),n=Hn[t];if("function"!=typeof n||!(t in Wn.prototype))return!1;if(e===n)return!0;var r=so(n);return!!r&&e===r[0]}(_n&&vo(new _n(new ArrayBuffer(1)))!=D||Cn&&vo(new Cn)!=E||On&&vo(On.resolve())!=O||Pn&&vo(new Pn)!=A||An&&vo(new An)!=N)&&(vo=function(e){var t=Cr(e),n=t==C?e.constructor:i,r=n?$o(n):"";if(r)switch(r){case Rn:return D;case Dn:return E;case Ln:return O;case jn:return A;case Bn:return N}return t});var Eo=Re?es:bl;function _o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function Co(e){return e==e&&!rs(e)}function Oo(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in Ce(n))}}function Po(e,t,n){return t=wn(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=wn(i.length-t,0),s=r(a);++o<a;)s[o]=i[t+o];o=-1;for(var l=r(t+1);++o<t;)l[o]=i[o];return l[t]=n(s),Tt(e,this,l)}}function Ao(e,t){return t.length<2?e:Er(e,oi(t,0,-1))}function Io(e,t){for(var n=e.length,r=xn(t.length,n),o=Ii(e);r--;){var a=t[r];e[r]=xo(a,n)?o[a]:i}return e}function Mo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var No=jo(ni),Ro=ht||function(e,t){return pt.setTimeout(e,t)},Do=jo(ri);function Lo(e,t,n){var r=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return _t(v,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(ue):[]}(r),n)))}function jo(e){var t=0,n=0;return function(){var r=Sn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Bo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Zr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Fo=function(e){var t=ja(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function Uo(e){if("string"==typeof e||ds(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function $o(e){if(null!=e){try{return De.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ho(e){if(e instanceof Wn)return e.clone();var t=new zn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Go=Qr((function(e,t){return Za(e)?fr(e,br(t,1,Za,!0)):[]})),Vo=Qr((function(e,t){var n=Jo(t);return Za(n)&&(n=i),Za(e)?fr(e,br(t,1,Za,!0),uo(n,2)):[]})),zo=Qr((function(e,t){var n=Jo(t);return Za(n)&&(n=i),Za(e)?fr(e,br(t,1,Za,!0),i,n):[]}));function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=wn(r+i,0)),Ft(e,uo(t,3),i)}function Ko(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=vs(n),o=n<0?wn(r+o,0):xn(o,r-1)),Ft(e,uo(t,3),o,!0)}function qo(e){return null!=e&&e.length?br(e,1):[]}function Xo(e){return e&&e.length?e[0]:i}var Zo=Qr((function(e){var t=Mt(e,bi);return t.length&&t[0]===e[0]?Ir(t):[]})),Yo=Qr((function(e){var t=Jo(e),n=Mt(e,bi);return t===Jo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Ir(n,uo(t,2)):[]})),Qo=Qr((function(e){var t=Jo(e),n=Mt(e,bi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Ir(n,i,t):[]}));function Jo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var ea=Qr(ta);function ta(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var na=io((function(e,t){var n=null==e?0:e.length,r=lr(e,t);return Xr(e,Mt(t,(function(e){return xo(e,n)?+e:e})).sort(Oi)),r}));function ra(e){return null==e?e:En.call(e)}var ia=Qr((function(e){return pi(br(e,1,Za,!0))})),oa=Qr((function(e){var t=Jo(e);return Za(t)&&(t=i),pi(br(e,1,Za,!0),uo(t,2))})),aa=Qr((function(e){var t=Jo(e);return t="function"==typeof t?t:i,pi(br(e,1,Za,!0),i,t)}));function sa(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Za(e))return t=wn(e.length,t),!0})),qt(t,(function(t){return Mt(e,Vt(t))}))}function la(e,t){if(!e||!e.length)return[];var n=sa(e);return null==t?n:Mt(n,(function(e){return Tt(t,i,e)}))}var ca=Qr((function(e,t){return Za(e)?fr(e,t):[]})),ua=Qr((function(e){return vi(Pt(e,Za))})),da=Qr((function(e){var t=Jo(e);return Za(t)&&(t=i),vi(Pt(e,Za),uo(t,2))})),pa=Qr((function(e){var t=Jo(e);return t="function"==typeof t?t:i,vi(Pt(e,Za),i,t)})),fa=Qr(sa),ha=Qr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,la(e,n)}));function ma(e){var t=Hn(e);return t.__chain__=!0,t}function ga(e,t){return t(e)}var va=io((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return lr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Wn&&xo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ga,args:[o],thisArg:i}),new zn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)})),ya=Ni((function(e,t,n){Le.call(e,n)?++e[n]:sr(e,n,1)})),ba=Ui(Wo),wa=Ui(Ko);function xa(e,t){return(Ka(e)?_t:hr)(e,uo(t,3))}function Sa(e,t){return(Ka(e)?Ct:mr)(e,uo(t,3))}var ka=Ni((function(e,t,n){Le.call(e,n)?e[n].push(t):sr(e,n,[t])})),Ta=Qr((function(e,t,n){var i=-1,o="function"==typeof t,a=Xa(e)?r(e.length):[];return hr(e,(function(e){a[++i]=o?Tt(t,e,n):Mr(e,t,n)})),a})),Ea=Ni((function(e,t,n){sr(e,n,t)}));function _a(e,t){return(Ka(e)?Mt:$r)(e,uo(t,3))}var Ca=Ni((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Oa=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&So(e,t[0],t[1])?t=[]:n>2&&So(t[0],t[1],t[2])&&(t=[t[0]]),Wr(e,br(t,1),[])})),Pa=ft||function(){return pt.Date.now()};function Aa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Ji(e,d,i,i,i,i,t)}function Ia(e,t){var n;if("function"!=typeof t)throw new Ae(o);return e=vs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ma=Qr((function(e,t,n){var r=1;if(n.length){var i=cn(n,co(Ma));r|=c}return Ji(e,r,t,n,i)})),Na=Qr((function(e,t,n){var r=3;if(n.length){var i=cn(n,co(Na));r|=c}return Ji(t,r,e,n,i)}));function Ra(e,t,n){var r,a,s,l,c,u,d=0,p=!1,f=!1,h=!0;if("function"!=typeof e)throw new Ae(o);function m(t){var n=r,o=a;return r=a=i,d=t,l=e.apply(o,n)}function g(e){return d=e,c=Ro(y,t),p?m(e):l}function v(e){var n=e-u;return u===i||n>=t||n<0||f&&e-d>=s}function y(){var e=Pa();if(v(e))return b(e);c=Ro(y,function(e){var n=t-(e-u);return f?xn(n,s-(e-d)):n}(e))}function b(e){return c=i,h&&r?m(e):(r=a=i,l)}function w(){var e=Pa(),n=v(e);if(r=arguments,a=this,u=e,n){if(c===i)return g(u);if(f)return Ti(c),c=Ro(y,t),m(u)}return c===i&&(c=Ro(y,t)),l}return t=bs(t)||0,rs(n)&&(p=!!n.leading,s=(f="maxWait"in n)?wn(bs(n.maxWait)||0,t):s,h="trailing"in n?!!n.trailing:h),w.cancel=function(){c!==i&&Ti(c),d=0,r=u=a=c=i},w.flush=function(){return c===i?l:b(Pa())},w}var Da=Qr((function(e,t){return pr(e,1,t)})),La=Qr((function(e,t,n){return pr(e,bs(t)||0,n)}));function ja(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ja.Cache||Xn),n}function Ba(e){if("function"!=typeof e)throw new Ae(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ja.Cache=Xn;var Fa=Si((function(e,t){var n=(t=1==t.length&&Ka(t[0])?Mt(t[0],Zt(uo())):Mt(br(t,1),Zt(uo()))).length;return Qr((function(r){for(var i=-1,o=xn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Ua=Qr((function(e,t){var n=cn(t,co(Ua));return Ji(e,c,i,t,n)})),$a=Qr((function(e,t){var n=cn(t,co($a));return Ji(e,u,i,t,n)})),Ha=io((function(e,t){return Ji(e,p,i,i,i,t)}));function Ga(e,t){return e===t||e!=e&&t!=t}var Va=qi(Or),za=qi((function(e,t){return e>=t})),Wa=Nr(function(){return arguments}())?Nr:function(e){return is(e)&&Le.call(e,"callee")&&!Xe.call(e,"callee")},Ka=r.isArray,qa=yt?Zt(yt):function(e){return is(e)&&Cr(e)==R};function Xa(e){return null!=e&&ns(e.length)&&!es(e)}function Za(e){return is(e)&&Xa(e)}var Ya=zt||bl,Qa=bt?Zt(bt):function(e){return is(e)&&Cr(e)==x};function Ja(e){if(!is(e))return!1;var t=Cr(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ss(e)}function es(e){if(!rs(e))return!1;var t=Cr(e);return t==k||t==T||"[object AsyncFunction]"==t||"[object Proxy]"==t}function ts(e){return"number"==typeof e&&e==vs(e)}function ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function rs(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function is(e){return null!=e&&"object"==typeof e}var os=wt?Zt(wt):function(e){return is(e)&&vo(e)==E};function as(e){return"number"==typeof e||is(e)&&Cr(e)==_}function ss(e){if(!is(e)||Cr(e)!=C)return!1;var t=Ke(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Ue}var ls=xt?Zt(xt):function(e){return is(e)&&Cr(e)==P},cs=St?Zt(St):function(e){return is(e)&&vo(e)==A};function us(e){return"string"==typeof e||!Ka(e)&&is(e)&&Cr(e)==I}function ds(e){return"symbol"==typeof e||is(e)&&Cr(e)==M}var ps=kt?Zt(kt):function(e){return is(e)&&ns(e.length)&&!!ot[Cr(e)]},fs=qi(Ur),hs=qi((function(e,t){return e<=t}));function ms(e){if(!e)return[];if(Xa(e))return us(e)?fn(e):Ii(e);if(tt&&e[tt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[tt]());var t=vo(e);return(t==E?sn:t==A?un:Gs)(e)}function gs(e){return e?(e=bs(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function vs(e){var t=gs(e),n=t%1;return t==t?n?t-n:t:0}function ys(e){return e?cr(vs(e),0,g):0}function bs(e){if("number"==typeof e)return e;if(ds(e))return m;if(rs(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rs(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ve.test(e);return n||be.test(e)?ct(e.slice(2),n?2:8):ge.test(e)?m:+e}function ws(e){return Mi(e,Ds(e))}function xs(e){return null==e?"":di(e)}var Ss=Ri((function(e,t){if(_o(t)||Xa(t))Mi(t,Rs(t),e);else for(var n in t)Le.call(t,n)&&rr(e,n,t[n])})),ks=Ri((function(e,t){Mi(t,Ds(t),e)})),Ts=Ri((function(e,t,n,r){Mi(t,Ds(t),e,r)})),Es=Ri((function(e,t,n,r){Mi(t,Rs(t),e,r)})),_s=io(lr),Cs=Qr((function(e,t){e=Ce(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&So(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Ds(a),l=-1,c=s.length;++l<c;){var u=s[l],d=e[u];(d===i||Ga(d,Ne[u])&&!Le.call(e,u))&&(e[u]=a[u])}return e})),Os=Qr((function(e){return e.push(i,to),Tt(js,i,e)}));function Ps(e,t,n){var r=null==e?i:Er(e,t);return r===i?n:r}function As(e,t){return null!=e&&yo(e,t,Ar)}var Is=Gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),rl(al)),Ms=Gi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),uo),Ns=Qr(Mr);function Rs(e){return Xa(e)?Qn(e):Br(e)}function Ds(e){return Xa(e)?Qn(e,!0):Fr(e)}var Ls=Ri((function(e,t,n){Vr(e,t,n)})),js=Ri((function(e,t,n,r){Vr(e,t,n,r)})),Bs=io((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=xi(t,e),r||(r=t.length>1),t})),Mi(e,ao(e),n),r&&(n=ur(n,7,no));for(var i=t.length;i--;)fi(n,t[i]);return n})),Fs=io((function(e,t){return null==e?{}:function(e,t){return Kr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=Mt(ao(e),(function(e){return[e]}));return t=uo(t),Kr(e,n,(function(e,n){return t(e,n[0])}))}var $s=Qi(Rs),Hs=Qi(Ds);function Gs(e){return null==e?[]:Yt(e,Rs(e))}var Vs=Bi((function(e,t,n){return t=t.toLowerCase(),e+(n?zs(t):t)}));function zs(e){return Js(xs(e).toLowerCase())}function Ws(e){return(e=xs(e))&&e.replace(xe,nn).replace(Qe,"")}var Ks=Bi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),qs=Bi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Xs=ji("toLowerCase"),Zs=Bi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Ys=Bi((function(e,t,n){return e+(n?" ":"")+Js(t)})),Qs=Bi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=ji("toUpperCase");function el(e,t,n){return e=xs(e),(t=n?i:t)===i?function(e){return nt.test(e)}(e)?function(e){return e.match(et)||[]}(e):function(e){return e.match(de)||[]}(e):e.match(t)||[]}var tl=Qr((function(e,t){try{return Tt(e,i,t)}catch(e){return Ja(e)?e:new Te(e)}})),nl=io((function(e,t){return _t(t,(function(t){t=Uo(t),sr(e,t,Ma(e[t],e))})),e}));function rl(e){return function(){return e}}var il=$i(),ol=$i(!0);function al(e){return e}function sl(e){return jr("function"==typeof e?e:ur(e,1))}var ll=Qr((function(e,t){return function(n){return Mr(n,e,t)}})),cl=Qr((function(e,t){return function(n){return Mr(e,n,t)}}));function ul(e,t,n){var r=Rs(t),i=Tr(t,r);null!=n||rs(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Tr(t,Rs(t)));var o=!(rs(n)&&"chain"in n&&!n.chain),a=es(e);return _t(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Ii(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function dl(){}var pl=zi(Mt),fl=zi(Ot),hl=zi(Lt);function ml(e){return ko(e)?Vt(Uo(e)):function(e){return function(t){return Er(t,e)}}(e)}var gl=Ki(),vl=Ki(!0);function yl(){return[]}function bl(){return!1}var wl,xl=Vi((function(e,t){return e+t}),0),Sl=Zi("ceil"),kl=Vi((function(e,t){return e/t}),1),Tl=Zi("floor"),El=Vi((function(e,t){return e*t}),1),_l=Zi("round"),Cl=Vi((function(e,t){return e-t}),0);return Hn.after=function(e,t){if("function"!=typeof t)throw new Ae(o);return e=vs(e),function(){if(--e<1)return t.apply(this,arguments)}},Hn.ary=Aa,Hn.assign=Ss,Hn.assignIn=ks,Hn.assignInWith=Ts,Hn.assignWith=Es,Hn.at=_s,Hn.before=Ia,Hn.bind=Ma,Hn.bindAll=nl,Hn.bindKey=Na,Hn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ka(e)?e:[e]},Hn.chain=ma,Hn.chunk=function(e,t,n){t=(n?So(e,t,n):t===i)?1:wn(vs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,l=r(gt(o/t));a<o;)l[s++]=oi(e,a,a+=t);return l},Hn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Hn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Nt(Ka(n)?Ii(n):[n],br(t,1))},Hn.cond=function(e){var t=null==e?0:e.length,n=uo();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Ae(o);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},Hn.conforms=function(e){return function(e){var t=Rs(e);return function(n){return dr(n,e,t)}}(ur(e,1))},Hn.constant=rl,Hn.countBy=ya,Hn.create=function(e,t){var n=Gn(e);return null==t?n:ar(n,t)},Hn.curry=function e(t,n,r){var o=Ji(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Hn.curryRight=function e(t,n,r){var o=Ji(t,l,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Hn.debounce=Ra,Hn.defaults=Cs,Hn.defaultsDeep=Os,Hn.defer=Da,Hn.delay=La,Hn.difference=Go,Hn.differenceBy=Vo,Hn.differenceWith=zo,Hn.drop=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,(t=n||t===i?1:vs(t))<0?0:t,r):[]},Hn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,0,(t=r-(t=n||t===i?1:vs(t)))<0?0:t):[]},Hn.dropRightWhile=function(e,t){return e&&e.length?mi(e,uo(t,3),!0,!0):[]},Hn.dropWhile=function(e,t){return e&&e.length?mi(e,uo(t,3),!0):[]},Hn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&So(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=vs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:vs(r))<0&&(r+=o),r=n>r?0:ys(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Hn.filter=function(e,t){return(Ka(e)?Pt:yr)(e,uo(t,3))},Hn.flatMap=function(e,t){return br(_a(e,t),1)},Hn.flatMapDeep=function(e,t){return br(_a(e,t),f)},Hn.flatMapDepth=function(e,t,n){return n=n===i?1:vs(n),br(_a(e,t),n)},Hn.flatten=qo,Hn.flattenDeep=function(e){return null!=e&&e.length?br(e,f):[]},Hn.flattenDepth=function(e,t){return null!=e&&e.length?br(e,t=t===i?1:vs(t)):[]},Hn.flip=function(e){return Ji(e,512)},Hn.flow=il,Hn.flowRight=ol,Hn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Hn.functions=function(e){return null==e?[]:Tr(e,Rs(e))},Hn.functionsIn=function(e){return null==e?[]:Tr(e,Ds(e))},Hn.groupBy=ka,Hn.initial=function(e){return null!=e&&e.length?oi(e,0,-1):[]},Hn.intersection=Zo,Hn.intersectionBy=Yo,Hn.intersectionWith=Qo,Hn.invert=Is,Hn.invertBy=Ms,Hn.invokeMap=Ta,Hn.iteratee=sl,Hn.keyBy=Ea,Hn.keys=Rs,Hn.keysIn=Ds,Hn.map=_a,Hn.mapKeys=function(e,t){var n={};return t=uo(t,3),Sr(e,(function(e,r,i){sr(n,t(e,r,i),e)})),n},Hn.mapValues=function(e,t){var n={};return t=uo(t,3),Sr(e,(function(e,r,i){sr(n,r,t(e,r,i))})),n},Hn.matches=function(e){return Hr(ur(e,1))},Hn.matchesProperty=function(e,t){return Gr(e,ur(t,1))},Hn.memoize=ja,Hn.merge=Ls,Hn.mergeWith=js,Hn.method=ll,Hn.methodOf=cl,Hn.mixin=ul,Hn.negate=Ba,Hn.nthArg=function(e){return e=vs(e),Qr((function(t){return zr(t,e)}))},Hn.omit=Bs,Hn.omitBy=function(e,t){return Us(e,Ba(uo(t)))},Hn.once=function(e){return Ia(2,e)},Hn.orderBy=function(e,t,n,r){return null==e?[]:(Ka(t)||(t=null==t?[]:[t]),Ka(n=r?i:n)||(n=null==n?[]:[n]),Wr(e,t,n))},Hn.over=pl,Hn.overArgs=Fa,Hn.overEvery=fl,Hn.overSome=hl,Hn.partial=Ua,Hn.partialRight=$a,Hn.partition=Ca,Hn.pick=Fs,Hn.pickBy=Us,Hn.property=ml,Hn.propertyOf=function(e){return function(t){return null==e?i:Er(e,t)}},Hn.pull=ea,Hn.pullAll=ta,Hn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,uo(n,2)):e},Hn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,i,n):e},Hn.pullAt=na,Hn.range=gl,Hn.rangeRight=vl,Hn.rearg=Ha,Hn.reject=function(e,t){return(Ka(e)?Pt:yr)(e,Ba(uo(t,3)))},Hn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=uo(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Xr(e,i),n},Hn.rest=function(e,t){if("function"!=typeof e)throw new Ae(o);return Qr(e,t=t===i?t:vs(t))},Hn.reverse=ra,Hn.sampleSize=function(e,t,n){return t=(n?So(e,t,n):t===i)?1:vs(t),(Ka(e)?er:ei)(e,t)},Hn.set=function(e,t,n){return null==e?e:ti(e,t,n)},Hn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ti(e,t,n,r)},Hn.shuffle=function(e){return(Ka(e)?tr:ii)(e)},Hn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&So(e,t,n)?(t=0,n=r):(t=null==t?0:vs(t),n=n===i?r:vs(n)),oi(e,t,n)):[]},Hn.sortBy=Oa,Hn.sortedUniq=function(e){return e&&e.length?ci(e):[]},Hn.sortedUniqBy=function(e,t){return e&&e.length?ci(e,uo(t,2)):[]},Hn.split=function(e,t,n){return n&&"number"!=typeof n&&So(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=xs(e))&&("string"==typeof t||null!=t&&!ls(t))&&!(t=di(t))&&an(e)?ki(fn(e),0,n):e.split(t,n):[]},Hn.spread=function(e,t){if("function"!=typeof e)throw new Ae(o);return t=null==t?0:wn(vs(t),0),Qr((function(n){var r=n[t],i=ki(n,0,t);return r&&Nt(i,r),Tt(e,this,i)}))},Hn.tail=function(e){var t=null==e?0:e.length;return t?oi(e,1,t):[]},Hn.take=function(e,t,n){return e&&e.length?oi(e,0,(t=n||t===i?1:vs(t))<0?0:t):[]},Hn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?oi(e,(t=r-(t=n||t===i?1:vs(t)))<0?0:t,r):[]},Hn.takeRightWhile=function(e,t){return e&&e.length?mi(e,uo(t,3),!1,!0):[]},Hn.takeWhile=function(e,t){return e&&e.length?mi(e,uo(t,3)):[]},Hn.tap=function(e,t){return t(e),e},Hn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(o);return rs(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ra(e,t,{leading:r,maxWait:t,trailing:i})},Hn.thru=ga,Hn.toArray=ms,Hn.toPairs=$s,Hn.toPairsIn=Hs,Hn.toPath=function(e){return Ka(e)?Mt(e,Uo):ds(e)?[e]:Ii(Fo(xs(e)))},Hn.toPlainObject=ws,Hn.transform=function(e,t,n){var r=Ka(e),i=r||Ya(e)||ps(e);if(t=uo(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:rs(e)&&es(o)?Gn(Ke(e)):{}}return(i?_t:Sr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Hn.unary=function(e){return Aa(e,1)},Hn.union=ia,Hn.unionBy=oa,Hn.unionWith=aa,Hn.uniq=function(e){return e&&e.length?pi(e):[]},Hn.uniqBy=function(e,t){return e&&e.length?pi(e,uo(t,2)):[]},Hn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?pi(e,i,t):[]},Hn.unset=function(e,t){return null==e||fi(e,t)},Hn.unzip=sa,Hn.unzipWith=la,Hn.update=function(e,t,n){return null==e?e:hi(e,t,wi(n))},Hn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,wi(n),r)},Hn.values=Gs,Hn.valuesIn=function(e){return null==e?[]:Yt(e,Ds(e))},Hn.without=ca,Hn.words=el,Hn.wrap=function(e,t){return Ua(wi(t),e)},Hn.xor=ua,Hn.xorBy=da,Hn.xorWith=pa,Hn.zip=fa,Hn.zipObject=function(e,t){return yi(e||[],t||[],rr)},Hn.zipObjectDeep=function(e,t){return yi(e||[],t||[],ti)},Hn.zipWith=ha,Hn.entries=$s,Hn.entriesIn=Hs,Hn.extend=ks,Hn.extendWith=Ts,ul(Hn,Hn),Hn.add=xl,Hn.attempt=tl,Hn.camelCase=Vs,Hn.capitalize=zs,Hn.ceil=Sl,Hn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=bs(n))==n?n:0),t!==i&&(t=(t=bs(t))==t?t:0),cr(bs(e),t,n)},Hn.clone=function(e){return ur(e,4)},Hn.cloneDeep=function(e){return ur(e,5)},Hn.cloneDeepWith=function(e,t){return ur(e,5,t="function"==typeof t?t:i)},Hn.cloneWith=function(e,t){return ur(e,4,t="function"==typeof t?t:i)},Hn.conformsTo=function(e,t){return null==t||dr(e,t,Rs(t))},Hn.deburr=Ws,Hn.defaultTo=function(e,t){return null==e||e!=e?t:e},Hn.divide=kl,Hn.endsWith=function(e,t,n){e=xs(e),t=di(t);var r=e.length,o=n=n===i?r:cr(vs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Hn.eq=Ga,Hn.escape=function(e){return(e=xs(e))&&Y.test(e)?e.replace(X,rn):e},Hn.escapeRegExp=function(e){return(e=xs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Hn.every=function(e,t,n){var r=Ka(e)?Ot:gr;return n&&So(e,t,n)&&(t=i),r(e,uo(t,3))},Hn.find=ba,Hn.findIndex=Wo,Hn.findKey=function(e,t){return Bt(e,uo(t,3),Sr)},Hn.findLast=wa,Hn.findLastIndex=Ko,Hn.findLastKey=function(e,t){return Bt(e,uo(t,3),kr)},Hn.floor=Tl,Hn.forEach=xa,Hn.forEachRight=Sa,Hn.forIn=function(e,t){return null==e?e:wr(e,uo(t,3),Ds)},Hn.forInRight=function(e,t){return null==e?e:xr(e,uo(t,3),Ds)},Hn.forOwn=function(e,t){return e&&Sr(e,uo(t,3))},Hn.forOwnRight=function(e,t){return e&&kr(e,uo(t,3))},Hn.get=Ps,Hn.gt=Va,Hn.gte=za,Hn.has=function(e,t){return null!=e&&yo(e,t,Pr)},Hn.hasIn=As,Hn.head=Xo,Hn.identity=al,Hn.includes=function(e,t,n,r){e=Xa(e)?e:Gs(e),n=n&&!r?vs(n):0;var i=e.length;return n<0&&(n=wn(i+n,0)),us(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Ut(e,t,n)>-1},Hn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:vs(n);return i<0&&(i=wn(r+i,0)),Ut(e,t,i)},Hn.inRange=function(e,t,n){return t=gs(t),n===i?(n=t,t=0):n=gs(n),function(e,t,n){return e>=xn(t,n)&&e<wn(t,n)}(e=bs(e),t,n)},Hn.invoke=Ns,Hn.isArguments=Wa,Hn.isArray=Ka,Hn.isArrayBuffer=qa,Hn.isArrayLike=Xa,Hn.isArrayLikeObject=Za,Hn.isBoolean=function(e){return!0===e||!1===e||is(e)&&Cr(e)==w},Hn.isBuffer=Ya,Hn.isDate=Qa,Hn.isElement=function(e){return is(e)&&1===e.nodeType&&!ss(e)},Hn.isEmpty=function(e){if(null==e)return!0;if(Xa(e)&&(Ka(e)||"string"==typeof e||"function"==typeof e.splice||Ya(e)||ps(e)||Wa(e)))return!e.length;var t=vo(e);if(t==E||t==A)return!e.size;if(_o(e))return!Br(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Hn.isEqual=function(e,t){return Rr(e,t)},Hn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},Hn.isError=Ja,Hn.isFinite=function(e){return"number"==typeof e&&vn(e)},Hn.isFunction=es,Hn.isInteger=ts,Hn.isLength=ns,Hn.isMap=os,Hn.isMatch=function(e,t){return e===t||Dr(e,t,fo(t))},Hn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,fo(t),n)},Hn.isNaN=function(e){return as(e)&&e!=+e},Hn.isNative=function(e){if(Eo(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Hn.isNil=function(e){return null==e},Hn.isNull=function(e){return null===e},Hn.isNumber=as,Hn.isObject=rs,Hn.isObjectLike=is,Hn.isPlainObject=ss,Hn.isRegExp=ls,Hn.isSafeInteger=function(e){return ts(e)&&e>=-9007199254740991&&e<=h},Hn.isSet=cs,Hn.isString=us,Hn.isSymbol=ds,Hn.isTypedArray=ps,Hn.isUndefined=function(e){return e===i},Hn.isWeakMap=function(e){return is(e)&&vo(e)==N},Hn.isWeakSet=function(e){return is(e)&&"[object WeakSet]"==Cr(e)},Hn.join=function(e,t){return null==e?"":yn.call(e,t)},Hn.kebabCase=Ks,Hn.last=Jo,Hn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=vs(n))<0?wn(r+o,0):xn(o,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ft(e,Ht,o,!0)},Hn.lowerCase=qs,Hn.lowerFirst=Xs,Hn.lt=fs,Hn.lte=hs,Hn.max=function(e){return e&&e.length?vr(e,al,Or):i},Hn.maxBy=function(e,t){return e&&e.length?vr(e,uo(t,2),Or):i},Hn.mean=function(e){return Gt(e,al)},Hn.meanBy=function(e,t){return Gt(e,uo(t,2))},Hn.min=function(e){return e&&e.length?vr(e,al,Ur):i},Hn.minBy=function(e,t){return e&&e.length?vr(e,uo(t,2),Ur):i},Hn.stubArray=yl,Hn.stubFalse=bl,Hn.stubObject=function(){return{}},Hn.stubString=function(){return""},Hn.stubTrue=function(){return!0},Hn.multiply=El,Hn.nth=function(e,t){return e&&e.length?zr(e,vs(t)):i},Hn.noConflict=function(){return pt._===this&&(pt._=$e),this},Hn.noop=dl,Hn.now=Pa,Hn.pad=function(e,t,n){e=xs(e);var r=(t=vs(t))?pn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Wi(vt(i),n)+e+Wi(gt(i),n)},Hn.padEnd=function(e,t,n){e=xs(e);var r=(t=vs(t))?pn(e):0;return t&&r<t?e+Wi(t-r,n):e},Hn.padStart=function(e,t,n){e=xs(e);var r=(t=vs(t))?pn(e):0;return t&&r<t?Wi(t-r,n)+e:e},Hn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(xs(e).replace(ae,""),t||0)},Hn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&So(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=gs(e),t===i?(t=e,e=0):t=gs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Tn();return xn(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Zr(e,t)},Hn.reduce=function(e,t,n){var r=Ka(e)?Rt:Wt,i=arguments.length<3;return r(e,uo(t,4),n,i,hr)},Hn.reduceRight=function(e,t,n){var r=Ka(e)?Dt:Wt,i=arguments.length<3;return r(e,uo(t,4),n,i,mr)},Hn.repeat=function(e,t,n){return t=(n?So(e,t,n):t===i)?1:vs(t),Yr(xs(e),t)},Hn.replace=function(){var e=arguments,t=xs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Hn.result=function(e,t,n){var r=-1,o=(t=xi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Uo(t[r])];a===i&&(r=o,a=n),e=es(a)?a.call(e):a}return e},Hn.round=_l,Hn.runInContext=e,Hn.sample=function(e){return(Ka(e)?Jn:Jr)(e)},Hn.size=function(e){if(null==e)return 0;if(Xa(e))return us(e)?pn(e):e.length;var t=vo(e);return t==E||t==A?e.size:Br(e).length},Hn.snakeCase=Zs,Hn.some=function(e,t,n){var r=Ka(e)?Lt:ai;return n&&So(e,t,n)&&(t=i),r(e,uo(t,3))},Hn.sortedIndex=function(e,t){return si(e,t)},Hn.sortedIndexBy=function(e,t,n){return li(e,t,uo(n,2))},Hn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=si(e,t);if(r<n&&Ga(e[r],t))return r}return-1},Hn.sortedLastIndex=function(e,t){return si(e,t,!0)},Hn.sortedLastIndexBy=function(e,t,n){return li(e,t,uo(n,2),!0)},Hn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=si(e,t,!0)-1;if(Ga(e[n],t))return n}return-1},Hn.startCase=Ys,Hn.startsWith=function(e,t,n){return e=xs(e),n=null==n?0:cr(vs(n),0,e.length),t=di(t),e.slice(n,n+t.length)==t},Hn.subtract=Cl,Hn.sum=function(e){return e&&e.length?Kt(e,al):0},Hn.sumBy=function(e,t){return e&&e.length?Kt(e,uo(t,2)):0},Hn.template=function(e,t,n){var r=Hn.templateSettings;n&&So(e,t,n)&&(t=i),e=xs(e),t=Ts({},t,r,eo);var o,a,s=Ts({},t.imports,r.imports,eo),l=Rs(s),c=Yt(s,l),u=0,d=t.interpolate||Se,p="__p += '",f=Oe((t.escape||Se).source+"|"+d.source+"|"+(d===ee?he:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),h="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(f,(function(t,n,r,i,s,l){return r||(r=i),p+=e.slice(u,l).replace(ke,on),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),s&&(a=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=l+t.length,t})),p+="';\n";var m=Le.call(t,"variable")&&t.variable;if(m){if(pe.test(m))throw new Te("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(z,""):p).replace(W,"$1").replace(K,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=tl((function(){return Ee(l,h+"return "+p).apply(i,c)}));if(g.source=p,Ja(g))throw g;return g},Hn.times=function(e,t){if((e=vs(e))<1||e>h)return[];var n=g,r=xn(e,g);t=uo(t),e-=g;for(var i=qt(r,t);++n<e;)t(n);return i},Hn.toFinite=gs,Hn.toInteger=vs,Hn.toLength=ys,Hn.toLower=function(e){return xs(e).toLowerCase()},Hn.toNumber=bs,Hn.toSafeInteger=function(e){return e?cr(vs(e),-9007199254740991,h):0===e?e:0},Hn.toString=xs,Hn.toUpper=function(e){return xs(e).toUpperCase()},Hn.trim=function(e,t,n){if((e=xs(e))&&(n||t===i))return Xt(e);if(!e||!(t=di(t)))return e;var r=fn(e),o=fn(t);return ki(r,Jt(r,o),en(r,o)+1).join("")},Hn.trimEnd=function(e,t,n){if((e=xs(e))&&(n||t===i))return e.slice(0,hn(e)+1);if(!e||!(t=di(t)))return e;var r=fn(e);return ki(r,0,en(r,fn(t))+1).join("")},Hn.trimStart=function(e,t,n){if((e=xs(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=di(t)))return e;var r=fn(e);return ki(r,Jt(r,fn(t))).join("")},Hn.truncate=function(e,t){var n=30,r="...";if(rs(t)){var o="separator"in t?t.separator:o;n="length"in t?vs(t.length):n,r="omission"in t?di(t.omission):r}var a=(e=xs(e)).length;if(an(e)){var s=fn(e);a=s.length}if(n>=a)return e;var l=n-pn(r);if(l<1)return r;var c=s?ki(s,0,l).join(""):e.slice(0,l);if(o===i)return c+r;if(s&&(l+=c.length-l),ls(o)){if(e.slice(l).search(o)){var u,d=c;for(o.global||(o=Oe(o.source,xs(me.exec(o))+"g")),o.lastIndex=0;u=o.exec(d);)var p=u.index;c=c.slice(0,p===i?l:p)}}else if(e.indexOf(di(o),l)!=l){var f=c.lastIndexOf(o);f>-1&&(c=c.slice(0,f))}return c+r},Hn.unescape=function(e){return(e=xs(e))&&Z.test(e)?e.replace(q,mn):e},Hn.uniqueId=function(e){var t=++je;return xs(e)+t},Hn.upperCase=Qs,Hn.upperFirst=Js,Hn.each=xa,Hn.eachRight=Sa,Hn.first=Xo,ul(Hn,(wl={},Sr(Hn,(function(e,t){Le.call(Hn.prototype,t)||(wl[t]=e)})),wl),{chain:!1}),Hn.VERSION="4.17.21",_t(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Hn[e].placeholder=Hn})),_t(["drop","take"],(function(e,t){Wn.prototype[e]=function(n){n=n===i?1:wn(vs(n),0);var r=this.__filtered__&&!t?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=xn(n,r.__takeCount__):r.__views__.push({size:xn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Wn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),_t(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Wn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),_t(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Wn.prototype[e]=function(){return this[n](1).value()[0]}})),_t(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Wn.prototype[e]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(al)},Wn.prototype.find=function(e){return this.filter(e).head()},Wn.prototype.findLast=function(e){return this.reverse().find(e)},Wn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Wn(this):this.map((function(n){return Mr(n,e,t)}))})),Wn.prototype.reject=function(e){return this.filter(Ba(uo(e)))},Wn.prototype.slice=function(e,t){e=vs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Wn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=vs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Wn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Wn.prototype.toArray=function(){return this.take(g)},Sr(Wn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Hn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Hn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,l=t instanceof Wn,c=s[0],u=l||Ka(t),d=function(e){var t=o.apply(Hn,Nt([e],s));return r&&p?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(l=u=!1);var p=this.__chain__,f=!!this.__actions__.length,h=a&&!p,m=l&&!f;if(!a&&u){t=m?t:new Wn(this);var g=e.apply(t,s);return g.__actions__.push({func:ga,args:[d],thisArg:i}),new zn(g,p)}return h&&m?e.apply(this,s):(g=this.thru(d),h?r?g.value()[0]:g.value():g)})})),_t(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Hn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ka(i)?i:[],e)}return this[n]((function(n){return t.apply(Ka(n)?n:[],e)}))}})),Sr(Wn.prototype,(function(e,t){var n=Hn[t];if(n){var r=n.name+"";Le.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Hi(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var e=new Wn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Wn.prototype.reverse=function(){if(this.__filtered__){var e=new Wn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Wn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ka(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=xn(t,e+a);break;case"takeRight":e=wn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,l=s-a,c=r?s:a-1,u=this.__iteratees__,d=u.length,p=0,f=xn(l,this.__takeCount__);if(!n||!r&&i==l&&f==l)return gi(e,this.__actions__);var h=[];e:for(;l--&&p<f;){for(var m=-1,g=e[c+=t];++m<d;){var v=u[m],y=v.iteratee,b=v.type,w=y(g);if(2==b)g=w;else if(!w){if(1==b)continue e;break e}}h[p++]=g}return h},Hn.prototype.at=va,Hn.prototype.chain=function(){return ma(this)},Hn.prototype.commit=function(){return new zn(this.value(),this.__chain__)},Hn.prototype.next=function(){this.__values__===i&&(this.__values__=ms(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Hn.prototype.plant=function(e){for(var t,n=this;n instanceof Vn;){var r=Ho(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Hn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Wn){var t=e;return this.__actions__.length&&(t=new Wn(this)),(t=t.reverse()).__actions__.push({func:ga,args:[ra],thisArg:i}),new zn(t,this.__chain__)}return this.thru(ra)},Hn.prototype.toJSON=Hn.prototype.valueOf=Hn.prototype.value=function(){return gi(this.__wrapped__,this.__actions__)},Hn.prototype.first=Hn.prototype.head,tt&&(Hn.prototype[tt]=function(){return this}),Hn}();pt._=gn,(r=function(){return gn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},4516:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,l=i(e),c=1;c<arguments.length;c++){for(var u in a=Object(arguments[c]))n.call(a,u)&&(l[u]=a[u]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},6094:function(e,t,n){"use strict";n(4516);var r=n(9787),i=60103;if(t.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},4512:function(e,t,n){"use strict";e.exports=n(6094)},1602:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(e,t,n){var r=d;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?h:p,l.arg===m)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=h,n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var d="suspendedStart",p="suspendedYield",f="executing",h="completed",m={};function g(){}function v(){}function y(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(P([])));x&&x!==n&&r.call(x,o)&&(b=x);var S=y.prototype=g.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function T(e,t){function n(i,o,a,s){var l=u(e[i],e,o);if("throw"!==l.type){var c=l.arg,d=c.value;return d&&"object"==typeof d&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(l.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=u(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(e){if(e){var n=e[o];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:A}}function A(){return{value:t,done:!0}}return v.prototype=S.constructor=y,y.constructor=v,v.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(S),e},e.awrap=function(e){return{__await:e}},k(T.prototype),T.prototype[a]=function(){return this},e.AsyncIterator=T,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new T(c(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(S),l(S,s,"Generator"),S[o]=function(){return this},S.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=P,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:P(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}},8336:function(e,t,n){var r=n(487),i=n(4295);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},554:function(e,t,n){var r=n(487),i=n(9135);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},2789:function(e,t,n){var r=n(487),i=n(3729);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},5080:function(e,t,n){var r=n(487),i=n(4241);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},7225:function(e,t,n){var r=n(487),i=n(6029);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},778:function(e,t,n){var r=n(487),i=n(9609);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4220:function(e,t,n){var r=n(487),i=n(2345);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4678:function(e,t,n){var r=n(487),i=n(9393);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},1292:function(e,t,n){var r=n(487),i=n(6578);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},196:function(e,t,n){var r=n(487),i=n(9482);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},2205:function(e,t,n){var r=n(487),i=n(7955);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},1310:function(e,t,n){var r=n(487),i=n(3195);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3922:function(e,t,n){var r=n(487),i=n(2978);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},7096:function(e,t,n){var r=n(487),i=n(1587);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},7117:function(e,t,n){var r=n(487),i=n(9478);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},1106:function(e,t,n){var r=n(487),i=n(7369);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3336:function(e,t,n){var r=n(487),i=n(1434);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4406:function(e,t,n){var r=n(487),i=n(8923);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},6043:function(e,t,n){var r=n(487),i=n(5605);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},694:function(e,t,n){var r=n(487),i=n(5644);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},8328:function(e,t,n){var r=n(487),i=n(6843);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},8051:function(e,t,n){var r=n(487),i=n(8461);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4301:function(e,t,n){var r=n(487),i=n(9935);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},9966:function(e,t,n){var r=n(487),i=n(532);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},9295:function(e,t,n){var r=n(487),i=n(7589);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},9781:function(e,t,n){var r=n(487),i=n(8465);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},371:function(e,t,n){var r=n(487),i=n(5892);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4623:function(e,t,n){var r=n(487),i=n(3874);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},1528:function(e,t,n){var r=n(487),i=n(2681);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},518:function(e,t,n){var r=n(487),i=n(6759);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},9757:function(e,t,n){var r=n(487),i=n(9650);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},5422:function(e,t,n){var r=n(487),i=n(2044);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},276:function(e,t,n){var r=n(487),i=n(9144);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},6781:function(e,t,n){var r=n(487),i=n(6626);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},580:function(e,t,n){var r=n(487),i=n(6359);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4285:function(e,t,n){var r=n(487),i=n(9915);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},3313:function(e,t,n){var r=n(487),i=n(9310);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},8635:function(e,t,n){var r=n(487),i=n(6464);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},4404:function(e,t,n){var r=n(487),i=n(5260);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.id,i,""]]),r(i,{insert:"head",singleton:!1}),e.exports=i.locals||{}},487:function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),a=[];function s(e){for(var t=-1,n=0;n<a.length;n++)if(a[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],i=0;i<e.length;i++){var o=e[i],l=t.base?o[0]+t.base:o[0],c=n[l]||0,u="".concat(l," ").concat(c);n[l]=c+1;var d=s(u),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(a[d].references++,a[d].updater(p)):a.push({identifier:u,updater:g(p,t),references:1}),r.push(u)}return r}function c(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function f(e,t,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var o=m++;n=h||(h=c(t)),r=p.bind(null,n,o,!1),i=p.bind(null,n,o,!0)}else n=c(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);a[i].references--}for(var o=l(e,t),c=0;c<n.length;c++){var u=s(n[c]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}n=o}}}},788:function(e,t,n){var r={"./ar-SA.json":[7822,558],"./bg-BG.json":[1203,384],"./bn-BD.json":[8525,603],"./ca-ES.json":[510,351],"./cs-CZ.json":[7605,387],"./da-DK.json":[2392,617],"./de-DE.json":[2853,43],"./el-GR.json":[9876,526],"./en.json":[1463],"./es-ES.json":[2264,317],"./eu-ES.json":[5658,431],"./fa-IR.json":[3747,710],"./fi-FI.json":[9490,472],"./fr-FR.json":[7830,364],"./he-IL.json":[1994,262],"./hi-IN.json":[4646,933],"./hu-HU.json":[6373,661],"./id-ID.json":[3247,491],"./it-IT.json":[3257,465],"./ja-JP.json":[198,137],"./kab-KAB.json":[228,164],"./kk-KZ.json":[8972,649],"./ko-KR.json":[7596,60],"./lt-LT.json":[3755,58],"./lv-LV.json":[2327,899],"./my-MM.json":[7704,242],"./nb-NO.json":[1167,246],"./nl-NL.json":[290,196],"./nn-NO.json":[4481,920],"./oc-FR.json":[2284,565],"./pa-IN.json":[6773,280],"./percentages.json":[4451],"./pl-PL.json":[3661,852],"./pt-BR.json":[8881,381],"./pt-PT.json":[5622,149],"./ro-RO.json":[2013,752],"./ru-RU.json":[2253,869],"./si-LK.json":[5497,90],"./sk-SK.json":[4570,401],"./sv-SE.json":[6006,698],"./ta-IN.json":[3952,395],"./tr-TR.json":[7315,213],"./uk-UA.json":[334,583],"./zh-CN.json":[1037,304],"./zh-HK.json":[5334,9],"./zh-TW.json":[931,62]};function i(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],i=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(i,19)}))}i.keys=function(){return Object.keys(r)},i.id=788,e.exports=i},9713:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},6479:function(e,t,n){var r=n(7316);e.exports=function(e,t){if(null==e)return{};var n,i,o=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},7316:function(e){e.exports=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},4295:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),l=n.n(s),c=new URL(n(3940),n.b),u=new URL(n(3147),n.b),d=a()(i()),p=l()(c),f=l()(u);d.push([e.id,'@font-face{font-family:"Virgil";src:url('+p+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+f+");font-display:swap}",""]),t.default=d},9135:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),t.default=a},3729:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",""]),t.default=a},4241:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),t.default=a},6029:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:transparent;border-radius:4px;color:#1c7ed6}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),t.default=a},9609:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}",""]),t.default=a},2345:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),l=n.n(s),c=new URL(n(9669),n.b),u=a()(i()),d=l()(c);u.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir=ltr] .excalidraw .color-picker-triangle{left:12px}:root[dir=rtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+d+') left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir=ltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir=rtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:11ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;-webkit-padding-start:.5em;padding-inline-start:.5em;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;-webkit-margin-end:.25rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),t.default=u},9393:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .confirm-dialog-buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .confirm-dialog .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .confirm-dialog .ToolIcon_type_button{margin-left:.8rem;padding:0 .5rem}.excalidraw .confirm-dialog__content{font-size:1rem}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button{background-color:#fa5252}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button:hover{background-color:#e03131}.excalidraw .confirm-dialog--confirm.ToolIcon_type_button .ToolIcon__icon{color:#fff}",""]),t.default=a},6578:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"\u2713"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-option{display:block}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',""]),t.default=a},9482:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor)*7);grid-gap:var(--metric);padding:calc(var(--space-factor)*2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}.excalidraw--mobile.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw--mobile.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor)*7) 1fr calc(var(--space-factor)*7);position:-webkit-sticky;position:sticky;top:0;padding:calc(var(--space-factor)*2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw--mobile.excalidraw .Dialog__titleContent{text-align:center}.excalidraw--mobile.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw--mobile.excalidraw .Dialog .Modal__close{order:-1}",""]),t.default=a},7955:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),l=n.n(s),c=new URL(n(9669),n.b),u=a()(i()),d=l()(c);u.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+d+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{width:5rem;height:5rem;margin:0 .2em;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),t.default=u},3195:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--space-factor);top:var(--space-factor);right:var(--space-factor);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),t.default=a},2978:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",""]),t.default=a},1587:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2em}.excalidraw .HintViewer>span{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",""]),t.default=a},9478:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,':export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),t.default=a},7369:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),t.default=a},1434:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(-76px, 0);transform:translate(-76px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-left{-webkit-transform:translate(76px, 0);transform:translate(76px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center{pointer-events:none}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-center>*{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left{margin-bottom:.2em}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto;-webkit-margin-end:1em;margin-inline-end:1em}",""]),t.default=a},8923:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-padding-end:18px;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}",""]),t.default=a},5605:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .library-menu-items-container .library-actions{display:flex}.excalidraw .library-menu-items-container .library-actions button .library-actions-counter{position:absolute;right:2px;bottom:2px;border-radius:50%;width:1em;height:1em;padding:1px;font-size:.7rem;background:#fff}.excalidraw .library-menu-items-container .library-actions--remove{background-color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--remove:hover{background-color:#e03131}.excalidraw .library-menu-items-container .library-actions--remove:active{background-color:#c92a2a}.excalidraw .library-menu-items-container .library-actions--remove svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--remove .library-actions-counter{color:#f03e3e}.excalidraw .library-menu-items-container .library-actions--export{background-color:#94d82d}.excalidraw .library-menu-items-container .library-actions--export:hover{background-color:#74b816}.excalidraw .library-menu-items-container .library-actions--export:active{background-color:#66a80f}.excalidraw .library-menu-items-container .library-actions--export svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--export .library-actions-counter{color:#94d82d}.excalidraw .library-menu-items-container .library-actions--publish{background-color:#15aabf}.excalidraw .library-menu-items-container .library-actions--publish:hover{background-color:#1098ad}.excalidraw .library-menu-items-container .library-actions--publish:active{background-color:#0b7285}.excalidraw .library-menu-items-container .library-actions--publish svg{color:#fff}.excalidraw .library-menu-items-container .library-actions--publish label{margin-left:-0.2em;margin-right:1.1em;color:#fff;font-size:.86em}.excalidraw .library-menu-items-container .library-actions--publish .library-actions-counter{color:#15aabf}.excalidraw .library-menu-items-container .library-actions--load{background-color:#228be6}.excalidraw .library-menu-items-container .library-actions--load:hover{background-color:#1c7ed6}.excalidraw .library-menu-items-container .library-actions--load:active{background-color:#1864ab}.excalidraw .library-menu-items-container .library-actions--load svg{color:#fff}.excalidraw .library-menu-items-container__items{max-height:50vh;overflow:auto;margin-top:.5rem}.excalidraw .library-menu-items-container .separator{font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),t.default=a},5644:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit--hover{box-shadow:inset 0px 0px 0px 2px #339af0;border-color:#339af0}.excalidraw .library-unit--selected{box-shadow:inset 0px 0px 0px 2px #1971c2;border-color:#1971c2}.excalidraw.theme--dark .library-unit{border-color:#303030}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;left:2.3rem;bottom:2.3rem}.excalidraw .library-unit__checkbox .Checkbox-box{width:13px;height:13px;border-radius:2px;margin:.5em .5em .2em .2em;background-color:#d0ebff}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:40%;top:40%;width:2rem;height:2rem;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit:hover .library-unit__adder{fill:#1c7ed6}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8);fill:#000}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),t.default=a},6843:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.7)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor)*5)}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),t.default=a},8461:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),t.default=a},9935:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .popover{position:absolute;z-index:10}",""]),t.default=a},532:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),t.default=a},7589:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;padding:0 .8rem;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-note{padding:1em;font-style:italic;font-size:14px;display:block}",""]),t.default=a},8465:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item__svg{width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2);margin:.3rem}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1.3rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),t.default=a},5892:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),t.default=a},3874:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),t.default=a},2681:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),t.default=a},6759:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{display:inline-block}",""]),t.default=a},9650:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),t.default=a},2044:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:transparent;-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon--plain{background-color:transparent}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon{background-color:var(--button-gray-1)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:hover,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_radio:focus-visible+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus-visible+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2em}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon_type_floating{display:inline-block;position:absolute;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon_type_floating:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon_type_floating .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon_type_floating svg{position:static}.excalidraw .ToolIcon.ToolIcon__library{top:100px}.excalidraw .ToolIcon.ToolIcon__lock{-webkit-margin-end:0;margin-inline-end:0;top:60px}.excalidraw .ToolIcon.ToolIcon__penMode{-webkit-margin-end:0;margin-inline-end:0;top:140px}}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}",""]),t.default=a},9144:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar-container .ToolIcon_type_floating:not(.is-mobile) .ToolIcon__icon{padding:1px;background-color:var(--island-bg-color);box-shadow:1px 3px 4px 0px rgba(0,0,0,.15);border-radius:50%;transition:box-shadow .5s ease,-webkit-transform .5s ease;transition:box-shadow .5s ease,transform .5s ease;transition:box-shadow .5s ease,transform .5s ease,-webkit-transform .5s ease}.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_radio:focus-within+.ToolIcon__icon,.excalidraw .App-toolbar-container .ToolIcon_type_floating .ToolIcon_type_checkbox:focus-within+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .App-toolbar-container .ToolIcon__hidden{box-shadow:none !important;background-color:transparent !important;pointer-events:none !important}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock{-webkit-margin-end:var(--space-factor);margin-inline-end:var(--space-factor)}.excalidraw .App-toolbar-container .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .App-toolbar-container .ToolIcon__library{-webkit-margin-start:var(--space-factor);margin-inline-start:var(--space-factor)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon__icon{box-shadow:none;-webkit-transform:scale(0.9);transform:scale(0.9)}.excalidraw .App-toolbar-container.zen-mode .ToolIcon_type_floating .ToolIcon_type_checkbox:not(:checked):not(:hover):not(:active)+.ToolIcon__icon svg{fill:#adb5bd;color:#adb5bd}.excalidraw .App-toolbar{border-radius:var(--border-radius-lg);box-shadow:0 0 0 1px rgba(0,0,0,.01),1px 1px 5px rgba(0,0,0,.15)}.excalidraw .App-toolbar .ToolIcon:hover{--icon-fill-color: var( --color-primary-contrast-offset, var(--color-primary) );--keybinding-color: var( --color-primary-contrast-offset, var(--color-primary) )}.excalidraw .App-toolbar .ToolIcon:active{--icon-fill-color: #212529;--keybinding-color: #212529}.excalidraw .App-toolbar .ToolIcon .ToolIcon__icon{background:transparent;border-radius:var(--border-radius-lg)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox+.ToolIcon__icon:active{background:var(--color-primary-light)}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary);--icon-fill-color: #ffffff;--keybinding-color: #ffffff}.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon:active,.excalidraw .App-toolbar .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon:active{background:var(--color-primary-darker)}.excalidraw .App-toolbar .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw.theme--dark .App-toolbar .ToolIcon:active{--icon-fill-color: #dee2e6;--keybinding-color: #dee2e6}",""]),t.default=a},6626:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw-tooltip{position:absolute;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),t.default=a},6359:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile>*{margin:0 var(--space-factor) var(--space-factor) 0}",""]),t.default=a},9915:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",""]),t.default=a},9310:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o),s=n(1667),l=n.n(s),c=new URL(n(7984),n.b),u=new URL(n(1639),n.b),d=a()(i()),p=l()(c),f=l()(u);d.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}:export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url("+p+");--focus-highlight-color: #a5d8ff;--icon-fill-color: #212529;--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 0 0 1px rgba(0, 0, 0, 0.01), 1px 1px 5px rgb(0 0 0 / 12%);--space-factor: 0.25rem;--text-primary-color: #343a40;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e2e1fc;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}.excalidraw.theme--dark{background:#000}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url("+f+');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: rgba(30, 30, 30, 0.98);--keybinding-color: #868e96;--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 1px 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da;--color-primary: #5650f0;--color-primary-darker: #4b46d8;--color-primary-darkest: #3e39be;--color-primary-light: #3f3d64}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;-webkit-margin-end:8px;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{-webkit-user-select:none;user-select:none;background-color:var(--button-gray-1);border:0;border-radius:var(--border-radius-md);margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus-visible,.excalidraw .buttonList label:focus-visible{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--color-primary);--icon-fill-color: #ffffff}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--color-primary-darker)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--color-primary-darkest)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:35px;height:14px;padding:2px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:auto -webkit-max-content auto;grid-template-columns:auto max-content auto;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:-webkit-min-content auto -webkit-min-content;grid-template-columns:min-content auto min-content;grid-gap:15px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir=ltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir=rtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .zIndexButton{margin:0;-webkit-margin-end:8px;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{display:flex;cursor:pointer;fill:#868e96;padding:0;margin:0;background:none;color:var(--icon-fill-color)}.excalidraw .help-icon svg{width:1.5rem;height:1.5rem}.excalidraw .help-icon:hover{background:none}.excalidraw .reset-zoom-button{padding:.2em;background:transparent;color:var(--text-primary-color);font-family:var(--ui-font)}.excalidraw .undo-redo-buttons{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),t.default=d},6464:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,"",""]),a.locals={themeFilter:"invert(93%) hue-rotate(180deg)"},t.default=a},5260:function(e,t,n){"use strict";n.r(t);var r=n(8081),i=n.n(r),o=n(3645),a=n.n(o)()(i());a.push([e.id,":export{themeFilter:invert(93%) hue-rotate(180deg)}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:transparent;color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:transparent !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),t.default=a},3645:function(e){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);r&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},1667:function(e){"use strict";e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]|(%20)/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},8081:function(e){"use strict";e.exports=function(e){return e[1]}},8288:function(e,t,n){"use strict";n.d(t,{iC:function(){return a},f:function(){return s},qx:function(){return l},Iw:function(){return c},$e:function(){return u},wZ:function(){return d},ay:function(){return p},oc:function(){return f},Oh:function(){return h},Ks:function(){return r},Vi:function(){return m},$C:function(){return g},ut:function(){return v},C6:function(){return y},_D:function(){return b},n5:function(){return w},rk:function(){return x},Hg:function(){return S},hs:function(){return k},k:function(){return T},LO:function(){return E},r8:function(){return _},pb:function(){return C},LL:function(){return O},Gj:function(){return P},nM:function(){return A},Lg:function(){return I},HM:function(){return M},V4:function(){return N},sA:function(){return R},EH:function(){return D},ZF:function(){return L},UO:function(){return j},ah:function(){return B},cW:function(){return F},kV:function(){return U},sS:function(){return $},Yx:function(){return H},zK:function(){return G},ZB:function(){return V},qy:function(){return z},h6:function(){return W},jo:function(){return K},$n:function(){return q},hR:function(){return X},Kr:function(){return Z},gK:function(){return Y}});var r,i=n(8635),o=n.n(i),a="Excalidraw",s=10,l=8,c=5,u=1,d=30,p=Math.PI/12,f={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},h={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(e){e.COPY="copy",e.PASTE="paste",e.CUT="cut",e.KEYDOWN="keydown",e.KEYUP="keyup",e.MOUSE_MOVE="mousemove",e.RESIZE="resize",e.UNLOAD="unload",e.FOCUS="focus",e.BLUR="blur",e.DRAG_OVER="dragover",e.DROP="drop",e.GESTURE_END="gestureend",e.BEFORE_UNLOAD="beforeunload",e.GESTURE_START="gesturestart",e.GESTURE_CHANGE="gesturechange",e.POINTER_MOVE="pointermove",e.POINTER_UP="pointerup",e.STATE_CHANGE="statechange",e.WHEEL="wheel",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.HASHCHANGE="hashchange",e.VISIBILITY_CHANGE="visibilitychange",e.SCROLL="scroll",e.EXCALIDRAW_LINK="excalidraw-link"}(r||(r={}));var m={TEST:"test",DEVELOPMENT:"development"},g={SHAPE_ACTIONS_MENU:"App-menu__left"},v={Virgil:1,Helvetica:2,Cascadia:3},y={LIGHT:"light",DARK:"dark"},b="Segoe UI Emoji",w=20,x=v.Virgil,S="left",k="top",T=20,E={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",gif:"image/gif",binary:"application/octet-stream"},_={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},C=window.location.origin,O=500,P=300,A=500,I=5e3,M=100,N=.1,R=300,D={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},L=o().themeFilter,j={addLibrary:"addLibrary"},B={addLibrary:"addLibrary"},F={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,theme:!0,saveAsImage:!0}},U=730,$=1e3,H=500,G=2,V=[1,2,3],z=10,W=1440,K=[E.png,E.jpg,E.svg,E.gif],q=2097152,X="http://www.w3.org/2000/svg",Z={excalidraw:2,excalidrawLibrary:2},Y=5},7314:function(e,t,n){"use strict";n.r(t),n.d(t,{FONT_FAMILY:function(){return c.ut},THEME:function(){return c.C6},bumpVersion:function(){return li},default:function(){return _g},defaultLang:function(){return b},exportToBlob:function(){return ym},exportToCanvas:function(){return vm},exportToSvg:function(){return bm},getFreeDrawSvgPath:function(){return Yr},getNonDeletedElements:function(){return Cc},getSceneVersion:function(){return Ec},isInvisiblySmallElement:function(){return ci},isLinearElement:function(){return qe},languages:function(){return w},loadFromBlob:function(){return Bd},loadLibraryFromBlob:function(){return Fd},mutateElement:function(){return ai},newElementWith:function(){return si},restore:function(){return Ad},restoreAppState:function(){return Pd},restoreElements:function(){return Od},serializeAsJSON:function(){return Xd}});var r=n(6479),i=n.n(r),o=n(9713),a=n.n(o),s=n(9787),l=n.n(s),c=n(8288),u=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.11.0"}');"production"!==c.Vi.TEST&&(n.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(u.u2,"@").concat(u.i8,"/dist/"));var d=n(8950);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){s=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var m=n(7945),g=n.n(m),v=n(1463),y=n(4451),b={code:"en",label:"English"},w=[{code:"ar-SA",label:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",rtl:!0},{code:"bg-BG",label:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438"},{code:"ca-ES",label:"Catal\xe0"},{code:"cs-CZ",label:"\u010cesky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac"},{code:"es-ES",label:"Espa\xf1ol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"\u0641\u0627\u0631\u0633\u06cc",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Fran\xe7ais"},{code:"he-IL",label:"\u05e2\u05d1\u05e8\u05d9\u05ea",rtl:!0},{code:"hi-IN",label:"\u0939\u093f\u0928\u094d\u0926\u0940"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:"\u65e5\u672c\u8a9e"},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:"\u049a\u0430\u0437\u0430\u049b \u0442\u0456\u043b\u0456"},{code:"ko-KR",label:"\ud55c\uad6d\uc5b4"},{code:"lt-LT",label:"Lietuvi\u0173"},{code:"lv-LV",label:"Latvie\u0161u"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokm\xe5l"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"\u0a2a\u0a70\u0a1c\u0a3e\u0a2c\u0a40"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugu\xeas Brasileiro"},{code:"pt-PT",label:"Portugu\xeas"},{code:"ro-RO",label:"Rom\xe2n\u0103"},{code:"ru-RU",label:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"sk-SK",label:"Sloven\u010dina"},{code:"sv-SE",label:"Svenska"},{code:"tr-TR",label:"T\xfcrk\xe7e"},{code:"uk-UA",label:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"zh-CN",label:"\u7b80\u4f53\u4e2d\u6587"},{code:"zh-TW",label:"\u7e41\u9ad4\u4e2d\u6587"}].concat([b]).sort((function(e,t){return e.label>t.label?1:-1})).filter((function(e){return y[e.code]>=85})),x="__test__";"production"===c.Vi.DEVELOPMENT&&w.unshift({code:x,label:"test language"},{code:"".concat(x,".rtl"),label:"\u202atest language (rtl)\u202c",rtl:!0});var S=b,k={},T=function(){var e=(0,d.Z)(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S=t,document.documentElement.dir=S.rtl?"rtl":"ltr",document.documentElement.lang=S.code,!t.code.startsWith(x)){e.next=7;break}k={},e.next=10;break;case 7:return e.next=9,n(788)("./".concat(S.code,".json"));case 9:k=e.sent;case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){return S},_=function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(void 0===e[r])return;e=e[r]}if("string"==typeof e)return e},C=function(e,t){if(S.code.startsWith(x)){var n=t?"".concat(e,"(").concat(JSON.stringify(t).slice(1,-1),")"):e;return"\u202a[[".concat(n,"]]\u202c")}var r=e.split("."),i=_(k,r)||_(v,r);if(void 0===i)throw new Error("Can't find translation for ".concat(e));if(t)for(var o in t)i=i.replace("{{".concat(o,"}}"),String(t[o]));return i},O=n(4512),P=function(){return(0,O.jsx)("div",{className:"LoadingMessage",children:(0,O.jsx)("span",{children:C("labels.loadingScene")})})},A=function(e){var t=h((0,s.useState)(!0),2),n=t[0],r=t[1];return(0,s.useEffect)((function(){var t=function(){var e=(0,d.Z)(g().mark((function e(){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(n);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=w.find((function(t){return t.code===e.langCode}))||b;t(),r(!1)}),[e.langCode]),n?(0,O.jsx)(P,{}):e.children};function I(e){return I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I(e)}function M(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function L(e,t,n){return t&&D(e.prototype,t),n&&D(e,n),e}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e,t){return B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},B(e,t)}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}function U(e,t){if(t&&("object"===I(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return j(e)}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}function H(e,t,n){if(e&&e.length){const[r,i]=t,o=Math.PI/180*n,a=Math.cos(o),s=Math.sin(o);e.forEach((e=>{const[t,n]=e;e[0]=(t-r)*a-(n-i)*s+r,e[1]=(t-r)*s+(n-i)*a+i}))}}function G(e){const t=e[0],n=e[1];return Math.sqrt(Math.pow(t[0]-n[0],2)+Math.pow(t[1]-n[1],2))}function V(e,t){const n=t.hachureAngle+90;let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);const i=[0,0];if(n)for(const a of e)H(a,i,n);const o=function(e,t){const n=[];for(const s of e){const e=[...s];e[0].join(",")!==e[e.length-1].join(",")&&e.push([e[0][0],e[0][1]]),e.length>2&&n.push(e)}const r=[];t=Math.max(t,.1);const i=[];for(const s of n)for(let e=0;e<s.length-1;e++){const t=s[e],n=s[e+1];if(t[1]!==n[1]){const e=Math.min(t[1],n[1]);i.push({ymin:e,ymax:Math.max(t[1],n[1]),x:e===t[1]?t[0]:n[0],islope:(n[0]-t[0])/(n[1]-t[1])})}}if(i.sort(((e,t)=>e.ymin<t.ymin?-1:e.ymin>t.ymin?1:e.x<t.x?-1:e.x>t.x?1:e.ymax===t.ymax?0:(e.ymax-t.ymax)/Math.abs(e.ymax-t.ymax))),!i.length)return r;let o=[],a=i[0].ymin;for(;o.length||i.length;){if(i.length){let e=-1;for(let t=0;t<i.length&&!(i[t].ymin>a);t++)e=t;i.splice(0,e+1).forEach((e=>{o.push({s:a,edge:e})}))}if(o=o.filter((e=>!(e.edge.ymax<=a))),o.sort(((e,t)=>e.edge.x===t.edge.x?0:(e.edge.x-t.edge.x)/Math.abs(e.edge.x-t.edge.x))),o.length>1)for(let e=0;e<o.length;e+=2){const t=e+1;if(t>=o.length)break;const n=o[e].edge,i=o[t].edge;r.push([[Math.round(n.x),a],[Math.round(i.x),a]])}a+=t,o.forEach((e=>{e.edge.x=e.edge.x+t*e.edge.islope}))}return r}(e,r);if(n){for(const t of e)H(t,i,-n);!function(e,t,n){const r=[];e.forEach((e=>r.push(...e))),H(r,t,n)}(o,i,-n)}return o}class z{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const n=V(e,t);return{type:"fillSketch",ops:this.renderLines(n,t)}}renderLines(e,t){const n=[];for(const r of e)n.push(...this.helper.doubleLineOps(r[0][0],r[0][1],r[1][0],r[1][1],t));return n}}class W extends z{fillPolygons(e,t){let n=t.hachureGap;n<0&&(n=4*t.strokeWidth),n=Math.max(n,.1);const r=V(e,Object.assign({},t,{hachureGap:n})),i=Math.PI/180*t.hachureAngle,o=[],a=.5*n*Math.cos(i),s=.5*n*Math.sin(i);for(const[l,c]of r)G([l,c])&&o.push([[l[0]-a,l[1]+s],[...c]],[[l[0]+a,l[1]-s],[...c]]);return{type:"fillSketch",ops:this.renderLines(o,t)}}}class K extends z{fillPolygons(e,t){const n=this._fillPolygons(e,t),r=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,r);return n.ops=n.ops.concat(i.ops),n}}class q{constructor(e){this.helper=e}fillPolygons(e,t){const n=V(e,t=Object.assign({},t,{hachureAngle:0}));return this.dotsOnLines(n,t)}dotsOnLines(e,t){const n=[];let r=t.hachureGap;r<0&&(r=4*t.strokeWidth),r=Math.max(r,.1);let i=t.fillWeight;i<0&&(i=t.strokeWidth/2);const o=r/4;for(const a of e){const e=G(a),s=e/r,l=Math.ceil(s)-1,c=e-l*r,u=(a[0][0]+a[1][0])/2-r/4,d=Math.min(a[0][1],a[1][1]);for(let a=0;a<l;a++){const e=d+c+a*r,s=u-o+2*Math.random()*o,l=e-o+2*Math.random()*o,p=this.helper.ellipse(s,l,i,i,t);n.push(...p.ops)}}return{type:"fillSketch",ops:n}}}class X{constructor(e){this.helper=e}fillPolygons(e,t){const n=V(e,t);return{type:"fillSketch",ops:this.dashedLine(n,t)}}dashedLine(e,t){const n=t.dashOffset<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashOffset,r=t.dashGap<0?t.hachureGap<0?4*t.strokeWidth:t.hachureGap:t.dashGap,i=[];return e.forEach((e=>{const o=G(e),a=Math.floor(o/(n+r)),s=(o+r-a*(n+r))/2;let l=e[0],c=e[1];l[0]>c[0]&&(l=e[1],c=e[0]);const u=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let d=0;d<a;d++){const e=d*(n+r),o=e+n,a=[l[0]+e*Math.cos(u)+s*Math.cos(u),l[1]+e*Math.sin(u)+s*Math.sin(u)],c=[l[0]+o*Math.cos(u)+s*Math.cos(u),l[1]+o*Math.sin(u)+s*Math.sin(u)];i.push(...this.helper.doubleLineOps(a[0],a[1],c[0],c[1],t))}})),i}}class Z{constructor(e){this.helper=e}fillPolygons(e,t){const n=t.hachureGap<0?4*t.strokeWidth:t.hachureGap,r=t.zigzagOffset<0?n:t.zigzagOffset,i=V(e,t=Object.assign({},t,{hachureGap:n+r}));return{type:"fillSketch",ops:this.zigzagLines(i,r,t)}}zigzagLines(e,t,n){const r=[];return e.forEach((e=>{const i=G(e),o=Math.round(i/(2*t));let a=e[0],s=e[1];a[0]>s[0]&&(a=e[1],s=e[0]);const l=Math.atan((s[1]-a[1])/(s[0]-a[0]));for(let c=0;c<o;c++){const e=2*c*t,i=2*(c+1)*t,o=Math.sqrt(2*Math.pow(t,2)),s=[a[0]+e*Math.cos(l),a[1]+e*Math.sin(l)],u=[a[0]+i*Math.cos(l),a[1]+i*Math.sin(l)],d=[s[0]+o*Math.cos(l+Math.PI/4),s[1]+o*Math.sin(l+Math.PI/4)];r.push(...this.helper.doubleLineOps(s[0],s[1],d[0],d[1],n),...this.helper.doubleLineOps(d[0],d[1],u[0],u[1],n))}})),r}}const Y={};class Q{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const J={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function ee(e,t){return e.type===t}function te(e){const t=[],n=function(e){const t=new Array;for(;""!==e;)if(e.match(/^([ \t\r\n,]+)/))e=e.substr(RegExp.$1.length);else if(e.match(/^([aAcChHlLmMqQsStTvVzZ])/))t[t.length]={type:0,text:RegExp.$1},e=e.substr(RegExp.$1.length);else{if(!e.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];t[t.length]={type:1,text:`${parseFloat(RegExp.$1)}`},e=e.substr(RegExp.$1.length)}return t[t.length]={type:2,text:""},t}(e);let r="BOD",i=0,o=n[i];for(;!ee(o,2);){let a=0;const s=[];if("BOD"===r){if("M"!==o.text&&"m"!==o.text)return te("M0,0"+e);i++,a=J[o.text],r=o.text}else ee(o,1)?a=J[r]:(i++,a=J[o.text],r=o.text);if(!(i+a<n.length))throw new Error("Path data ended short");for(let e=i;e<i+a;e++){const t=n[e];if(!ee(t,1))throw new Error("Param not a number: "+r+","+t.text);s[s.length]=+t.text}if("number"!=typeof J[r])throw new Error("Bad segment: "+r);{const e={key:r,data:s};t.push(e),i+=a,o=n[i],"M"===r&&(r="L"),"m"===r&&(r="l")}}return t}function ne(e){let t=0,n=0,r=0,i=0;const o=[];for(const{key:a,data:s}of e)switch(a){case"M":o.push({key:"M",data:[...s]}),[t,n]=s,[r,i]=s;break;case"m":t+=s[0],n+=s[1],o.push({key:"M",data:[t,n]}),r=t,i=n;break;case"L":o.push({key:"L",data:[...s]}),[t,n]=s;break;case"l":t+=s[0],n+=s[1],o.push({key:"L",data:[t,n]});break;case"C":o.push({key:"C",data:[...s]}),t=s[4],n=s[5];break;case"c":{const e=s.map(((e,r)=>r%2?e+n:e+t));o.push({key:"C",data:e}),t=e[4],n=e[5];break}case"Q":o.push({key:"Q",data:[...s]}),t=s[2],n=s[3];break;case"q":{const e=s.map(((e,r)=>r%2?e+n:e+t));o.push({key:"Q",data:e}),t=e[2],n=e[3];break}case"A":o.push({key:"A",data:[...s]}),t=s[5],n=s[6];break;case"a":t+=s[5],n+=s[6],o.push({key:"A",data:[s[0],s[1],s[2],s[3],s[4],t,n]});break;case"H":o.push({key:"H",data:[...s]}),t=s[0];break;case"h":t+=s[0],o.push({key:"H",data:[t]});break;case"V":o.push({key:"V",data:[...s]}),n=s[0];break;case"v":n+=s[0],o.push({key:"V",data:[n]});break;case"S":o.push({key:"S",data:[...s]}),t=s[2],n=s[3];break;case"s":{const e=s.map(((e,r)=>r%2?e+n:e+t));o.push({key:"S",data:e}),t=e[2],n=e[3];break}case"T":o.push({key:"T",data:[...s]}),t=s[0],n=s[1];break;case"t":t+=s[0],n+=s[1],o.push({key:"T",data:[t,n]});break;case"Z":case"z":o.push({key:"Z",data:[]}),t=r,n=i}return o}function re(e){const t=[];let n="",r=0,i=0,o=0,a=0,s=0,l=0;for(const{key:c,data:u}of e){switch(c){case"M":t.push({key:"M",data:[...u]}),[r,i]=u,[o,a]=u;break;case"C":t.push({key:"C",data:[...u]}),r=u[4],i=u[5],s=u[2],l=u[3];break;case"L":t.push({key:"L",data:[...u]}),[r,i]=u;break;case"H":r=u[0],t.push({key:"L",data:[r,i]});break;case"V":i=u[0],t.push({key:"L",data:[r,i]});break;case"S":{let e=0,o=0;"C"===n||"S"===n?(e=r+(r-s),o=i+(i-l)):(e=r,o=i),t.push({key:"C",data:[e,o,...u]}),s=u[0],l=u[1],r=u[2],i=u[3];break}case"T":{const[e,o]=u;let a=0,c=0;"Q"===n||"T"===n?(a=r+(r-s),c=i+(i-l)):(a=r,c=i);const d=r+2*(a-r)/3,p=i+2*(c-i)/3,f=e+2*(a-e)/3,h=o+2*(c-o)/3;t.push({key:"C",data:[d,p,f,h,e,o]}),s=a,l=c,r=e,i=o;break}case"Q":{const[e,n,o,a]=u,c=r+2*(e-r)/3,d=i+2*(n-i)/3,p=o+2*(e-o)/3,f=a+2*(n-a)/3;t.push({key:"C",data:[c,d,p,f,o,a]}),s=e,l=n,r=o,i=a;break}case"A":{const e=Math.abs(u[0]),n=Math.abs(u[1]),o=u[2],a=u[3],s=u[4],l=u[5],c=u[6];0===e||0===n?(t.push({key:"C",data:[r,i,l,c,l,c]}),r=l,i=c):r===l&&i===c||(oe(r,i,l,c,e,n,o,a,s).forEach((function(e){t.push({key:"C",data:e})})),r=l,i=c);break}case"Z":t.push({key:"Z",data:[]}),r=o,i=a}n=c}return t}function ie(e,t,n){return[e*Math.cos(n)-t*Math.sin(n),e*Math.sin(n)+t*Math.cos(n)]}function oe(e,t,n,r,i,o,a,s,l,c){const u=(d=a,Math.PI*d/180);var d;let p=[],f=0,h=0,m=0,g=0;if(c)[f,h,m,g]=c;else{[e,t]=ie(e,t,-u),[n,r]=ie(n,r,-u);const a=(e-n)/2,c=(t-r)/2;let d=a*a/(i*i)+c*c/(o*o);d>1&&(d=Math.sqrt(d),i*=d,o*=d);const p=i*i,v=o*o,y=p*v-p*c*c-v*a*a,b=p*c*c+v*a*a,w=(s===l?-1:1)*Math.sqrt(Math.abs(y/b));m=w*i*c/o+(e+n)/2,g=w*-o*a/i+(t+r)/2,f=Math.asin(parseFloat(((t-g)/o).toFixed(9))),h=Math.asin(parseFloat(((r-g)/o).toFixed(9))),e<m&&(f=Math.PI-f),n<m&&(h=Math.PI-h),f<0&&(f=2*Math.PI+f),h<0&&(h=2*Math.PI+h),l&&f>h&&(f-=2*Math.PI),!l&&h>f&&(h-=2*Math.PI)}let v=h-f;if(Math.abs(v)>120*Math.PI/180){const e=h,t=n,s=r;h=l&&h>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,p=oe(n=m+i*Math.cos(h),r=g+o*Math.sin(h),t,s,i,o,a,0,l,[h,e,m,g])}v=h-f;const y=Math.cos(f),b=Math.sin(f),w=Math.cos(h),x=Math.sin(h),S=Math.tan(v/4),k=4/3*i*S,T=4/3*o*S,E=[e,t],_=[e+k*b,t-T*y],C=[n+k*x,r-T*w],O=[n,r];if(_[0]=2*E[0]-_[0],_[1]=2*E[1]-_[1],c)return[_,C,O].concat(p);{p=[_,C,O].concat(p);const e=[];for(let t=0;t<p.length;t+=3){const n=ie(p[t][0],p[t][1],u),r=ie(p[t+1][0],p[t+1][1],u),i=ie(p[t+2][0],p[t+2][1],u);e.push([n[0],n[1],r[0],r[1],i[0],i[1]])}return e}}const ae={randOffset:function(e,t){return ye(e,t)},randOffsetWithRange:function(e,t,n){return ve(e,t,n)},ellipse:function(e,t,n,r,i){return pe(e,t,i,de(n,r,i)).opset},doubleLineOps:function(e,t,n,r,i){return be(e,t,n,r,i,!0)}};function se(e,t,n,r,i){return{type:"path",ops:be(e,t,n,r,i)}}function le(e,t,n){const r=(e||[]).length;if(r>2){const i=[];for(let t=0;t<r-1;t++)i.push(...be(e[t][0],e[t][1],e[t+1][0],e[t+1][1],n));return t&&i.push(...be(e[r-1][0],e[r-1][1],e[0][0],e[0][1],n)),{type:"path",ops:i}}return 2===r?se(e[0][0],e[0][1],e[1][0],e[1][1],n):{type:"path",ops:[]}}function ce(e,t,n,r,i){return function(e,t){return le(e,!0,t)}([[e,t],[e+n,t],[e+n,t+r],[e,t+r]],i)}function ue(e,t){let n=xe(e,1*(1+.2*t.roughness),t);if(!t.disableMultiStroke){const r=xe(e,1.5*(1+.22*t.roughness),function(e){const t=Object.assign({},e);return t.randomizer=void 0,e.seed&&(t.seed=e.seed+1),t}(t));n=n.concat(r)}return{type:"path",ops:n}}function de(e,t,n){const r=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(e/2,2)+Math.pow(t/2,2))/2)),i=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*r)),o=2*Math.PI/i;let a=Math.abs(e/2),s=Math.abs(t/2);const l=1-n.curveFitting;return a+=ye(a*l,n),s+=ye(s*l,n),{increment:o,rx:a,ry:s}}function pe(e,t,n,r){const[i,o]=ke(r.increment,e,t,r.rx,r.ry,1,r.increment*ve(.1,ve(.4,1,n),n),n);let a=Se(i,null,n);if(!n.disableMultiStroke&&0!==n.roughness){const[i]=ke(r.increment,e,t,r.rx,r.ry,1.5,0,n),o=Se(i,null,n);a=a.concat(o)}return{estimatedPoints:o,opset:{type:"path",ops:a}}}function fe(e,t,n,r,i,o,a,s,l){const c=e,u=t;let d=Math.abs(n/2),p=Math.abs(r/2);d+=ye(.01*d,l),p+=ye(.01*p,l);let f=i,h=o;for(;f<0;)f+=2*Math.PI,h+=2*Math.PI;h-f>2*Math.PI&&(f=0,h=2*Math.PI);const m=2*Math.PI/l.curveStepCount,g=Math.min(m/2,(h-f)/2),v=Te(g,c,u,d,p,f,h,1,l);if(!l.disableMultiStroke){const e=Te(g,c,u,d,p,f,h,1.5,l);v.push(...e)}return a&&(s?v.push(...be(c,u,c+d*Math.cos(f),u+p*Math.sin(f),l),...be(c,u,c+d*Math.cos(h),u+p*Math.sin(h),l)):v.push({op:"lineTo",data:[c,u]},{op:"lineTo",data:[c+d*Math.cos(f),u+p*Math.sin(f)]})),{type:"path",ops:v}}function he(e,t){const n=[];for(const r of e)if(r.length){const e=t.maxRandomnessOffset||0,i=r.length;if(i>2){n.push({op:"move",data:[r[0][0]+ye(e,t),r[0][1]+ye(e,t)]});for(let o=1;o<i;o++)n.push({op:"lineTo",data:[r[o][0]+ye(e,t),r[o][1]+ye(e,t)]})}}return{type:"fillPath",ops:n}}function me(e,t){return function(e,t){let n=e.fillStyle||"hachure";if(!Y[n])switch(n){case"zigzag":Y[n]||(Y[n]=new W(t));break;case"cross-hatch":Y[n]||(Y[n]=new K(t));break;case"dots":Y[n]||(Y[n]=new q(t));break;case"dashed":Y[n]||(Y[n]=new X(t));break;case"zigzag-line":Y[n]||(Y[n]=new Z(t));break;default:n="hachure",Y[n]||(Y[n]=new z(t))}return Y[n]}(t,ae).fillPolygons(e,t)}function ge(e){return e.randomizer||(e.randomizer=new Q(e.seed||0)),e.randomizer.next()}function ve(e,t,n,r=1){return n.roughness*r*(ge(n)*(t-e)+e)}function ye(e,t,n=1){return ve(-e,e,t,n)}function be(e,t,n,r,i,o=!1){const a=o?i.disableMultiStrokeFill:i.disableMultiStroke,s=we(e,t,n,r,i,!0,!1);if(a)return s;const l=we(e,t,n,r,i,!0,!0);return s.concat(l)}function we(e,t,n,r,i,o,a){const s=Math.pow(e-n,2)+Math.pow(t-r,2),l=Math.sqrt(s);let c=1;c=l<200?1:l>500?.4:-.0016668*l+1.233334;let u=i.maxRandomnessOffset||0;u*u*100>s&&(u=l/10);const d=u/2,p=.2+.2*ge(i);let f=i.bowing*i.maxRandomnessOffset*(r-t)/200,h=i.bowing*i.maxRandomnessOffset*(e-n)/200;f=ye(f,i,c),h=ye(h,i,c);const m=[],g=()=>ye(d,i,c),v=()=>ye(u,i,c),y=i.preserveVertices;return o&&(a?m.push({op:"move",data:[e+(y?0:g()),t+(y?0:g())]}):m.push({op:"move",data:[e+(y?0:ye(u,i,c)),t+(y?0:ye(u,i,c))]})),a?m.push({op:"bcurveTo",data:[f+e+(n-e)*p+g(),h+t+(r-t)*p+g(),f+e+2*(n-e)*p+g(),h+t+2*(r-t)*p+g(),n+(y?0:g()),r+(y?0:g())]}):m.push({op:"bcurveTo",data:[f+e+(n-e)*p+v(),h+t+(r-t)*p+v(),f+e+2*(n-e)*p+v(),h+t+2*(r-t)*p+v(),n+(y?0:v()),r+(y?0:v())]}),m}function xe(e,t,n){const r=[];r.push([e[0][0]+ye(t,n),e[0][1]+ye(t,n)]),r.push([e[0][0]+ye(t,n),e[0][1]+ye(t,n)]);for(let i=1;i<e.length;i++)r.push([e[i][0]+ye(t,n),e[i][1]+ye(t,n)]),i===e.length-1&&r.push([e[i][0]+ye(t,n),e[i][1]+ye(t,n)]);return Se(r,null,n)}function Se(e,t,n){const r=e.length,i=[];if(r>3){const o=[],a=1-n.curveTightness;i.push({op:"move",data:[e[1][0],e[1][1]]});for(let t=1;t+2<r;t++){const n=e[t];o[0]=[n[0],n[1]],o[1]=[n[0]+(a*e[t+1][0]-a*e[t-1][0])/6,n[1]+(a*e[t+1][1]-a*e[t-1][1])/6],o[2]=[e[t+1][0]+(a*e[t][0]-a*e[t+2][0])/6,e[t+1][1]+(a*e[t][1]-a*e[t+2][1])/6],o[3]=[e[t+1][0],e[t+1][1]],i.push({op:"bcurveTo",data:[o[1][0],o[1][1],o[2][0],o[2][1],o[3][0],o[3][1]]})}if(t&&2===t.length){const e=n.maxRandomnessOffset;i.push({op:"lineTo",data:[t[0]+ye(e,n),t[1]+ye(e,n)]})}}else 3===r?(i.push({op:"move",data:[e[1][0],e[1][1]]}),i.push({op:"bcurveTo",data:[e[1][0],e[1][1],e[2][0],e[2][1],e[2][0],e[2][1]]})):2===r&&i.push(...be(e[0][0],e[0][1],e[1][0],e[1][1],n));return i}function ke(e,t,n,r,i,o,a,s){const l=[],c=[];if(0===s.roughness){e/=4,c.push([t+r*Math.cos(-e),n+i*Math.sin(-e)]);for(let o=0;o<=2*Math.PI;o+=e){const e=[t+r*Math.cos(o),n+i*Math.sin(o)];l.push(e),c.push(e)}c.push([t+r*Math.cos(0),n+i*Math.sin(0)]),c.push([t+r*Math.cos(e),n+i*Math.sin(e)])}else{const u=ye(.5,s)-Math.PI/2;c.push([ye(o,s)+t+.9*r*Math.cos(u-e),ye(o,s)+n+.9*i*Math.sin(u-e)]);const d=2*Math.PI+u-.01;for(let a=u;a<d;a+=e){const e=[ye(o,s)+t+r*Math.cos(a),ye(o,s)+n+i*Math.sin(a)];l.push(e),c.push(e)}c.push([ye(o,s)+t+r*Math.cos(u+2*Math.PI+.5*a),ye(o,s)+n+i*Math.sin(u+2*Math.PI+.5*a)]),c.push([ye(o,s)+t+.98*r*Math.cos(u+a),ye(o,s)+n+.98*i*Math.sin(u+a)]),c.push([ye(o,s)+t+.9*r*Math.cos(u+.5*a),ye(o,s)+n+.9*i*Math.sin(u+.5*a)])}return[c,l]}function Te(e,t,n,r,i,o,a,s,l){const c=o+ye(.1,l),u=[];u.push([ye(s,l)+t+.9*r*Math.cos(c-e),ye(s,l)+n+.9*i*Math.sin(c-e)]);for(let d=c;d<=a;d+=e)u.push([ye(s,l)+t+r*Math.cos(d),ye(s,l)+n+i*Math.sin(d)]);return u.push([t+r*Math.cos(a),n+i*Math.sin(a)]),u.push([t+r*Math.cos(a),n+i*Math.sin(a)]),Se(u,null,l)}function Ee(e,t,n,r,i,o,a,s){const l=[],c=[s.maxRandomnessOffset||1,(s.maxRandomnessOffset||1)+.3];let u=[0,0];const d=s.disableMultiStroke?1:2,p=s.preserveVertices;for(let f=0;f<d;f++)0===f?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(p?0:ye(c[0],s)),a[1]+(p?0:ye(c[0],s))]}),u=p?[i,o]:[i+ye(c[f],s),o+ye(c[f],s)],l.push({op:"bcurveTo",data:[e+ye(c[f],s),t+ye(c[f],s),n+ye(c[f],s),r+ye(c[f],s),u[0],u[1]]});return l}function _e(e){return[...e]}function Ce(e,t){return Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2)}function Oe(e,t,n){const r=Ce(t,n);if(0===r)return Ce(e,t);let i=((e[0]-t[0])*(n[0]-t[0])+(e[1]-t[1])*(n[1]-t[1]))/r;return i=Math.max(0,Math.min(1,i)),Ce(e,Pe(t,n,i))}function Pe(e,t,n){return[e[0]+(t[0]-e[0])*n,e[1]+(t[1]-e[1])*n]}function Ae(e,t,n,r){const i=r||[];if(function(e,t){const n=e[t+0],r=e[t+1],i=e[t+2],o=e[t+3];let a=3*r[0]-2*n[0]-o[0];a*=a;let s=3*r[1]-2*n[1]-o[1];s*=s;let l=3*i[0]-2*o[0]-n[0];l*=l;let c=3*i[1]-2*o[1]-n[1];return c*=c,a<l&&(a=l),s<c&&(s=c),a+s}(e,t)<n){const n=e[t+0];i.length?(o=i[i.length-1],a=n,Math.sqrt(Ce(o,a))>1&&i.push(n)):i.push(n),i.push(e[t+3])}else{const r=.5,o=e[t+0],a=e[t+1],s=e[t+2],l=e[t+3],c=Pe(o,a,r),u=Pe(a,s,r),d=Pe(s,l,r),p=Pe(c,u,r),f=Pe(u,d,r),h=Pe(p,f,r);Ae([o,c,p,h],0,n,i),Ae([h,f,d,l],0,n,i)}var o,a;return i}function Ie(e,t){return Me(e,0,e.length,t)}function Me(e,t,n,r,i){const o=i||[],a=e[t],s=e[n-1];let l=0,c=1;for(let u=t+1;u<n-1;++u){const t=Oe(e[u],a,s);t>l&&(l=t,c=u)}return Math.sqrt(l)>r?(Me(e,t,c+1,r,o),Me(e,c,n,r,o)):(o.length||o.push(a),o.push(s)),o}function Ne(e,t=.15,n){const r=[],i=(e.length-1)/3;for(let o=0;o<i;o++)Ae(e,3*o,t,r);return n&&n>0?Me(r,0,r.length,n):r}const Re="none";class De{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,n){return{shape:e,sets:t||[],options:n||this.defaultOptions}}line(e,t,n,r,i){const o=this._o(i);return this._d("line",[se(e,t,n,r,o)],o)}rectangle(e,t,n,r,i){const o=this._o(i),a=[],s=ce(e,t,n,r,o);if(o.fill){const i=[[e,t],[e+n,t],[e+n,t+r],[e,t+r]];"solid"===o.fillStyle?a.push(he([i],o)):a.push(me([i],o))}return o.stroke!==Re&&a.push(s),this._d("rectangle",a,o)}ellipse(e,t,n,r,i){const o=this._o(i),a=[],s=de(n,r,o),l=pe(e,t,o,s);if(o.fill)if("solid"===o.fillStyle){const n=pe(e,t,o,s).opset;n.type="fillPath",a.push(n)}else a.push(me([l.estimatedPoints],o));return o.stroke!==Re&&a.push(l.opset),this._d("ellipse",a,o)}circle(e,t,n,r){const i=this.ellipse(e,t,n,n,r);return i.shape="circle",i}linearPath(e,t){const n=this._o(t);return this._d("linearPath",[le(e,!1,n)],n)}arc(e,t,n,r,i,o,a=!1,s){const l=this._o(s),c=[],u=fe(e,t,n,r,i,o,a,!0,l);if(a&&l.fill)if("solid"===l.fillStyle){const a=Object.assign({},l);a.disableMultiStroke=!0;const s=fe(e,t,n,r,i,o,!0,!1,a);s.type="fillPath",c.push(s)}else c.push(function(e,t,n,r,i,o,a){const s=e,l=t;let c=Math.abs(n/2),u=Math.abs(r/2);c+=ye(.01*c,a),u+=ye(.01*u,a);let d=i,p=o;for(;d<0;)d+=2*Math.PI,p+=2*Math.PI;p-d>2*Math.PI&&(d=0,p=2*Math.PI);const f=(p-d)/a.curveStepCount,h=[];for(let m=d;m<=p;m+=f)h.push([s+c*Math.cos(m),l+u*Math.sin(m)]);return h.push([s+c*Math.cos(p),l+u*Math.sin(p)]),h.push([s,l]),me([h],a)}(e,t,n,r,i,o,l));return l.stroke!==Re&&c.push(u),this._d("arc",c,l)}curve(e,t){const n=this._o(t),r=[],i=ue(e,n);if(n.fill&&n.fill!==Re&&e.length>=3){const t=function(e,t=0){const n=e.length;if(n<3)throw new Error("A curve must have at least three points.");const r=[];if(3===n)r.push(_e(e[0]),_e(e[1]),_e(e[2]),_e(e[2]));else{const n=[];n.push(e[0],e[0]);for(let t=1;t<e.length;t++)n.push(e[t]),t===e.length-1&&n.push(e[t]);const i=[],o=1-t;r.push(_e(n[0]));for(let e=1;e+2<n.length;e++){const t=n[e];i[0]=[t[0],t[1]],i[1]=[t[0]+(o*n[e+1][0]-o*n[e-1][0])/6,t[1]+(o*n[e+1][1]-o*n[e-1][1])/6],i[2]=[n[e+1][0]+(o*n[e][0]-o*n[e+2][0])/6,n[e+1][1]+(o*n[e][1]-o*n[e+2][1])/6],i[3]=[n[e+1][0],n[e+1][1]],r.push(i[1],i[2],i[3])}}return r}(e),i=Ne(t,10,(1+n.roughness)/2);"solid"===n.fillStyle?r.push(he([i],n)):r.push(me([i],n))}return n.stroke!==Re&&r.push(i),this._d("curve",r,n)}polygon(e,t){const n=this._o(t),r=[],i=le(e,!0,n);return n.fill&&("solid"===n.fillStyle?r.push(he([e],n)):r.push(me([e],n))),n.stroke!==Re&&r.push(i),this._d("polygon",r,n)}path(e,t){const n=this._o(t),r=[];if(!e)return this._d("path",r,n);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=n.fill&&"transparent"!==n.fill&&n.fill!==Re,o=n.stroke!==Re,a=!!(n.simplification&&n.simplification<1),s=function(e,t,n){const r=re(ne(te(e))),i=[];let o=[],a=[0,0],s=[];const l=()=>{s.length>=4&&o.push(...Ne(s,t)),s=[]},c=()=>{l(),o.length&&(i.push(o),o=[])};for(const{key:d,data:p}of r)switch(d){case"M":c(),a=[p[0],p[1]],o.push(a);break;case"L":l(),o.push([p[0],p[1]]);break;case"C":if(!s.length){const e=o.length?o[o.length-1]:a;s.push([e[0],e[1]])}s.push([p[0],p[1]]),s.push([p[2],p[3]]),s.push([p[4],p[5]]);break;case"Z":l(),o.push([a[0],a[1]])}if(c(),!n)return i;const u=[];for(const d of i){const e=Ie(d,n);e.length&&u.push(e)}return u}(e,1,a?4-4*n.simplification:(1+n.roughness)/2);return i&&("solid"===n.fillStyle?r.push(he(s,n)):r.push(me(s,n))),o&&(a?s.forEach((e=>{r.push(le(e,!1,n))})):r.push(function(e,t){const n=re(ne(te(e))),r=[];let i=[0,0],o=[0,0];for(const{key:a,data:s}of n)switch(a){case"M":{const e=1*(t.maxRandomnessOffset||0),n=t.preserveVertices;r.push({op:"move",data:s.map((r=>r+(n?0:ye(e,t))))}),o=[s[0],s[1]],i=[s[0],s[1]];break}case"L":r.push(...be(o[0],o[1],s[0],s[1],t)),o=[s[0],s[1]];break;case"C":{const[e,n,i,a,l,c]=s;r.push(...Ee(e,n,i,a,l,c,o,t)),o=[l,c];break}case"Z":r.push(...be(o[0],o[1],i[0],i[1],t)),o=[i[0],i[1]]}return{type:"path",ops:r}}(e,n))),this._d("path",r,n)}opsToPath(e,t){let n="";for(const r of e.ops){const e="number"==typeof t&&t>=0?r.data.map((e=>+e.toFixed(t))):r.data;switch(r.op){case"move":n+=`M${e[0]} ${e[1]} `;break;case"bcurveTo":n+=`C${e[0]} ${e[1]}, ${e[2]} ${e[3]}, ${e[4]} ${e[5]} `;break;case"lineTo":n+=`L${e[0]} ${e[1]} `}}return n.trim()}toPaths(e){const t=e.sets||[],n=e.options||this.defaultOptions,r=[];for(const i of t){let e=null;switch(i.type){case"path":e={d:this.opsToPath(i),stroke:n.stroke,strokeWidth:n.strokeWidth,fill:Re};break;case"fillPath":e={d:this.opsToPath(i),stroke:Re,strokeWidth:0,fill:n.fill||Re};break;case"fillSketch":e=this.fillSketch(i,n)}e&&r.push(e)}return r}fillSketch(e,t){let n=t.fillWeight;return n<0&&(n=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||Re,strokeWidth:n,fill:Re}}}class Le{constructor(e,t){this.canvas=e,this.ctx=this.canvas.getContext("2d"),this.gen=new De(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.ctx,i=e.options.fixedDecimalPlaceDigits;for(const o of t)switch(o.type){case"path":r.save(),r.strokeStyle="none"===n.stroke?"transparent":n.stroke,r.lineWidth=n.strokeWidth,n.strokeLineDash&&r.setLineDash(n.strokeLineDash),n.strokeLineDashOffset&&(r.lineDashOffset=n.strokeLineDashOffset),this._drawToContext(r,o,i),r.restore();break;case"fillPath":{r.save(),r.fillStyle=n.fill||"";const t="curve"===e.shape||"polygon"===e.shape||"path"===e.shape?"evenodd":"nonzero";this._drawToContext(r,o,i,t),r.restore();break}case"fillSketch":this.fillSketch(r,o,n)}}fillSketch(e,t,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2),e.save(),n.fillLineDash&&e.setLineDash(n.fillLineDash),n.fillLineDashOffset&&(e.lineDashOffset=n.fillLineDashOffset),e.strokeStyle=n.fill||"",e.lineWidth=r,this._drawToContext(e,t,n.fixedDecimalPlaceDigits),e.restore()}_drawToContext(e,t,n,r="nonzero"){e.beginPath();for(const i of t.ops){const t="number"==typeof n&&n>=0?i.data.map((e=>+e.toFixed(n))):i.data;switch(i.op){case"move":e.moveTo(t[0],t[1]);break;case"bcurveTo":e.bezierCurveTo(t[0],t[1],t[2],t[3],t[4],t[5]);break;case"lineTo":e.lineTo(t[0],t[1])}}"fillPath"===t.type?e.fill(r):e.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(e,t,n,r,i){const o=this.gen.line(e,t,n,r,i);return this.draw(o),o}rectangle(e,t,n,r,i){const o=this.gen.rectangle(e,t,n,r,i);return this.draw(o),o}ellipse(e,t,n,r,i){const o=this.gen.ellipse(e,t,n,r,i);return this.draw(o),o}circle(e,t,n,r){const i=this.gen.circle(e,t,n,r);return this.draw(i),i}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n),n}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n),n}arc(e,t,n,r,i,o,a=!1,s){const l=this.gen.arc(e,t,n,r,i,o,a,s);return this.draw(l),l}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n),n}path(e,t){const n=this.gen.path(e,t);return this.draw(n),n}}const je="http://www.w3.org/2000/svg";class Be{constructor(e,t){this.svg=e,this.gen=new De(t)}draw(e){const t=e.sets||[],n=e.options||this.getDefaultOptions(),r=this.svg.ownerDocument||window.document,i=r.createElementNS(je,"g"),o=e.options.fixedDecimalPlaceDigits;for(const a of t){let t=null;switch(a.type){case"path":t=r.createElementNS(je,"path"),t.setAttribute("d",this.opsToPath(a,o)),t.setAttribute("stroke",n.stroke),t.setAttribute("stroke-width",n.strokeWidth+""),t.setAttribute("fill","none"),n.strokeLineDash&&t.setAttribute("stroke-dasharray",n.strokeLineDash.join(" ").trim()),n.strokeLineDashOffset&&t.setAttribute("stroke-dashoffset",`${n.strokeLineDashOffset}`);break;case"fillPath":t=r.createElementNS(je,"path"),t.setAttribute("d",this.opsToPath(a,o)),t.setAttribute("stroke","none"),t.setAttribute("stroke-width","0"),t.setAttribute("fill",n.fill||""),"curve"!==e.shape&&"polygon"!==e.shape||t.setAttribute("fill-rule","evenodd");break;case"fillSketch":t=this.fillSketch(r,a,n)}t&&i.appendChild(t)}return i}fillSketch(e,t,n){let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);const i=e.createElementNS(je,"path");return i.setAttribute("d",this.opsToPath(t,n.fixedDecimalPlaceDigits)),i.setAttribute("stroke",n.fill||""),i.setAttribute("stroke-width",r+""),i.setAttribute("fill","none"),n.fillLineDash&&i.setAttribute("stroke-dasharray",n.fillLineDash.join(" ").trim()),n.fillLineDashOffset&&i.setAttribute("stroke-dashoffset",`${n.fillLineDashOffset}`),i}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(e,t){return this.gen.opsToPath(e,t)}line(e,t,n,r,i){const o=this.gen.line(e,t,n,r,i);return this.draw(o)}rectangle(e,t,n,r,i){const o=this.gen.rectangle(e,t,n,r,i);return this.draw(o)}ellipse(e,t,n,r,i){const o=this.gen.ellipse(e,t,n,r,i);return this.draw(o)}circle(e,t,n,r){const i=this.gen.circle(e,t,n,r);return this.draw(i)}linearPath(e,t){const n=this.gen.linearPath(e,t);return this.draw(n)}polygon(e,t){const n=this.gen.polygon(e,t);return this.draw(n)}arc(e,t,n,r,i,o,a=!1,s){const l=this.gen.arc(e,t,n,r,i,o,a,s);return this.draw(l)}curve(e,t){const n=this.gen.curve(e,t);return this.draw(n)}path(e,t){const n=this.gen.path(e,t);return this.draw(n)}}var Fe={canvas:(e,t)=>new Le(e,t),svg:(e,t)=>new Be(e,t),generator:e=>new De(e),newSeed:()=>De.newSeed()};function Ue(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Ue(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function $e(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Ue(e))&&(r&&(r+=" "),r+=t);return r}let He=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t};var Ge=function(e){return!!e&&"image"===e.type&&!!e.fileId},Ve=function(e){return!!e&&"image"===e.type},ze=function(e){return null!=e&&"text"===e.type},We=function(e){return null!=e&&Ke(e.type)},Ke=function(e){return"freedraw"===e},qe=function(e){return null!=e&&Xe(e.type)},Xe=function(e){return"arrow"===e||"line"===e},Ze=function(e){return null!=e&&Ye(e.type)},Ye=function(e){return"arrow"===e},Qe=function(e){return null!=e&&("rectangle"===e.type||"diamond"===e.type||"ellipse"===e.type||"image"===e.type||"text"===e.type&&!e.containerId)},Je=function(e){var t;return Qe(e)&&!(null===(t=e.boundElements)||void 0===t||!t.some((function(e){return"text"===e.type})))},et=function(e){return null!==e&&ze(e)&&null!==e.containerId},tt=function(e,t,n,r,i){return[(e-n)*Math.cos(i)-(t-r)*Math.sin(i)+n,(e-n)*Math.sin(i)+(t-r)*Math.cos(i)+r]},nt=function(e,t,n){return tt(e[0],e[1],t[0],t[1],n)},rt=function(e,t,n,r,i,o,a,s){var l=Math.cos(r),c=Math.sin(r);return e.e&&e.w?t+=i+a:e.e?(t+=i*(1+l),n+=i*c,t+=a*(1-l),n+=a*-c):e.w&&(t+=i*(1-l),n+=i*-c,t+=a*(1+l),n+=a*c),e.n&&e.s?n+=o+s:e.n?(t+=o*c,n+=o*(1-l),t+=s*-c,n+=s*(1+l)):e.s&&(t+=o*-c,n+=o*(1+l),t+=s*c,n+=s*(1-l)),[t,n]},it=function(e,t,n,r){var i=n-e,o=r-t;return Math.hypot(i,o)},ot=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length>=3){var n=[e[0],e[e.length-1]],r=n[0],i=n[1];return it(r[0],r[1],i[0],i[1])<=c.qx/t}return!1},at=function(e,t,n){var r=e.length;if(r<3)return!1;for(var i=[Number.MAX_SAFE_INTEGER,n],o=[t,n],a=0,s=0;s<r;s++){var l=e[s],c=e[(s+1)%r];if(ct(l,c,o,i)){if(0===lt(l,o,c))return st(l,o,c);a++}}return a%2==1},st=function(e,t,n){return t[0]<=Math.max(e[0],n[0])&&t[0]>=Math.min(e[0],n[0])&&t[1]<=Math.max(e[1],n[1])&&t[1]>=Math.min(e[1],n[1])},lt=function(e,t,n){var r=(t[1]-e[1])*(n[0]-t[0])-(t[0]-e[0])*(n[1]-t[1]);return 0===r?0:r>0?1:2},ct=function(e,t,n,r){var i=lt(e,t,n),o=lt(e,t,r),a=lt(n,r,e),s=lt(n,r,t);return i!==o&&a!==s||!(0!==i||!st(e,n,t))||!(0!==o||!st(e,r,t))||!(0!==a||!st(n,e,r))||!(0!==s||!st(n,t,r))},ut=function(e,t,n){return n?[Math.round(e/n)*n,Math.round(t/n)*n]:[e,t]},dt=function(e){var t=e.map((function(e){return e[0]})),n=e.map((function(e){return e[1]}));return{width:Math.max.apply(Math,M(t))-Math.min.apply(Math,M(t)),height:Math.max.apply(Math,M(n))-Math.min.apply(Math,M(n))}},pt=function(e,t,n){var r=n.map((function(t){return t[e]})),i=Math.max.apply(Math,M(r)),o=Math.min.apply(Math,M(r)),a=i-o,s=0===a?1:t/a,l=1/0,c=n.map((function(t){return t.map((function(t,n){if(n!==e)return t;var r=t*s;return l=Math.min(r,l),r}))}));if(2===c.length)return c;var u=o-l;return c.map((function(t){return t.map((function(t,n){return n===e?t+u:t}))}))};function ft(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ht(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var mt=function(e){return We(e)?bt(e):qe(e)?wt(e):[e.x,e.y,e.x+e.width,e.y+e.height]},gt=function(e){var t,n=ft(e.sets);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("path"===r.type)return r.ops}}catch(e){n.e(e)}finally{n.f()}return e.sets[0].ops},vt=function(e,t){var n=[0,0],r=e.reduce((function(e,r){var i=r.op,o=r.data;if("move"===i)n=o;else if("bcurveTo"===i){var a=[o[0],o[1]],s=[o[2],o[3]],l=[o[4],o[5]],c=n;n=l;for(var u=function(e,t){return Math.pow(1-e,3)*l[t]+3*e*Math.pow(1-e,2)*s[t]+3*Math.pow(e,2)*(1-e)*a[t]+c[t]*Math.pow(e,3)},d=0;d<=1;){var p=u(d,0),f=u(d,1);if(t){var m=h(t(p,f),2);p=m[0],f=m[1]}e.minY=Math.min(e.minY,f),e.minX=Math.min(e.minX,p),e.maxX=Math.max(e.maxX,p),e.maxY=Math.max(e.maxY,f),d+=.1}}return e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]},yt=function(e){var t,n=1/0,r=1/0,i=-1/0,o=-1/0,a=ft(e);try{for(a.s();!(t=a.n()).done;){var s=h(t.value,2),l=s[0],c=s[1];n=Math.min(n,l),r=Math.min(r,c),i=Math.max(i,l),o=Math.max(o,c)}}catch(e){a.e(e)}finally{a.f()}return[n,r,i,o]},bt=function(e){var t=h(yt(e.points),4),n=t[0],r=t[1],i=t[2],o=t[3];return[n+e.x,r+e.y,i+e.x,o+e.y]},wt=function(e){var t;if(e.points.length<2||!Fr(e)){var n=e.points.reduce((function(e,t){var n=h(t,2),r=n[0],i=n[1];return e.minY=Math.min(e.minY,i),e.minX=Math.min(e.minX,r),e.maxX=Math.max(e.maxX,r),e.maxY=Math.max(e.maxY,i),e}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),r=n.minX,i=n.minY,o=n.maxX,a=n.maxY;t=[r+e.x,i+e.y,o+e.x,a+e.y]}else{var s=Fr(e),l=gt(s[0]),c=h(vt(l),4),u=c[0],d=c[1],p=c[2],f=c[3];t=[u+e.x,d+e.y,p+e.x,f+e.y]}return t},xt=function(e){var t,n=h(mt(e),4),r=n[0],i=n[1],o=n[2],a=n[3],s=(r+o)/2,l=(i+a)/2;if(We(e)){var c=yt(e.points.map((function(t){var n=h(t,2),r=n[0],i=n[1];return tt(r,i,s-e.x,l-e.y,e.angle)}))),u=h(c,4),d=u[0],p=u[1],f=u[2],m=u[3];return[d+e.x,p+e.y,f+e.x,m+e.y]}if(qe(e))t=function(e,t,n){if(e.points.length<2||!Fr(e)){var r=e.points.reduce((function(r,i){var o=h(i,2),a=o[0],s=o[1],l=h(tt(e.x+a,e.y+s,t,n,e.angle),2);return a=l[0],s=l[1],r.minY=Math.min(r.minY,s),r.minX=Math.min(r.minX,a),r.maxX=Math.max(r.maxX,a),r.maxY=Math.max(r.maxY,s),r}),{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[r.minX,r.minY,r.maxX,r.maxY]}var i=Fr(e),o=gt(i[0]);return vt(o,(function(r,i){return tt(e.x+r,e.y+i,t,n,e.angle)}))}(e,s,l);else if("diamond"===e.type){var g=h(tt(s,i,s,l,e.angle),2),v=g[0],y=g[1],b=h(tt(s,a,s,l,e.angle),2),w=b[0],x=b[1],S=h(tt(r,l,s,l,e.angle),2),k=S[0],T=S[1],E=h(tt(o,l,s,l,e.angle),2),_=E[0],C=E[1];t=[Math.min(v,w,k,_),Math.min(y,x,T,C),Math.max(v,w,k,_),Math.max(y,x,T,C)]}else if("ellipse"===e.type){var O=(o-r)/2,P=(a-i)/2,A=Math.cos(e.angle),I=Math.sin(e.angle),M=Math.hypot(O*A,P*I),N=Math.hypot(P*A,O*I);t=[s-M,l-N,s+M,l+N]}else{var R=h(tt(r,i,s,l,e.angle),2),D=R[0],L=R[1],j=h(tt(r,a,s,l,e.angle),2),B=j[0],F=j[1],U=h(tt(o,a,s,l,e.angle),2),$=U[0],H=U[1],G=h(tt(o,i,s,l,e.angle),2),V=G[0],z=G[1];t=[Math.min(D,B,$,V),Math.min(L,F,H,z),Math.max(D,B,$,V),Math.max(L,F,H,z)]}return t},St=function(e){if(!e.length)return[0,0,0,0];var t=1/0,n=-1/0,r=1/0,i=-1/0;return e.forEach((function(e){var o=h(xt(e),4),a=o[0],s=o[1],l=o[2],c=o[3];t=Math.min(t,a),r=Math.min(r,s),n=Math.max(n,l),i=Math.max(i,c)})),[t,r,n,i]},kt=function(e,t,n){if(!qe(e)&&!We(e))return[e.x,e.y,e.x+t,e.y+n];var r,i=pt(0,t,pt(1,n,e.points));if(We(e))r=yt(i);else{var o=Fe.generator(),a="sharp"===e.strokeSharpness?o.linearPath(i,Hr(e)):o.curve(i,Hr(e)),s=gt(a);r=vt(s)}var l=h(r,4),c=l[0],u=l[1],d=l[2],p=l[3];return[c+e.x,u+e.y,d+e.x,p+e.y]},Tt=function(e,t,n){var r=Fe.generator(),i="sharp"===n?r.linearPath(t,Hr(e)):r.curve(t,Hr(e)),o=gt(i),a=h(vt(o),4),s=a[0],l=a[1],c=a[2],u=a[3];return[s+e.x,l+e.y,c+e.x,u+e.y]},Et=function(e){var t=h(St(e),4),n=t[0],r=t[1],i=t[2],o=t[3];return{minX:n,minY:r,maxX:i,maxY:o,width:i-n,height:o-r,midX:(n+i)/2,midY:(r+o)/2}},_t=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}'),Ct=function(e){return[_t.red[e],_t.pink[e],_t.grape[e],_t.violet[e],_t.indigo[e],_t.blue[e],_t.cyan[e],_t.teal[e],_t.green[e],_t.lime[e],_t.yellow[e],_t.orange[e]]},Ot={canvasBackground:[_t.white,_t.gray[0],_t.gray[1]].concat(M(Ct(0))),elementBackground:["transparent",_t.gray[4],_t.gray[6]].concat(M(Ct(6))),elementStroke:[_t.black,_t.gray[8],_t.gray[7]].concat(M(Ct(9)))},Pt=n(5156),At=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),It=/^Win/.test(window.navigator.platform),Mt=/\b(android)\b/i.test(navigator.userAgent),Nt="Equal",Rt="Minus",Dt="NumpadAdd",Lt="NumpadSubtract",jt="Numpad0",Bt="BracketRight",Ft="BracketLeft",Ut="Digit1",$t="Digit2",Ht="Quote",Gt="Digit0",Vt="Slash",zt="KeyC",Wt="KeyD",Kt="KeyG",qt="KeyF",Xt="KeyH",Zt="KeyV",Yt="KeyX",Qt="KeyZ",Jt="KeyR",en={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:At?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",D:"d",E:"e",G:"g",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k"},tn=function(e){return e===en.ARROW_LEFT||e===en.ARROW_RIGHT||e===en.ARROW_DOWN||e===en.ARROW_UP},nn=function(e){return e.altKey},rn=function(e){return e.shiftKey},on=function(e){return e.shiftKey},an=null,sn=function(){if(an)return an;var e=new Date,t=e.getFullYear(),n="".concat(e.getMonth()+1).padStart(2,"0"),r="".concat(e.getDate()).padStart(2,"0"),i="".concat(e.getHours()).padStart(2,"0"),o="".concat(e.getMinutes()).padStart(2,"0");return"".concat(t,"-").concat(n,"-").concat(r,"-").concat(i).concat(o)},ln=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},cn=function(e){return e instanceof HTMLElement&&"wysiwyg"===e.dataset.type||e instanceof HTMLBRElement||e instanceof HTMLTextAreaElement||e instanceof HTMLInputElement&&("text"===e.type||"number"===e.type)},un=function(e){for(var t=e.fontFamily,n=0,r=Object.entries(c.ut);n<r.length;n++){var i=h(r[n],2),o=i[0];if(i[1]===t)return"".concat(o,", ").concat(c._D)}return c._D},dn=function(e){var t=e.fontSize,n=e.fontFamily;return"".concat(t,"px ").concat(un({fontFamily:n}))},pn=function(e,t){var n=0,r=null,i=function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r=o,clearTimeout(n),n=window.setTimeout((function(){r=null,e.apply(void 0,o)}),t)};return i.flush=function(){if(clearTimeout(n),r){var t=r;r=null,e.apply(void 0,M(t))}},i.cancel=function(){r=null,clearTimeout(n)},i},fn=function(e,t){if(!e.length||t<1)return[];for(var n=0,r=0,i=Array(Math.ceil(e.length/t));n<e.length;)i[r++]=e.slice(n,n+=t);return i},hn=function(e,t){return Math.abs(e-t)},mn=function(e){e&&(e.style.cursor="")},gn=function(e,t){e&&(e.style.cursor=t)},vn=function(e,t){e&&("selection"===t?mn(e):"image"!==t&&(e.style.cursor=c.oc.CROSSHAIR))},yn=function(){var e;return"HTML"===(null===(e=document.fullscreenElement)||void 0===e?void 0:e.nodeName)},bn=function(e){return e=e.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),At?e.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):e.replace(/\bCtrlOrCmd\b/i,"Ctrl")},wn=function(e,t){var n=e.clientX,r=e.clientY,i=t.zoom,o=t.offsetLeft,a=t.offsetTop,s=t.scrollX,l=t.scrollY,c=1/i.value;return{x:(n-o)*c-s,y:(r-a)*c-l}},xn=function(e,t){var n=e.sceneX,r=e.sceneY,i=t.zoom,o=t.offsetLeft,a=t.offsetTop,s=t.scrollX,l=t.scrollY;return{x:(n+s)*i.value+o,y:(r+l)*i.value+a}},Sn=function(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e))},kn=new RegExp("^[^".concat("A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufdfe-\ufe6f\ufefd-\uffff","]*[").concat("\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc","]")),Tn=function(e){return kn.test(e)},En=function(e){var t=h(e,2);return{x:t[0],y:t[1]}},_n=function(e){if("AbortError"!==(null==e?void 0:e.name))throw e;console.warn(e)},Cn=function(e){var t=5===e.length&&"0"===e.substr(4,1),n=9===e.length&&"00"===e.substr(7,2);return t||n||e===Ot.elementBackground[0]},On=function(e){return function(t){(0,Pt.unstable_batchedUpdates)(e,t)}},Pn=function(e){return t=function(t){(0,Pt.unstable_batchedUpdates)(e,t)},n=null,r=null,i=null,o=function(){for(var e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];r=o,i=t,null===n&&(n=window.requestAnimationFrame((function(){n=null,r=null,i=null,t.apply(void 0,o)})))},o.flush=function(){if(null!==n&&(cancelAnimationFrame(n),n=null),r){var e=r,t=i;r=null,i=null,null!==t&&t.apply(void 0,M(e))}},o.cancel=function(){r=null,i=null,null!==n&&(cancelAnimationFrame(n),n=null)},o;var t,n,r,i,o},An=function(){return Mn()?1:Date.now()},In=function(e){return e.reduce((function(e,t){return e.set("string"==typeof t?t:t.id,t),e}),new Map)},Mn=function(){var e;return"undefined"!=typeof process&&"test"===(null===(e={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})||void 0===e?void 0:e.NODE_ENV)},Nn=function(e,t){return new CustomEvent(e,{detail:{nativeEvent:t},cancelable:!0})};function Rn(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dn(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ln=c.ZB.includes(devicePixelRatio)?devicePixelRatio:1,jn=function(){return{theme:c.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:c.rk,currentItemFontSize:c.n5,currentItemLinearStrokeSharpness:"round",currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:_t.black,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:c.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:Ln,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat(C("labels.untitled"),"-").concat(sn()),openMenu:null,openPopup:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:_t.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElement:null,showHyperlinkPopup:!1}},Bn={theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeSharpness:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},elementLocked:{browser:!0,export:!1,server:!1},elementType:{browser:!0,export:!1,server:!1},penMode:{browser:!1,export:!1,server:!1},penDetected:{browser:!1,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isLibraryOpen:{browser:!1,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showHelpDialog:{browser:!1,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toastMessage:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElement:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1}},Fn=function(e,t){var n,r={},i=Rn(Object.keys(e));try{for(i.s();!(n=i.n()).done;){var o=n.value,a=Bn[o];if(null!=a&&a[t]){var s=e[o];r[o]=s}}}catch(e){i.e(e)}finally{i.f()}return r},Un=function(e){return Fn(e,"export")},$n=function(e){return Fn(e,"server")};function Hn(e,t,n,r=(e=>e)){return e*r(.5-t*(.5-n))}function Gn(e,t){return[e[0]+t[0],e[1]+t[1]]}function Vn(e,t){return[e[0]-t[0],e[1]-t[1]]}function zn(e,t){return[e[0]*t,e[1]*t]}function Wn(e){return[e[1],-e[0]]}function Kn(e,t){return e[0]*t[0]+e[1]*t[1]}function qn(e,t){return e[0]===t[0]&&e[1]===t[1]}function Xn(e,t){return function(e){return e[0]*e[0]+e[1]*e[1]}(Vn(e,t))}function Zn(e){return function(e,t){return[e[0]/t,e[1]/t]}(e,function(e){return Math.hypot(e[0],e[1])}(e))}function Yn(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function Qn(e,t,n){let r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],s=o*r+a*i;return[o*i-a*r+t[0],s+t[1]]}function Jn(e,t,n){return Gn(e,zn(Vn(t,e),n))}function er(e,t,n){return Gn(e,zn(t,n))}var{min:tr,PI:nr}=Math,rr=nr+1e-4;function ir(e,t={}){return function(e,t={}){let{size:n=16,smoothing:r=.5,thinning:i=.5,simulatePressure:o=!0,easing:a=(e=>e),start:s={},end:l={},last:c=!1}=t,{cap:u=!0,taper:d=0,easing:p=(e=>e*(2-e))}=s,{cap:f=!0,taper:h=0,easing:m=(e=>--e*e*e+1)}=l;if(0===e.length||n<=0)return[];let g,v=e[e.length-1].runningLength,y=Math.pow(n*r,2),b=[],w=[],x=e.slice(0,10).reduce(((e,t)=>{let r=t.pressure;if(o){let i=tr(1,t.distance/n),o=tr(1,1-i);r=tr(1,e+.275*i*(o-e))}return(e+r)/2}),e[0].pressure),S=Hn(n,i,e[e.length-1].pressure,a),k=e[0].vector,T=e[0].point,E=T,_=T,C=E;for(let M=0;M<e.length;M++){let{pressure:t}=e[M],{point:r,vector:s,distance:l,runningLength:c}=e[M];if(M<e.length-1&&v-c<3)continue;if(i){if(o){let e=tr(1,l/n),r=tr(1,1-e);t=tr(1,x+.275*e*(r-x))}S=Hn(n,i,t,a)}else S=n/2;void 0===g&&(g=S);let u=c<d?p(c/d):1,f=v-c<h?m((v-c)/h):1;if(S=Math.max(.01,S*Math.min(u,f)),M===e.length-1){let e=zn(Wn(s),S);b.push(Vn(r,e)),w.push(Gn(r,e));continue}let O=e[M+1].vector,P=Kn(s,O);if(P<0){let e=zn(Wn(k),S);for(let t=1/13,n=0;n<=1;n+=t)_=Qn(Vn(r,e),r,rr*n),b.push(_),C=Qn(Gn(r,e),r,rr*-n),w.push(C);T=_,E=C;continue}let A=zn(Wn(Jn(O,s,P)),S);_=Vn(r,A),(M<=1||Xn(T,_)>y)&&(b.push(_),T=_),C=Gn(r,A),(M<=1||Xn(E,C)>y)&&(w.push(C),E=C),x=t,k=s}let O=e[0].point.slice(0,2),P=e.length>1?e[e.length-1].point.slice(0,2):Gn(e[0].point,[1,1]),A=[],I=[];if(1===e.length){if(!d&&!h||c){let e=er(O,Zn(Wn(Vn(O,P))),-(g||S)),t=[];for(let n=1/13,r=n;r<=1;r+=n)t.push(Qn(e,O,2*rr*r));return t}}else{if(!(d||h&&1===e.length))if(u)for(let e=1/13,n=e;n<=1;n+=e){let e=Qn(w[0],O,rr*n);A.push(e)}else{let e=Vn(b[0],w[0]),t=zn(e,.5),n=zn(e,.51);A.push(Vn(O,t),Vn(O,n),Gn(O,n),Gn(O,t))}let t=Wn(function(e){return[-e[0],-e[1]]}(e[e.length-1].vector));if(h||d&&1===e.length)I.push(P);else if(f){let e=er(P,t,S);for(let t=1/29,n=t;n<1;n+=t)I.push(Qn(e,P,3*rr*n))}else I.push(Gn(P,zn(t,S)),Gn(P,zn(t,.99*S)),Vn(P,zn(t,.99*S)),Vn(P,zn(t,S)))}return b.concat(I,w.reverse(),A)}(function(e,t={}){var n;let{streamline:r=.5,size:i=16,last:o=!1}=t;if(0===e.length)return[];let a=.15+.85*(1-r),s=Array.isArray(e[0])?e:e.map((({x:e,y:t,pressure:n=.5})=>[e,t,n]));if(2===s.length){let e=s[1];s=s.slice(0,-1);for(let t=1;t<5;t++)s.push(Jn(s[0],e,t/4))}1===s.length&&(s=[...s,[...Gn(s[0],[1,1]),...s[0].slice(2)]]);let l=[{point:[s[0][0],s[0][1]],pressure:s[0][2]>=0?s[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],c=!1,u=0,d=l[0],p=s.length-1;for(let f=1;f<s.length;f++){let e=o&&f===p?s[f].slice(0,2):Jn(d.point,s[f],a);if(qn(d.point,e))continue;let t=Yn(e,d.point);if(u+=t,f<p&&!c){if(u<i)continue;c=!0}d={point:e,pressure:s[f][2]>=0?s[f][2]:.5,vector:Zn(Vn(d.point,e)),distance:t,runningLength:u},l.push(d)}return l[0].vector=(null==(n=l[1])?void 0:n.vector)||[0,0],l}(e,t),t)}var or=function(e){return"string"==typeof e},ar=function(){function e(){R(this,e),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return L(e,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(e){return this.elementsMap.get(e)||null}},{key:"getNonDeletedElement",value:function(e){var t=this.getElement(e);return t&&Oc(t)?t:null}},{key:"getNonDeletedElements",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.getNonDeletedElement(e);null!=r&&n.push(r)})),n}},{key:"replaceAllElements",value:function(t){var n=this;this.elements=t,this.elementsMap.clear(),t.forEach((function(t){n.elementsMap.set(t.id,t),e.mapElementToScene(t,n)})),this.nonDeletedElements=Cc(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var e=0,t=Array.from(this.callbacks);e<t.length;e++)(0,t[e])()}},{key:"addCallback",value:function(e){var t=this;if(this.callbacks.has(e))throw new Error;return this.callbacks.add(e),function(){if(!t.callbacks.has(e))throw new Error;t.callbacks.delete(e)}}},{key:"destroy",value:function(){var t=this;e.sceneMapById.forEach((function(n,r){n===t&&e.sceneMapById.delete(r)})),this.callbacks.clear()}}],[{key:"mapElementToScene",value:function(e,t){or(e)?this.sceneMapById.set(e,t):this.sceneMapByElement.set(e,t)}},{key:"getScene",value:function(e){return or(e)?this.sceneMapById.get(e)||null:this.sceneMapByElement.get(e)||null}}]),e}();ar.sceneMapByElement=new WeakMap,ar.sceneMapById=new Map;var sr,lr,cr=ar,ur=function(e,t,n){var r=t?t.width-2*c.gK:void 0,i=e.text;t&&(i=yr(e.originalText,dn(e),t.width));var o=fr(e.originalText,dn(e),r),a=e.y;if(t){a=t.y+t.height/2-o.height/2;var s=t.height;o.height>t.height-2*c.gK&&(s=o.height+2*c.gK,a=t.y+s/2-o.height/2),ai(t,{height:s})}ai(e,{width:o.width,height:o.height,baseline:o.baseline,y:a,text:i})},dr=function(e,t,n){var r=In(e);t.forEach((function(e){var t=n.get(e.id),i=Sr(e);if(i){var o,a=n.get(i);ai(r.get(t),{boundElements:null===(o=e.boundElements)||void 0===o?void 0:o.concat({type:"text",id:a})}),ai(r.get(a),{containerId:t})}}))},pr=function(e,t){e.forEach((function(e){var n=Sr(e);if(n){var r=cr.getScene(e).getElement(n);if(r&&r.text){if(!e)return;var i=r.text,o=r.height,a=e.height,s=r.baseline;if("n"!==t&&"s"!==t){i&&(i=yr(r.originalText,dn(r),e.width));var l=fr(i,dn(r),e.width);o=l.height,s=l.baseline}if(o>e.height-2*c.gK){var u=(a=o+2*c.gK)-e.height,d="ne"===t||"nw"===t||"n"===t?e.y-u:e.y;ai(e,{height:a,y:d})}var p=e.y+a/2-o/2;ai(r,{text:i,width:e.width-2*c.gK,height:o,x:e.x+c.gK,y:p,baseline:s})}}}))},fr=function(e,t,n){e=e.split("\n").map((function(e){return e||" "})).join("\n");var r=document.createElement("div");if(r.style.position="absolute",r.style.whiteSpace="pre",r.style.font=t,r.style.minHeight="1em",n){var i=gr(t);r.style.width="".concat(String(n),"px"),r.style.maxWidth="".concat(String(n),"px"),r.style.overflow="hidden",r.style.wordBreak="break-word",r.style.lineHeight="".concat(String(i),"px"),r.style.whiteSpace="pre-wrap"}document.body.appendChild(r),r.innerText=e;var o=document.createElement("span");o.style.display="inline-block",o.style.overflow="hidden",o.style.width="1px",o.style.height="1px",r.appendChild(o);var a=o.offsetTop+o.offsetHeight,s=r.offsetWidth,l=r.offsetHeight;return document.body.removeChild(r),{width:s,height:l,baseline:a}},hr="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),mr={},gr=function(e){return mr[e]||(mr[e]=fr(hr,e,null).height),mr[e]},vr=function(e,t){sr||(sr=document.createElement("canvas"));var n=sr.getContext("2d");n.font=t;var r=n.measureText(e);return Mn()?10*r.width:r.width},yr=function(e,t,n){var r=n-2*c.gK,i=[],o=e.split("\n"),a=vr(" ",t);return o.forEach((function(e){var n=e.split(" ");if(1===n.length&&""===n[0])i.push(n[0]);else{for(var o="",s=0,l=0;l<n.length;)if(vr(n[l],t)>=r){for(o&&i.push(o),o="",s=0;n[l].length>0;){var c=n[l][0],u=br.calculate(c,t);s+=u,n[l]=n[l].slice(1),s>=r?(" "===o.slice(-1)&&(o=o.slice(0,-1)),i.push(o),o=c,(s=u)===r&&(o="",s=0)):o+=c}s+a>=r?(i.push(o),o="",s=0):(o+=" ",s+=a),l++}else{for(;s<r&&l<n.length;){var d=n[l];if((s=vr(o+d,t))>=r){i.push(o),s=0,o="";break}if(l++,o+="".concat(d," "),s+a>=r){i.push(o.slice(0,-1)),o="",s=0;break}}s===r&&(o="",s=0)}o&&(" "===o.slice(-1)&&(o=o.slice(0,-1)),i.push(o))}})),i.join("\n")},br=(lr={},{calculate:function(e,t){var n=e.charCodeAt(0);if(lr[t]||(lr[t]=[]),!lr[t][n]){var r=vr(e,t);lr[t][n]=r}return lr[t][n]},getCache:function(e){return lr[e]}}),wr=function(e){var t=xr(e);return 0===t?fr(hr.split("").join("\n"),e).width+2*c.gK:t+2*c.gK},xr=function(e){var t=br.getCache(e);if(!t)return 0;var n=t.filter((function(e){return void 0!==e}));return Math.min.apply(Math,M(n))},Sr=function(e){var t,n;return null==e||null===(t=e.boundElements)||void 0===t||null===(n=t.filter((function(e){return"text"===e.type}))[0])||void 0===n?void 0:n.id},kr=function(e){if(!e)return null;var t,n=Sr(e);return n&&(null===(t=cr.getScene(e))||void 0===t?void 0:t.getElement(n))||null},Tr=function(e){return e&&e.containerId&&(null===(t=cr.getScene(e))||void 0===t?void 0:t.getElement(e.containerId))||null;var t};function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Cr="invert(100%) hue-rotate(180deg) saturate(1.25)",Or=jn(),Pr=function(e,t){return Ge(e)&&!t.imageCache.has(e.fileId)},Ar=function(e,t){var n;return"dark"===t.theme&&Ge(e)&&!Pr(e,t)&&(null===(n=t.imageCache.get(e.fileId))||void 0===n?void 0:n.mimeType)!==c.LO.svg},Ir=function(e){return[8,8+e]},Mr=function(e){return[1.5,6+e]},Nr=function(e){return"freedraw"===e.type?12*e.strokeWidth:20},Rr=document.createElement("img");Rr.src="data:".concat(c.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var Dr=document.createElement("img");Dr.src="data:".concat(c.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var Lr=function(e,t,n,r){switch(n.globalAlpha=e.opacity/100,e.type){case"rectangle":case"diamond":case"ellipse":n.lineJoin="round",n.lineCap="round",t.draw(Fr(e));break;case"arrow":case"line":n.lineJoin="round",n.lineCap="round",Fr(e).forEach((function(e){t.draw(e)}));break;case"freedraw":n.save(),n.fillStyle=e.strokeColor;var i=function(e){return Xr.get(e)}(e),o=Fr(e);o&&t.draw(o),n.fillStyle=e.strokeColor,n.fill(i),n.restore();break;case"image":var a,s=Ge(e)?null===(a=r.imageCache.get(e.fileId))||void 0===a?void 0:a.image:void 0;null==s||s instanceof Promise?function(e,t,n){t.fillStyle="#E7E7E7",t.fillRect(0,0,e.width,e.height);var r=Math.min(e.width,e.height),i=Math.min(r,Math.min(.4*r,100));t.drawImage("error"===e.status?Dr:Rr,e.width/2-i/2,e.height/2-i/2,i,i)}(e,n,r.zoom.value):n.drawImage(s,0,0,e.width,e.height);break;default:if(!ze(e))throw new Error("Unimplemented type ".concat(e.type));var l=Tn(e.text),c=l&&!n.canvas.isConnected;c&&document.body.appendChild(n.canvas),n.canvas.setAttribute("dir",l?"rtl":"ltr"),n.save(),n.font=dn(e),n.fillStyle=e.strokeColor,n.textAlign=e.textAlign;for(var u=e.text.replace(/\r\n?/g,"\n").split("\n"),d=e.containerId?gr(dn(e)):e.height/u.length,p=e.height-e.baseline,f="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,h=0;h<u.length;h++)n.fillText(u[h],f,(h+1)*d-p);n.restore(),c&&n.canvas.remove()}n.globalAlpha=1},jr=new WeakMap,Br=new WeakMap,Fr=function(e){return Br.get(e)},Ur=function(e,t){return Br.set(e,t)},$r=function(e){return Br.delete(e)},Hr=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={seed:e.seed,strokeLineDash:"dashed"===e.strokeStyle?Ir(e.strokeWidth):"dotted"===e.strokeStyle?Mr(e.strokeWidth):void 0,disableMultiStroke:"solid"!==e.strokeStyle,strokeWidth:"solid"!==e.strokeStyle?e.strokeWidth+.5:e.strokeWidth,fillWeight:e.strokeWidth/2,hachureGap:4*e.strokeWidth,roughness:e.roughness,stroke:e.strokeColor,preserveVertices:t};switch(e.type){case"rectangle":case"diamond":case"ellipse":return n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor,"ellipse"===e.type&&(n.curveFitting=1),n;case"line":case"freedraw":return ot(e.points)&&(n.fillStyle=e.fillStyle,n.fill="transparent"===e.backgroundColor?void 0:e.backgroundColor),n;case"arrow":return n;default:throw new Error("Unimplemented type ".concat(e.type))}},Gr=function(e,t){var n=Br.get(e);if(void 0===n)switch(jr.delete(e),e.type){case"rectangle":if("round"===e.strokeSharpness){var r=e.width,i=e.height,o=.25*Math.min(r,i);n=t.path("M ".concat(o," 0 L ").concat(r-o," 0 Q ").concat(r," 0, ").concat(r," ").concat(o," L ").concat(r," ").concat(i-o," Q ").concat(r," ").concat(i,", ").concat(r-o," ").concat(i," L ").concat(o," ").concat(i," Q 0 ").concat(i,", 0 ").concat(i-o," L 0 ").concat(o," Q 0 0, ").concat(o," 0"),Hr(e,!0))}else n=t.rectangle(0,0,e.width,e.height,Hr(e));Ur(e,n);break;case"diamond":var a=function(e){var t=Math.floor(e.width/2)+1,n=e.width,r=Math.floor(e.height/2)+1;return[t,0,n,r,t,e.height,0,r]}(e),s=h(a,8),l=s[0],c=s[1],u=s[2],d=s[3],p=s[4],f=s[5],m=s[6],g=s[7];n="round"===e.strokeSharpness?t.path("M ".concat(l+.25*(u-l)," ").concat(c+.25*(d-c)," L ").concat(u-.25*(u-l)," ").concat(d-.25*(d-c),"\n            C ").concat(u," ").concat(d,", ").concat(u," ").concat(d,", ").concat(u-.25*(u-p)," ").concat(d+.25*(f-d),"\n            L ").concat(p+.25*(u-p)," ").concat(f-.25*(f-d),"\n            C ").concat(p," ").concat(f,", ").concat(p," ").concat(f,", ").concat(p-.25*(p-m)," ").concat(f-.25*(f-g),"\n            L ").concat(m+.25*(p-m)," ").concat(g+.25*(f-g),"\n            C ").concat(m," ").concat(g,", ").concat(m," ").concat(g,", ").concat(m+.25*(l-m)," ").concat(g-.25*(g-c),"\n            L ").concat(l-.25*(l-m)," ").concat(c+.25*(g-c),"\n            C ").concat(l," ").concat(c,", ").concat(l," ").concat(c,", ").concat(l+.25*(u-l)," ").concat(c+.25*(d-c)),Hr(e,!0)):t.polygon([[l,c],[u,d],[p,f],[m,g]],Hr(e)),Ur(e,n);break;case"ellipse":n=t.ellipse(e.width/2,e.height/2,e.width,e.height,Hr(e)),Ur(e,n);break;case"line":case"arrow":var v=Hr(e),y=e.points.length?e.points:[[0,0]];if(n="sharp"===e.strokeSharpness?v.fill?[t.polygon(y,v)]:[t.linearPath(y,v)]:[t.curve(y,v)],"arrow"===e.type){var b=e.startArrowhead,w=void 0===b?null:b,x=e.endArrowhead,S=void 0===x?"arrow":x,k=function(e,n,r,i){var o=function(e,t,n,r){var i=gt(t[0]);if(i.length<1)return null;var o="start"===n?1:i.length-1,a=i[o].data,s=[a[4],a[5]],l=[a[2],a[3]],c=[a[0],a[1]],u=i[o-1],d=[0,0];"move"===u.op?d=u.data:"bcurveTo"===u.op&&(d=[u.data[4],u.data[5]]);var p=function(e,t){return Math.pow(1-e,3)*s[t]+3*e*Math.pow(1-e,2)*l[t]+3*Math.pow(e,2)*(1-e)*c[t]+d[t]*Math.pow(e,3)},f=h("start"===n?d:s,2),m=f[0],g=f[1],v=[p(.3,0),p(.3,1)],y=v[0],b=v[1],w=Math.hypot(m-y,g-b),x=(m-y)/w,S=(g-b)/w,k={arrow:30,bar:15,dot:15,triangle:15}[r],T=0;if("arrow"===r){var E=h(e.points[e.points.length-1],2),_=E[0],C=E[1],O=h(e.points.length>1?e.points[e.points.length-2]:[0,0],2),P=O[0],A=O[1];T=Math.hypot(_-P,C-A)}else for(var I=0;I<e.points.length;I++){var M=h(e.points[I-1]||[0,0],2),N=M[0],R=M[1],D=h(e.points[I],2),L=D[0],j=D[1];T+=Math.hypot(L-N,j-R)}var B=Math.min(k,T/2),F=m-x*B,U=g-S*B;if("dot"===r)return[m,g,Math.hypot(U-g,F-m)+e.strokeWidth];var $={arrow:20,bar:90,triangle:25}[r],H=h(tt(F,U,m,g,-$*Math.PI/180),2),G=H[0],V=H[1],z=h(tt(F,U,m,g,$*Math.PI/180),2);return[m,g,G,V,z[0],z[1]]}(e,n,r,i);if(null===o)return[];if("dot"===i){var a=h(o,3),s=a[0],l=a[1],c=a[2];return[t.circle(s,l,c,_r(_r({},v),{},{fill:e.strokeColor,fillStyle:"solid",stroke:"none"}))]}if("triangle"===i){var u=h(o,6),d=u[0],p=u[1],f=u[2],m=u[3],g=u[4],y=u[5];return delete v.strokeLineDash,[t.polygon([[d,p],[f,m],[g,y],[d,p]],_r(_r({},v),{},{fill:e.strokeColor,fillStyle:"solid"}))]}var b=h(o,6),w=b[0],x=b[1],S=b[2],k=b[3],T=b[4],E=b[5];if("dotted"===e.strokeStyle){var _=Mr(e.strokeWidth-1);v.strokeLineDash=[_[0],_[1]-1]}else delete v.strokeLineDash;return[t.line(S,k,w,x,v),t.line(T,E,w,x,v)]};if(null!==w){var T,E=k(e,n,"start",w);(T=n).push.apply(T,M(E))}if(null!==S){var _,C=k(e,n,"end",S);(_=n).push.apply(_,M(C))}}Ur(e,n);break;case"freedraw":Zr(e),n=ot(e.points)?t.polygon(e.points,_r(_r({},Hr(e)),{},{stroke:"none"})):null,Ur(e,n);break;case"text":case"image":Ur(e,null)}},Vr=function(e,t){var n=t?t.zoom:Or.zoom,r=jr.get(e),i=r&&r.canvasZoom!==n.value&&!(null!=t&&t.shouldCacheIgnoreZoom);if(!r||i||r.theme!==t.theme){var o=function(e,t,n){var r=document.createElement("canvas"),i=r.getContext("2d"),o=Nr(e),a=0,s=0;if(qe(e)||We(e)){var l=h(mt(e),4),c=l[0],u=l[1],d=l[2],p=l[3];r.width=hn(c,d)*window.devicePixelRatio*t.value+o*t.value*2,r.height=hn(u,p)*window.devicePixelRatio*t.value+o*t.value*2,a=e.x>c?hn(e.x,c)*window.devicePixelRatio*t.value:0,s=e.y>u?hn(e.y,u)*window.devicePixelRatio*t.value:0,i.translate(a,s)}else r.width=e.width*window.devicePixelRatio*t.value+o*t.value*2,r.height=e.height*window.devicePixelRatio*t.value+o*t.value*2;i.save(),i.translate(o*t.value,o*t.value),i.scale(window.devicePixelRatio*t.value,window.devicePixelRatio*t.value);var f=Fe.canvas(r);return Ar(e,n)&&(i.filter=Cr),Lr(e,f,i,n),i.restore(),{element:e,canvas:r,theme:n.theme,canvasZoom:t.value,canvasOffsetX:a,canvasOffsetY:s}}(e,n,t);return jr.set(e,o),o}return r},zr=function(e,t,n,r){var i=e.element,o=Nr(i),a=h(mt(i),4),s=a[0],l=a[1],c=a[2],u=a[3];We(i)&&(s=Math.floor(s),c=Math.ceil(c),l=Math.floor(l),u=Math.ceil(u));var d=((s+c)/2+r.scrollX)*window.devicePixelRatio,p=((l+u)/2+r.scrollY)*window.devicePixelRatio,f=Pr(i,r),m="scale"in e.element&&!f?e.element.scale[0]:1,g="scale"in e.element&&!f?e.element.scale[1]:1;n.save(),n.scale(1/window.devicePixelRatio*m,1/window.devicePixelRatio*g),n.translate(d*m,p*g),n.rotate(i.angle*m*g),n.drawImage(e.canvas,-(c-s)/2*window.devicePixelRatio-o*e.canvasZoom/e.canvasZoom,-(u-l)/2*window.devicePixelRatio-o*e.canvasZoom/e.canvasZoom,e.canvas.width/e.canvasZoom,e.canvas.height/e.canvasZoom),n.restore()},Wr=function(e,t,n,r){var i=t.generator;switch(e.type){case"selection":n.save(),n.translate(e.x+r.scrollX,e.y+r.scrollY),n.fillStyle="rgba(0, 0, 255, 0.10)",n.fillRect(0,0,e.width,e.height),n.restore();break;case"freedraw":if(Gr(e,i),r.isExporting){var o=Vr(e,r);zr(o,0,n,r)}else{var a=h(mt(e),4),s=a[0],l=a[1],c=a[2],u=a[3],d=(s+c)/2+r.scrollX,p=(l+u)/2+r.scrollY,f=(c-s)/2-(e.x-s),m=(u-l)/2-(e.y-l);n.save(),n.translate(d,p),n.rotate(e.angle),n.translate(-f,-m),Lr(e,t,n,r),n.restore()}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(Gr(e,i),r.isExporting){var g=h(mt(e),4),v=g[0],y=g[1],b=g[2],w=g[3],x=(v+b)/2+r.scrollX,S=(y+w)/2+r.scrollY,k=(b-v)/2-(e.x-v),T=(w-y)/2-(e.y-y);n.save(),n.translate(x,S),n.rotate(e.angle),n.translate(-k,-T),Ar(e,r)&&(n.filter="none"),Lr(e,t,n,r),n.restore()}else{var E=Vr(e,r);zr(E,0,n,r)}break;default:throw new Error("Unimplemented type ".concat(e.type))}},Kr=function(e,t,n){if(void 0===n)return e.draw(t);var r={sets:t.sets,shape:t.shape,options:_r(_r({},t.options),{},{fixedDecimalPlaceDigits:n})};return e.draw(r)},qr=function(e,t,n,r,i,o,a){var s=h(mt(e),4),l=s[0],u=s[1],d=s[2],p=s[3],f=(d-l)/2-(e.x-l),m=(p-u)/2-(e.y-u),g=180*e.angle/Math.PI,v=t.generator;switch(e.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":Gr(e,v);var y=Kr(t,Fr(e),c.zK),b=e.opacity/100;1!==b&&(y.setAttribute("stroke-opacity","".concat(b)),y.setAttribute("fill-opacity","".concat(b))),y.setAttribute("stroke-linecap","round"),y.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(g," ").concat(f," ").concat(m,")")),n.appendChild(y);break;case"line":case"arrow":Gr(e,v);var w=n.ownerDocument.createElementNS(c.hR,"g"),x=e.opacity/100;w.setAttribute("stroke-linecap","round"),Fr(e).forEach((function(n){var r=Kr(t,n,c.zK);1!==x&&(r.setAttribute("stroke-opacity","".concat(x)),r.setAttribute("fill-opacity","".concat(x))),r.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(g," ").concat(f," ").concat(m,")")),"line"===e.type&&ot(e.points)&&"transparent"!==e.backgroundColor&&r.setAttribute("fill-rule","evenodd"),w.appendChild(r)})),n.appendChild(w);break;case"freedraw":Zr(e);var S=e.opacity/100,k=Fr(e),T=k?Kr(t,k,c.zK):n.ownerDocument.createElementNS(c.hR,"g");1!==S&&(T.setAttribute("stroke-opacity","".concat(S)),T.setAttribute("fill-opacity","".concat(S))),T.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(g," ").concat(f," ").concat(m,")")),T.setAttribute("stroke","none");var E=n.ownerDocument.createElementNS(c.hR,"path");E.setAttribute("fill",e.strokeColor),E.setAttribute("d",Yr(e)),T.appendChild(E),n.appendChild(T);break;case"image":var _=Ge(e)&&r[e.fileId];if(_){var C="image-".concat(_.id),O=n.querySelector("#".concat(C));if(!O){(O=n.ownerDocument.createElementNS(c.hR,"symbol")).id=C;var P=n.ownerDocument.createElementNS(c.hR,"image");P.setAttribute("width","100%"),P.setAttribute("height","100%"),P.setAttribute("href",_.dataURL),O.appendChild(P),n.prepend(O)}var A=n.ownerDocument.createElementNS(c.hR,"use");A.setAttribute("href","#".concat(C)),a&&_.mimeType!==c.LO.svg&&A.setAttribute("filter",Cr),A.setAttribute("width","".concat(Math.round(e.width))),A.setAttribute("height","".concat(Math.round(e.height))),A.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(g," ").concat(f," ").concat(m,")")),n.appendChild(A)}break;default:if(!ze(e))throw new Error("Unimplemented type ".concat(e.type));var I=e.opacity/100,M=n.ownerDocument.createElementNS(c.hR,"g");1!==I&&(M.setAttribute("stroke-opacity","".concat(I)),M.setAttribute("fill-opacity","".concat(I))),M.setAttribute("transform","translate(".concat(i||0," ").concat(o||0,") rotate(").concat(g," ").concat(f," ").concat(m,")"));for(var N=e.text.replace(/\r\n?/g,"\n").split("\n"),R=e.height/N.length,D=e.height-e.baseline,L="center"===e.textAlign?e.width/2:"right"===e.textAlign?e.width:0,j=Tn(e.text)?"rtl":"ltr",B="center"===e.textAlign?"middle":"right"===e.textAlign||"rtl"===j?"end":"start",F=0;F<N.length;F++){var U=n.ownerDocument.createElementNS(c.hR,"text");U.textContent=N[F],U.setAttribute("x","".concat(L)),U.setAttribute("y","".concat((F+1)*R-D)),U.setAttribute("font-family",un(e)),U.setAttribute("font-size","".concat(e.fontSize,"px")),U.setAttribute("fill",e.strokeColor),U.setAttribute("text-anchor",B),U.setAttribute("style","white-space: pre;"),U.setAttribute("direction",j),M.appendChild(U)}n.appendChild(M)}},Xr=new WeakMap([]);function Zr(e){var t=Yr(e),n=new Path2D(t);return Xr.set(e,n),n}function Yr(e){var t=e.simulatePressure?e.points:e.points.length?e.points.map((function(t,n){var r=h(t,2);return[r[0],r[1],e.pressures[n]]})):[[0,0,.5]];return function(e){if(!e.length)return"";var t=e.length-1;return e.reduce((function(e,n,r,i){return r===t?e.push(n,Qr(n,i[0]),"L",i[0],"Z"):e.push(n,Qr(n,i[r+1])),e}),["M",e[0],"Q"]).join(" ").replace(Jr,"$1")}(ir(t,{simulatePressure:e.simulatePressure,size:4.25*e.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(e){return Math.sin(e*Math.PI/2)},last:!!e.lastCommittedPoint}))}function Qr(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}var Jr=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g,ei=new Q(Date.now()),ti=0,ni=function(){return Math.floor(ei.next()*Math.pow(2,31))},ri=function(){return Mn()?"id".concat(ti++):He()};function ii(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ai=function(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!1,o=t,a=o.points,s=o.fileId;for(var l in void 0!==a&&(t=oi(oi({},dt(a)),t)),t){var c=t[l];if(void 0!==c){if(e[l]===c&&("object"!==I(c)||null===c||"groupIds"===l||"scale"===l))continue;if("scale"===l){var u=e[l],d=c;if(u[0]===d[0]&&u[1]===d[1])continue}else if("points"===l){var p=e[l],f=c;if(p.length===f.length){for(var h=!1,m=p.length;--m;){var g=p[m],v=f[m];if(g[0]!==v[0]||g[1]!==v[1]){h=!0;break}}if(!h)continue}}e[l]=c,i=!0}}return i?(void 0===t.height&&void 0===t.width&&void 0===s&&void 0===a||$r(e),e.version++,e.versionNonce=ni(),e.updated=An(),r&&(null===(n=cr.getScene(e))||void 0===n||n.informMutation()),e):e},si=function(e,t){var n=!1;for(var r in t){var i=t[r];if(void 0!==i){if(e[r]===i&&("object"!==I(i)||null===i))continue;n=!0}}return n?oi(oi(oi({},e),t),{},{updated:An(),version:e.version+1,versionNonce:ni()}):e},li=function(e,t){return e.version=(null!=t?t:e.version)+1,e.versionNonce=ni(),e.updated=An(),e},ci=function(e){return qe(e)||We(e)?e.points.length<2:0===e.width&&0===e.height},ui=function(e,t,n){var r=Math.abs(t),i=Math.abs(n);if("line"===e||"arrow"===e||"freedraw"===e){var o=Math.round(Math.atan(i/r)/c.ay)*c.ay;0===o?n=0:o===Math.PI/2?t=0:n=Math.round(r*Math.tan(o))*Math.sign(n)||n}else"selection"!==e&&(n=r*Math.sign(n));return{width:t,height:n}},di=function(e){var t={width:e.width,height:e.height,x:e.x,y:e.y};if(e.width<0){var n=Math.abs(e.width);t.width=n,t.x=e.x-n}if(e.height<0){var r=Math.abs(e.height);t.height=r,t.y=e.y-r}return t};function pi(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fi(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return hi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function hi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mi(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vi=function(e,t,n){var r=n.filter((function(t){return t.groupIds.includes(e)}));return r.length<2?t.selectedGroupIds[e]||t.editingGroupId===e?gi(gi({},t),{},{selectedGroupIds:gi(gi({},t.selectedGroupIds),{},N({},e,!1)),editingGroupId:null}):t:gi(gi({},t),{},{selectedGroupIds:gi(gi({},t.selectedGroupIds),{},N({},e,!0)),selectedElementIds:gi(gi({},t.selectedElementIds),Object.fromEntries(r.map((function(e){return[e.id,!0]}))))})},yi=function(e,t){return null!=bi(e,t)},bi=function(e,t){return t.groupIds.filter((function(t){return t!==e.editingGroupId})).find((function(t){return e.selectedGroupIds[t]}))},wi=function(e){return Object.entries(e.selectedGroupIds).filter((function(e){var t=h(e,2);return t[0],t[1]})).map((function(e){var t=h(e,2),n=t[0];return t[1],n}))},xi=function(e,t){var n=gi(gi({},e),{},{selectedGroupIds:{}}),r=Dc(t,e);if(!r.length)return gi(gi({},n),{},{editingGroupId:null});var i,o=fi(r);try{for(o.s();!(i=o.n()).done;){var a=i.value.groupIds;if(e.editingGroupId){var s=a.indexOf(e.editingGroupId);s>-1&&(a=a.slice(0,s))}if(a.length>0){var l=a[a.length-1];n=vi(l,n,t)}}}catch(e){o.e(e)}finally{o.f()}return n},Si=function(e,t){return e.groupIds.includes(t)},ki=function(e,t){return e.filter((function(e){return Si(e,t)}))},Ti=function(e,t,n){var r=M(e),i=n?r.indexOf(n):-1,o=i>-1?i:r.length;return r.splice(o,0,t),r},Ei=function(e){var t=new Map;return e.forEach((function(e){var n=0===e.groupIds.length?e.id:e.groupIds[e.groupIds.length-1],r=t.get(n)||[],i=Sr(e);if(i){var o=cr.getScene(e).getElement(i);r.push(o)}t.set(n,[].concat(M(r),[e]))})),Array.from(t.values())},_i=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","strokeSharpness","boundElements","link"];function Ci(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ci(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ci(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pi=function(e,t){var n,r,i=t.x,o=t.y,a=t.strokeColor,s=t.backgroundColor,l=t.fillStyle,c=t.strokeWidth,u=t.strokeStyle,d=t.roughness,p=t.opacity,f=t.width,h=void 0===f?0:f,m=t.height,g=void 0===m?0:m,v=t.angle,y=void 0===v?0:v,b=t.groupIds,w=void 0===b?[]:b,x=t.strokeSharpness,S=t.boundElements,k=void 0===S?null:S,T=t.link,E=void 0===T?null:T,_=pi(t,_i);return{id:_.id||ri(),type:e,x:i,y:o,width:h,height:g,angle:y,strokeColor:a,backgroundColor:s,fillStyle:l,strokeWidth:c,strokeStyle:u,roughness:d,opacity:p,groupIds:w,strokeSharpness:x,seed:null!==(n=_.seed)&&void 0!==n?n:ni(),version:_.version||1,versionNonce:null!==(r=_.versionNonce)&&void 0!==r?r:0,isDeleted:!1,boundElements:k,updated:An(),link:E}},Ai=function(e){return Pi(e.type,e)},Ii=function(e,t){return{x:"center"===e.textAlign?t.width/2:"right"===e.textAlign?t.width:0,y:"middle"===e.verticalAlign?t.height/2:0}},Mi=function(e){var t=fr(e.text,dn(e)),n=Ii(e,t);return si(Oi(Oi({},Pi("text",e)),{},{text:e.text,fontSize:e.fontSize,fontFamily:e.fontFamily,textAlign:e.textAlign,verticalAlign:e.verticalAlign,x:e.x-n.x,y:e.y-n.y,width:t.width,height:t.height,baseline:t.baseline,containerId:e.containerId||null,originalText:e.text}),{})},Ni=function(e,t){var n=t.text,r=t.isDeleted,i=t.originalText,o=Tr(e);o&&(n=yr(n,dn(e),o.width));var a=function(e,t){var n=null,r=Tr(e);r&&(n=r.width-2*c.gK);var i,o,a=fr(t,dn(e),n),s=a.width,l=a.height,u=a.baseline,d=e.textAlign,p=e.verticalAlign;if("center"!==d||"middle"!==p||e.containerId){var f=h(mt(e),4),m=f[0],g=f[1],v=f[2],y=f[3],b=h(kt(e,s,l),4),w=(m-b[0])/2,x=(g-b[1])/2,S=(v-b[2])/2,k=(y-b[3])/2,T=h(rt({s:!0,e:"center"===d||"left"===d,w:"center"===d||"right"===d},e.x,e.y,e.angle,w,x,S,k),2);i=T[0],o=T[1]}else{var E=fr(e.text,dn(e),n),_=Ii(e,{width:s-E.width,height:l-E.height});i=e.x-_.x,o=e.y-_.y}if(et(e)){var C=Tr(e),O=C.height,P=C.width;l>O-2*c.gK&&(O=l+2*c.gK),s>P-2*c.gK&&(P=s+2*c.gK),O===C.height&&P===C.width||ai(C,{height:O,width:P})}return{width:s,height:l,x:Number.isFinite(i)?i:e.x,y:Number.isFinite(o)?o:e.y,baseline:u}}(e,n);return si(e,Oi({text:n,originalText:i,isDeleted:null!=r?r:e.isDeleted},a))},Ri=function(e){return Oi(Oi({},Pi(e.type,e)),{},{points:e.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:e.startArrowhead,endArrowhead:e.endArrowhead})},Di=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(null==t||"object"!==I(t))return t;if("[object Object]"===Object.prototype.toString.call(t)){var r="function"==typeof t.constructor?Object.create(Object.getPrototypeOf(t)):{};for(var i in t)if(t.hasOwnProperty(i)){if(0===n&&("shape"===i||"canvas"===i))continue;r[i]=e(t[i],n+1)}return r}if(Array.isArray(t)){for(var o=t.length,a=new Array(o);o--;)a[o]=e(t[o],n+1);return a}return t},Li=function(e,t,n,r){var i,o,a=Di(n);return Mn()?(a.id="".concat(a.id,"_copy"),null!==(i=window.h)&&void 0!==i&&null!==(o=i.app)&&void 0!==o&&o.getSceneElementsIncludingDeleted().find((function(e){return e.id===a.id}))&&(a.id+="_copy")):a.id=ri(),a.updated=An(),a.seed=ni(),a.groupIds=function(e,t,n){for(var r=M(e),i=t?e.indexOf(t):-1,o=i>-1?i:e.length,a=0;a<o;a++)r[a]=n(r[a]);return r}(a.groupIds,e,(function(e){return t.has(e)||t.set(e,ri()),t.get(e)})),r&&(a=Object.assign(a,r)),a},ji={mouse:8,pen:16,touch:28},Bi={e:!0,s:!0,n:!0,w:!0},Fi={e:!0,s:!0,n:!0,w:!0},Ui={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},$i={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},Hi=function(e,t,n,r,i,o,a){var s=h(tt(e+n/2,t+r/2,i,o,a),2);return[s[0]-n/2,s[1]-r/2,n,r]},Gi=function(e,t,n,r){var i=h(e,4),o=i[0],a=i[1],s=i[2],l=i[3],c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},u=ji[r],d=u/n.value,p=u/n.value,f=u/n.value,m=u/n.value,g=s-o,v=l-a,y=(o+s)/2,b=(a+l)/2,w=4/n.value,x=(u-8)/(2*n.value),S={nw:c.nw?void 0:Hi(o-w-f+x,a-w-m+x,d,p,y,b,t),ne:c.ne?void 0:Hi(s+w-x,a-w-m+x,d,p,y,b,t),sw:c.sw?void 0:Hi(o-w-f+x,l+w-x,d,p,y,b,t),se:c.se?void 0:Hi(s+w-x,l+w-x,d,p,y,b,t),rotation:c.rotation?void 0:Hi(o+g/2-d/2,a-w-m+x-16/n.value,d,p,y,b,t)},k=5*ji.mouse/n.value;return Math.abs(g)>k&&(c.n||(S.n=Hi(o+g/2-d/2,a-w-m+x,d,p,y,b,t)),c.s||(S.s=Hi(o+g/2-d/2,l+w-x,d,p,y,b,t))),Math.abs(v)>k&&(c.w||(S.w=Hi(o-w-f+x,a+v/2-p/2,d,p,y,b,t)),c.e||(S.e=Hi(s+w-x,a+v/2-p/2,d,p,y,b,t))),S},Vi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mouse",r={};if("arrow"===e.type||"line"===e.type||"freedraw"===e.type){if(2===e.points.length){var i=h(e.points,2)[1];0===i[0]||0===i[1]?r=$i:i[0]>0&&i[1]<0?r=Ui:i[0]>0&&i[1]>0?r=$i:i[0]<0&&i[1]>0?r=Ui:i[0]<0&&i[1]<0&&(r=$i)}}else ze(e)&&(r=Fi);return Gi(mt(e),e.angle,t,n,r)},zi=function(e,t){return[0,0,0,0,t,e,1,0]},Wi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[0,0,0,0,0,0,0,0];if(t<0||t>7)throw new Error("Expected `index` betwen 0 and 7, got `".concat(t,"`"));return 0!==e&&(n[t]=e),n},Ki=function(e){return[e[0],e[1],e[2],e[3],-e[4],-e[5],-e[6],-e[7]]},qi=function(e,t){return no(t)?[e[0]-t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7]]},Xi=function(e,t){return no(t)?[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t]:[Zi(e,t),t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[7]*e[3]+t[0]*e[4]+t[6]*e[5]-t[5]*e[6]+t[3]*e[7],t[5]*e[0]-t[3]*e[1]+t[7]*e[2]+t[1]*e[3]-t[6]*e[4]+t[0]*e[5]+t[4]*e[6]+t[2]*e[7],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]+t[0]*e[7]]},Zi=function(e,t){return t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6]},Yi=function(e,t){return[Qi(e,t),e[1]*t[7]+e[4]*t[5]-e[5]*t[4]+e[7]*t[1],e[2]*t[7]-e[4]*t[6]+e[6]*t[4]+e[7]*t[2],e[3]*t[7]+e[5]*t[6]-e[6]*t[5]+e[7]*t[3],e[4]*t[7]+e[7]*t[4],e[5]*t[7]+e[7]*t[5],e[6]*t[7]+e[7]*t[6],e[7]*t[7]]},Qi=function(e,t){return e[0]*t[7]+e[1]*t[6]+e[2]*t[5]+e[3]*t[4]+e[4]*t[3]+e[5]*t[2]+e[6]*t[1]+e[7]*t[0]},Ji=function(e){return Math.sqrt(Math.abs(e[0]*e[0]-e[2]*e[2]-e[3]*e[3]+e[6]*e[6]))},eo=function(e){var t=Ji(e);if(0===t||1===t)return e;var n=e[6]<0?-1:1;return Xi(e,n/t)},to=function(e){var t=function(e){return Math.sqrt(Math.abs(e[7]*e[7]-e[5]*e[5]-e[4]*e[4]+e[1]*e[1]))}(e);return 0===t||1===t?e:Xi(e,1/t)},no=function(e){return"number"==typeof e},ro=(Wi(1,1),Wi(1,2),Wi(1,3),Wi(1,4),Wi(1,5),Wi(1,6),Wi(1,7),function(e,t,n){return eo([0,n,e,t,0,0,0,0])}),io=function(e,t){return eo(Yi(t,e))},oo=function(e,t){return function(e,t){return[t[0]*e[0]+t[2]*e[2]+t[3]*e[3]-t[6]*e[6],t[1]*e[0]+t[0]*e[1]-t[4]*e[2]+t[5]*e[3]+t[2]*e[4]-t[3]*e[5]-t[7]*e[6]-t[6]*e[7],t[2]*e[0]+t[0]*e[2]-t[6]*e[3]+t[3]*e[6],t[3]*e[0]+t[6]*e[2]+t[0]*e[3]-t[2]*e[6],t[4]*e[0]+t[7]*e[3]+t[0]*e[4]+t[3]*e[7],t[5]*e[0]+t[7]*e[2]+t[0]*e[5]+t[2]*e[7],t[6]*e[0]+t[0]*e[6],t[7]*e[0]+t[0]*e[7]]}(e,t)},ao=function(e){var t=h(e,2),n=t[0];return[0,0,0,0,t[1],n,1,0]},so=function(e){return[e[5],e[4]]},lo=function(e,t){return eo(function(e,t){return[t[0]*e[0],t[1]*e[0]+t[0]*e[1],t[2]*e[0]+t[0]*e[2],t[3]*e[0]+t[0]*e[3],t[4]*e[0]+t[2]*e[1]-t[1]*e[2]+t[0]*e[4],t[5]*e[0]-t[3]*e[1]+t[1]*e[3]+t[0]*e[5],t[6]*e[0]+t[3]*e[2]-t[2]*e[3]+t[0]*e[6],t[7]*e[0]+t[6]*e[1]+t[5]*e[2]+t[4]*e[3]+t[3]*e[4]+t[2]*e[5]+t[1]*e[6]]}(e,t))},co=function(e,t){return Ji(Yi(e,t))},uo=function(e,t){return Qi(e,t)},po=function(e){return[0,0,0,0,e[4],e[5],0,0]},fo=function(e,t){return function(e,t){return no(t)?[e[0]+t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]]:[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3],e[4]+t[4],e[5]+t[5],e[6]+t[6],e[7]+t[7]]}(Xi(e,Math.sin(t/2)),Math.cos(t/2))},ho=function(e,t){return eo(Xi(Xi(e,t),Ki(e)))};function mo(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return go(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?go(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function go(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var vo=function(e,t,n,r){var i=10/t.zoom.value,o=[n,r];return wo(t,e)?xo(e,o,i):bo(e,t,o)},yo=function(e,t,n,r){var i=10/t.zoom.value;return!bo(e,t,[n,r])&&xo(e,[n,r],i)},bo=function(e,t,n){var r=10/t.zoom.value,i=ze(e)?_o:function(e){if("arrow"===e.type)return!1;if("freedraw"===e.type)return!0;var t=!Cn(e.backgroundColor)||Je(e);return"line"===e.type?t&&ot(e.points):t||Ve(e)}(e)?Co:Oo;return To({element:e,point:n,threshold:r,check:i})},wo=function(e,t){return e.selectedElementIds[t.id]},xo=function(e,t,n){var r=h(t,2),i=r[0],o=r[1],a=h(mt(e),4),s=a[0],l=a[1],c=a[2],u=a[3],d=h(tt(i,o,(s+c)/2,(l+u)/2,-e.angle),2),p=d[0],f=d[1];return p>s-n&&p<c+n&&f>l-n&&f<u+n},So=function(e,t){var n=t.x,r=t.y,i=ko(e,e.width,e.height);return To({element:e,point:[n,r],threshold:i,check:Po})},ko=function(e,t,n){var r=("diamond"===e.type?1/Math.sqrt(2):1)*Math.min(t,n);return Math.max(16,Math.min(.25*r,32))},To=function(e){switch(e.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var t=Eo(e.element,e.point);return e.check(t,e.threshold);case"freedraw":return!!e.check(Ao(e.element,e.point),e.threshold)&&Ro(e.element,e.point,e.threshold);case"arrow":case"line":return Do(e);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},Eo=function(e,t){switch(e.type){case"rectangle":case"image":case"text":return Ao(e,t);case"diamond":return Io(e,t);case"ellipse":return Mo(e,t)}},_o=function(e,t){return e<0},Co=function(e,t){return e<t},Oo=function(e,t){return Math.abs(e)<t},Po=function(e,t){return 0<=e&&e<t},Ao=function(e,t){var n=h(Lo(e,t),4),r=n[1],i=n[2],o=n[3];return Math.max(uo(r,ro(0,1,-o)),uo(r,ro(1,0,-i)))},Io=function(e,t){var n=h(Lo(e,t),4),r=n[1],i=n[2],o=n[3],a=ro(o,i,-o*i);return uo(r,a)},Mo=function(e,t){var n=h(No(e,t),2),r=n[0],i=n[1];return-function(e){return Math.sign(e[1])}(i)*uo(r,i)},No=function(e,t){var n=h(Lo(e,t),4),r=n[1],i=n[2],o=n[3],a=h(so(r),2),s=a[0],l=a[1],c=.707,u=.707,d=i,p=o;[0,1,2,3].forEach((function(e){var t=d*c,n=p*u,r=(d*d-p*p)*Math.pow(c,3)/d,i=(p*p-d*d)*Math.pow(u,3)/p,o=t-r,a=n-i,f=s-r,h=l-i,m=Math.hypot(a,o),g=Math.hypot(h,f);c=Math.min(1,Math.max(0,(f*m/g+r)/d)),u=Math.min(1,Math.max(0,(h*m/g+i)/p));var v=Math.hypot(u,c);c/=v,u/=v}));var f,m=zi(d*c,p*u);return[r,oo(io(r,f=m),f)]},Ro=function(e,t,n){var r,i;if(0===e.angle)r=t[0]-e.x,i=t[1]-e.y;else{var o=h(mt(e),4),a=o[0],s=o[1],l=o[2],c=o[3],u=nt(t,[a+(l-a)/2,s+(c-s)/2],-e.angle);r=u[0]-e.x,i=u[1]-e.y}var d,p=h(e.points,2),f=p[0],m=p[1];if(it(f[0],f[1],r,i)<n||it(m[0],m[1],r,i)<n)return!0;for(var g=0;g<e.points.length;g++){var v=[m[0]-f[0],m[1]-f[1]],y=Math.hypot(v[1],v[0]),b=[v[0]/y,v[1]/y],w=[r-f[0],i-f[1]],x=(w[0]*b[0]+w[1]*b[1])/Math.hypot(b[1],b[0]);d=[f[0]+b[0]*x,f[1]+b[1]*x];var S=it(d[0],d[1],f[0],f[1]),k=it(d[0],d[1],m[0],m[1]);if(d=k<S&&S>y?m:S<k&&k>y?f:d,Math.hypot(i-d[1],r-d[0])<n)return!0;f=m,m=e.points[g+1]}var T=Fr(e);return!(!T||!T.sets.length)&&Xo(T,r,i,n)},Do=function(e){var t=e.element,n=e.threshold;if(!Fr(t))return!1;var r=h(Lo(e.element,e.point),4),i=r[0],o=r[1],a=r[2],s=r[3],l=ro(0,1,-s),c=ro(1,0,-a);if(!Co(uo(o,l),n)||!Co(uo(o,c),n))return!1;var u=h(so(i),2),d=u[0],p=u[1],f=Fr(t);return!!f&&(!(e.check!==Co||!f.some((function(e){return qo(e,d,p,t.strokeSharpness)})))||f.some((function(e){return Xo(e,d,p,n)})))},Lo=function(e,t){var n=ao(t),r=mt(e),i=Bo(r),o=fo(i,e.angle),a=ho(o,n),s=function(e){return[0,0,0,0,Math.abs(e[4]),Math.abs(e[5]),1,0]}(qi(a,po(i))),l=function(e,t){return[0,0,0,0,t,e,0,0]}(e.x,e.y),c=qi(a,l),u=h(r,4),d=u[0],p=u[1];return[c,s,(u[2]-d)/2,(u[3]-p)/2]},jo=function(e){var t=mt(e),n=Bo(t),r=fo(n,e.angle),i=Ki(function(e){return[1,0,0,0,-.5*e[5],.5*e[4],0,0]}(po(n)));return Xi(i,r)},Bo=function(e){var t=h(e,4),n=t[0],r=t[1],i=t[2],o=t[3];return zi((n+i)/2,(r+o)/2)},Fo=function(e,t,n){var r=jo(e),i=ho(r,ao(t)),o=ho(r,ao(n)),a=io(i,o),s=e.height/e.width,l=e.width/2,c=e.height/2,u=a[2],d=a[3],p=a[1],f=Math.abs(d),h=Math.abs(u);switch(e.type){case"rectangle":case"image":case"text":return p/(l*(h+s*f));case"diamond":return f<h?p/(h*l):p/(f*c);case"ellipse":return p/(l*Math.sqrt(Math.pow(u,2)+Math.pow(s,2)*Math.pow(d,2)))}},Uo=function(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;switch(e.type){case"rectangle":case"image":case"text":case"diamond":var o=$o(e);r=o.flatMap((function(e,n){var r=[e,o[(n+1)%4]];return Ho(t,Go(r,i))})).concat(o.flatMap((function(e){return zo(e,i,t)})));break;case"ellipse":r=Vo(e,i,t)}if(r.length<2)return[];var a=r.sort((function(e,t){return co(e,n)-co(t,n)}));return[a[0],a[a.length-1]]},$o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t*e.width/2,r=t*e.height/2;switch(e.type){case"rectangle":case"image":case"text":return[zi(n,r),zi(n,-r),zi(-n,-r),zi(-n,r)];case"diamond":return[zi(0,r),zi(n,0),zi(0,-r),zi(-n,0)]}},Ho=function(e,t){var n=h(t,2),r=n[0],i=n[1];return uo(r,e)*uo(i,e)>=0?[]:[lo(e,io(r,i))]},Go=function(e,t){var n=h(e,2),r=n[0],i=n[1],o=function(e,t){var n=.5*t;return[1,0,0,0,n*e[4],n*e[5],0,0]}(function(e,t){return to([0,0,0,0,t[4]-e[4],t[5]-e[5],0,0])}(r,i),t);return[ho(o,r),ho(o,i)]},Vo=function(e,t,n){var r=e.width/2+t,i=e.height/2+t,o=n[2],a=n[3],s=n[1],l=r*r*o*o+i*i*a*a,c=l-s*s;if(0===l||c<=0)return[];var u=Math.sqrt(c),d=-r*r*o*s,p=-i*i*a*s;return[zi((d+r*i*a*u)/l,(p-r*i*o*u)/l),zi((d-r*i*a*u)/l,(p+r*i*o*u)/l)]},zo=function(e,t,n){if(0===t)return 0===uo(n,e)?[e]:[];var r=n[2],i=n[3],o=n[1],a=h(so(e),2),s=a[0],l=a[1],c=r*r+i*i,u=t*t*c-Math.pow(r*s+i*l+o,2);if(0===c||u<=0)return[];var d=Math.sqrt(u),p=s*i*i-l*r*i-r*o,f=l*r*r-s*r*i-i*o;return[zi((p+i*d)/c,(f-r*d)/c),zi((p-i*d)/c,(f+r*d)/c)]},Wo=function(e,t,n){var r=Math.abs(t),i=e.width*r/2,o=e.height*r/2,a=Math.sign(t),s=h(so(n),2),l=s[0],c=s[1],u=0===c?1e-4:c,d=Math.pow(l,2)*Math.pow(o,2)+Math.pow(u,2)*Math.pow(i,2),p=(-l*Math.pow(o,2)+a*u*Math.sqrt(Math.max(0,d-Math.pow(i,2)*Math.pow(o,2))))/d,f=(-p*l-1)/u,m=-Math.pow(i,2)*p/(Math.pow(f,2)*Math.pow(o,2)+Math.pow(p,2)*Math.pow(i,2));return zi(m,(-p*m-1)/f)},Ko=function(e,t,n){var r=Math.abs(t),i=Math.sign(t),o=$o(e,r),a=0,s=null;return o.forEach((function(e){var t=i*io(n,e)[1];t>a&&(a=t,s=e)})),s},qo=function(e,t,n,r){var i,o=[],a=!1,s=mo(gt(e));try{for(s.s();!(i=s.n()).done;){var l=i.value;"move"===l.op?(a=!a)&&o.push([l.data[0],l.data[1]]):"bcurveTo"===l.op?a&&(o.push([l.data[0],l.data[1]]),o.push([l.data[2],l.data[3]]),o.push([l.data[4],l.data[5]])):"lineTo"===l.op&&a&&o.push([l.data[0],l.data[1]])}}catch(e){s.e(e)}finally{s.f()}if(o.length>=4){if("sharp"===r)return at(o,t,n);var c=Ne(o,10,5);return at(c,t,n)}return!1},Xo=function(e,t,n,r){var i=gt(e),o=[0,0];return i.some((function(i,a){var s=i.op,l=i.data;if("move"===s)o=l;else{if("bcurveTo"===s){var c=[l[0],l[1]],u=[l[2],l[3]],d=[l[4],l[5]],p=o;o=d;var f=function(e,t,n,r,i,o){for(var a=h(i,2),s=a[0],l=a[1],c=function(i,o){return Math.pow(1-i,3)*r[o]+3*i*Math.pow(1-i,2)*n[o]+3*Math.pow(i,2)*(1-i)*t[o]+e[o]*Math.pow(i,3)},u=0;u<=1;){var d=c(u,0),p=c(u,1);if(Math.sqrt(Math.pow(d-s,2)+Math.pow(p-l,2))<o)return!0;u+=.01}return!1}(p,c,u,d,[t,n],r);return f}if("lineTo"===s)return qo(e,t,n,"sharp");"qcurveTo"===s&&console.warn("qcurveTo is not implemented yet")}return!1}))},Zo=["rotation"],Yo=function(e,t,n){return t>=e[0]&&t<=e[0]+e[2]&&n>=e[1]&&n<=e[1]+e[3]},Qo=function(e,t,n,r,i,o){return e.reduce((function(e,a){if(e)return e;var s=function(e,t,n,r,i,o){if(!t.selectedElementIds[e.id])return!1;var a=Vi(e,i,o),s=a.rotation,l=pi(a,Zo);if(s&&Yo(s,n,r))return"rotation";var c=Object.keys(l).filter((function(e){var t=l[e];return!!t&&Yo(t,n,r)}));return c.length>0&&c[0]}(a,t,n,r,i,o);return s?{element:a,transformHandleType:s}:null}),null)},Jo=function(e,t,n,r,i){var o=h(e,4),a=o[0],s=o[1],l=o[2],c=o[3],u=Gi([a,s,l,c],0,r,i,Bi);return Object.keys(u).find((function(e){var r=u[e];return r&&Yo(r,t,n)}))||!1},ea=["ns","nesw","ew","nwse"],ta=function(e){var t=e.element,n=e.transformHandleType,r=t&&Math.sign(t.height)*Math.sign(t.width)==-1,i=null;switch(n){case"n":case"s":i="ns";break;case"w":case"e":i="ew";break;case"nw":case"se":i=r?"nesw":"nwse";break;case"ne":case"sw":i=r?"nwse":"nesw";break;case"rotation":return"grab"}return i&&t&&(i=function(e,t){var n=ea.indexOf(e);if(n>=0){var r=Math.round(t/(Math.PI/4));e=ea[(n+r)%ea.length]}return e}(i,t.angle)),i?"".concat(i,"-resize"):""};function na(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return ra(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ra(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ia(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ia(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ia(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var aa=function(){function e(t,n){R(this,e),this.elementId=t.id,cr.mapElementToScene(this.elementId,n),e.normalizePoints(t),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1}}return L(e,null,[{key:"getElement",value:function(e){var t;return(null===(t=cr.getScene(e))||void 0===t?void 0:t.getNonDeletedElement(e))||null}},{key:"handleBoxSelection",value:function(t,n,r){var i;if(!n.editingLinearElement||"selection"!==(null===(i=n.draggingElement)||void 0===i?void 0:i.type))return!1;var o=n.editingLinearElement,a=o.selectedPointsIndices,s=o.elementId,l=e.getElement(s);if(!l)return!1;var c=h(mt(n.draggingElement),4),u=c[0],d=c[1],p=c[2],f=c[3],m=e.getPointsGlobalCoordinates(l).reduce((function(e,n,r){return(n[0]>=u&&n[0]<=p&&n[1]>=d&&n[1]<=f||t.shiftKey&&null!=a&&a.includes(r))&&e.push(r),e}),[]);r({editingLinearElement:oa(oa({},o),{},{selectedPointsIndices:m.length?m:null})})}},{key:"handlePointDragging",value:function(t,n,r,i,o){if(!t.editingLinearElement)return!1;var a=t.editingLinearElement,s=a.selectedPointsIndices,l=a.elementId,c=a.isDragging,u=e.getElement(l);if(!u)return!1;var d=u.points[a.pointerDownState.lastClickedPoint];if(s&&d){!1===c&&n({editingLinearElement:oa(oa({},a),{},{isDragging:!0})});var p=e.createPointAt(u,r-a.pointerOffset.x,i-a.pointerOffset.y,t.gridSize),f=p[0]-d[0],h=p[1]-d[1];if(e.movePoints(u,s.map((function(n){return{index:n,point:n===a.pointerDownState.lastClickedPoint?e.createPointAt(u,r-a.pointerOffset.x,i-a.pointerOffset.y,t.gridSize):[u.points[n][0]+f,u.points[n][1]+h],isDragging:n===a.pointerDownState.lastClickedPoint}}))),Ze(u)){var m=[];0===s[0]&&m.push(En(e.getPointGlobalCoordinates(u,u.points[0])));var g=s[s.length-1];g===u.points.length-1&&m.push(En(e.getPointGlobalCoordinates(u,u.points[g]))),m.length&&o(u,m)}return!0}return!1}},{key:"handlePointerUp",value:function(t,n,r){var i,o=n.elementId,a=n.selectedPointsIndices,s=n.isDragging,l=n.pointerDownState,c=e.getElement(o);if(!c)return n;var u={};if(s&&a){var d,p=na(a);try{for(p.s();!(d=p.n()).done;){var f=d.value;if(0===f||f===c.points.length-1){ot(c.points,r.zoom.value)&&e.movePoints(c,[{index:f,point:0===f?c.points[c.points.length-1]:c.points[0]}]);var h=ca(r)?wa(En(e.getPointAtIndexGlobalCoordinates(c,f)),cr.getScene(c)):null;u[0===f?"startBindingElement":"endBindingElement"]=h}}}catch(e){p.e(e)}finally{p.f()}}return oa(oa(oa({},n),u),{},{selectedPointsIndices:s||t.shiftKey?!s&&t.shiftKey&&null!==(i=l.prevSelectedPointsIndices)&&void 0!==i&&i.includes(l.lastClickedPoint)?a&&a.filter((function(e){return e!==l.lastClickedPoint})):a:null!=a&&a.includes(l.lastClickedPoint)?[l.lastClickedPoint]:a,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"handlePointerDown",value:function(t,n,r,i,o){var a,s={didAddPoint:!1,hitElement:null};if(!n.editingLinearElement)return s;var l=n.editingLinearElement.elementId,c=e.getElement(l);if(!c)return s;if(t.altKey)return null==n.editingLinearElement.lastUncommittedPoint&&ai(c,{points:[].concat(M(c.points),[e.createPointAt(c,o.x,o.y,n.gridSize)])}),i.resumeRecording(),r({editingLinearElement:oa(oa({},n.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:n.editingLinearElement.selectedPointsIndices,lastClickedPoint:-1},selectedPointsIndices:[c.points.length-1],lastUncommittedPoint:null,endBindingElement:wa(o,cr.getScene(c))})}),s.didAddPoint=!0,s;var u=e.getPointIndexUnderCursor(c,n.zoom,o.x,o.y);if(u>-1)s.hitElement=c;else{var d=n.editingLinearElement,p=d.startBindingElement,f=d.endBindingElement;ca(n)&&Ze(c)&&ua(c,p,f)}var m=h(mt(c),4),g=m[0],v=m[1],y=(g+m[2])/2,b=(v+m[3])/2,w=u>-1&&tt(c.x+c.points[u][0],c.y+c.points[u][1],y,b,c.angle),x=u>-1||t.shiftKey?t.shiftKey||null!==(a=n.editingLinearElement.selectedPointsIndices)&&void 0!==a&&a.includes(u)?sa([].concat(M(n.editingLinearElement.selectedPointsIndices||[]),[u])):[u]:null;return r({editingLinearElement:oa(oa({},n.editingLinearElement),{},{pointerDownState:{prevSelectedPointsIndices:n.editingLinearElement.selectedPointsIndices,lastClickedPoint:u},selectedPointsIndices:x,pointerOffset:w?{x:o.x-w[0],y:o.y-w[1]}:{x:0,y:0}})}),s}},{key:"handlePointerMove",value:function(t,n,r,i,o){var a=i.elementId,s=i.lastUncommittedPoint,l=e.getElement(a);if(!l)return i;var c=l.points,u=c[c.length-1];if(!t.altKey)return u===s&&e.deletePoints(l,[c.length-1]),oa(oa({},i),{},{lastUncommittedPoint:null});var d=e.createPointAt(l,n-i.pointerOffset.x,r-i.pointerOffset.y,o);return u===s?e.movePoints(l,[{index:l.points.length-1,point:d}]):e.addPoints(l,[{point:d}]),oa(oa({},i),{},{lastUncommittedPoint:l.points[l.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(e,t){var n=h(mt(e),4),r=n[0],i=n[1],o=(r+n[2])/2,a=(i+n[3])/2,s=e.x,l=e.y,c=h(tt(s+t[0],l+t[1],o,a,e.angle),2);return[s=c[0],l=c[1]]}},{key:"getPointsGlobalCoordinates",value:function(e){var t=h(mt(e),4),n=t[0],r=t[1],i=t[2],o=t[3],a=(n+i)/2,s=(r+o)/2;return e.points.map((function(t){var n=e.x,r=e.y,i=h(tt(n+t[0],r+t[1],a,s,e.angle),2);return[n=i[0],r=i[1]]}))}},{key:"getPointAtIndexGlobalCoordinates",value:function(e,t){var n=t<0?e.points.length+t:t,r=h(mt(e),4),i=r[0],o=r[1],a=(i+r[2])/2,s=(o+r[3])/2,l=e.points[n],c=e.x,u=e.y;return tt(c+l[0],u+l[1],a,s,e.angle)}},{key:"pointFromAbsoluteCoords",value:function(e,t){var n=h(mt(e),4),r=n[0],i=n[1],o=(r+n[2])/2,a=(i+n[3])/2,s=h(tt(t[0],t[1],o,a,-e.angle),2),l=s[0],c=s[1];return[l-e.x,c-e.y]}},{key:"getPointIndexUnderCursor",value:function(e,t,n,r){for(var i=this.getPointsGlobalCoordinates(e),o=i.length;--o>-1;){var a=i[o];if(it(n,r,a[0],a[1])*t.value<this.POINT_HANDLE_SIZE/2+1)return o}return-1}},{key:"createPointAt",value:function(e,t,n,r){var i=ut(t,n,r),o=h(mt(e),4),a=o[0],s=o[1],l=(a+o[2])/2,c=(s+o[3])/2,u=h(tt(i[0],i[1],l,c,-e.angle),2),d=u[0],p=u[1];return[d-e.x,p-e.y]}},{key:"getNormalizedPoints",value:function(e){var t=e.points,n=t[0][0],r=t[0][1];return{points:t.map((function(e,t){return[e[0]-n,e[1]-r]})),x:e.x+n,y:e.y+r}}},{key:"normalizePoints",value:function(t){ai(t,e.getNormalizedPoints(t))}},{key:"duplicateSelectedPoints",value:function(t){if(!t.editingLinearElement)return!1;var n=t.editingLinearElement,r=n.selectedPointsIndices,i=n.elementId,o=e.getElement(i);if(!o||null===r)return!1;var a=o.points,s=[],l=!1,c=-1,u=a.reduce((function(e,t,n){if(++c,e.push(t),r.includes(n)){var i=a[n+1];i||(l=!0),e.push(i?[(t[0]+i[0])/2,(t[1]+i[1])/2]:[t[0],t[1]]),s.push(c+1),++c}return e}),[]);if(ai(o,{points:u}),l){var d=o.points[o.points.length-1];e.movePoints(o,[{index:o.points.length-1,point:[d[0]+30,d[1]+30]}])}return{appState:oa(oa({},t),{},{editingLinearElement:oa(oa({},t.editingLinearElement),{},{selectedPointsIndices:s})})}}},{key:"deletePoints",value:function(t,n){var r=0,i=0;if(n.includes(0)){var o=t.points.find((function(e,t){return!n.includes(t)}));o&&(r=o[0],i=o[1])}var a=t.points.reduce((function(e,t,o){return n.includes(o)||e.push(e.length?[t[0]-r,t[1]-i]:[0,0]),e}),[]);e._updatePoints(t,a,r,i)}},{key:"addPoints",value:function(t,n){var r=[].concat(M(t.points),M(n.map((function(e){return e.point}))));e._updatePoints(t,r,0,0)}},{key:"movePoints",value:function(t,n,r){var i=t.points,o=0,a=0,s=n.find((function(e){return 0===e.index}));s&&(o=s.point[0]-i[s.index][0],a=s.point[1]-i[s.index][1]);var l=i.map((function(e,t){var r=n.find((function(e){return e.index===t}));if(r){if(s)return e;var l=r.point[0]-i[r.index][0],c=r.point[1]-i[r.index][1];return[e[0]+l,e[1]+c]}return o||a?[e[0]-o,e[1]-a]:e}));e._updatePoints(t,l,o,a,r)}},{key:"_updatePoints",value:function(e,t,n,r,i){var o=Tt(e,t,e.strokeSharpness||"round"),a=Tt(e,e.points,e.strokeSharpness||"round"),s=(o[0]+o[2])/2,l=(o[1]+o[3])/2,c=(a[0]+a[2])/2,u=(a[1]+a[3])/2,d=tt(n,r,c-s,u-l,e.angle);ai(e,oa(oa({},i),{},{points:t,x:e.x+d[0],y:e.y+d[1]}))}}]),e}();aa.POINT_HANDLE_SIZE=20;var sa=function(e){var t=M(new Set(e.filter((function(e){return null!==e&&-1!==e}))));return t=t.sort((function(e,t){return e-t})),t.length?t:null};function la(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var ca=function(e){return e.isBindingEnabled},ua=function(e,t,n){var r=new Set,i=new Set;da(e,t,n,"start",r,i),da(e,n,t,"end",r,i);var o=Array.from(i).filter((function(e){return!r.has(e)}));cr.getScene(e).getNonDeletedElements(o).forEach((function(t){var n;ai(t,{boundElements:null===(n=t.boundElements)||void 0===n?void 0:n.filter((function(t){return"arrow"!==t.type||t.id!==e.id}))})}))},da=function(e,t,n,r,i,o){if("keep"!==t)if(null!=t)null!=n&&("keep"===n?ga(e,t,r):"start"!==r&&n.id===t.id)||(ma(e,t,r),i.add(t.id));else{var a=ba(e,r);null!=a&&o.add(a)}},pa=function(e){e.forEach((function(e){Ze(e)?ua(e,Oa(e,"start"),Oa(e,"end")):Qe(e)&&fa(e)}))},fa=function(e){Aa(e).forEach((function(t){var n=h(t,2),r=n[0],i=n[1];return ua(r,"end"===i?"keep":e,"start"===i?"keep":e)}))},ha=function(e,t,n,r){null!=t.startBoundElement&&ma(e,t.startBoundElement,"start");var i=wa(r,n);null==i||ga(e,i,"end")||ma(e,i,"end")},ma=function(e,t,n){ai(e,N({},"start"===n?"startBinding":"endBinding",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):la(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({elementId:t.id},xa(e,t,n)))),In(t.boundElements||[]).has(e.id)||ai(t,{boundElements:(t.boundElements||[]).concat({id:e.id,type:"arrow"})})},ga=function(e,t,n){var r=e["start"===n?"endBinding":"startBinding"];return va(e,null==r?void 0:r.elementId,t)},va=function(e,t,n){return t===n.id&&e.points.length<3},ya=function(e){e.forEach((function(e){Ze(e)&&ua(e,null,null)}))},ba=function(e,t){var n="start"===t?"startBinding":"endBinding",r=e[n];return null==r?null:(ai(e,N({},n,null)),r.elementId)},wa=function(e,t){return Ol(t.getElements(),(function(t){return Qe(t)&&So(t,e)}))},xa=function(e,t,n){var r="start"===n?-1:1,i=-1===r?0:e.points.length-1,o=i-r,a=aa.getPointAtIndexGlobalCoordinates(e,i),s=aa.getPointAtIndexGlobalCoordinates(e,o);return{focus:Fo(t,s,a),gap:Math.max(1,Eo(t,a))}},Sa=function(e,t){var n,r=(null!==(n=e.boundElements)&&void 0!==n?n:[]).filter((function(e){return"arrow"===e.type}));if(0!==r.length){var i=null!=t?t:{},o=i.newSize,a=i.simultaneouslyUpdated,s=Ta(a);cr.getScene(e).getNonDeletedElements(r.map((function(e){return e.id}))).forEach((function(t){if(qe(t)){var n=e;if(ka(t,n)){var r=_a(n,t.startBinding,o),i=_a(n,t.endBinding,o);s.has(t.id)?ai(t,{startBinding:r,endBinding:i}):(Ea(t,"start",r,e),Ea(t,"end",i,e))}}}))}},ka=function(e,t){var n,r;return(null===(n=e.startBinding)||void 0===n?void 0:n.elementId)===t.id||(null===(r=e.endBinding)||void 0===r?void 0:r.elementId)===t.id},Ta=function(e){return new Set((e||[]).map((function(e){return e.id})))},Ea=function(e,t,n,r){if(!(null==n||n.elementId!==r.id&&e.points.length>2)){var i=cr.getScene(e).getElement(n.elementId);if(null!=i){var o,a="start"===t?-1:1,s=-1===a?0:e.points.length-1,l=s-a,c=aa.getPointAtIndexGlobalCoordinates(e,l),u=function(e,t,n){if(0===t){var r=mt(e),i=Bo(r);return so(i)}var o,a=jo(e),s=ho(a,ao(n)),l=Ki(a);switch(e.type){case"rectangle":case"image":case"text":case"diamond":o=Ko(e,t,s);break;case"ellipse":o=Wo(e,t,s)}return so(ho(l,o))}(i,n.focus,c);if(0===n.gap)o=u;else{var d=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=jo(e),o=ho(i,ao(t)),a=ho(i,ao(n)),s=io(o,a),l=Ki(i);return Uo(e,s,o,r).map((function(e){return so(ho(l,e))}))}(i,c,u,n.gap);o=0===d.length?u:d[0]}aa.movePoints(e,[{index:s,point:aa.pointFromAbsoluteCoords(e,o)}],N({},"start"===t?"startBinding":"endBinding",n))}}},_a=function(e,t,n){if(null==t||null==n)return t;var r=t.gap,i=t.focus,o=t.elementId,a=n.width,s=n.height,l=e.width,c=e.height;return{elementId:o,gap:Math.max(1,Math.min(ko(e,a,s),r*(a<s?a/l:s/c))),focus:i}},Ca=function(e){return[Oa(e,"start"),Oa(e,"end")].filter((function(e){return null!=e}))},Oa=function(e,t){return wa(Pa(e,t),cr.getScene(e))},Pa=function(e,t){var n="start"===t?0:-1;return En(aa.getPointAtIndexGlobalCoordinates(e,n))},Aa=function(e){return cr.getScene(e).getElements().map((function(t){if(!Ze(t))return null;var n=Ia(t,"start",e),r=Ia(t,"end",e);return n||r?[t,n&&r?"both":n?"start":"end",e]:null})).filter((function(e){return null!=e}))},Ia=function(e,t,n){return null==e["start"===t?"startBinding":"endBinding"]&&!ga(e,n,t)&&So(n,Pa(e,t))},Ma=function(e,t,n,r){var i=new Set,o=new Set,a="duplicatesServeAsOld"===r;t.forEach((function(e){var t=e.boundElements;if(null!=t&&t.length>0&&(t.forEach((function(e){a&&!n.has(e.id)&&i.add(e.id)})),o.add(n.get(e.id))),Ze(e)){if(null!=e.startBinding){var r=e.startBinding.elementId;a&&!n.has(r)&&o.add(r)}if(null!=e.endBinding){var s=e.endBinding.elementId;a&&!n.has(s)&&o.add(s)}null==e.startBinding&&null==e.endBinding||i.add(n.get(e.id))}})),e.filter((function(e){var t=e.id;return i.has(t)})).forEach((function(e){var t=e.startBinding,r=e.endBinding;ai(e,{startBinding:Na(t,n),endBinding:Na(r,n)})})),e.filter((function(e){var t=e.id;return o.has(t)})).forEach((function(e){var t=e.boundElements;null!=t&&t.length>0&&ai(e,{boundElements:t.map((function(e){return n.has(e.id)?{id:n.get(e.id),type:e.type}:e}))})}))},Na=function(e,t){var n;if(null==e)return null;var r=e.elementId;return{focus:e.focus,gap:e.gap,elementId:null!==(n=t.get(r))&&void 0!==n?n:r}},Ra=function(e,t){var n=new Set(t.map((function(e){return e.id}))),r=new Set;t.forEach((function(e){var t;Qe(e)&&(null===(t=e.boundElements)||void 0===t||t.forEach((function(e){n.has(e.id)||r.add(e.id)})))})),e.filter((function(e){var t=e.id;return r.has(t)})).forEach((function(e){var t=e.startBinding,r=e.endBinding;ai(e,{startBinding:Da(t,n),endBinding:Da(r,n)})}))},Da=function(e,t){return null==e||t.has(e.elementId)?null:e};function La(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ja(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?La(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):La(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ba=function(e){return e>=2*Math.PI?e-2*Math.PI:e},Fa=function(e,t,n,r){var i=h(mt(e),4),o=i[0],a=i[1],s=(o+i[2])/2,l=(a+i[3])/2,u=5*Math.PI/2+Math.atan2(n-l,t-s);r&&(u+=c.ay/2,u-=u%c.ay),u=Ba(u),ai(e,{angle:u});var d=Sr(e);if(d){var p=cr.getScene(e).getElement(d);ai(p,{angle:u})}},Ua=function(e,t,n,r,i){var o=h(mt(e),4),a=o[0],s=o[1],l=o[2],c=o[3],u=h(tt(r,i,(a+l)/2,(s+c)/2,-e.angle),2),d=u[0],p=u[1],f=h("end"===t?[d-e.x,p-e.y]:[e.x+e.points[1][0]-d,e.y+e.points[1][1]-p],2),m=f[0],g=f[1];if(n){var v=function(e,t,n,r){var i=ui.apply(void 0,[e].concat(M(tt(t,n,0,0,r))));return tt(i.width,i.height,0,0,-r)}(e.type,m,g,e.angle),y=h(v,2);m=y[0],g=y[1]}var b=h(rt("end"===t?{s:!0,e:!0}:{n:!0,w:!0},e.x,e.y,e.angle,0,0,(e.points[1][0]-m)/2,(e.points[1][1]-g)/2),2),w=b[0],x=b[1];ai(e,{x:w,y:x,points:[[0,0],[m,g]]})},$a=function(e,t,n){return qe(e)||We(e)?{points:pt(0,t,pt(1,n,e.points))}:{}},Ha=function(e,t,n){var r=e.fontSize*(t/e.width);if(r<1)return null;var i=fr(e.text,dn({fontSize:r,fontFamily:e.fontFamily}),e.containerId?e.width:null);return{size:r,baseline:i.baseline+(n-i.height)}},Ga=function(e,t,n,r,i){var o,a=h(mt(e),4),s=a[0],l=a[1],c=a[2],u=a[3],d=h(tt(r,i,(s+c)/2,(l+u)/2,-e.angle),2),p=d[0],f=d[1];switch(t){case"se":o=Math.max((p-s)/(c-s),(f-l)/(u-l));break;case"nw":o=Math.max((c-p)/(c-s),(u-f)/(u-l));break;case"ne":o=Math.max((p-s)/(c-s),(u-f)/(u-l));break;case"sw":o=Math.max((c-p)/(c-s),(f-l)/(u-l))}if(o>0){var m=e.width*o,g=e.height*o,v=Ha(e,m,g);if(null===v)return;var y=h(kt(e,m,g),4),b=(s-y[0])/2,w=(l-y[1])/2,x=(c-y[2])/2,S=(u-y[3])/2,k=rt(function(e,t){return{n:/^(n|ne|nw)$/.test(e)||t&&/^(s|se|sw)$/.test(e),s:/^(s|se|sw)$/.test(e)||t&&/^(n|ne|nw)$/.test(e),w:/^(w|nw|sw)$/.test(e)||t&&/^(e|ne|se)$/.test(e),e:/^(e|ne|se)$/.test(e)||t&&/^(w|nw|sw)$/.test(e)}}(t,n),e.x,e.y,e.angle,b,w,x,S),T=h(k,2),E=T[0],_=T[1];ai(e,{fontSize:v.size,width:m,height:g,baseline:v.baseline,x:E,y:_})}},Va=function(e,t,n,r,i,o,a){var s=h(kt(e,e.width,e.height),4),l=[s[0],s[1]],c=[s[2],s[3]],u=function(e,t){return[(e[0]+t[0])/2,(e[1]+t[1])/2]}(l,c),d=nt([o,a],u,-e.angle),p=h(kt(n,n.width,n.height),4),f=p[0],m=p[1],g=p[2],v=p[3],y=Sr(n),b=g-f,w=v-m,x=(c[0]-l[0])/b,S=(c[1]-l[1])/w;r.includes("e")&&(x=(d[0]-l[0])/b),r.includes("s")&&(S=(d[1]-l[1])/w),r.includes("w")&&(x=(c[0]-d[0])/b),r.includes("n")&&(S=(c[1]-d[1])/w);var k=e.width,T=e.height,E=n.width*x,_=n.height*S;if(i&&(E=2*E-k,_=2*_-T),t){var C=Math.abs(E)/k,O=Math.abs(_)/T;if(1===r.length&&(_*=C,E*=O),2===r.length){var P=Math.max(C,O);E=k*P*Math.sign(E),_=T*P*Math.sign(_)}}var A=h(kt(e,E,_),4),I=A[0],N=A[1],R=A[2]-I,D=A[3]-N;if(!(R<0||D<0)||!y){var L=[].concat(l);if(["n","w","nw"].includes(r)&&(L=[c[0]-Math.abs(R),c[1]-Math.abs(D)]),"ne"===r){var j=[l[0],c[1]];L=[j[0],j[1]-Math.abs(D)]}if("sw"===r){var B=[c[0],l[1]];L=[B[0]-Math.abs(R),B[1]]}t&&(["s","n"].includes(r)&&(L[0]=u[0]-R/2),["e","w"].includes(r)&&(L[1]=u[1]-D/2)),E<0&&(r.includes("e")&&(L[0]-=Math.abs(R)),r.includes("w")&&(L[0]+=Math.abs(R))),_<0&&(r.includes("s")&&(L[1]-=Math.abs(D)),r.includes("n")&&(L[1]+=Math.abs(D))),i&&(L[0]=u[0]-Math.abs(R)/2,L[1]=u[1]-Math.abs(D)/2);var F=e.angle,U=nt(L,u,F),$=[L[0]+Math.abs(R)/2,L[1]+Math.abs(D)/2],H=nt($,u,F);L=nt(U,H,-F);var G=$a(e,E,_),V=M(L);V[0]+=e.x-I,V[1]+=e.y-N;var z=ja({width:Math.abs(E),height:Math.abs(_),x:V[0],y:V[1]},G);"scale"in n&&"scale"in e&&ai(n,{scale:[(Math.sign(x)||e.scale[0])*e.scale[0],(Math.sign(S)||e.scale[1])*e.scale[1]]});var W=0,K=kr(n);K&&(W=wr(dn(K))),z.width>=W&&0!==z.height&&Number.isFinite(z.x)&&Number.isFinite(z.y)&&(Sa(n,{newSize:{width:z.width,height:z.height}}),ai(n,z),pr([n],r))}},za=function(e,t,n,r){var i,o,a=h(St(e),4),s=a[0],l=a[1],c=a[2],u=a[3];switch(t){case"se":i=Math.max((n-s)/(c-s),(r-l)/(u-l)),o=function(e,t,n){var r=h(t,2),o=r[0],a=r[1],c=h(n,2),u=c[0],d=c[1];return{x:e.x+(o-s)*(i-1)+o-u,y:e.y+(a-l)*(i-1)+a-d}};break;case"nw":i=Math.max((c-n)/(c-s),(u-r)/(u-l)),o=function(e,t,n){var r=h(t,4),o=r[2],a=r[3],s=h(n,4),l=s[2],d=s[3];return{x:e.x-(c-o)*(i-1)+o-l,y:e.y-(u-a)*(i-1)+a-d}};break;case"ne":i=Math.max((n-s)/(c-s),(u-r)/(u-l)),o=function(e,t,n){var r=h(t,4),o=r[0],a=r[3],l=h(n,4),c=l[0],d=l[3];return{x:e.x+(o-s)*(i-1)+o-c,y:e.y-(u-a)*(i-1)+a-d}};break;case"sw":i=Math.max((c-n)/(c-s),(r-l)/(u-l)),o=function(e,t,n){var r=h(t,3),o=r[1],a=r[2],s=h(n,3),u=s[1],d=s[2];return{x:e.x-(c-a)*(i-1)+a-d,y:e.y+(o-l)*(i-1)+o-u}}}if(i>0){var d=e.reduce((function(t,n){if(!t)return t;var r=n.width*i,a=n.height*i,s={};if(ze(n)){var l=Ha(n,r,a);if(null===l)return null;s={fontSize:l.size,baseline:l.baseline}}var c=mt(n),u=$a(n,r,a);Sa(n,{newSize:{width:r,height:a},simultaneouslyUpdated:e});var d=kt(ja(ja({},n),u),r,a),p=o(n,c,d),f=p.x,h=p.y;return[].concat(M(t),[ja(ja({width:r,height:a,x:f,y:h},u),s)])}),[]);d&&e.forEach((function(e,t){ai(e,d[t])}))}},Wa=function(e,t,n,r,i,o,a){var s=5*Math.PI/2+Math.atan2(r-a,n-o);i&&(s+=c.ay/2,s-=s%c.ay),t.forEach((function(t,n){var r,i,l=h(mt(t),4),c=l[0],u=l[1],d=(c+l[2])/2,p=(u+l[3])/2,f=null!==(r=null===(i=e.originalElements.get(t.id))||void 0===i?void 0:i.angle)&&void 0!==r?r:t.angle,m=h(tt(d,p,o,a,s+f-t.angle),2),g=m[0],v=m[1];ai(t,{x:t.x+(g-d),y:t.y+(v-p),angle:Ba(s+f)});var y=Sr(t);if(y){var b=cr.getScene(t).getElement(y);ai(b,{x:b.x+(g-d),y:b.y+(v-p),angle:Ba(s+f)})}}))},Ka=function(e,t,n,r,i,o){var a,s;if(e){var l=e&&t<n,c=e&&t>n,u=r.originalElements.get(i.id);a=l&&u?u.x:i.x+o.x,s=c&&u?u.y:i.y+o.y}else a=i.x+o.x,s=i.y+o.y;ai(i,{x:a,y:s})},qa=function(e,t,n,r,i,o,a,s,l,c,u){if(l)if(u)s=a/u;else{var d=ui(t,a,o<r?-s:s);a=d.width,(s=d.height)<0&&(s=-s)}var p=i<n?n-a:n,f=o<r?r-s:r;c&&(p=n-(a+=a)/2,f=r-(s+=s)/2),0!==a&&0!==s&&ai(e,{x:p,y:f,width:a,height:s})},Xa=function(e){var t=e.options,n=e.value,r=e.onChange,i=e.group;return(0,O.jsx)("div",{className:"buttonList buttonListIcon",children:t.map((function(e){return(0,O.jsxs)("label",{className:$e({active:n===e.value}),title:e.text,children:[(0,O.jsx)("input",{type:"radio",name:i,onChange:function(){return r(e.value)},checked:n===e.value,"data-testid":e.testId}),e.icon]},e.text)}))})},Za=(n(4301),function(e){var t=e.children,n=e.left,r=e.top,i=e.onCloseRequest,o=e.fitInViewport,a=void 0!==o&&o,l=e.offsetLeft,c=void 0===l?0:l,u=e.offsetTop,d=void 0===u?0:u,p=e.viewportWidth,f=void 0===p?window.innerWidth:p,h=e.viewportHeight,m=void 0===h?window.innerHeight:h,g=(0,s.useRef)(null);return(0,s.useLayoutEffect)((function(){if(a&&g.current){var e=g.current,t=e.getBoundingClientRect(),n=t.x,r=t.y,i=t.width,o=t.height;n+i-c>f&&(e.style.left="".concat(f-i,"px")),r+o-d>m&&(e.style.top="".concat(m-o,"px"))}}),[a,f,m,c,d]),(0,s.useEffect)((function(){if(i){var e=function(e){var t;null!==(t=g.current)&&void 0!==t&&t.contains(e.target)||(0,Pt.unstable_batchedUpdates)((function(){return i(e)}))};return document.addEventListener("pointerdown",e,!1),function(){return document.removeEventListener("pointerdown",e,!1)}}}),[i]),(0,O.jsx)("div",{className:"popover",style:{top:r,left:n},ref:g,children:t})}),Ya=(n(4220),function(e){var t=(new Option).style;return t.color=e,!!t.color}),Qa=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),Ja=function(e){var t=e.colors,n=e.color,r=e.onChange,i=e.onClose,o=e.label,a=e.showInput,s=void 0===a||a,c=e.type,u=l().useRef(),d=l().useRef(),p=l().useRef(),f=l().useRef();return l().useEffect((function(){d.current?d.current.focus():f.current?f.current.focus():p.current&&p.current.focus()}),[]),(0,O.jsxs)("div",{className:"color-picker color-picker-type-".concat(c),role:"dialog","aria-modal":"true","aria-label":C("labels.colorPicker"),onKeyDown:function(e){if(e.key===en.TAB){var t,n=document.activeElement;if(e.shiftKey)n===u.current&&(null===(t=f.current)||void 0===t||t.focus(),e.preventDefault());else if(n===f.current){var r;null===(r=u.current)||void 0===r||r.focus(),e.preventDefault()}}else if(tn(e.key)){var o=document.activeElement,a=E().rtl,l=Array.prototype.indexOf.call(p.current.children,o);if(-1!==l){var c=p.current.children.length-(s?1:0),d=e.key===(a?en.ARROW_LEFT:en.ARROW_RIGHT)?(l+1)%c:e.key===(a?en.ARROW_RIGHT:en.ARROW_LEFT)?(c+l-1)%c:e.key===en.ARROW_DOWN?(l+5)%c:e.key===en.ARROW_UP?(c+l-5)%c:l;p.current.children[d].focus()}e.preventDefault()}else if(Qa.includes(e.key.toLowerCase())&&!cn(e.target)){var h=Qa.indexOf(e.key.toLowerCase());p.current.children[h].focus(),e.preventDefault()}else e.key!==en.ESCAPE&&e.key!==en.ENTER||(e.preventDefault(),i());e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},children:[(0,O.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,O.jsx)("div",{className:"color-picker-triangle"}),(0,O.jsxs)("div",{className:"color-picker-content",ref:function(e){e&&(p.current=e)},tabIndex:0,children:[t.map((function(e,t){var i=e.replace("#","");return(0,O.jsxs)("button",{className:"color-picker-swatch",onClick:function(t){t.currentTarget.focus(),r(e)},title:"".concat(C("colors.".concat(i))).concat(Cn(e)?"":" (".concat(e,")")," \u2014 ").concat(Qa[t].toUpperCase()),"aria-label":C("colors.".concat(i)),"aria-keyshortcuts":Qa[t],style:{color:e},ref:function(r){r&&0===t&&(u.current=r),r&&e===n&&(d.current=r)},onFocus:function(){r(e)},children:[Cn(e)?(0,O.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,O.jsx)("span",{className:"color-picker-keybinding",children:Qa[t]})]},e)})),s&&(0,O.jsx)(es,{color:n,label:o,onChange:function(e){r(e)},ref:f})]})]})},es=l().forwardRef((function(e,t){var n=e.color,r=e.onChange,i=e.label,o=h(l().useState(n),2),a=o[0],s=o[1],c=l().useRef(null);l().useEffect((function(){s(n)}),[n]),l().useImperativeHandle(t,(function(){return c.current}));var u=l().useCallback((function(e){var t=e.toLowerCase(),n=function(e){return Cn(e)||Ya(e)?e:Ya("#".concat(e))?"#".concat(e):null}(t);n&&r(n),s(t)}),[r]);return(0,O.jsxs)("label",{className:"color-input-container",children:[(0,O.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,O.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":i,onChange:function(e){return u(e.target.value)},value:(a||"").replace(/^#/,""),onBlur:function(){return s(n)},ref:c})]})})),ts=function(e){var t=e.type,n=e.color,r=e.onChange,i=e.label,o=e.isActive,a=e.setActive,s=l().useRef(null);return(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{className:"color-picker-control-container",children:[(0,O.jsx)("button",{className:"color-picker-label-swatch","aria-label":i,style:n?{"--swatch-color":n}:void 0,onClick:function(){return a(!o)},ref:s}),(0,O.jsx)(es,{color:n,label:i,onChange:function(e){r(e)}})]}),(0,O.jsx)(l().Suspense,{fallback:"",children:o?(0,O.jsx)(Za,{onCloseRequest:function(e){return e.target!==s.current&&a(!1)},children:(0,O.jsx)(Ja,{colors:Ot[t],color:n||null,onChange:function(e){r(e)},onClose:function(){var e;a(!1),null===(e=s.current)||void 0===e||e.focus()},label:i,showInput:!1,type:t})}):null})]})};function ns(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ns(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ns(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function is(e){var t=e.options,n=e.value,r=e.label,i=e.onChange,o=e.onClose,a=l().useRef(),s=l().useRef(),c=l().useRef(null);return l().useEffect((function(){s.current?s.current.focus():c.current&&c.current.focus()}),[]),(0,O.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":r,onKeyDown:function(e){var n=t.find((function(t){return t.keyBinding===e.key.toLowerCase()}));if(e.metaKey||e.altKey||e.ctrlKey||!n)if(e.key===en.TAB)setTimeout((function(){s.current!==document.activeElement&&o()}),0);else if(tn(e.key)){var r=document.activeElement,i=E().rtl,a=Array.prototype.indexOf.call(c.current.children,r);if(-1!==a){var l=t.length,u=a;switch(e.key){case i?en.ARROW_LEFT:en.ARROW_RIGHT:case en.ARROW_DOWN:u=(a+1)%l;break;case i?en.ARROW_RIGHT:en.ARROW_LEFT:case en.ARROW_UP:u=(l+a-1)%l}c.current.children[u].focus()}e.preventDefault()}else e.key!==en.ESCAPE&&e.key!==en.ENTER||(e.preventDefault(),o());else{var d=t.indexOf(n);c.current.children[d].focus(),e.preventDefault()}e.nativeEvent.stopImmediatePropagation(),e.stopPropagation()},children:(0,O.jsx)("div",{className:"picker-content",ref:c,children:t.map((function(e,t){return(0,O.jsxs)("button",{className:"picker-option",onClick:function(t){t.currentTarget.focus(),i(e.value)},title:"".concat(e.text," \u2014 ").concat(e.keyBinding.toUpperCase()),"aria-label":e.text||"none","aria-keyshortcuts":e.keyBinding,ref:function(r){r&&0===t&&(a.current=r),r&&e.value===n&&(s.current=r)},onFocus:function(){i(e.value)},children:[e.icon,(0,O.jsx)("span",{className:"picker-keybinding",children:e.keyBinding})]},e.text)}))})})}function os(e){var t,n=e.value,r=e.label,i=e.options,o=e.onChange,a=e.group,s=void 0===a?"":a,c=h(l().useState(!1),2),u=c[0],d=c[1],p=l().useRef(null),f=E().rtl;return(0,O.jsxs)("label",{className:"picker-container",children:[(0,O.jsx)("button",{name:s,className:u?"active":"","aria-label":r,onClick:function(){return d(!u)},ref:p,children:null===(t=i.find((function(e){return e.value===n})))||void 0===t?void 0:t.icon}),(0,O.jsx)(l().Suspense,{fallback:"",children:u?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Za,rs(rs({onCloseRequest:function(e){return e.target!==p.current&&d(!1)}},f?{right:5.5}:{left:-5.5}),{},{children:(0,O.jsx)(is,{options:i,value:n,label:r,onChange:o,onClose:function(){var e;d(!1),null===(e=p.current)||void 0===e||e.focus()}})})),(0,O.jsx)("div",{className:"picker-triangle"})]}):null})]})}n(7117);var as=function(e){return e===c.C6.LIGHT?_t.orange[4]:_t.orange[9]},ss=function(e){return e===c.C6.LIGHT?_t.white:"#1e1e1e"},ls=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n="number"==typeof t?{width:t}:t,r=n.width,i=void 0===r?512:r,o=n.height,a=void 0===o?i:o,s=n.mirror,l=n.style;return(0,O.jsx)("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(i," ").concat(a),className:$e({"rtl-mirror":s}),style:l,children:"string"==typeof e?(0,O.jsx)("path",{fill:"currentColor",d:e}):e})},cs=ls((0,O.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),us=ls("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",{mirror:!0}),ds=ls("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),ps=ls("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),fs=ls("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),hs=ls("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),ms=ls("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),gs=ls("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),vs=ls("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),ys=ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-187 44v-64 64z"}),(0,O.jsx)("path",{d:"M384 121.941V128H256V0h6.059c6.362 0 12.471 2.53 16.97 7.029l97.941 97.941a24.01 24.01 0 017.03 16.971zM248 160c-13.2 0-24-10.8-24-24V0H24C10.745 0 0 10.745 0 24v464c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V160H248zm-135.455 16c26.51 0 48 21.49 48 48s-21.49 48-48 48-48-21.49-48-48 21.491-48 48-48zm208 240h-256l.485-48.485L104.545 328c4.686-4.686 11.799-4.201 16.485.485L160.545 368 264.06 264.485c4.686-4.686 12.284-4.686 16.971 0L320.545 304v112z"})]}),{width:576,height:512,mirror:!0}),bs=ls("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),ws=ls("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),xs=ls("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),Ss=ls("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),ks=ls("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),Ts=ls("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",{mirror:!0}),Es=ls("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",{mirror:!0}),_s=ls("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),Cs=(ls("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),ls("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,O.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),ls((0,O.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,O.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:as(t),stroke:as(t),strokeWidth:"2"})]}),{width:24,mirror:!0})}))),Os=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:as(t),stroke:as(t),strokeWidth:"2"}),(0,O.jsx)("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})})),Ps=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,O.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:as(t),stroke:as(t),strokeWidth:"2"})]}),{width:24,mirror:!0})})),As=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:as(t),stroke:as(t),strokeWidth:"2"}),(0,O.jsx)("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2"})]}),{width:24,mirror:!0})})),Is=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M 2,5 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,O.jsx)("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",fill:as(t),stroke:as(t),strokeWidth:"2"})]}),{width:24,mirror:!0})})),Ms=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M 2,19 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,O.jsx)("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",fill:as(t),stroke:as(t),strokeWidth:"2"})]}),{width:24,mirror:!0})})),Ns=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M 5,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,O.jsx)("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",fill:as(t),stroke:as(t),strokeWidth:"2"})]}),{width:24})})),Rs=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M 19,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,O.jsx)("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",fill:as(t),stroke:as(t),strokeWidth:"2"})]}),{width:24})})),Ds=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M19 5V19M5 5V19",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,O.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:as(t),stroke:as(t),strokeWidth:"2"})]}),{width:24})})),Ls=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M5 5L19 5M5 19H19",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeLinecap:"round"}),(0,O.jsx)("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:as(t),stroke:as(t),strokeWidth:"2"})]}),{width:24})})),js=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:as(t),stroke:as(t),strokeWidth:"2"}),(0,O.jsx)("path",{d:"M 2,12 H 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24,mirror:!0})})),Bs=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:as(t),stroke:as(t),strokeWidth:"2"}),(0,O.jsx)("path",{d:"M 12,2 V 22",fill:"var(--icon-fill-color)",stroke:"var(--icon-fill-color)",strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})]}),{width:24})})),Fs=ls("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",{width:640,height:512,mirror:!0}),Us=(ls("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ls("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ls("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",{width:352,height:512})),$s=ls("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),Hs=ls("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),Gs=(ls("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),ls("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512})),Vs=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,O.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,O.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,O.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,O.jsxs)("g",{fill:ss(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,O.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,O.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,O.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,O.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),zs=l().memo((function(e){var t=e.theme;return ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,O.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,O.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,O.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,O.jsxs)("g",{fill:ss(t),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,O.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,O.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,O.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,O.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,O.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,O.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),Ws=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})})),Ks=l().memo((function(e){return e.theme,ls((0,O.jsxs)("g",{fill:"var(--icon-fill-color)",fillRule:"evenodd",clipRule:"evenodd",children:[(0,O.jsx)("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),(0,O.jsx)("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})]}),{width:40,height:20})})),qs=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M2 2H38V18H2V2Z",fill:"var(--icon-fill-color)"}),{width:40,height:20})})),Xs=l().memo((function(e){e.theme;var t=e.strokeWidth;return ls((0,O.jsx)("path",{d:"M6 10H32",stroke:"var(--icon-fill-color)",strokeWidth:t,strokeLinecap:"round",fill:"none"}),{width:40,height:20})})),Zs=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),Ys=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),Qs=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M6 10H36",stroke:"var(--icon-fill-color)",strokeWidth:2.5,strokeDasharray:"2, 4.5",fill:"none",strokeLinecap:"round"}),{width:40,height:20})})),Js=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),el=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),tl=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),nl=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M10 17L10 5L35 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),rl=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:"var(--icon-fill-color)",strokeWidth:2,strokeLinecap:"round",fill:"none"}),{width:40,height:20,mirror:!0})})),il=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M6 10H34",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"}),{width:40,height:20})})),ol=l().memo((function(e){e.theme;var t=e.flip,n=void 0!==t&&t;return ls((0,O.jsxs)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none",children:[(0,O.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,O.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})})),al=l().memo((function(e){e.theme;var t=e.flip,n=void 0!==t&&t;return ls((0,O.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,O.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,O.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})})),sl=l().memo((function(e){e.theme;var t=e.flip,n=void 0!==t&&t;return ls((0,O.jsx)("g",{transform:n?"translate(40, 0) scale(-1, 1)":"",children:(0,O.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"var(--icon-fill-color)",strokeWidth:2,fill:"none"})}),{width:40,height:20})})),ll=l().memo((function(e){e.theme;var t=e.flip,n=void 0!==t&&t;return ls((0,O.jsxs)("g",{stroke:"var(--icon-fill-color)",fill:"var(--icon-fill-color)",transform:n?"translate(40, 0) scale(-1, 1)":"",children:[(0,O.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,O.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})})),cl=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 0 69.092 L 0 55.03 A 124.24 124.24 0 0 0 4.706 57.02 Q 6.826 57.863 8.708 58.5 A 53.466 53.466 0 0 0 12.231 59.571 Q 17.236 60.889 21.387 60.889 A 20.909 20.909 0 0 0 24.265 60.704 Q 25.719 60.502 26.903 60.077 A 8.649 8.649 0 0 0 29.028 58.985 Q 31.689 57.08 31.689 53.321 Q 31.689 51.221 30.518 49.585 A 10.126 10.126 0 0 0 29.282 48.177 Q 28.352 47.287 27.075 46.436 A 23.719 23.719 0 0 0 25.752 45.627 Q 23.774 44.492 20.176 42.735 A 254.44 254.44 0 0 0 17.822 41.602 Q 11.503 38.631 8.236 35.888 A 19.742 19.742 0 0 1 8.008 35.694 A 22.18 22.18 0 0 1 2.783 29.102 Q 0.83 25.342 0.83 20.313 A 22.471 22.471 0 0 1 1.733 13.778 A 17.283 17.283 0 0 1 7.251 5.42 A 21.486 21.486 0 0 1 15.177 1.272 Q 18.361 0.338 22.166 0.09 A 43.573 43.573 0 0 1 25 0 A 42.399 42.399 0 0 1 34.349 1.01 A 39.075 39.075 0 0 1 35.62 1.319 A 67.407 67.407 0 0 1 42.108 3.382 A 83.357 83.357 0 0 1 46.191 5.03 L 41.309 16.797 Q 35.596 14.453 31.86 13.526 A 30.762 30.762 0 0 0 25.417 12.612 A 28.337 28.337 0 0 0 24.512 12.598 A 14.846 14.846 0 0 0 22.022 12.793 Q 19.498 13.224 17.92 14.6 Q 15.625 16.602 15.625 19.824 Q 15.625 21.826 16.553 23.316 Q 17.48 24.805 19.507 26.197 A 18.343 18.343 0 0 0 20.659 26.912 Q 22.596 28.035 26.516 29.953 A 299.99 299.99 0 0 0 29.102 31.201 Q 37.91 35.412 41.841 39.642 A 16.553 16.553 0 0 1 42.822 40.796 A 17.675 17.675 0 0 1 46.301 49.233 A 23.517 23.517 0 0 1 46.533 52.588 A 21.581 21.581 0 0 1 45.471 59.515 A 17.733 17.733 0 0 1 39.575 67.823 Q 33.745 72.486 24.094 73.243 A 49.683 49.683 0 0 1 20.215 73.389 A 51.712 51.712 0 0 1 9.448 72.315 A 40.672 40.672 0 0 1 0 69.092 Z"}),{width:47,height:77})})),ul=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 30.225 71.387 L 13.037 15.381 L 12.598 15.381 A 1505.093 1505.093 0 0 1 12.959 22.313 Q 13.426 31.715 13.508 36.4 A 102.991 102.991 0 0 1 13.525 38.184 L 13.525 71.387 L 0 71.387 L 0 0 L 20.605 0 L 37.5 54.59 L 37.793 54.59 L 55.713 0 L 76.318 0 L 76.318 71.387 L 62.207 71.387 L 62.207 37.598 Q 62.207 35.205 62.28 32.08 A 160.703 160.703 0 0 1 62.326 30.544 Q 62.452 26.754 62.866 17.168 A 5390.536 5390.536 0 0 1 62.939 15.479 L 62.5 15.479 L 44.092 71.387 Z"}),{width:77,height:75})})),dl=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 44.092 71.387 L 0 71.387 L 0 0 L 15.137 0 L 15.137 58.887 L 44.092 58.887 L 44.092 71.387 Z"}),{width:45,height:75})})),pl=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 42.578 35.4 L 66.699 71.387 L 49.414 71.387 L 32.813 44.385 L 16.211 71.387 L 0 71.387 L 23.682 34.57 L 1.514 0 L 18.213 0 L 33.594 25.684 L 48.682 0 L 64.99 0 L 42.578 35.4 Z M 119.775 71.387 L 75.684 71.387 L 75.684 0 L 90.82 0 L 90.82 58.887 L 119.775 58.887 L 119.775 71.387 Z"}),{width:120,height:75})})),fl=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{fill:"var(--icon-fill-color)",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}),{width:448,height:512})})),hl=l().memo((function(e){return e.theme,ls((0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 63.818 71.68 L 54.492 71.68 L 45.898 49.561 L 17.578 49.561 L 9.082 71.68 L 0 71.68 L 27.881 0 L 35.986 0 L 63.818 71.68 Z M 20.605 41.602 L 43.213 41.602 L 35.205 19.971 L 31.787 9.277 Q 30.322 15.137 28.711 19.971 L 20.605 41.602 Z"}),(0,O.jsx)("path",{fill:"var(--icon-fill-color)",d:"M 68.994 71.68 L 52.686 71.68 L 47.51 54.688 L 21.484 54.688 L 16.309 71.68 L 0 71.68 L 25.195 0 L 43.701 0 L 68.994 71.68 Z M 25.293 41.992 L 43.896 41.992 A 27590.463 27590.463 0 0 1 42.2 36.532 Q 36.965 19.676 35.937 16.273 A 120.932 120.932 0 0 1 35.815 15.869 A 131.65 131.65 0 0 1 35.396 14.435 Q 34.951 12.879 34.675 11.741 A 34.866 34.866 0 0 1 34.521 11.084 A 141.762 141.762 0 0 1 33.706 14.075 Q 31.482 21.957 25.293 41.992 Z"})]}),{width:70,height:78})})),ml=l().memo((function(e){return e.theme,ls((0,O.jsx)(O.Fragment,{children:(0,O.jsx)("path",{fill:"var(--icon-fill-color)",d:"M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"})}),{width:640,height:512})})),gl=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M12.83 352h262.34A12.82 12.82 0 00288 339.17v-38.34A12.82 12.82 0 00275.17 288H12.83A12.82 12.82 0 000 300.83v38.34A12.82 12.82 0 0012.83 352zm0-256h262.34A12.82 12.82 0 00288 83.17V44.83A12.82 12.82 0 00275.17 32H12.83A12.82 12.82 0 000 44.83v38.34A12.82 12.82 0 0012.83 96zM432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})})),vl=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M432 160H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm0 256H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zM108.1 96h231.81A12.09 12.09 0 00352 83.9V44.09A12.09 12.09 0 00339.91 32H108.1A12.09 12.09 0 0096 44.09V83.9A12.1 12.1 0 00108.1 96zm231.81 256A12.09 12.09 0 00352 339.9v-39.81A12.09 12.09 0 00339.91 288H108.1A12.09 12.09 0 0096 300.09v39.81a12.1 12.1 0 0012.1 12.1z",fill:"var(--icon-fill-color)"}),{width:448,height:512})})),yl=l().memo((function(e){return e.theme,ls((0,O.jsx)("path",{d:"M16 224h416a16 16 0 0016-16v-32a16 16 0 00-16-16H16a16 16 0 00-16 16v32a16 16 0 0016 16zm416 192H16a16 16 0 00-16 16v32a16 16 0 0016 16h416a16 16 0 0016-16v-32a16 16 0 00-16-16zm3.17-384H172.83A12.82 12.82 0 00160 44.83v38.34A12.82 12.82 0 00172.83 96h262.34A12.82 12.82 0 00448 83.17V44.83A12.82 12.82 0 00435.17 32zm0 256H172.83A12.82 12.82 0 00160 300.83v38.34A12.82 12.82 0 00172.83 352h262.34A12.82 12.82 0 00448 339.17v-38.34A12.82 12.82 0 00435.17 288z",fill:"var(--icon-fill-color)",strokeLinecap:"round"}),{width:448,height:512})})),bl=ls((0,O.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),wl=ls((0,O.jsx)("path",{fill:"currentColor",d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"}),{width:640,height:512}),xl=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"line"===e||"freedraw"===e},Sl=function(e){return"image"!==e},kl=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"freedraw"===e||"arrow"===e||"line"===e},Tl=function(e){return"rectangle"===e||"ellipse"===e||"diamond"===e||"arrow"===e||"line"===e},El=function(e){return"rectangle"===e||"arrow"===e||"line"===e||"diamond"===e},_l=function(e){return"text"===e},Cl=function(e){return"arrow"===e},Ol=function(e,t){for(var n=null,r=e.length-1;r>=0;--r){var i=e[r];if(!i.isDeleted&&t(i)){n=i;break}}return n},Pl=function(e,t){return e.filter((function(e){return!e.isDeleted&&t(e)}))},Al=function(e,t,n){for(var r=null,i=e.length-1;i>=0;--i)if(!e[i].isDeleted){var o=h(mt(e[i]),4),a=o[0],s=o[1],l=o[2],c=o[3];if(a<t&&t<l&&s<n&&n<c){r=e[i];break}}return r},Il=[],Ml=function(e){return Il=Il.concat(e),e};function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nl(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dl=function(e,t,n){var r=In(Dc(e,t,arguments.length>3&&void 0!==arguments[3]&&arguments[3]));return e.map((function(e){var i;return r.get(e.id)||e.id===(null===(i=t.editingElement)||void 0===i?void 0:i.id)?n(e):e}))},Ll=function(e,t,n,r){var i,o,a=t.editingElement,s=Cc(e);return null!==(i=null!==(o=a&&n(a))&&void 0!==o?o:Nc(s,t)?Rc(s,t,n):r)&&void 0!==i?i:null},jl=function(e,t,n,r){var i=new Set;return{elements:Dl(e,t,(function(e){if(ze(e)){var t=n(e);i.add(t);var r=si(e,{fontSize:t});return ur(r,Tr(e)),o=e,et(a=r)?a:ai(a,{x:"left"===o.textAlign?o.x:o.x+(o.width-a.width)/("center"===o.textAlign?2:1),y:o.y+(o.height-a.height)/2},!1)}var o,a;return e}),!0),appState:Rl(Rl({},t),{},{currentItemFontSize:1===i.size?M(i)[0]:null!=r?r:t.currentItemFontSize}),commitToHistory:!0}},Bl=(Ml({name:"changeStrokeColor",perform:function(e,t,n){return Rl(Rl({},n.currentItemStrokeColor&&{elements:Dl(e,t,(function(e){return Sl(e.type)?si(e,{strokeColor:n.currentItemStrokeColor}):e}),!0)}),{},{appState:Rl(Rl({},t),n),commitToHistory:!!n.currentItemStrokeColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h3",{"aria-hidden":"true",children:C("labels.stroke")}),(0,O.jsx)(ts,{type:"elementStroke",label:C("labels.stroke"),color:Ll(t,n,(function(e){return e.strokeColor}),n.currentItemStrokeColor),onChange:function(e){return r({currentItemStrokeColor:e})},isActive:"strokeColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"strokeColorPicker":null})}})]})}}),Ml({name:"changeBackgroundColor",perform:function(e,t,n){return Rl(Rl({},n.currentItemBackgroundColor&&{elements:Dl(e,t,(function(e){return si(e,{backgroundColor:n.currentItemBackgroundColor})}))}),{},{appState:Rl(Rl({},t),n),commitToHistory:!!n.currentItemBackgroundColor})},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h3",{"aria-hidden":"true",children:C("labels.background")}),(0,O.jsx)(ts,{type:"elementBackground",label:C("labels.background"),color:Ll(t,n,(function(e){return e.backgroundColor}),n.currentItemBackgroundColor),onChange:function(e){return r({currentItemBackgroundColor:e})},isActive:"backgroundColorPicker"===n.openPopup,setActive:function(e){return r({openPopup:e?"backgroundColorPicker":null})}})]})}}),Ml({name:"changeFillStyle",perform:function(e,t,n){return{elements:Dl(e,t,(function(e){return si(e,{fillStyle:n})})),appState:Rl(Rl({},t),{},{currentItemFillStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.fill")}),(0,O.jsx)(Xa,{options:[{value:"hachure",text:C("labels.hachure"),icon:(0,O.jsx)(Ws,{theme:n.theme})},{value:"cross-hatch",text:C("labels.crossHatch"),icon:(0,O.jsx)(Ks,{theme:n.theme})},{value:"solid",text:C("labels.solid"),icon:(0,O.jsx)(qs,{theme:n.theme})}],group:"fill",value:Ll(t,n,(function(e){return e.fillStyle}),n.currentItemFillStyle),onChange:function(e){r(e)}})]})}}),Ml({name:"changeStrokeWidth",perform:function(e,t,n){return{elements:Dl(e,t,(function(e){return si(e,{strokeWidth:n})})),appState:Rl(Rl({},t),{},{currentItemStrokeWidth:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.strokeWidth")}),(0,O.jsx)(Xa,{group:"stroke-width",options:[{value:1,text:C("labels.thin"),icon:(0,O.jsx)(Xs,{theme:n.theme,strokeWidth:2})},{value:2,text:C("labels.bold"),icon:(0,O.jsx)(Xs,{theme:n.theme,strokeWidth:6})},{value:4,text:C("labels.extraBold"),icon:(0,O.jsx)(Xs,{theme:n.theme,strokeWidth:10})}],value:Ll(t,n,(function(e){return e.strokeWidth}),n.currentItemStrokeWidth),onChange:function(e){return r(e)}})]})}}),Ml({name:"changeSloppiness",perform:function(e,t,n){return{elements:Dl(e,t,(function(e){return si(e,{seed:ni(),roughness:n})})),appState:Rl(Rl({},t),{},{currentItemRoughness:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.sloppiness")}),(0,O.jsx)(Xa,{group:"sloppiness",options:[{value:0,text:C("labels.architect"),icon:(0,O.jsx)(Js,{theme:n.theme})},{value:1,text:C("labels.artist"),icon:(0,O.jsx)(el,{theme:n.theme})},{value:2,text:C("labels.cartoonist"),icon:(0,O.jsx)(tl,{theme:n.theme})}],value:Ll(t,n,(function(e){return e.roughness}),n.currentItemRoughness),onChange:function(e){return r(e)}})]})}}),Ml({name:"changeStrokeStyle",perform:function(e,t,n){return{elements:Dl(e,t,(function(e){return si(e,{strokeStyle:n})})),appState:Rl(Rl({},t),{},{currentItemStrokeStyle:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.strokeStyle")}),(0,O.jsx)(Xa,{group:"strokeStyle",options:[{value:"solid",text:C("labels.strokeStyle_solid"),icon:(0,O.jsx)(Zs,{theme:n.theme})},{value:"dashed",text:C("labels.strokeStyle_dashed"),icon:(0,O.jsx)(Ys,{theme:n.theme})},{value:"dotted",text:C("labels.strokeStyle_dotted"),icon:(0,O.jsx)(Qs,{theme:n.theme})}],value:Ll(t,n,(function(e){return e.strokeStyle}),n.currentItemStrokeStyle),onChange:function(e){return r(e)}})]})}}),Ml({name:"changeOpacity",perform:function(e,t,n){return{elements:Dl(e,t,(function(e){return si(e,{opacity:n})})),appState:Rl(Rl({},t),{},{currentItemOpacity:n}),commitToHistory:!0}},PanelComponent:function(e){var t,n=e.elements,r=e.appState,i=e.updateData;return(0,O.jsxs)("label",{className:"control-label",children:[C("labels.opacity"),(0,O.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(e){return i(+e.target.value)},onWheel:function(e){e.stopPropagation();var t=+e.target.value;e.deltaY<0&&t<100?i(t+10):e.deltaY>0&&t>0&&i(t-10)},value:null!==(t=Ll(n,r,(function(e){return e.opacity}),r.currentItemOpacity))&&void 0!==t?t:void 0})]})}}),Ml({name:"changeFontSize",perform:function(e,t,n){return jl(e,t,(function(){return n}),n)},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.fontSize")}),(0,O.jsx)(Xa,{group:"font-size",options:[{value:16,text:C("labels.small"),icon:(0,O.jsx)(cl,{theme:n.theme}),testId:"fontSize-small"},{value:20,text:C("labels.medium"),icon:(0,O.jsx)(ul,{theme:n.theme}),testId:"fontSize-medium"},{value:28,text:C("labels.large"),icon:(0,O.jsx)(dl,{theme:n.theme}),testId:"fontSize-large"},{value:36,text:C("labels.veryLarge"),icon:(0,O.jsx)(pl,{theme:n.theme}),testId:"fontSize-veryLarge"}],value:Ll(t,n,(function(e){if(ze(e))return e.fontSize;var t=kr(e);return t?t.fontSize:null}),n.currentItemFontSize||c.n5),onChange:function(e){return r(e)}})]})}}),Ml({name:"decreaseFontSize",perform:function(e,t,n){return jl(e,t,(function(e){return Math.round(1/1.1*e.fontSize)}))},keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.shiftKey&&(e.key===en.CHEVRON_LEFT||e.key===en.COMMA)}})),Fl=Ml({name:"increaseFontSize",perform:function(e,t,n){return jl(e,t,(function(e){return Math.round(1.1*e.fontSize)}))},keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.shiftKey&&(e.key===en.CHEVRON_RIGHT||e.key===en.PERIOD)}});function Ul(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function $l(e,t,n){return $l=Ul()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&B(i,n.prototype),i},$l.apply(null,arguments)}function Hl(e){var t="function"==typeof Map?new Map:void 0;return Hl=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return $l(e,arguments,$(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),B(r,e)},Hl(e)}function Gl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var i=$(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U(this,n)}}Ml({name:"changeFontFamily",perform:function(e,t,n){return{elements:Dl(e,t,(function(e){if(ze(e)){var t=si(e,{fontFamily:n});return ur(t,Tr(e)),t}return e}),!0),appState:Rl(Rl({},t),{},{currentItemFontFamily:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=[{value:c.ut.Virgil,text:C("labels.handDrawn"),icon:(0,O.jsx)(fl,{theme:n.theme})},{value:c.ut.Helvetica,text:C("labels.normal"),icon:(0,O.jsx)(hl,{theme:n.theme})},{value:c.ut.Cascadia,text:C("labels.code"),icon:(0,O.jsx)(ml,{theme:n.theme})}];return(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.fontFamily")}),(0,O.jsx)(Xa,{group:"font-family",options:i,value:Ll(t,n,(function(e){if(ze(e))return e.fontFamily;var t=kr(e);return t?t.fontFamily:null}),n.currentItemFontFamily||c.rk),onChange:function(e){return r(e)}})]})}}),Ml({name:"changeTextAlign",perform:function(e,t,n){return{elements:Dl(e,t,(function(e){if(ze(e)){var t=si(e,{textAlign:n});return ur(t,Tr(e)),t}return e}),!0),appState:Rl(Rl({},t),{},{currentItemTextAlign:n}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.textAlign")}),(0,O.jsx)(Xa,{group:"text-align",options:[{value:"left",text:C("labels.left"),icon:(0,O.jsx)(gl,{theme:n.theme})},{value:"center",text:C("labels.center"),icon:(0,O.jsx)(vl,{theme:n.theme})},{value:"right",text:C("labels.right"),icon:(0,O.jsx)(yl,{theme:n.theme})}],value:Ll(t,n,(function(e){if(ze(e))return e.textAlign;var t=kr(e);return t?t.textAlign:null}),n.currentItemTextAlign),onChange:function(e){return r(e)}})]})}}),Ml({name:"changeSharpness",perform:function(e,t,n){var r=Lc(Cc(e),t),i=r.length?r.every((function(e){return!qe(e)})):!Xe(t.elementType),o=r.length?r.every(qe):Xe(t.elementType);return{elements:Dl(e,t,(function(e){return si(e,{strokeSharpness:n})})),appState:Rl(Rl({},t),{},{currentItemStrokeSharpness:i?n:t.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:o?n:t.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.edges")}),(0,O.jsx)(Xa,{group:"edges",options:[{value:"sharp",text:C("labels.sharp"),icon:(0,O.jsx)(nl,{theme:n.theme})},{value:"round",text:C("labels.round"),icon:(0,O.jsx)(rl,{theme:n.theme})}],value:Ll(t,n,(function(e){return e.strokeSharpness}),El(n.elementType)&&(Xe(n.elementType)?n.currentItemLinearStrokeSharpness:n.currentItemStrokeSharpness)||null),onChange:function(e){return r(e)}})]})}}),Ml({name:"changeArrowhead",perform:function(e,t,n){return{elements:Dl(e,t,(function(e){if(qe(e)){var t=n.position,r=n.type;if("start"===t)return si(e,{startArrowhead:r});if("end"===t)return si(e,{endArrowhead:r})}return e})),appState:Rl(Rl({},t),{},N({},"start"===n.position?"currentItemStartArrowhead":"currentItemEndArrowhead",n.type)),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=E().rtl;return(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.arrowheads")}),(0,O.jsxs)("div",{className:"iconSelectList",children:[(0,O.jsx)(os,{label:"arrowhead_start",options:[{value:null,text:C("labels.arrowhead_none"),icon:(0,O.jsx)(il,{theme:n.theme}),keyBinding:"q"},{value:"arrow",text:C("labels.arrowhead_arrow"),icon:(0,O.jsx)(ol,{theme:n.theme,flip:!i}),keyBinding:"w"},{value:"bar",text:C("labels.arrowhead_bar"),icon:(0,O.jsx)(sl,{theme:n.theme,flip:!i}),keyBinding:"e"},{value:"dot",text:C("labels.arrowhead_dot"),icon:(0,O.jsx)(al,{theme:n.theme,flip:!i}),keyBinding:"r"},{value:"triangle",text:C("labels.arrowhead_triangle"),icon:(0,O.jsx)(ll,{theme:n.theme,flip:!i}),keyBinding:"t"}],value:Ll(t,n,(function(e){return qe(e)&&Cl(e.type)?e.startArrowhead:n.currentItemStartArrowhead}),n.currentItemStartArrowhead),onChange:function(e){return r({position:"start",type:e})}}),(0,O.jsx)(os,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:C("labels.arrowhead_none"),keyBinding:"q",icon:(0,O.jsx)(il,{theme:n.theme})},{value:"arrow",text:C("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,O.jsx)(ol,{theme:n.theme,flip:i})},{value:"bar",text:C("labels.arrowhead_bar"),keyBinding:"e",icon:(0,O.jsx)(sl,{theme:n.theme,flip:i})},{value:"dot",text:C("labels.arrowhead_dot"),keyBinding:"r",icon:(0,O.jsx)(al,{theme:n.theme,flip:i})},{value:"triangle",text:C("labels.arrowhead_triangle"),icon:(0,O.jsx)(ll,{theme:n.theme,flip:i}),keyBinding:"t"}],value:Ll(t,n,(function(e){return qe(e)&&Cl(e.type)?e.endArrowhead:n.currentItemEndArrowhead}),n.currentItemEndArrowhead),onChange:function(e){return r({position:"end",type:e})}})]})]})}}),n(5422);var Vl=function(e){F(n,e);var t=Gl(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Couldn't export canvas.",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CANVAS_ERROR";return R(this,n),(e=t.call(this)).name=i,e.message=r,e}return L(n)}(Hl(Error)),zl=function(e){F(n,e);var t=Gl(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Request Aborted";return R(this,n),t.call(this,e,"AbortError")}return L(n)}(Hl(DOMException)),Wl=(n(371),function(e){var t=e.size,n=void 0===t?"1em":t,r=e.circleWidth,i=void 0===r?8:r;return(0,O.jsx)("div",{className:"Spinner",children:(0,O.jsx)("svg",{viewBox:"0 0 100 100",style:{width:n,height:n},children:(0,O.jsx)("circle",{cx:"50",cy:"50",r:50-i/2,strokeWidth:i,fill:"none",strokeMiterlimit:"10"})})})}),Kl=l().forwardRef((function(e,t){var n=ng().id,r=l().useRef(null);l().useImperativeHandle(t,(function(){return r.current}));var i="ToolIcon_size_".concat(e.size),o=h((0,s.useState)(!1),2),a=o[0],c=o[1],u=(0,s.useRef)(!0),p=function(){var t=(0,d.Z)(g().mark((function t(n){var r,i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(i="onClick"in e&&(null===(r=e.onClick)||void 0===r?void 0:r.call(e,n)))||!("then"in i)){t.next=18;break}return t.prev=2,c(!0),t.next=6,i;case 6:t.next=15;break;case 8:if(t.prev=8,t.t0=t.catch(2),t.t0 instanceof zl){t.next=14;break}throw t.t0;case 14:console.warn(t.t0);case 15:return t.prev=15,u.current&&c(!1),t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[2,8,15,18]])})));return function(e){return t.apply(this,arguments)}}();(0,s.useEffect)((function(){return function(){u.current=!1}}),[]);var f=(0,s.useRef)(null);if("button"===e.type||"icon"===e.type||"submit"===e.type){var m="icon"===e.type?"button":e.type;return(0,O.jsxs)("button",{className:$e("ToolIcon_type_button",i,e.className,e.visible&&!e.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!e.hidden,"ToolIcon--selected":e.selected,"ToolIcon--plain":"icon"===e.type}),"data-testid":e["data-testid"],hidden:e.hidden,title:e.title,"aria-label":e["aria-label"],type:m,onClick:p,ref:r,disabled:a||e.isLoading,children:[(e.icon||e.label)&&(0,O.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[e.icon||e.label,e.keyBindingLabel&&(0,O.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel}),e.isLoading&&(0,O.jsx)(Wl,{})]}),e.showAriaLabel&&(0,O.jsxs)("div",{className:"ToolIcon__label",children:[e["aria-label"]," ",a&&(0,O.jsx)(Wl,{})]}),e.children]})}return(0,O.jsxs)("label",{className:$e("ToolIcon",e.className),title:e.title,onPointerDown:function(e){f.current=e.pointerType||null},onPointerUp:function(){requestAnimationFrame((function(){f.current=null}))},children:[(0,O.jsx)("input",{className:"ToolIcon_type_radio ".concat(i),type:"radio",name:e.name,"aria-label":e["aria-label"],"aria-keyshortcuts":e["aria-keyshortcuts"],"data-testid":e["data-testid"],id:"".concat(n,"-").concat(e.id),onChange:function(){var t;null===(t=e.onChange)||void 0===t||t.call(e,{pointerType:f.current})},checked:e.checked,ref:r}),(0,O.jsxs)("div",{className:"ToolIcon__icon",children:[e.icon,e.keyBindingLabel&&(0,O.jsx)("span",{className:"ToolIcon__keybinding",children:e.keyBindingLabel})]})]})}));Kl.defaultProps={visible:!0,className:"",size:"medium"};var ql=function(e){var t=e.title||("dark"===e.value?C("buttons.lightMode"):C("buttons.darkMode"));return(0,O.jsx)(Kl,{type:"icon",icon:e.value===c.C6.LIGHT?Xl.MOON:Xl.SUN,title:t,"aria-label":t,onClick:function(){return e.onChange(e.value===c.C6.DARK?c.C6.LIGHT:c.C6.DARK)},"data-testid":"toggle-dark-mode"})},Xl={SUN:(0,O.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,O.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,O.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,O.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},Zl=function(e){var t=e.scenePoint,n=e.viewportDimensions,r=e.zoom;return{scrollX:n.width/2*(1/r.value)-t.x,scrollY:n.height/2*(1/r.value)-t.y}},Yl=function(e,t,n){if(!(e=_c(e)).length)return{scrollX:0,scrollY:0};var r=h(St(e),4),i=r[0],o=r[1],a=r[2],s=r[3];if(function(e,t,n){var r=h(n,4),i=r[0],o=r[1],a=r[2],s=r[3],l=xn({sceneX:i,sceneY:o},e),c=l.x,u=l.y,d=xn({sceneX:a,sceneY:s},e),p=d.x,f=d.y;return p-c>e.width||f-u>e.height}(t,0,[i,o,a,s])){var l=function(e,t){if(!e.length)return[0,0,0,0];var n=1/0,r=e[0];return e.forEach((function(e){var i=h(xt(e),4),o=i[0],a=i[1],s=i[2],l=i[3],c=it((o+s)/2,(a+l)/2,t.x,t.y);c<n&&(n=c,r=e)})),xt(r)}(e,wn({clientX:t.scrollX,clientY:t.scrollY},t)),c=h(l,4);i=c[0],o=c[1],a=c[2],s=c[3]}return Zl({scenePoint:{x:(i+a)/2,y:(o+s)/2},viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})},Ql=function(e){return Math.max(.1,Math.min(e,30))},Jl=function(e,t){var n=e.viewportX,r=e.viewportY,i=e.nextZoom,o=n-t.offsetLeft,a=r-t.offsetTop,s=t.zoom.value;return{scrollX:t.scrollX+(o-o/s)+-(o-o/i),scrollY:t.scrollY+(a-a/s)+-(a-a/i),zoom:{value:i}}},ec=(n(6781),function(){var e=document.querySelector(".excalidraw-tooltip");if(e)return e;var t=document.createElement("div");return document.body.appendChild(t),t.classList.add("excalidraw-tooltip"),t}),tc=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"bottom",i=e.getBoundingClientRect(),o=window.innerWidth,a=window.innerHeight,s=5,l=t.left+t.width/2-i.width/2;l<0?l=s:l+i.width>=o&&(l=o-i.width-s),"bottom"===r?(n=t.top+t.height+s)+i.height>=a&&(n=t.top-i.height-s):(n=t.top-i.height-s)<0&&(n=t.top+t.height+s),Object.assign(e.style,{top:"".concat(n,"px"),left:"".concat(l,"px")})},nc=function(e){var t=e.children,n=e.label,r=e.long,i=void 0!==r&&r,o=e.style;return(0,s.useEffect)((function(){return function(){return ec().classList.remove("excalidraw-tooltip--visible")}}),[]),(0,O.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(e){return function(e,t,n,r){t.classList.add("excalidraw-tooltip--visible"),t.style.minWidth=r?"50ch":"10ch",t.style.maxWidth=r?"50ch":"15ch",t.textContent=n;var i=e.getBoundingClientRect();tc(t,i)}(e.currentTarget,ec(),n,i)},onPointerLeave:function(){return ec().classList.remove("excalidraw-tooltip--visible")},style:o,children:t})};function rc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rc(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(196),n(1106);var oc=l().forwardRef((function(e,t){var n=e.children,r=e.padding,i=e.className,o=e.style;return(0,O.jsx)("div",{className:$e("Island",i),style:ic({"--padding":r},o),ref:t,children:n})})),ac=(n(8328),function(e){var t=e.theme,n=void 0===t?c.C6.LIGHT:t,r=e.closeOnClickOutside,i=void 0===r||r,o=sc(n);return o?(0,Pt.createPortal)((0,O.jsxs)("div",{className:$e("Modal",e.className),role:"dialog","aria-modal":"true",onKeyDown:function(t){t.key===en.ESCAPE&&(t.nativeEvent.stopImmediatePropagation(),t.stopPropagation(),e.onCloseRequest())},"aria-labelledby":e.labelledBy,children:[(0,O.jsx)("div",{className:"Modal__background",onClick:i?e.onCloseRequest:void 0}),(0,O.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(e.maxWidth,"px")},tabIndex:0,children:e.children})]}),o):null}),sc=function(e){var t=h((0,s.useState)(null),2),n=t[0],r=t[1],i=eg(),o=(0,s.useRef)(i);o.current=i;var a=ng().container;return(0,s.useLayoutEffect)((function(){n&&n.classList.toggle("excalidraw--mobile",i)}),[n,i]),(0,s.useLayoutEffect)((function(){var t=!(null==a||!a.classList.contains("theme--dark"))||"dark"===e,n=document.createElement("div");return n.classList.add("excalidraw","excalidraw-modal-container"),n.classList.toggle("excalidraw--mobile",o.current),t&&(n.classList.add("theme--dark"),n.classList.add("theme--dark-background-none")),document.body.appendChild(n),r(n),function(){document.body.removeChild(n)}}),[a,e]),n},lc=function(e){var t=function(){var e=h((0,s.useState)(null),2),t=e[0],n=e[1];return[t,(0,s.useCallback)((function(e){return n(e)}),[])]}(),n=h(t,2),r=n[0],i=n[1],o=h((0,s.useState)(document.activeElement),1)[0],a=ng().id;(0,s.useEffect)((function(){if(r){var t=l(r);t.length>0&&!1!==e.autofocus&&(t[1]||t[0]).focus();var n=function(e){if(e.key===en.TAB){var t=l(r),n=document.activeElement,i=t.findIndex((function(e){return e===n}));0===i&&e.shiftKey?(t[t.length-1].focus(),e.preventDefault()):i!==t.length-1||e.shiftKey||(t[0].focus(),e.preventDefault())}};return r.addEventListener("keydown",n),function(){return r.removeEventListener("keydown",n)}}}),[r,e.autofocus]);var l=function(e){var t=e.querySelectorAll("button, a, input, select, textarea, div[tabindex]");return t?Array.from(t):[]},c=function(){o.focus(),e.onCloseRequest()};return(0,O.jsx)(ac,{className:$e("Dialog",e.className),labelledBy:"dialog-title",maxWidth:e.small?550:800,onCloseRequest:c,theme:e.theme,closeOnClickOutside:e.closeOnClickOutside,children:(0,O.jsxs)(oc,{ref:i,children:[(0,O.jsxs)("h2",{id:"".concat(a,"-dialog-title"),className:"Dialog__title",children:[(0,O.jsx)("span",{className:"Dialog__titleContent",children:e.title}),(0,O.jsx)("button",{className:"Modal__close",onClick:c,"aria-label":C("buttons.close"),children:eg()?$s:Us})]}),(0,O.jsx)("div",{className:"Dialog__content",children:e.children})]})})},cc=(n(4678),["onConfirm","onCancel","children","confirmText","cancelText","className"]);function uc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uc(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pc=function(e){var t=e.onConfirm,n=e.onCancel,r=e.children,i=e.confirmText,o=void 0===i?C("buttons.confirm"):i,a=e.cancelText,s=void 0===a?C("buttons.cancel"):a,l=e.className,c=void 0===l?"":l,u=pi(e,cc);return(0,O.jsxs)(lc,dc(dc({onCloseRequest:n,small:!0},u),{},{className:"confirm-dialog ".concat(c),children:[r,(0,O.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,O.jsx)(Kl,{type:"button",title:s,"aria-label":s,label:s,onClick:n,className:"confirm-dialog--cancel"}),(0,O.jsx)(Kl,{type:"button",title:o,"aria-label":o,label:o,onClick:t,className:"confirm-dialog--confirm"})]})]}))},fc=function(e){var t=e.onConfirm,n=h((0,s.useState)(!1),2),r=n[0],i=n[1],o=function(){i(!r)};return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Kl,{type:"button",icon:ms,title:C("buttons.clearReset"),"aria-label":C("buttons.clearReset"),showAriaLabel:eg(),onClick:o,"data-testid":"clear-canvas-button"}),r&&(0,O.jsx)(pc,{onConfirm:function(){t(),o()},onCancel:o,title:C("clearCanvasDialog.title"),children:(0,O.jsxs)("p",{className:"clear-canvas__content",children:[" ",C("alerts.clearReset")]})})]})};function hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hc(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ml({name:"changeViewBackgroundColor",perform:function(e,t,n){return{appState:mc(mc({},t),n),commitToHistory:!!n.viewBackgroundColor}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,O.jsx)("div",{style:{position:"relative"},children:(0,O.jsx)(ts,{label:C("labels.canvasBackground"),type:"canvasBackground",color:t.viewBackgroundColor,onChange:function(e){return n({viewBackgroundColor:e})},isActive:"canvasColorPicker"===t.openPopup,setActive:function(e){return n({openPopup:e?"canvasColorPicker":null})},"data-testid":"canvas-background-picker"})})}}),Ml({name:"clearCanvas",perform:function(e,t,n,r){return r.imageCache.clear(),{elements:e.map((function(e){return si(e,{isDeleted:!0})})),appState:mc(mc({},jn()),{},{files:{},theme:t.theme,elementLocked:t.elementLocked,penMode:t.penMode,penDetected:t.penDetected,exportBackground:t.exportBackground,exportEmbedScene:t.exportEmbedScene,gridSize:t.gridSize,showStats:t.showStats,pasteDialog:t.pasteDialog,elementType:"image"===t.elementType?"selection":t.elementType}),commitToHistory:!0}},PanelComponent:function(e){var t=e.updateData;return(0,O.jsx)(fc,{onConfirm:t})}});var gc=Ml({name:"zoomIn",perform:function(e,t,n,r){return{appState:mc(mc({},t),Jl({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:Ql(t.zoom.value+c.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,O.jsx)(Kl,{type:"button",icon:ws,title:"".concat(C("buttons.zoomIn")," \u2014 ").concat(bn("CtrlOrCmd++")),"aria-label":C("buttons.zoomIn"),onClick:function(){t(null)},size:"small"})},keyTest:function(e){return(e.code===Nt||e.code===Dt)&&(e[en.CTRL_OR_CMD]||e.shiftKey)}}),vc=Ml({name:"zoomOut",perform:function(e,t,n,r){return{appState:mc(mc({},t),Jl({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:Ql(t.zoom.value-c.V4)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,O.jsx)(Kl,{type:"button",icon:xs,title:"".concat(C("buttons.zoomOut")," \u2014 ").concat(bn("CtrlOrCmd+-")),"aria-label":C("buttons.zoomOut"),onClick:function(){t(null)},size:"small"})},keyTest:function(e){return(e.code===Rt||e.code===Lt)&&(e[en.CTRL_OR_CMD]||e.shiftKey)}}),yc=(Ml({name:"resetZoom",perform:function(e,t,n,r){return{appState:mc(mc({},t),Jl({viewportX:t.width/2+t.offsetLeft,viewportY:t.height/2+t.offsetTop,nextZoom:Ql(1)},t)),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,O.jsx)(nc,{label:C("buttons.resetZoom"),style:{height:"100%"},children:(0,O.jsxs)(Kl,{type:"button",className:"reset-zoom-button",title:C("buttons.resetZoom"),"aria-label":C("buttons.resetZoom"),onClick:function(){t(null)},size:"small",children:[(100*n.zoom.value).toFixed(0),"%"]})})},keyTest:function(e){return(e.code===Gt||e.code===jt)&&(e[en.CTRL_OR_CMD]||e.shiftKey)}}),function(e,t){var n=h(e,4),r=n[0],i=n[1],o=n[2],a=n[3],s=o-r,l=t.width/s,u=a-i,d=t.height/u,p=Math.min(l,d),f=Math.floor(p/c.V4)*c.V4;return Math.min(Math.max(f,c.V4),1)}),bc=function(e,t,n){var r=Cc(e),i=Dc(r,t),o=n&&i.length>0?St(i):St(r),a={value:yc(o,{width:t.width,height:t.height})},s=h(o,4),l=s[0],c=s[1],u=(l+s[2])/2,d=(c+s[3])/2;return{appState:mc(mc(mc({},t),Zl({scenePoint:{x:u,y:d},viewportDimensions:{width:t.width,height:t.height},zoom:a})),{},{zoom:a}),commitToHistory:!1}},wc=(Ml({name:"zoomToSelection",perform:function(e,t){return bc(e,t,!0)},keyTest:function(e){return e.code===$t&&e.shiftKey&&!e.altKey&&!e[en.CTRL_OR_CMD]}}),Ml({name:"zoomToFit",perform:function(e,t){return bc(e,t,!1)},keyTest:function(e){return e.code===Ut&&e.shiftKey&&!e.altKey&&!e[en.CTRL_OR_CMD]}}),Ml({name:"toggleTheme",perform:function(e,t,n){return{appState:mc(mc({},t),{},{theme:n||(t.theme===c.C6.LIGHT?c.C6.DARK:c.C6.LIGHT)}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,O.jsx)("div",{style:{marginInlineStart:"0.25rem"},children:(0,O.jsx)(ql,{value:t.theme,onChange:function(e){n(e)}})})},keyTest:function(e){return e.altKey&&e.shiftKey&&e.code===Wt}}),function(e,t,n,r,i,o){var a=r.zoom,s=180*n/Math.PI,l=e*(a.value-1)/2,c=t*(a.value-1)/2;return e>i&&1!==a.value&&(l=i*(a.value-1)/2),t>o&&1!==a.value&&(c=o*(a.value-1)/2),"translate(".concat(l,"px, ").concat(c,"px) scale(").concat(a.value,") rotate(").concat(s,"deg)")}),xc=function(e){var t,n=e.id,r=e.onChange,i=e.onSubmit,o=e.getViewportCoords,a=e.element,s=e.canvas,l=e.excalidrawContainer,u=e.app,d=function(){var e,r=u.state,i=null===(e=cr.getScene(a))||void 0===e?void 0:e.getElement(n),s=gr(dn(i));if(i&&ze(i)){var l=i.x,d=i.y,f=Tr(i),m=i.width,g=i.height,v=i.width,y=i.height;if(f&&i.containerId){var b=function(e,t){var n=t.style.fontFamily.replace(/"/g,"");return un({fontFamily:e.fontFamily})!==n||"".concat(e.fontSize,"px")!==t.style.fontSize}(i,p),w=Number(p.style.height.slice(0,-2));if(w>0&&(y=w),b&&(t=f.height,y=i.height),t||(t=f.height),m=f.width-2*c.gK,g=f.height-2*c.gK,v=m,l=f.x+c.gK,y>g){var x=Math.min(y-g,s);return void ai(f,{height:f.height+x})}if(f.height>t&&y<g){var S=Math.min(g-y,s);ai(f,{height:f.height-S})}else d=f.y+f.height/2-y/2}var k=h(o(l,d),2),T=k[0],E=k[1],_=i.textAlign;p.value=i.originalText;var C=i.originalText.split("\n"),O=i.containerId?s:i.height/C.length;f||(m=(r.width-8-T)/r.zoom.value);var P=(r.height-E)/r.zoom.value,A=f?f.angle:i.angle;Object.assign(p.style,{font:dn(i),lineHeight:"".concat(O,"px"),width:"".concat(v,"px"),height:"".concat(y,"px"),left:"".concat(T,"px"),top:"".concat(E,"px"),transform:wc(v,y,A,r,m,P),textAlign:_,color:i.strokeColor,opacity:i.opacity/100,filter:"var(--theme-filter)",maxWidth:"".concat(m,"px"),maxHeight:"".concat(P,"px")}),Mn()&&(p.style.fontFamily=un(i)),ai(i,{x:l,y:d})}},p=document.createElement("textarea");p.dir="auto",p.tabIndex=0,p.dataset.type="wysiwyg",p.wrap="off",p.classList.add("excalidraw-wysiwyg");var f="pre",m="normal";et(a)&&(f="pre-wrap",m="break-word"),Object.assign(p.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:m,whiteSpace:f,overflowWrap:"break-word"}),d(),r&&(p.oninput=function(){var e,t=null===(e=cr.getScene(a))||void 0===e?void 0:e.getElement(n),i=dn(t),o=p.scrollHeight/gr(i);if(et(a)&&o>1){var s="auto";if(2===o){var l=Tr(a);1===yr(p.value,i,l.width).split("\n").length&&(s="".concat(p.scrollHeight/2,"px"))}p.style.height=s,p.style.height="".concat(p.scrollHeight,"px")}r(p.value.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n"))}),p.onkeydown=function(e){if(e.stopPropagation(),!e.shiftKey&&gc.keyTest(e))e.preventDefault(),u.actionManager.executeAction(gc),d();else if(!e.shiftKey&&vc.keyTest(e))e.preventDefault(),u.actionManager.executeAction(vc),d();else if(Bl.keyTest(e))u.actionManager.executeAction(Bl);else if(Fl.keyTest(e))u.actionManager.executeAction(Fl);else if(e.key===en.ESCAPE)e.preventDefault(),S=!0,k();else if(e.key===en.ENTER&&e[en.CTRL_OR_CMD]){if(e.preventDefault(),e.isComposing||229===e.keyCode)return;S=!0,k()}else(e.key===en.TAB||e[en.CTRL_OR_CMD]&&(e.code===Ft||e.code===Bt))&&(e.preventDefault(),e.shiftKey||e.code===Ft?b():y(),p.dispatchEvent(new Event("input")))};var g=" ".repeat(4),v=new RegExp("^ {1,".concat(4,"}")),y=function(){var e=p.selectionStart,t=p.selectionEnd,n=w(),r=p.value;n.forEach((function(e){var t=r.slice(0,e),n=r.slice(e);r="".concat(t).concat(g).concat(n)})),p.value=r,p.selectionStart=e+4,p.selectionEnd=t+4*n.length},b=function(){var e=p.selectionStart,t=p.selectionEnd,n=w(),r=[],i=p.value;n.forEach((function(e){var t=i.slice(e,e+4).match(v);if(t){var n=i.slice(0,e),o=i.slice(e+t[0].length);i="".concat(n).concat(o),r.push(e)}})),p.value=i,r.length&&(e>r[r.length-1]?p.selectionStart=Math.max(e-4,r[r.length-1]):p.selectionStart=e,p.selectionEnd=Math.max(p.selectionStart,t-4*r.length))},w=function(){var e=p.selectionStart,t=p.selectionEnd,n=p.value,r=n.slice(0,e).match(/[^\n]*$/)[0].length;return e-=r,n.slice(e,t).split("\n").reduce((function(t,n,r,i){return t.concat(r?t[r-1]+i[r-1].length+1:e)}),[]).reverse()},x=function(e){e.preventDefault(),e.stopPropagation()},S=!1,k=function(){var e;T();var t=null===(e=cr.getScene(a))||void 0===e?void 0:e.getElement(a.id);if(t){var n=p.value,r=Tr(t);if(r)if(n=t.text,p.value){var o=Sr(r);o&&o===a.id||ai(r,{boundElements:(r.boundElements||[]).concat({type:"text",id:a.id})})}else{var s;ai(r,{boundElements:null===(s=r.boundElements)||void 0===s?void 0:s.filter((function(e){return!ze(e)}))})}i({text:n,viaKeyboard:S,originalText:p.value})}},T=function(){O||(O=!0,p.onblur=null,p.oninput=null,p.onkeydown=null,P&&P.disconnect(),window.removeEventListener("resize",d),window.removeEventListener("wheel",x,!0),window.removeEventListener("pointerdown",_),window.removeEventListener("pointerup",E),window.removeEventListener("blur",k),C(),p.remove())},E=function e(t){window.removeEventListener("pointerup",e);var n=null==t?void 0:t.target,r=n instanceof HTMLInputElement&&n.closest(".color-picker-input")&&cn(n);setTimeout((function(){p.onblur=k,n&&r&&(n.onblur=function(){p.focus()}),r||p.focus()}))},_=function(e){var t=e.target instanceof HTMLInputElement&&e.target.closest(".color-picker-input")&&cn(e.target);((e.target instanceof HTMLElement||e.target instanceof SVGElement)&&e.target.closest(".".concat(c.$C.SHAPE_ACTIONS_MENU))&&!cn(e.target)||t)&&(p.onblur=null,window.addEventListener("pointerup",E),window.addEventListener("blur",k))},C=cr.getScene(a).addCallback((function(){var e;d(),null!==(e=document.activeElement)&&void 0!==e&&e.closest(".color-picker-input")||p.focus()})),O=!1;p.select(),E();var P=null;s&&"ResizeObserver"in window?(P=new window.ResizeObserver((function(){d()}))).observe(s):window.addEventListener("resize",d),window.addEventListener("pointerdown",_),window.addEventListener("wheel",x,{passive:!1,capture:!0}),null==l||l.querySelector(".excalidraw-textEditorContainer").appendChild(p)},Sc=function(e,t){return Boolean(!e.viewModeEnabled&&(e.editingElement||Dc(t,e).length||"selection"!==e.elementType))};function kc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kc(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ec=function(e){return e.reduce((function(e,t){return e+t.version}),0)},_c=function(e){return e.filter((function(e){return!e.isDeleted&&!ci(e)}))},Cc=function(e){return e.filter((function(e){return!e.isDeleted}))},Oc=function(e){return!e.isDeleted},Pc=function(e){return Cc(e).map((function(e){return Xe(e.type)?Tc(Tc({},e),{},{lastCommittedPoint:null}):e}))},Ac=function(e){return Pc(e)},Ic=function(e){return Pc(e)},Mc=function(e,t,n){var r=h([e.horizontal,e.vertical].map((function(e){return null!=e&&e.x<=t&&t<=e.x+e.width&&e.y<=n&&n<=e.y+e.height})),2),i=r[0],o=r[1];return{isOverEither:i||o,isOverHorizontal:i,isOverVertical:o}},Nc=function(e,t){return e.some((function(e){return t.selectedElementIds[e.id]}))},Rc=function(e,t,n){var r=Array.from(new Set(Dc(e,t).map((function(e){return n(e)}))));return 1===r.length?r[0]:null},Dc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e.filter((function(e){return t.selectedElementIds[e.id]||n&&et(e)&&t.selectedElementIds[null==e?void 0:e.containerId]?e:null}))},Lc=function(e,t){return t.editingElement?[t.editingElement]:Dc(e,t,!0)};function jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Bc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jc(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Fc=function(e,t){if(e.editingGroupId){var n=ki(Cc(t),e.editingGroupId);if(n.length)return Bc(Bc({},e),{},{selectedElementIds:N({},n[0].id,!0)})}return e},Uc=Ml({name:"deleteSelectedElements",perform:function(e,t){if(t.editingLinearElement){var n=t.editingLinearElement,r=n.elementId,i=n.selectedPointsIndices,o=n.startBindingElement,a=n.endBindingElement,s=aa.getElement(r);if(!s)return!1;if(null==i||s.points.length<2){var l=e.filter((function(e){return e.id!==s.id}));return{elements:l,appState:Bc(Bc({},Fc(t,l)),{},{editingLinearElement:null}),commitToHistory:!1}}var c={startBindingElement:null!=i&&i.includes(0)?null:o,endBindingElement:null!=i&&i.includes(s.points.length-1)?null:a};return aa.deletePoints(s,i),{elements:e,appState:Bc(Bc({},t),{},{editingLinearElement:Bc(Bc(Bc({},t.editingLinearElement),c),{},{selectedPointsIndices:(null==i?void 0:i[0])>0?[i[0]-1]:[0]})}),commitToHistory:!0}}var u=function(e,t){return{elements:e.map((function(e){return t.selectedElementIds[e.id]||et(e)&&t.selectedElementIds[e.containerId]?si(e,{isDeleted:!0}):e})),appState:Bc(Bc({},t),{},{selectedElementIds:{}})}}(e,t),d=u.elements,p=u.appState;return Ra(d,e.filter((function(e){var n=e.id;return t.selectedElementIds[n]}))),{elements:d,appState:Bc(Bc({},p=Fc(p,d)),{},{elementType:"selection",multiElement:null}),commitToHistory:Nc(Cc(e),t)}},contextItemLabel:"labels.delete",keyTest:function(e){return e.key===en.BACKSPACE||e.key===en.DELETE},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{type:"button",icon:ms,title:C("labels.delete"),"aria-label":C("labels.delete"),onClick:function(){return r(null)},visible:Nc(Cc(t),n)})}}),$c=function(e,t){for(var n=[],r=[],i=null,o=-1,a=In(Dc(e,t,!0));++o<e.length;)a.get(e[o].id)?(r.length&&(n=n.concat(r),r=[]),n.push(o),i=o+1):e[o].isDeleted&&i===o?(i=o+1,r.push(o)):r=[];return n},Hc=function(e,t,n){if("containerId"in e&&e.containerId){if("left"!==n)return t.indexOf(e);var r=cr.getScene(e).getElement(e.containerId);if(r)return t.indexOf(r)}else{var i,o,a=null===(i=e.boundElements)||void 0===i||null===(o=i.find((function(e){return"arrow"!==e.type})))||void 0===o?void 0:o.id;if(a){if("left"===n)return t.indexOf(e);var s=cr.getScene(e).getElement(a);if(s)return t.indexOf(s)}}},Gc=function(e,t,n,r){var i,o=t[n],a=function(t){return!t.isDeleted&&(!e.editingGroupId||t.groupIds.includes(e.editingGroupId))},s="left"===r?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length-1;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length-1,Math.max(n,0)))+1;--r>-1;)if(t(e[r],r,e))return r;return-1}(t,a,Math.max(0,n-1)):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n<0&&(n=e.length+n);for(var r=(n=Math.min(e.length,Math.max(n,0)))-1;++r<e.length;)if(t(e[r],r,e))return r;return-1}(t,a,n+1),l=t[s];if(!l)return-1;if(e.editingGroupId){var c;if((null==o?void 0:o.groupIds.join(""))===(null==l?void 0:l.groupIds.join("")))return null!==(c=Hc(l,t,r))&&void 0!==c?c:s;if(null==l||!l.groupIds.includes(e.editingGroupId))return-1}if(!l.groupIds.length)return null!==(i=Hc(l,t,r))&&void 0!==i?i:s;var u=e.editingGroupId?l.groupIds[l.groupIds.indexOf(e.editingGroupId)-1]:l.groupIds[l.groupIds.length-1],d=ki(t,u);return d.length?"left"===r?t.indexOf(d[0]):t.indexOf(d[d.length-1]):s},Vc=function(e,t){return t.reduce((function(t,n){var r=e[n];return t[r.id]=r,t}),{})},zc=function(e,t,n){var r,i,o=$c(t,e),a=Vc(t,o),s=(i=0,(r=o).reduce((function(e,t,n){return n>0&&r[n-1]!==t-1&&(i=++i),(e[i]||(e[i]=[])).push(t),e}),[]));return"right"===n&&(s=s.reverse()),s.forEach((function(r,i){var o=r[0],a=r[r.length-1],s="left"===n?o:a,l=Gc(e,t,s,n);if(-1!==l&&s!==l){var c="left"===n?t.slice(0,l):t.slice(0,o),u=t.slice(o,a+1),d="left"===n?t.slice(l,o):t.slice(a+1,l+1),p="left"===n?t.slice(a+1):t.slice(l+1);t="left"===n?[].concat(M(c),M(u),M(d),M(p)):[].concat(M(c),M(d),M(u),M(p))}})),t.map((function(e){return a[e.id]?li(e):e}))},Wc=function(e,t,n){var r,i,o=$c(e,t),a=Vc(e,o),s=[];if("left"===n){if(t.editingGroupId){var l=ki(e,t.editingGroupId);if(!l.length)return e;r=e.indexOf(l[0])}else r=0;i=o[o.length-1]}else{if(t.editingGroupId){var c=ki(e,t.editingGroupId);if(!c.length)return e;i=e.indexOf(c[c.length-1])}else i=e.length-1;r=o[0]}for(var u=r;u<i+1;u++)o.includes(u)||s.push(e[u]);var d=Object.values(a).map((function(e){return li(e)})),p=e.slice(0,r),f=e.slice(i+1);return"left"===n?[].concat(M(p),M(d),s,M(f)):[].concat(M(p),s,M(d),M(f))},Kc=function(e,t){return zc(t,e,"left")},qc=function(e,t){return zc(t,e,"right")},Xc=function(e,t){return Wc(e,t,"left")},Zc=function(e,t){return Wc(e,t,"right")},Yc=Ml({name:"sendBackward",perform:function(e,t){return{elements:Kc(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(e){return e[en.CTRL_OR_CMD]&&!e.shiftKey&&e.code===Ft},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,O.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(C("labels.sendBackward")," \u2014 ").concat(bn("CtrlOrCmd+[")),children:(0,O.jsx)(Os,{theme:n.theme})})}}),Qc=Ml({name:"bringForward",perform:function(e,t){return{elements:qc(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(e){return e[en.CTRL_OR_CMD]&&!e.shiftKey&&e.code===Bt},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,O.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(C("labels.bringForward")," \u2014 ").concat(bn("CtrlOrCmd+]")),children:(0,O.jsx)(Cs,{theme:n.theme})})}}),Jc=Ml({name:"sendToBack",perform:function(e,t){return{elements:Xc(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(e){return At?e[en.CTRL_OR_CMD]&&e.altKey&&e.code===Ft:e[en.CTRL_OR_CMD]&&e.shiftKey&&e.code===Ft},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,O.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return t(null)},title:"".concat(C("labels.sendToBack")," \u2014 ").concat(bn(At?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")),children:(0,O.jsx)(As,{theme:n.theme})})}}),eu=Ml({name:"bringToFront",perform:function(e,t){return{elements:Zc(e,t),appState:t,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(e){return At?e[en.CTRL_OR_CMD]&&e.altKey&&e.code===Bt:e[en.CTRL_OR_CMD]&&e.shiftKey&&e.code===Bt},PanelComponent:function(e){var t=e.updateData,n=e.appState;return(0,O.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(e){return t(null)},title:"".concat(C("labels.bringToFront")," \u2014 ").concat(bn(At?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")),children:(0,O.jsx)(Ps,{theme:n.theme})})}});function tu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function nu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tu(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ru=Ml({name:"selectAll",perform:function(e,t){return!t.editingLinearElement&&{appState:xi(nu(nu({},t),{},{editingGroupId:null,selectedElementIds:e.reduce((function(e,t){return t.isDeleted||ze(t)&&t.containerId||(e[t.id]=!0),e}),{})}),Cc(e)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.key===en.A}});function iu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ou(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iu(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var au=Ml({name:"duplicateSelection",perform:function(e,t){if(t.editingLinearElement){var n=aa.duplicateSelectedPoints(t);return!!n&&{elements:e,appState:n.appState,commitToHistory:!0}}return ou(ou({},su(e,t)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.key===en.D},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{type:"button",icon:Hs,title:"".concat(C("labels.duplicateSelection")," \u2014 ").concat(bn("CtrlOrCmd+D")),"aria-label":C("labels.duplicateSelection"),onClick:function(){return r(null)},visible:Nc(Cc(t),n)})}}),su=function(e,t){for(var n=new Map,r=[],i=[],o=new Map,a=function(e){var a=Li(t.editingGroupId,n,e,{x:e.x+c.k/2,y:e.y+c.k/2});return o.set(e.id,a.id),i.push(e),r.push(a),a},s=[],l=0,u=In(Dc(e,t,!0));l<e.length;){var d=e[l];if(u.get(d.id)){if(d.groupIds.length){var p=bi(t,d);if(p){var f=ki(e,p);s.push.apply(s,M(f).concat(M(f.map((function(e){return a(e)}))))),l+=f.length;continue}}s.push(d,a(d))}else s.push(d);l++}return dr(s,i,o),Ma(s,i,o),{elements:s,appState:xi(ou(ou({},t),{},{selectedGroupIds:{},selectedElementIds:r.reduce((function(e,t){return et(t)||(e[t.id]=!0),e}),{})}),Cc(s))}};function lu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lu(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var uu,du,pu,fu=Ml({name:"finalize",perform:function(e,t,n,r){var i,o=r.canvas,a=r.focusContainer;if(t.editingLinearElement){var s=t.editingLinearElement,l=s.elementId,c=s.startBindingElement,u=s.endBindingElement,d=aa.getElement(l);if(d)return Ze(d)&&ua(d,c,u),{elements:d.points.length<2||ci(d)?e.filter((function(e){return e.id!==d.id})):void 0,appState:cu(cu({},t),{},{editingLinearElement:null}),commitToHistory:!0}}var p=e;t.pendingImageElement&&ai(t.pendingImageElement,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&a();var f=t.multiElement?t.multiElement:"freedraw"===(null===(i=t.editingElement)||void 0===i?void 0:i.type)?t.editingElement:null;if(f){if("freedraw"!==f.type&&"touch"!==t.lastPointerDownWith){var m=f.points,g=f.lastCommittedPoint;g&&m[m.length-1]===g||ai(f,{points:f.points.slice(0,-1)})}ci(f)&&(p=p.slice(0,-1));var v=ot(f.points,t.zoom.value);if(("line"===f.type||"freedraw"===f.type)&&v){var y=f.points,b=y[0];ai(f,{points:y.map((function(e,t){return t===y.length-1?[b[0],b[1]]:e}))})}if(Ze(f)&&!v&&f.points.length>1){var w=h(aa.getPointAtIndexGlobalCoordinates(f,-1),2),x=w[0],S=w[1];ha(f,t,cr.getScene(f),{x,y:S})}t.elementLocked||"freedraw"===t.elementType||(t.selectedElementIds[f.id]=!0)}return(t.elementLocked||"freedraw"===t.elementType)&&f||mn(o),{elements:p,appState:cu(cu({},t),{},{elementType:(t.elementLocked||"freedraw"===t.elementType)&&f?t.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:f&&!t.elementLocked&&"freedraw"!==t.elementType?cu(cu({},t.selectedElementIds),{},N({},f.id,!0)):t.selectedElementIds,pendingImageElement:null}),commitToHistory:"freedraw"===t.elementType}},keyTest:function(e,t){return e.key===en.ESCAPE&&(null!==t.editingLinearElement||!t.draggingElement&&null===t.multiElement)||(e.key===en.ESCAPE||e.key===en.ENTER)&&null!==t.multiElement},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,O.jsx)(Kl,{type:"button",icon:Ss,title:C("buttons.done"),"aria-label":C("buttons.done"),onClick:n,visible:null!=t.multiElement})}}),hu="undefined"!=typeof process&&null!==(uu={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})&&void 0!==uu&&uu.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(e,t,n,r){window.gtag("event",t,{event_category:e,event_label:n,value:r})}:("undefined"!=typeof process&&null!==(du={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_SOCKET_SERVER_URL:"https://oss-collab-us1.excalidraw.com",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13"})&&void 0!==du&&du.JEST_WORKER_ID,function(e,t,n,r){}),mu=(n(518),n(9966),function(e){var t=ng().id,n=h((0,s.useState)(e.value),2),r=n[0],i=n[1];return(0,O.jsxs)("div",{className:"ProjectName",children:[(0,O.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(e.label).concat(e.isNameEditable?"":":")}),e.isNameEditable?(0,O.jsx)("input",{type:"text",className:"TextInput",onBlur:function(t){!function(e){for(var t=e.parentElement;t;){if(t.tabIndex>-1)return void t.focus();t=t.parentElement}}(t.target);var n=t.target.value;n!==e.value&&e.onChange(n)},onKeyDown:function(e){if("Enter"===e.key){if(e.preventDefault(),e.nativeEvent.isComposing||229===e.keyCode)return;e.currentTarget.blur()}},id:"".concat(t,"-filename"),value:r,onChange:function(e){return i(e.target.value)}}):(0,O.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(t,"-filename"),children:e.value})]})}),gu=function(e,t){if(null!=t&&t.collaborators){var n=t.collaborators.get(e);if(null!=n&&n.color)return n.color}var r=e.split("").reduce((function(e,t){return e+t.charCodeAt(0)}),0),i=Ot.elementBackground.slice(1),o=Ot.elementStroke.slice(1);return{background:i[r%i.length],stroke:o[r%o.length]}};function vu(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vu(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vu(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.ACTIVE="active",e.AWAY="away",e.IDLE="idle"}(pu||(pu={})),n(4404);var bu=document.createElement("img");bu.src="data:".concat(c.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var wu=!1,xu=function(e){var t=e.element,n=e.appState,r=e.setAppState,i=e.onLinkOpen,o=t.link||"",a=h((0,s.useState)(o),2),l=a[0],u=a[1],d=(0,s.useRef)(null),p="editor"===n.showHyperlinkPopup||!o,f=(0,s.useCallback)((function(){if(d.current){var e=ku(d.current.value);ai(t,{link:e}),r({showHyperlinkPopup:"info"})}}),[t,r]);(0,s.useLayoutEffect)((function(){return function(){f()}}),[f]),(0,s.useEffect)((function(){var e=null,i=function(i){p||(e&&clearTimeout(e),Iu(t,n,[i.clientX,i.clientY])&&(e=window.setTimeout((function(){r({showHyperlinkPopup:!1})}),500)))};return window.addEventListener(c.Ks.POINTER_MOVE,i,!1),function(){window.removeEventListener(c.Ks.POINTER_MOVE,i,!1),e&&clearTimeout(e)}}),[n,t,p,r]);var m=(0,s.useCallback)((function(){ai(t,{link:null}),p&&(d.current.value=""),r({showHyperlinkPopup:!1})}),[r,t,p]),g=Su(t,n),v=g.x,y=g.y;return n.draggingElement||n.resizingElement||n.isRotating||n.openMenu?null:(0,O.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(y,"px"),left:"".concat(v,"px"),width:320,padding:5},children:[p?(0,O.jsx)("input",{className:$e("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:d,value:l,onChange:function(e){return u(e.target.value)},autoFocus:!0,onKeyDown:function(e){e.stopPropagation(),e[en.CTRL_OR_CMD]&&e.key===en.K&&e.preventDefault(),e.key!==en.ENTER&&e.key!==en.ESCAPE||f()}}):(0,O.jsx)("a",{href:t.link||"",className:$e("excalidraw-hyperlinkContainer-link",{"d-none":p}),target:Tu(t.link)?"_self":"_blank",onClick:function(e){if(t.link&&i){var n=Nn(c.Ks.EXCALIDRAW_LINK,e.nativeEvent);i(t,n),n.defaultPrevented&&e.preventDefault()}},rel:"noopener noreferrer",children:t.link}),(0,O.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!p&&(0,O.jsx)(Kl,{type:"button",title:C("buttons.edit"),"aria-label":C("buttons.edit"),label:C("buttons.edit"),onClick:function(){r({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:wl}),o&&(0,O.jsx)(Kl,{type:"button",title:C("buttons.remove"),"aria-label":C("buttons.remove"),label:C("buttons.remove"),onClick:m,className:"excalidraw-hyperlinkContainer--remove",icon:ms})]})]})},Su=function(e,t){var n=h(mt(e),2),r=n[0],i=n[1],o=xn({sceneX:r+e.width/2,sceneY:i},t),a=o.x,s=o.y;return{x:a-t.offsetLeft-160,y:s-t.offsetTop-85}},ku=function(e){return(e=e.trim())&&(e.includes("://")||/^[[\\/]/.test(e)||(e="https://".concat(e))),e},Tu=function(e){return!!(null!=e&&e.includes(location.origin)||null!=e&&e.startsWith("/"))},Eu=Ml({name:"link",perform:function(e,t){return"editor"!==t.showHyperlinkPopup&&{elements:e,appState:yu(yu({},t),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.key===en.K},contextItemLabel:function(e,t){return _u(e,t)},contextItemPredicate:function(e,t){return 1===Dc(e,t).length},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=Dc(t,n);return(0,O.jsx)(Kl,{type:"button",icon:us,"aria-label":C(_u(t,n)),title:"".concat(C("labels.link.label")," - ").concat(bn("CtrlOrCmd+K")),onClick:function(){return r(null)},selected:1===i.length&&!!i[0].link})}}),_u=function(e,t){return Dc(e,t)[0].link?"labels.link.edit":"labels.link.create"},Cu=function(e,t,n){var r=h(e,4),i=r[0],o=r[1],a=r[2],s=r[3],l=14/n.zoom.value,c=14/n.zoom.value,u=14/n.zoom.value,d=(i+a)/2,p=(o+s)/2,f=6/(2*n.zoom.value),m=4/n.zoom.value,g=h(tt(a+m-f+l/2,o-m-u+f+c/2,d,p,t),2);return[g[0]-l/2,g[1]-c/2,l,c]},Ou=function(e,t,n,r){var i=h(n,2),o=i[0],a=i[1],s=4/t.zoom.value;if(!r&&t.viewModeEnabled&&xo(e,[o,a],s))return!0;var l=h(mt(e),4),c=l[0],u=l[1],d=l[2],p=l[3],f=h(Cu([c,u,d,p],e.angle,t),4),m=f[0],g=f[1],v=f[2],y=f[3];return o>m-s&&o<m+s+v&&a>g-s&&a<g+y+s},Pu=null,Au=function(e,t){if(e.link){var n=ec();n.classList.add("excalidraw-tooltip--visible"),n.style.maxWidth="20rem",n.textContent=e.link;var r=h(mt(e),4),i=r[0],o=r[1],a=r[2],s=r[3],l=h(Cu([i,o,a,s],e.angle,t),4),c=l[0],u=l[1],d=l[2],p=l[3],f=xn({sceneX:c,sceneY:u},t);tc(n,{left:f.x,top:f.y,width:d,height:p},"top"),wu=!0}},Iu=function(e,t,n){var r=h(n,2),i=r[0],o=r[1],a=wn({clientX:i,clientY:o},t),s=a.x,l=a.y,c=15/t.zoom.value;if(xo(e,[s,l],c))return!1;var u=h(mt(e),3),d=u[0],p=u[1],f=u[2];if(s>=d&&s<=f&&l>=p-85&&l<=p)return!1;var m=Su(e,t),g=m.x,v=m.y;return!(i>=g-c&&i<=g+320+10+c&&o>=v-c&&o<=v+c+10+42)};function Mu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Nu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Nu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Nu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ru,Du=function(){var e=document.createElement("canvas").getContext("2d");return!!e&&(e.fillStyle="#f00",e.textBaseline="top",e.font="32px Arial",e.fillText("\u{1f600}",0,0),0!==e.getImageData(12,12,1,1).data[0])}(),Lu=function(e,t,n,r,i,o,a,s){var l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];e.save(),e.translate(o,a),e.rotate(s),l&&e.fillRect(t-o,n-a,r,i),e.strokeRect(t-o,n-a,r,i),e.restore()},ju=function(e,t,n,r){e.beginPath(),e.arc(t,n,r,0,2*Math.PI),e.fill(),e.stroke()},Bu=function(e,t,n,r,i,o,a){if(null===o)return{atLeastOneVisibleElement:!1};var s=a.renderScrollbars,l=void 0===s||s,u=a.renderSelection,d=void 0===u||u,p=a.renderGrid,f=void 0===p||p,m=a.isExporting,g=o.getContext("2d");g.setTransform(1,0,0,1,0,0),g.save(),g.scale(r,r);var v=o.width/r,y=o.height/r;m&&"dark"===a.theme&&(g.filter=c.ZF),"string"==typeof a.viewBackgroundColor?(("transparent"===a.viewBackgroundColor||5===a.viewBackgroundColor.length||9===a.viewBackgroundColor.length||/(hsla|rgba)\(/.test(a.viewBackgroundColor))&&g.clearRect(0,0,v,y),g.save(),g.fillStyle=a.viewBackgroundColor,g.fillRect(0,0,v,y),g.restore()):g.clearRect(0,0,v,y),g.save(),g.scale(a.zoom.value,a.zoom.value),f&&t.gridSize&&function(e,t,n,r,i,o){e.save(),e.strokeStyle="rgba(0,0,0,0.1)",e.beginPath();for(var a=n;a<n+i+2*t;a+=t)e.moveTo(a,r-t),e.lineTo(a,r+o+2*t);for(var s=r;s<r+o+2*t;s+=t)e.moveTo(n-t,s),e.lineTo(n+i+2*t,s);e.stroke(),e.restore()}(g,t.gridSize,-Math.ceil(a.zoom.value/t.gridSize)*t.gridSize+a.scrollX%t.gridSize,-Math.ceil(a.zoom.value/t.gridSize)*t.gridSize+a.scrollY%t.gridSize,v/a.zoom.value,y/a.zoom.value);var b,w=e.filter((function(e){return zu(e,v,y,{zoom:a.zoom,offsetLeft:t.offsetLeft,offsetTop:t.offsetTop,scrollX:a.scrollX,scrollY:a.scrollY})}));if(w.forEach((function(e){try{Wr(e,i,g,a),m||Vu(e,g,t)}catch(e){console.error(e)}})),t.editingLinearElement){var x=aa.getElement(t.editingLinearElement.elementId);x&&function(e,t,n,r){e.save(),e.translate(n.scrollX,n.scrollY),e.lineWidth=1/n.zoom.value,aa.getPointsGlobalCoordinates(r).forEach((function(r,i){var o,a;e.strokeStyle="red",e.setLineDash([]),e.fillStyle=null!==(o=t.editingLinearElement)&&void 0!==o&&null!==(a=o.selectedPointsIndices)&&void 0!==a&&a.includes(i)?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";var s=aa.POINT_HANDLE_SIZE;ju(e,r[0],r[1],s/2/n.zoom.value)})),e.restore()}(g,t,a,x)}if(n)try{Wr(n,i,g,a)}catch(e){console.error(e)}if(ca(t)&&t.suggestedBindings.filter((function(e){return null!=e})).forEach((function(e){$u(g,a,e)})),d&&!t.multiElement&&!t.editingLinearElement){var S,k=e.reduce((function(e,n){var r=[];if(t.selectedElementIds[n.id]&&!yi(t,n)&&r.push(_t.black),a.remoteSelectedElementIds[n.id]&&r.push.apply(r,M(a.remoteSelectedElementIds[n.id].map((function(e){return gu(e,t).background})))),r.length){var i=h(mt(n),4),o=i[0],s=i[1],l=i[2],c=i[3];e.push({angle:n.angle,elementX1:o,elementY1:s,elementX2:l,elementY2:c,selectionColors:r})}return e}),[]),T=function(t){var n=ki(e,t),r=h(St(n),4),i=r[0],o=r[1],a=r[2],s=r[3];k.push({angle:0,elementX1:i,elementX2:a,elementY1:o,elementY2:s,selectionColors:[_t.black]})},_=Mu(wi(t));try{for(_.s();!(S=_.n()).done;)T(S.value)}catch(e){_.e(e)}finally{_.f()}t.editingGroupId&&T(t.editingGroupId),k.forEach((function(e){return Uu(g,a,e)}));var C=Dc(e,t);if(g.save(),g.translate(a.scrollX,a.scrollY),1===C.length){g.fillStyle=_t.white;var O=Vi(C[0],a.zoom,"mouse");t.viewModeEnabled||Fu(g,a,O,C[0].angle)}else if(C.length>1&&!t.isRotating){var P=4/a.zoom.value;g.fillStyle=_t.white;var A=h(St(C),4),I=A[0],N=A[1],R=A[2],D=A[3],L=g.getLineDash();g.setLineDash([2/a.zoom.value]);var j=g.lineWidth;g.lineWidth=1/a.zoom.value,Lu(g,I-P,N-P,R-I+2*P,D-N+2*P,(I+R)/2,(N+D)/2,0),g.lineWidth=j,g.setLineDash(L);var B=Gi([I,N,R,D],0,a.zoom,"mouse",Bi);Fu(g,a,B,0)}g.restore()}for(var F in g.restore(),a.remotePointerViewportCoords){var U=a.remotePointerViewportCoords[F],$=U.x,H=U.y;$-=t.offsetLeft,H-=t.offsetTop;var G=$<0||$>v-9||H<0||H>y-14;$=Math.max($,0),$=Math.min($,v-9),H=Math.max(H,0),H=Math.min(H,y-14);var V=gu(F,t),z=V.background,W=V.stroke;g.save(),g.strokeStyle=W,g.fillStyle=z;var K=a.remotePointerUserStates[F];(G||K===pu.AWAY)&&(g.globalAlpha=.48),a.remotePointerButton&&"down"===a.remotePointerButton[F]&&(g.beginPath(),g.arc($,H,15,0,2*Math.PI,!1),g.lineWidth=3,g.strokeStyle="#ffffff88",g.stroke(),g.closePath(),g.beginPath(),g.arc($,H,15,0,2*Math.PI,!1),g.lineWidth=1,g.strokeStyle=W,g.stroke(),g.closePath()),g.beginPath(),g.moveTo($,H),g.lineTo($+1,H+14),g.lineTo($+4,H+9),g.lineTo($+9,H+10),g.lineTo($,H),g.fill(),g.stroke();var q=a.remotePointerUsernames[F],X="";K===pu.AWAY?X=Du?"\u26ab\ufe0f":" (".concat(pu.AWAY,")"):K===pu.IDLE?X=Du?"\u{1f4a4}":" (".concat(pu.IDLE,")"):K===pu.ACTIVE&&(X=Du?"\u{1f7e2}":"");var Z="".concat(q?"".concat(q," "):"").concat(X);if(!G&&Z){var Y=$+9,Q=H+14,J=g.measureText(Z),ee=J.actualBoundingBoxDescent+J.actualBoundingBoxAscent;g.fillStyle=W,g.fillRect(Y-1,Q-1,J.width+8+2,ee+8+2),g.fillStyle=z,g.fillRect(Y,Q,J.width+8,ee+8),g.fillStyle=_t.white,g.fillText(Z,Y+4,Q+4+J.actualBoundingBoxAscent)}g.restore(),g.closePath()}return l&&(b=function(e,t,n,r){var i=r.scrollX,o=r.scrollY,a=r.zoom;if(0===e.length)return{horizontal:null,vertical:null};var s=h(St(e),4),l=s[0],c=s[1],u=s[2],d=s[3],p=t/a.value,f=n/a.value,m=t-p,g=n-f,v={top:parseInt(Sn("sat")),bottom:parseInt(Sn("sab")),left:parseInt(Sn("sal")),right:parseInt(Sn("sar"))},y=E().rtl,b=m/2-i+v.left,w=g/2-o+v.top,x=b+p-v.right,S=w+f-v.bottom,k=Math.min(l,b),T=Math.min(c,w),_=Math.max(u,x),C=Math.max(d,S);return{horizontal:b===k&&x===_?null:{x:Math.max(v.left,4)+(b-k)/(_-k)*t,y:n-6-Math.max(4,v.bottom),width:(x-b)/(_-k)*t-Math.max(8,v.left+v.right),height:6},vertical:w===T&&S===C?null:{x:y?Math.max(v.left,4):t-6-Math.max(v.right,4),y:(w-T)/(C-T)*n+Math.max(v.top,4),width:6,height:(S-w)/(C-T)*n-Math.max(8,v.top+v.bottom)}}}(e,v,y,a),g.save(),g.fillStyle="rgba(0,0,0,0.3)",g.strokeStyle="rgba(255,255,255,0.8)",[b.horizontal,b.vertical].forEach((function(e){e&&function(e,t,n,r,i,o){e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+r-o,n),e.quadraticCurveTo(t+r,n,t+r,n+o),e.lineTo(t+r,n+i-o),e.quadraticCurveTo(t+r,n+i,t+r-o,n+i),e.lineTo(t+o,n+i),e.quadraticCurveTo(t,n+i,t,n+i-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill(),e.stroke()}(g,e.x,e.y,e.width,e.height,3)})),g.restore()),g.restore(),{atLeastOneVisibleElement:w.length>0,scrollBars:b}},Fu=function(e,t,n,r){Object.keys(n).forEach((function(i){var o=n[i];void 0!==o&&(e.save(),e.lineWidth=1/t.zoom.value,"rotation"===i?ju(e,o[0]+o[2]/2,o[1]+o[3]/2,o[2]/2):Lu(e,o[0],o[1],o[2],o[3],o[0]+o[2]/2,o[1]+o[3]/2,r,!0),e.restore())}))},Uu=function(e,t,n){var r=n.angle,i=n.elementX1,o=n.elementY1,a=n.elementX2,s=n.elementY2,l=n.selectionColors,c=a-i,u=s-o,d=4/t.zoom.value,p=8/t.zoom.value,f=4/t.zoom.value;e.save(),e.translate(t.scrollX,t.scrollY),e.lineWidth=1/t.zoom.value;for(var h=l.length,m=0;m<h;++m)e.strokeStyle=l[m],e.setLineDash([p,f+(p+f)*(h-1)]),e.lineDashOffset=(p+f)*m,Lu(e,i-d,o-d,c+2*d,u+2*d,i+c/2,o+u/2,r);e.restore()},$u=function(e,t,n){var r=Array.isArray(n)?Gu:Hu;e.save(),e.translate(t.scrollX,t.scrollY),r(e,n),e.restore()},Hu=function(e,t){var n=h(mt(t),4),r=n[0],i=n[1],o=n[2]-r,a=n[3]-i,s=ko(t,o,a);e.strokeStyle="rgba(0,0,0,.05)",e.lineWidth=s-4;var l=2+s/2;switch(t.type){case"rectangle":case"text":case"image":Lu(e,r-l,i-l,o+2*l,a+2*l,r+o/2,i+a/2,t.angle);break;case"diamond":var c=Math.hypot(o,a);!function(e,t,n,r,i,o){e.save(),e.translate(r,i),e.rotate(o),e.beginPath(),e.moveTo(0,n/2),e.lineTo(t/2,0),e.lineTo(0,-n/2),e.lineTo(-t/2,0),e.closePath(),e.stroke(),e.restore()}(e,o+l*c/a*2,a+l*c/o*2,r+o/2,i+a/2,t.angle);break;case"ellipse":!function(e,t,n,r,i,o){e.beginPath(),e.ellipse(r,i,t/2,n/2,o,0,2*Math.PI),e.stroke()}(e,o+2*l,a+2*l,r+o/2,i+a/2,t.angle)}},Gu=function(e,t){var n=h(t,3),r=n[0],i=n[1],o=n[2],a=ko(o,o.width,o.height);e.strokeStyle="rgba(0,0,0,0)",e.fillStyle="rgba(0,0,0,.05)",("both"===i?[0,-1]:"start"===i?[0]:[-1]).forEach((function(t){var n=h(aa.getPointAtIndexGlobalCoordinates(r,t),2),i=n[0],o=n[1];ju(e,i,o,a)}))},Vu=function(e,t,n){if(e.link&&!n.selectedElementIds[e.id]){var r=h(mt(e),4),i=r[0],o=r[1],a=r[2],s=r[3],l=h(Cu([i,o,a,s],e.angle,n),4),c=l[0],u=l[1],d=l[2],p=l[3],f=c+d/2,m=u+p/2;if(t.save(),t.translate(n.scrollX+f,n.scrollY+m),t.rotate(e.angle),Ru&&Ru.zoom===n.zoom.value)t.drawImage(Ru,c-f,u-m,d,p);else{(Ru=document.createElement("canvas")).zoom=n.zoom.value,Ru.width=d*window.devicePixelRatio*n.zoom.value,Ru.height=p*window.devicePixelRatio*n.zoom.value;var g=Ru.getContext("2d");g.scale(window.devicePixelRatio*n.zoom.value,window.devicePixelRatio*n.zoom.value),g.fillStyle="#fff",g.fillRect(0,0,d,p),g.drawImage(bu,0,0,d,p),g.restore(),t.drawImage(Ru,c-f,u-m,d,p)}t.restore()}},zu=function(e,t,n,r){var i=h(xt(e),4),o=i[0],a=i[1],s=i[2],l=i[3],c=wn({clientX:r.offsetLeft,clientY:r.offsetTop},r),u=wn({clientX:r.offsetLeft+t,clientY:r.offsetTop+n},r);return c.x<=s&&c.y<=l&&u.x>=o&&u.y>=a},Wu=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=i.offsetX,a=void 0===o?0:o,s=i.offsetY,l=void 0===s?0:s,c=i.exportWithDarkMode,u=void 0!==c&&c;n&&e.forEach((function(e){if(!e.isDeleted)try{qr(e,t,n,r,e.x+a,e.y+l,u)}catch(e){console.error(e)}}))},Ku=Object.defineProperty,qu=(e,t)=>()=>(e&&(t=e(e=0)),t),Xu=(e,t)=>{for(var n in(e=>{Ku(e,"__esModule",{value:!0})})(e),t)Ku(e,n,{get:t[n],enumerable:!0})},Zu={};Xu(Zu,{default:()=>Yu});var Yu,Qu=qu((()=>{Yu=async(e=[{}])=>(Array.isArray(e)||(e=[e]),new Promise(((t,n)=>{let r=document.createElement("input");r.type="file";let i=[...e.map((e=>e.mimeTypes||[])).join(),e.map((e=>e.extensions||[])).join()].join();r.multiple=e[0].multiple||!1,r.accept=i||"";let o=e=>{"function"==typeof a&&a(),t(e)},a=e[0].legacySetup&&e[0].legacySetup(o,(()=>a(n)),r);r.addEventListener("change",(()=>{o(r.multiple?Array.from(r.files):r.files[0])})),r.click()})))})),Ju={};Xu(Ju,{default:()=>td});var ed,td,nd=qu((()=>{ed=async e=>{let t=await e.getFile();return t.handle=e,t},td=async(e=[{}])=>{Array.isArray(e)||(e=[e]);let t=[];e.forEach(((e,n)=>{t[n]={description:e.description||"",accept:{}},e.mimeTypes?e.mimeTypes.map((r=>{t[n].accept[r]=e.extensions||[]})):t[n].accept["*/*"]=e.extensions||[]}));let n=await window.showOpenFilePicker({id:e[0].id,startIn:e[0].startIn,types:t,multiple:e[0].multiple||!1,excludeAcceptAllOption:e[0].excludeAcceptAllOption||!1}),r=await Promise.all(n.map(ed));return e[0].multiple?r:r[0]}})),rd={};Xu(rd,{default:()=>id});var id,od=qu((()=>{id=async(e=[{}])=>(Array.isArray(e)||(e=[e]),e[0].recursive=e[0].recursive||!1,new Promise(((t,n)=>{let r=document.createElement("input");r.type="file",r.webkitdirectory=!0;let i=e=>{"function"==typeof o&&o(),t(e)},o=e[0].legacySetup&&e[0].legacySetup(i,(()=>o(n)),r);r.addEventListener("change",(()=>{let t=Array.from(r.files);e[0].recursive?e[0].recursive&&e[0].skipDirectory&&(t=t.filter((t=>t.webkitRelativePath.split("/").every((t=>!e[0].skipDirectory({name:t,kind:"directory"})))))):t=t.filter((e=>2===e.webkitRelativePath.split("/").length)),i(t)})),r.click()})))})),ad={};Xu(ad,{default:()=>ld});var sd,ld,cd=qu((()=>{sd=async(e,t,n=e.name,r)=>{let i=[],o=[];for await(let a of e.values()){let s=`${n}/${a.name}`;"file"===a.kind?o.push(a.getFile().then((t=>(t.directoryHandle=e,Object.defineProperty(t,"webkitRelativePath",{configurable:!0,enumerable:!0,get:()=>s}))))):"directory"===a.kind&&t&&(!r||!r(a))&&i.push(sd(a,t,s,r))}return[...(await Promise.all(i)).flat(),...await Promise.all(o)]},ld=async(e={})=>{e.recursive=e.recursive||!1;let t=await window.showDirectoryPicker({id:e.id,startIn:e.startIn});return sd(t,e.recursive,void 0,e.skipDirectory)}})),ud={};Xu(ud,{default:()=>dd});var dd,pd=qu((()=>{dd=async(e,t={})=>{Array.isArray(t)&&(t=t[0]);let n=document.createElement("a"),r=e;"body"in e&&(r=await async function(e,t){let n=e.getReader(),r=new ReadableStream({start:e=>async function t(){return n.read().then((({done:n,value:r})=>{if(!n)return e.enqueue(r),t();e.close()}))}()}),i=new Response(r);return n.releaseLock(),new Blob([await i.blob()],{type:t})}(e.body,e.headers.get("content-type"))),n.download=t.fileName||"Untitled",n.href=URL.createObjectURL(r);let i=()=>{"function"==typeof o&&o()},o=t.legacySetup&&t.legacySetup(i,(()=>o(reject)),n);return n.addEventListener("click",(()=>{setTimeout((()=>URL.revokeObjectURL(n.href)),3e4),i()})),n.click(),null}})),fd={};Xu(fd,{default:()=>hd});var hd,md=qu((()=>{hd=async(e,t=[{}],n=null,r=!1)=>{Array.isArray(t)||(t=[t]),t[0].fileName=t[0].fileName||"Untitled";let i=[];if(t.forEach(((t,n)=>{i[n]={description:t.description||"",accept:{}},t.mimeTypes?(0===n&&(e.type?t.mimeTypes.push(e.type):e.headers&&e.headers.get("content-type")&&t.mimeTypes.push(e.headers.get("content-type"))),t.mimeTypes.map((e=>{i[n].accept[e]=t.extensions||[]}))):e.type&&(i[n].accept[e.type]=t.extensions||[])})),n)try{await n.getFile()}catch(e){if(n=null,r)throw e}let o=n||await window.showSaveFilePicker({suggestedName:t[0].fileName,id:t[0].id,startIn:t[0].startIn,types:i,excludeAcceptAllOption:t[0].excludeAcceptAllOption||!1}),a=await o.createWritable();return"stream"in e?(await e.stream().pipeTo(a),o):"body"in e?(await e.body.pipeTo(a),o):(await a.write(blob),await a.close(),o)}})),gd=(()=>{if("undefined"==typeof self)return!1;if("top"in self&&self!==top)try{top.location}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1})(),vd=gd?Promise.resolve().then((()=>(nd(),Ju))):Promise.resolve().then((()=>(Qu(),Zu)));gd?Promise.resolve().then((()=>(cd(),ad))):Promise.resolve().then((()=>(od(),rd)));var yd=gd?Promise.resolve().then((()=>(md(),fd))):Promise.resolve().then((()=>(pd(),ud))),bd=function(e){var t,n,r,i=null===(t=e.extensions)||void 0===t?void 0:t.reduce((function(e,t){return e.push(c.LO[t]),e}),[]),o=null===(n=e.extensions)||void 0===n?void 0:n.reduce((function(e,t){return"jpg"===t?e.concat(".jpg",".jpeg"):e.concat(".".concat(t))}),[]);return async function(...e){return(await vd).default(...e)}({description:e.description,extensions:o,mimeTypes:i,multiple:null!==(r=e.multiple)&&void 0!==r&&r,legacySetup:function(t,n,r){var i=pn(n,500),o=function(){a(),document.addEventListener(c.Ks.KEYUP,i),document.addEventListener(c.Ks.POINTER_UP,i),i()},a=function(){var n;if(null!==(n=r.files)&&void 0!==n&&n.length){var i=e.multiple?M(r.files):r.files[0];t(i)}};requestAnimationFrame((function(){window.addEventListener(c.Ks.FOCUS,o)}));var s=window.setInterval((function(){a()}),500);return function(e){clearInterval(s),i.cancel(),window.removeEventListener(c.Ks.FOCUS,o),document.removeEventListener(c.Ks.KEYUP,i),document.removeEventListener(c.Ks.POINTER_UP,i),e&&(console.warn("Opening the file was canceled (legacy-fs)."),e(new zl))}}})},wd=function(e,t){return async function(...e){return(await yd).default(...e)}(e,{fileName:"".concat(t.name,".").concat(t.extension),description:t.description,extensions:[".".concat(t.extension)]},t.fileHandle)};function xd(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Sd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Sd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Td(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kd(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ed={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0},_d=function(e,t){var n,r,i,o,a,s,l,c,u,d,p,f,h,m,g={type:t.type||e.type,version:e.version||1,versionNonce:null!==(n=e.versionNonce)&&void 0!==n?n:0,isDeleted:null!==(r=e.isDeleted)&&void 0!==r&&r,id:e.id||ri(),fillStyle:e.fillStyle||"hachure",strokeWidth:e.strokeWidth||1,strokeStyle:null!==(i=e.strokeStyle)&&void 0!==i?i:"solid",roughness:null!==(o=e.roughness)&&void 0!==o?o:1,opacity:null==e.opacity?100:e.opacity,angle:e.angle||0,x:null!==(a=null!==(s=t.x)&&void 0!==s?s:e.x)&&void 0!==a?a:0,y:null!==(l=null!==(c=t.y)&&void 0!==c?c:e.y)&&void 0!==l?l:0,strokeColor:e.strokeColor,backgroundColor:e.backgroundColor,width:e.width||0,height:e.height||0,seed:null!==(u=e.seed)&&void 0!==u?u:1,groupIds:null!==(d=e.groupIds)&&void 0!==d?d:[],strokeSharpness:null!==(p=e.strokeSharpness)&&void 0!==p?p:Xe(e.type)?"round":"sharp",boundElements:e.boundElementIds?e.boundElementIds.map((function(e){return{type:"arrow",id:e}})):null!==(f=e.boundElements)&&void 0!==f?f:[],updated:null!==(h=e.updated)&&void 0!==h?h:An(),link:null!==(m=e.link)&&void 0!==m?m:null};return Td(Td(Td({},g),di(g)),t)},Cd=function(e){var t,n,r;switch(e.type){case"text":var i=e.fontSize,o=e.fontFamily;if("font"in e){var a=h(e.font.split(" "),2),s=a[0],l=a[1];i=parseInt(s,10),r=l,o=Object.keys(c.ut).includes(r)?c.ut[r]:c.rk}return _d(e,{fontSize:i,fontFamily:o,text:null!==(t=e.text)&&void 0!==t?t:"",baseline:e.baseline,textAlign:e.textAlign||c.Hg,verticalAlign:e.verticalAlign||c.hs,containerId:null!==(n=e.containerId)&&void 0!==n?n:null,originalText:e.originalText||e.text});case"freedraw":return _d(e,{points:e.points,lastCommittedPoint:null,simulatePressure:e.simulatePressure,pressures:e.pressures});case"image":return _d(e,{status:e.status||"pending",fileId:e.fileId,scale:e.scale||[1,1]});case"line":case"draw":case"arrow":var u=e.startArrowhead,d=void 0===u?null:u,p=e.endArrowhead,f=void 0===p?"arrow"===e.type?"arrow":null:p,m=e.x,g=e.y,v=!Array.isArray(e.points)||e.points.length<2?[[0,0],[e.width,e.height]]:e.points;if(0!==v[0][0]||0!==v[0][1]){var y=aa.getNormalizedPoints(e);v=y.points,m=y.x,g=y.y}return _d(e,{type:"draw"===e.type?"line":e.type,startBinding:e.startBinding,endBinding:e.endBinding,lastCommittedPoint:null,startArrowhead:d,endArrowhead:f,points:v,x:m,y:g});case"ellipse":case"rectangle":case"diamond":return _d(e,{})}},Od=function(e,t){var n=t?In(t):null;return(e||[]).reduce((function(e,t){if("selection"!==t.type&&!ci(t)){var r=Cd(t);if(r){var i=null==n?void 0:n.get(t.id);i&&i.version>r.version&&(r=li(r,i.version)),e.push(r)}}return e}),[])},Pd=function(e,t){e=e||{};var n,r=jn(),i={},o=xd(Object.entries(r));try{for(o.s();!(n=o.n()).done;){var a=h(n.value,2),s=a[0],l=a[1],c=e[s],u=t?t[s]:void 0;i[s]=void 0!==c?c:void 0!==u?u:l}}catch(e){o.e(e)}finally{o.f()}return Td(Td({},i),{},{elementType:Ed[i.elementType]?i.elementType:"selection",zoom:"number"==typeof e.zoom?{value:e.zoom}:e.zoom||r.zoom})},Ad=function(e,t,n){return{elements:Od(null==e?void 0:e.elements,n),appState:Pd(null==e?void 0:e.appState,t||null),files:(null==e?void 0:e.files)||{}}},Id=function(e,t){var n,r=[],i=xd(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(Array.isArray(o))r.push({status:t,elements:o,id:ri(),created:Date.now()});else{var a=o;r.push(Td(Td({},a),{},{id:a.id||ri(),status:a.status||t,created:a.created||Date.now()}))}}}catch(e){i.e(e)}finally{i.f()}return r};function Md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Md(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Rd=function(){var e=(0,d.Z)(g().mark((function e(t){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==c.LO.png){e.next=18;break}return e.prev=1,e.next=4,Promise.all([n.e(736),n.e(499)]).then(n.bind(n,673));case 4:return e.next=6,e.sent.decodePngMetadata(t);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(1),"INVALID"!==e.t0.message){e.next=15;break}throw new DOMException(C("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException(C("alerts.cannotRestoreFromImage"),"EncodingError");case 16:e.next=43;break;case 18:if(!("text"in Blob)){e.next=24;break}return e.next=21,t.text();case 21:r=e.sent,e.next=27;break;case 24:return e.next=26,new Promise((function(e){var n=new FileReader;n.readAsText(t,"utf8"),n.onloadend=function(){n.readyState===FileReader.DONE&&e(n.result)}}));case 26:r=e.sent;case 27:if(t.type!==c.LO.svg){e.next=43;break}return e.prev=28,e.next=31,Promise.all([n.e(736),n.e(499)]).then(n.bind(n,673));case 31:return e.next=33,e.sent.decodeSvgMetadata({svg:r});case 33:return e.abrupt("return",e.sent);case 36:if(e.prev=36,e.t1=e.catch(28),"INVALID"!==e.t1.message){e.next=42;break}throw new DOMException(C("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException(C("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return e.abrupt("return",r);case 44:case"end":return e.stop()}}),e,null,[[1,9],[28,36]])})));return function(t){return e.apply(this,arguments)}}(),Dd=function(e){var t;return e&&(null===(t=e.name.match(/\.(json|excalidraw|png|svg)$/))||void 0===t?void 0:t[1])||null},Ld=function(e){var t=Dd(e);return"png"===t||"svg"===t},jd=function(e){var t=(e||{}).type;return!!t&&c.jo.includes(t)},Bd=function(){var e=(0,d.Z)(g().mark((function e(t,n,r){var i,o,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rd(t);case 2:if(i=e.sent,e.prev=3,o=JSON.parse(i),Qd(o)){e.next=7;break}throw new Error(C("alerts.couldNotLoadInvalidFile"));case 7:return a=Ad({elements:Ic(o.elements||[]),appState:Nd(Nd({theme:null==n?void 0:n.theme,fileHandle:t.handle||null},Un(o.appState||{})),n?Yl(o.elements||[],n):{}),files:o.files},n,r),e.abrupt("return",a);case 11:throw e.prev=11,e.t0=e.catch(3),console.error(e.t0.message),new Error(C("alerts.couldNotLoadInvalidFile"));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Fd=function(){var e=(0,d.Z)(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rd(t);case 2:if(n=e.sent,(r=JSON.parse(n)).type===c.r8.excalidrawLibrary){e.next=6;break}throw new Error(C("alerts.couldNotLoadInvalidFile"));case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ud=function(){var e=(0,d.Z)(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){try{t.toBlob((function(t){if(!t)return n(new Vl(C("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));e(t)}))}catch(e){n(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$d=function(){var e=(0,d.Z)(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=window.crypto.subtle,e.next=4,t.arrayBuffer();case 4:return e.t1=e.sent,e.next=7,e.t0.digest.call(e.t0,"SHA-1",e.t1);case 7:return n=e.sent,e.abrupt("return",(r=new Uint8Array(n),Array.from(r).map((function(e){return"0".concat(e.toString(16)).slice(-2)})).join("")));case 11:return e.prev=11,e.t2=e.catch(0),console.error(e.t2),e.abrupt("return",He(40));case 15:case"end":return e.stop()}var r}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),Hd=function(){var e=(0,d.Z)(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.onload=function(){var t=r.result;e(t)},r.onerror=function(e){return n(e)},r.readAsDataURL(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gd=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.indexOf(","),r=atob(e.slice(n+1)),i=e.slice(0,n).split(":")[1].split(";")[0],o=new ArrayBuffer(r.length),a=new Uint8Array(o),s=0;s<r.length;s++)a[s]=r.charCodeAt(s);return new File([o],t,{type:i})},Vd=function(){var e=(0,d.Z)(g().mark((function e(t,r){var i,o,a,s,l,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.type!==c.LO.svg){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,Promise.all([n.e(736).then(n.t.bind(n,4881,23)).then((function(e){return e.default})),n.e(736).then(n.bind(n,100)).then((function(e){return e.default}))]);case 4:if(i=e.sent,o=h(i,2),a=o[0],s=o[1],l=s({pica:a({features:["js","wasm"]})}),r.outputType&&(u=r.outputType,l._create_blob=function(e){return this.pica.toBlob(e.out_canvas,u,.8).then((function(t){return e.out_blob=t,e}))}),jd(t)){e.next=12;break}throw new Error(C("errors.unsupportedFileType"));case 12:return e.t0=File,e.next=15,l.toBlob(t,{max:r.maxWidthOrHeight});case 15:return e.t1=e.sent,e.t2=[e.t1],e.t3=t.name,e.t4={type:r.outputType||t.type},e.abrupt("return",new e.t0(e.t2,e.t3,e.t4));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),zd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return new File([(new TextEncoder).encode(e)],t,{type:c.LO.svg})};function Wd(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Kd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Kd(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Kd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var qd=function(e,t){var n,r={},i=Wd(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;!o.isDeleted&&"fileId"in o&&o.fileId&&t[o.fileId]&&(r[o.fileId]=t[o.fileId])}}catch(e){i.e(e)}finally{i.f()}return r},Xd=function(e,t,n,r){var i={type:c.r8.excalidraw,version:c.Kr.excalidraw,source:c.pb,elements:"local"===r?Ic(e):Ac(e),appState:"local"===r?Un(t):$n(t),files:"local"===r?qd(e,n):void 0};return JSON.stringify(i,null,2)},Zd=function(){var e=(0,d.Z)(g().mark((function e(t,n,r){var i,o,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Xd(t,n,r,"local"),o=new Blob([i],{type:c.LO.excalidraw}),e.next=4,wd(o,{name:n.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:Ld(n.fileHandle)?null:n.fileHandle});case 4:return a=e.sent,e.abrupt("return",{fileHandle:a});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Yd=function(){var e=(0,d.Z)(g().mark((function e(t,n){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bd({description:"Excalidraw files"});case 2:return r=e.sent,e.abrupt("return",Bd(r,t,n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qd=function(e){return(null==e?void 0:e.type)===c.r8.excalidraw&&(!e.elements||Array.isArray(e.elements)&&(!e.appState||"object"===I(e.appState)))},Jd=function(e){return"object"===I(e)&&e&&e.type===c.r8.excalidrawLibrary&&(1===e.version||2===e.version)},ep=function(){var e=(0,d.Z)(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={type:c.r8.excalidrawLibrary,version:c.Kr.excalidrawLibrary,source:c.pb,libraryItems:t},r=JSON.stringify(n,null,2),e.next=4,wd(new Blob([r],{type:c.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tp=function(){var e=(0,d.Z)(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bd({description:"Excalidraw library files"});case 2:return n=e.sent,e.next=5,t.importLibrary(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function np(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?np(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):np(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ip=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=function(e){n(e)},r.src=e}))},op=function(){var e=(0,d.Z)(g().mark((function e(t){var n,r,i,o,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.fileIds,r=t.files,i=t.imageCache,o=new Map,a=new Map,e.next=5,Promise.all(n.reduce((function(e,t){var n=r[t];return n&&!o.has(t)?(o.set(t,!0),e.concat((0,d.Z)(g().mark((function e(){var r,o,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n.mimeType!==c.LO.binary){e.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return r=ip(n.dataURL),o={image:r,mimeType:n.mimeType},i.set(t,o),e.next=8,r;case 8:s=e.sent,i.set(t,rp(rp({},o),{},{image:s})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),a.set(t,!0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))())):e}),[]));case 5:return e.abrupt("return",{imageCache:i,updatedFiles:o,erroredFiles:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ap=function(e){return e.filter((function(e){return Ge(e)}))},sp=function(){var e=(0,d.Z)(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(new DOMParser).parseFromString(t,c.LO.svg),r=n.querySelector("svg"),!n.querySelector("parsererror")&&"svg"===(null==(i=r)?void 0:i.nodeName.toLowerCase())){e.next=7;break}throw new Error(C("errors.invalidSVGString"));case 7:return r.hasAttribute("xmlns")||r.setAttribute("xmlns",c.hR),e.abrupt("return",r.outerHTML);case 9:case"end":return e.stop()}var i}),e)})));return function(t){return e.apply(this,arguments)}}(),lp="\x3c!-- svg-source:excalidraw --\x3e",cp=function(){var e=(0,d.Z)(g().mark((function e(t,n,r,i){var o,a,s,l,u,d,p,f,m,v,y,b,w,x,S,k,T,E,_=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=i.exportBackground,a=i.exportPadding,s=void 0===a?c.qy:a,l=i.viewBackgroundColor,u=_.length>4&&void 0!==_[4]?_[4]:function(e,t){var r=document.createElement("canvas");return r.width=e*n.exportScale,r.height=t*n.exportScale,{canvas:r,scale:n.exportScale}},d=dp(t,s),p=h(d,4),f=p[0],m=p[1],v=p[2],y=p[3],b=u(v,y),w=b.canvas,x=b.scale,S=void 0===x?1:x,k=jn(),e.next=7,op({imageCache:new Map,fileIds:ap(t).map((function(e){return e.fileId})),files:r});case 7:return T=e.sent,E=T.imageCache,Bu(t,n,null,S,Fe.canvas(w),w,{viewBackgroundColor:o?l:null,scrollX:-f+s,scrollY:-m+s,zoom:k.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:n.exportWithDarkMode?"dark":"light",imageCache:E,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}),e.abrupt("return",w);case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),up=function(){var e=(0,d.Z)(g().mark((function e(t,r,i){var o,a,s,l,u,d,p,f,m,v,y,b,w,x,S,k;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.exportPadding,a=void 0===o?c.qy:o,s=r.viewBackgroundColor,l=r.exportScale,u=void 0===l?1:l,d=r.exportEmbedScene,p="",!d){e.next=14;break}return e.prev=3,e.next=6,Promise.all([n.e(736),n.e(499)]).then(n.bind(n,673));case 6:return e.next=8,e.sent.encodeSvgMetadata({text:Xd(t,r,i||{},"local")});case 8:p=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.error(e.t0);case 14:return f=dp(t,a),m=h(f,4),v=m[0],y=m[1],b=m[2],w=m[3],(x=document.createElementNS(c.hR,"svg")).setAttribute("version","1.1"),x.setAttribute("xmlns",c.hR),x.setAttribute("viewBox","0 0 ".concat(b," ").concat(w)),x.setAttribute("width","".concat(b*u)),x.setAttribute("height","".concat(w*u)),r.exportWithDarkMode&&x.setAttribute("filter",c.ZF),x.innerHTML="\n  ".concat(lp,"\n  ").concat(p,'\n  <defs>\n    <style>\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    </style>\n  </defs>\n  '),r.exportBackground&&s&&((S=x.ownerDocument.createElementNS(c.hR,"rect")).setAttribute("x","0"),S.setAttribute("y","0"),S.setAttribute("width","".concat(b)),S.setAttribute("height","".concat(w)),S.setAttribute("fill",s),x.appendChild(S)),k=Fe.svg(x),Wu(t,k,x,i||{},{offsetX:-v+a,offsetY:-y+a,exportWithDarkMode:r.exportWithDarkMode}),e.abrupt("return",x);case 27:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n,r){return e.apply(this,arguments)}}(),dp=function(e,t){var n=h(St(e),4),r=n[0],i=n[1],o=n[2],a=n[3];return[r,i,hn(r,o)+2*t,hn(i,a)+t+t]};function pp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return fp(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fp(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function fp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hp(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gp=32,vp=12,yp=256,bp="NOT_SPREADSHEET",wp="VALID_SPREADSHEET",xp=function(e){var t=/^[$\u20ac\xa3\xa5\u20a9]?([0-9,]+(\.[0-9]+)?)$/.exec(e);return t?parseFloat(t[1].replace(/,/g,"")):null},Sp=function(e,t){return e.slice(1).every((function(e){return null!==xp(e[t])}))},kp=function(e){var t=e[0].length;if(t>2)return{type:bp,reason:"More than 2 columns"};if(1===t){if(!Sp(e,0))return{type:bp,reason:"Value is not numeric"};var n=null===xp(e[0][0]),r=(n?e.slice(1):e).map((function(e){return xp(e[0])}));return r.length<2?{type:bp,reason:"Less than two rows"}:{type:wp,spreadsheet:{title:n?e[0][0]:null,labels:null,values:r}}}var i=Sp(e,0)?0:1;if(!Sp(e,i))return{type:bp,reason:"Value is not numeric"};var o=(i+1)%2,a=null===xp(e[0][i]),s=a?e.slice(1):e;return s.length<2?{type:bp,reason:"Less than 2 rows"}:{type:wp,spreadsheet:{title:a?e[0][i]:null,labels:s.map((function(e){return e[o]})),values:s.map((function(e){return xp(e[i])}))}}},Tp=Ot.elementBackground.slice(2,Ot.elementBackground.length),Ep={fillStyle:"hachure",fontFamily:c.rk,fontSize:c.n5,opacity:100,roughness:1,strokeColor:Ot.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,verticalAlign:"middle"},_p=function(e){return{chartWidth:44*e.values.length+vp,chartHeight:280}},Cp=function(e,t,n,r,i,o){var a=_p(e),s=a.chartWidth,l=a.chartHeight,u=e.title?Mi(mp(mp({backgroundColor:i,groupIds:[r]},Ep),{},{text:e.title,x:t+s/2,y:n-yp-24-c.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null,d=o?Ai(mp(mp({backgroundColor:i,groupIds:[r]},Ep),{},{type:"rectangle",x:t,y:n-l,width:s,height:l,strokeColor:Ot.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat(M(d?[d]:[]),M(u?[u]:[]),M(function(e,t,n,r,i){var o;return(null===(o=e.labels)||void 0===o?void 0:o.map((function(e,o){return Mi(mp(mp({groupIds:[r],backgroundColor:i},Ep),{},{text:e.length>8?"".concat(e.slice(0,5),"..."):e,x:t+44*o+24,y:n+6,width:gp,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))})))||[]}(e,t,n,r,i)),M(function(e,t,n,r,i){var o=Mi(mp(mp({groupIds:[r],backgroundColor:i},Ep),{},{x:t-vp,y:n-vp,text:"0",textAlign:"right"}));return[o,Mi(mp(mp({groupIds:[r],backgroundColor:i},Ep),{},{x:t-vp,y:n-yp-o.height/2,text:Math.max.apply(Math,M(e.values)).toLocaleString(),textAlign:"right"}))]}(e,t,n,r,i)),M(function(e,t,n,r,i){var o=_p(e),a=o.chartWidth,s=o.chartHeight;return[Ri(mp(mp({backgroundColor:i,groupIds:[r]},Ep),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,width:a,points:[[0,0],[a,0]]})),Ri(mp(mp({backgroundColor:i,groupIds:[r]},Ep),{},{type:"line",x:t,y:n,startArrowhead:null,endArrowhead:null,height:s,points:[[0,0],[0,-s]]})),Ri(mp(mp({backgroundColor:i,groupIds:[r]},Ep),{},{type:"line",x:t,y:n-yp-vp,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:a,opacity:50,points:[[0,0],[a,0]]}))]}(e,t,n,r,i)))},Op=function(e,t,n,r){return"line"===e?function(e,t,n){var r,i=Math.max.apply(Math,M(e.values)),o=ri(),a=Tp[Math.floor(Math.random()*Tp.length)],s=0,l=[],u=pp(e.values);try{for(u.s();!(r=u.n()).done;){var d=r.value,p=44*s,f=-d/i*yp;l.push([p,f]),s++}}catch(e){u.e(e)}finally{u.f()}var h=Math.max.apply(Math,M(l.map((function(e){return e[0]})))),m=Math.max.apply(Math,M(l.map((function(e){return e[1]})))),g=Math.min.apply(Math,M(l.map((function(e){return e[0]})))),v=Math.min.apply(Math,M(l.map((function(e){return e[1]})))),y=Ri(mp(mp({backgroundColor:a,groupIds:[o]},Ep),{},{type:"line",x:t+vp+16,y:n-vp,startArrowhead:null,endArrowhead:null,height:m-v,width:h-g,strokeWidth:2,points:l})),b=e.values.map((function(e,r){var s=44*r+6,l=-e/i*yp+6;return Ai(mp(mp({backgroundColor:a,groupIds:[o]},Ep),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:t+s+16,y:n+l-24,width:vp,height:vp}))})),w=e.values.map((function(e,r){var s=44*r+6,l=e/i*yp+6+vp;return Ri(mp(mp({backgroundColor:a,groupIds:[o]},Ep),{},{type:"line",x:t+s+16+6,y:n-l,startArrowhead:null,endArrowhead:null,height:l,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,l]]}))}));return[].concat(M(Cp(e,t,n,o,a,"production"===c.Vi.DEVELOPMENT)),[y],M(w),M(b))}(t,n,r):function(e,t,n){var r=Math.max.apply(Math,M(e.values)),i=ri(),o=Tp[Math.floor(Math.random()*Tp.length)],a=e.values.map((function(e,a){var s=e/r*yp;return Ai(mp(mp({backgroundColor:o,groupIds:[i]},Ep),{},{type:"rectangle",x:t+44*a+vp,y:n-s-vp,width:gp,height:s}))}));return[].concat(M(a),M(Cp(e,t,n,i,o,"production"===c.Vi.DEVELOPMENT)))}(t,n,r)},Pp="",Ap=!1,Ip="clipboard"in navigator&&"readText"in navigator.clipboard,Mp="clipboard"in navigator&&"writeText"in navigator.clipboard,Np="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Rp=function(){var e=(0,d.Z)(g().mark((function e(t,n,r){var i,o,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Dc(t,n,!0),o={type:c.r8.excalidrawClipboard,elements:i,files:i.reduce((function(e,t){return Ge(t)&&r[t.fileId]&&(e[t.fileId]=r[t.fileId]),e}),{})},a=JSON.stringify(o),Pp=a,e.prev=4,Ap=!1,e.next=8,Up(a);case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),Ap=!0,console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Dp=function(){if(!Pp)return{};try{return JSON.parse(Pp)}catch(e){return console.error(e),{}}},Lp=function(e){var t=function(e){var t=e.trim().split("\n").map((function(e){return e.trim().split("\t")}));if(t.length&&2!==t[0].length&&(t=e.trim().split("\n").map((function(e){return e.trim().split(",")}))),0===t.length)return{type:bp,reason:"No values"};var n=t[0].length,r=t.every((function(e){return e.length===n}));if(!r)return{type:bp,reason:"All rows don't have same number of columns"};var i=kp(t);if(i.type!==wp){var o=kp(function(e){for(var t=[],n=0;n<e[0].length;n++){for(var r=[],i=0;i<e.length;i++)r.push(e[i][n]);t.push(r)}return t}(t));if(o.type===wp)return o}return i}(e);return t.type===wp?{spreadsheet:t.spreadsheet}:null},jp=function(){var e=(0,d.Z)(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t){e.next=5;break}e.t0=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/plain").trim(),e.next=11;break;case 5:if(e.t1=Ip,!e.t1){e.next=10;break}return e.next=9,navigator.clipboard.readText();case 9:e.t1=e.sent;case 10:e.t0=e.t1;case 11:return r=e.t0,e.abrupt("return",r||"");case 15:return e.prev=15,e.t2=e.catch(0),e.abrupt("return","");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),Bp=function(){var e=(0,d.Z)(g().mark((function e(t){var n,r,i,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jp(t);case 2:if((n=e.sent)&&!n.includes(lp)){e.next=5;break}return e.abrupt("return",Dp());case 5:if(!(r=Lp(n))){e.next=8;break}return e.abrupt("return",r);case 8:if(i=Dp(),e.prev=9,a=o=JSON.parse(n),![c.r8.excalidraw,c.r8.excalidrawClipboard].includes(null==a?void 0:a.type)||!Array.isArray(a.elements)){e.next=13;break}return e.abrupt("return",{elements:o.elements,files:o.files});case 13:return e.abrupt("return",i);case 16:return e.prev=16,e.t0=e.catch(9),e.abrupt("return",Ap&&i.elements?i:{text:n});case 19:case"end":return e.stop()}var a}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}(),Fp=function(){var e=(0,d.Z)(g().mark((function e(t){return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.write([new window.ClipboardItem(N({},c.LO.png,t))]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Up=function(){var e=(0,d.Z)(g().mark((function e(t){var n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,!Mp){e.next=11;break}return e.prev=2,e.next=5,navigator.clipboard.writeText(t||"");case 5:n=!0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:if(n||$p(t||" ")){e.next=13;break}throw new Error("couldn't copy");case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),$p=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[t?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;n.style.top="".concat(r,"px"),n.style.fontSize="12pt",n.setAttribute("readonly",""),n.value=e,document.body.appendChild(n);var i=!1;try{n.select(),n.setSelectionRange(0,n.value.length),i=document.execCommand("copy")}catch(e){console.error(e)}return n.remove(),i},Hp=function(){var e=(0,d.Z)(g().mark((function e(t,r,i,o,a){var s,l,u,d,p,f,h,m,v,y;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=a.exportBackground,l=a.exportPadding,u=void 0===l?c.qy:l,d=a.viewBackgroundColor,p=a.name,f=a.fileHandle,h=void 0===f?null:f,0!==r.length){e.next=3;break}throw new Error(C("alerts.cannotExportEmptyCanvas"));case 3:if("svg"!==t&&"clipboard-svg"!==t){e.next=17;break}return e.next=6,up(r,{exportBackground:s,exportWithDarkMode:i.exportWithDarkMode,viewBackgroundColor:d,exportPadding:u,exportScale:i.exportScale,exportEmbedScene:i.exportEmbedScene&&"svg"===t},o);case 6:if(m=e.sent,"svg"!==t){e.next=13;break}return e.next=10,wd(new Blob([m.outerHTML],{type:c.LO.svg}),{description:"Export to SVG",name:p,extension:"svg",fileHandle:h});case 10:return e.abrupt("return",e.sent);case 13:if("clipboard-svg"!==t){e.next=17;break}return e.next=16,Up(m.outerHTML);case 16:return e.abrupt("return");case 17:return e.next=19,cp(r,i,o,{exportBackground:s,viewBackgroundColor:d,exportPadding:u});case 19:return(v=e.sent).style.display="none",document.body.appendChild(v),e.next=24,Ud(v);case 24:if(y=e.sent,v.remove(),"png"!==t){e.next=38;break}if(!i.exportEmbedScene){e.next=33;break}return e.next=30,Promise.all([n.e(736),n.e(499)]).then(n.bind(n,673));case 30:return e.next=32,e.sent.encodePngMetadata({blob:y,metadata:Xd(r,i,o,"local")});case 32:y=e.sent;case 33:return e.next=35,wd(y,{description:"Export to PNG",name:p,extension:"png",fileHandle:h});case 35:return e.abrupt("return",e.sent);case 38:if("clipboard"!==t){e.next=49;break}return e.prev=39,e.next=42,Fp(y);case 42:e.next=49;break;case 44:if(e.prev=44,e.t0=e.catch(39),"CANVAS_POSSIBLY_TOO_BIG"!==e.t0.name){e.next=48;break}throw e.t0;case 48:throw new Error(C("alerts.couldNotCopyToClipboard"));case 49:case"end":return e.stop()}}),e,null,[[39,44]])})));return function(t,n,r,i,o){return e.apply(this,arguments)}}();function Gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gp(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zp=function(){var e=(0,d.Z)(g().mark((function e(t,n,r){var i,o,a,s,l,c;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=(i=n).exportBackground,a=i.viewBackgroundColor,s=i.name,l=i.fileHandle,c=Dd(l),l&&("png"===(u=c)||"svg"===u)){e.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return n=Vp(Vp({},n),{},{exportEmbedScene:!0}),e.next=7,Hp(c,Cc(t),n,r,{exportBackground:o,viewBackgroundColor:a,name:s,fileHandle:l});case 7:return e.abrupt("return",{fileHandle:l});case 8:case"end":return e.stop()}var u}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Wp=(n(7225),function(e){var t=e.children,n=e.checked,r=e.onChange,i=e.className;return(0,O.jsxs)("div",{className:$e("Checkbox",i,{"is-checked":n}),onClick:function(e){r(!n,e),e.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,O.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":n,children:cs}),(0,O.jsx)("div",{className:"Checkbox-label",children:t})]})});function Kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kp(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(4623);var Xp=function(e){var t=e.children,n=e.gap,r=e.align,i=e.justifyContent,o=e.className,a=e.style;return(0,O.jsx)("div",{className:$e("Stack Stack_horizontal",o),style:qp({"--gap":n,alignItems:r,justifyContent:i},a),children:t})},Zp=function(e){var t=e.children,n=e.gap,r=e.align,i=e.justifyContent,o=e.className;return(0,O.jsx)("div",{className:$e("Stack Stack_vertical",o),style:{"--gap":n,justifyItems:r,justifyContent:i},children:t})},Yp=(n(554),function(e){var t=e.fileName,n=e.onSave;return(0,O.jsxs)(Xp,{className:"ActiveFile",gap:1,align:"center",children:[(0,O.jsxs)("span",{className:"ActiveFile__fileName",children:[Gs,(0,O.jsx)("span",{children:t})]}),(0,O.jsx)(Kl,{type:"icon",icon:ds,title:C("buttons.save"),"aria-label":C("buttons.save"),onClick:n,"data-testid":"save-button"})]})});function Qp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Jp(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qp(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Qp(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ml({name:"changeProjectName",perform:function(e,t,n){return hu("change","title"),{appState:Jp(Jp({},t),{},{name:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.appProps;return(0,O.jsx)(mu,{label:C("labels.fileTitle"),value:t.name||"Unnamed",onChange:function(e){return n(e)},isNameEditable:void 0===r.name&&!t.viewModeEnabled})}}),Ml({name:"changeExportScale",perform:function(e,t,n){return{appState:Jp(Jp({},t),{},{exportScale:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData,i=Cc(t),o=Nc(i,n)?Dc(i,n):i;return(0,O.jsx)(O.Fragment,{children:c.ZB.map((function(e){var t=function(e,t,n){var r=h(dp(e,t).map((function(e){return Math.trunc(e*n)})),4);return[r[2],r[3]]}(o,c.qy,e),i=h(t,2),a=i[0],s=i[1],l="".concat(C("buttons.scale")," ").concat(e,"x (").concat(a,"x").concat(s,")");return(0,O.jsx)(Kl,{size:"small",type:"radio",icon:"".concat(e,"x"),name:"export-canvas-scale",title:l,"aria-label":l,id:"export-canvas-scale",checked:e===n.exportScale,onChange:function(){return r(e)}},e)}))})}}),Ml({name:"changeExportBackground",perform:function(e,t,n){return{appState:Jp(Jp({},t),{},{exportBackground:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,O.jsx)(Wp,{checked:t.exportBackground,onChange:function(e){return n(e)},children:C("labels.withBackground")})}}),Ml({name:"changeExportEmbedScene",perform:function(e,t,n){return{appState:Jp(Jp({},t),{},{exportEmbedScene:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,O.jsxs)(Wp,{checked:t.exportEmbedScene,onChange:function(e){return n(e)},children:[C("labels.exportEmbedScene"),(0,O.jsx)(nc,{label:C("labels.exportEmbedScene_details"),long:!0,children:(0,O.jsx)("div",{className:"excalidraw-tooltip-icon",children:_s})})]})}}),Ml({name:"saveToActiveFile",perform:(ef=(0,d.Z)(g().mark((function e(t,n,r,i){var o,a,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!!n.fileHandle,e.prev=1,!Ld(n.fileHandle)){e.next=8;break}return e.next=5,zp(t,n,i.files);case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,Zd(t,n,i.files);case 10:e.t0=e.sent;case 11:return a=e.t0,s=a.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:Jp(Jp({},n),{},{fileHandle:s,toastMessage:o?null!=s&&s.name?C("toast.fileSavedToFilename").replace("{filename}",'"'.concat(s.name,'"')):C("toast.fileSaved"):null})});case 16:return e.prev=16,e.t1=e.catch(1),"AbortError"!==(null===e.t1||void 0===e.t1?void 0:e.t1.name)?console.error(e.t1):console.warn(e.t1),e.abrupt("return",{commitToHistory:!1});case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),function(e,t,n,r){return ef.apply(this,arguments)}),keyTest:function(e){return e.key===en.S&&e[en.CTRL_OR_CMD]&&!e.shiftKey},PanelComponent:function(e){var t,n=e.updateData,r=e.appState;return(0,O.jsx)(Yp,{onSave:function(){return n(null)},fileName:null===(t=r.fileHandle)||void 0===t?void 0:t.name})}});var ef,tf,nf,rf=Ml({name:"saveFileToDisk",perform:(tf=(0,d.Z)(g().mark((function e(t,n,r,i){var o,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zd(t,Jp(Jp({},n),{},{fileHandle:null}),i.files);case 3:return o=e.sent,a=o.fileHandle,e.abrupt("return",{commitToHistory:!1,appState:Jp(Jp({},n),{},{fileHandle:a})});case 8:return e.prev=8,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)?console.error(e.t0):console.warn(e.t0),e.abrupt("return",{commitToHistory:!1});case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))),function(e,t,n,r){return tf.apply(this,arguments)}),keyTest:function(e){return e.key===en.S&&e.shiftKey&&e[en.CTRL_OR_CMD]},PanelComponent:function(e){var t=e.updateData;return(0,O.jsx)(Kl,{type:"button",icon:ps,title:C("buttons.saveAs"),"aria-label":C("buttons.saveAs"),showAriaLabel:eg(),hidden:!gd,onClick:function(){return t(null)},"data-testid":"save-as-button"})}});function of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function af(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?of(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):of(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ml({name:"loadScene",perform:(nf=(0,d.Z)(g().mark((function e(t,n,r,i){var o,a,s,l;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yd(n,t);case 3:return o=e.sent,a=o.elements,s=o.appState,l=o.files,e.abrupt("return",{elements:a,appState:s,files:l,commitToHistory:!0});case 10:if(e.prev=10,e.t0=e.catch(0),"AbortError"!==(null===e.t0||void 0===e.t0?void 0:e.t0.name)){e.next=15;break}return console.warn(e.t0),e.abrupt("return",!1);case 15:return e.abrupt("return",{elements:t,appState:Jp(Jp({},n),{},{errorMessage:e.t0.message}),files:i.files,commitToHistory:!1});case 16:case"end":return e.stop()}}),e,null,[[0,10]])}))),function(e,t,n,r){return nf.apply(this,arguments)}),keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.key===en.O},PanelComponent:function(e){var t=e.updateData;return e.appState,(0,O.jsx)(Kl,{type:"button",icon:fs,title:C("buttons.load"),"aria-label":C("buttons.load"),showAriaLabel:eg(),onClick:t,"data-testid":"load-button"})}}),Ml({name:"exportWithDarkMode",perform:function(e,t,n){return{appState:Jp(Jp({},t),{},{exportWithDarkMode:n}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,O.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,O.jsx)(ql,{value:t.exportWithDarkMode?c.C6.DARK:c.C6.LIGHT,onChange:function(e){n(e===c.C6.DARK)},title:C("labels.toggleExportColorScheme")})})}});var sf="{}",lf=Ml({name:"copyStyles",perform:function(e,t){var n=e.find((function(e){return t.selectedElementIds[e.id]}));return n&&(sf=JSON.stringify(n)),{appState:af(af({},t),{},{toastMessage:C("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.altKey&&e.code===zt}}),cf=Ml({name:"pasteStyles",perform:function(e,t){var n,r=JSON.parse(sf);return"text"!==(null==(n=r)?void 0:n.type)&&"diamond"!==(null==n?void 0:n.type)&&"rectangle"!==(null==n?void 0:n.type)&&"ellipse"!==(null==n?void 0:n.type)&&"arrow"!==(null==n?void 0:n.type)&&"freedraw"!==(null==n?void 0:n.type)&&"line"!==(null==n?void 0:n.type)?{elements:e,commitToHistory:!1}:{elements:e.map((function(e){if(t.selectedElementIds[e.id]){var n=si(e,{backgroundColor:null==r?void 0:r.backgroundColor,strokeWidth:null==r?void 0:r.strokeWidth,strokeColor:null==r?void 0:r.strokeColor,strokeStyle:null==r?void 0:r.strokeStyle,fillStyle:null==r?void 0:r.fillStyle,opacity:null==r?void 0:r.opacity,roughness:null==r?void 0:r.roughness});return ze(n)&&ze(e)&&(ai(n,{fontSize:(null==r?void 0:r.fontSize)||c.n5,fontFamily:(null==r?void 0:r.fontFamily)||c.rk,textAlign:(null==r?void 0:r.textAlign)||c.Hg}),ur(e,Tr(e))),n}return e})),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.altKey&&e.code===Zt}}),uf=function(e){return(0,O.jsx)("button",{className:"help-icon",onClick:e.onClick,type:"button",title:"".concat(e.title," \u2014 ?"),"aria-label":e.title,children:_s})};function df(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?df(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):df(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ff(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ff(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ff(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mf(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return gf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function gf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ml({name:"toggleCanvasMenu",perform:function(e,t){return{appState:pf(pf({},t),{},{openMenu:"canvas"===t.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData;return(0,O.jsx)(Kl,{type:"button",icon:ks,"aria-label":C("buttons.menu"),onClick:n,selected:"canvas"===t.openMenu})}}),Ml({name:"toggleEditMenu",perform:function(e,t){return{appState:pf(pf({},t),{},{openMenu:"shape"===t.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{visible:Sc(n,Cc(t)),type:"button",icon:gs,"aria-label":C("buttons.edit"),onClick:r,selected:"shape"===n.openMenu})}}),Ml({name:"toggleFullScreen",perform:function(){return yn()||document.documentElement.requestFullscreen(),yn()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(e){return e.code===qt&&!e[en.CTRL_OR_CMD]}}),Ml({name:"toggleShortcuts",perform:function(e,t,n,r){var i=r.focusContainer;return t.showHelpDialog&&i(),{appState:pf(pf({},t),{},{showHelpDialog:!t.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(e){var t=e.updateData;return(0,O.jsx)(uf,{title:C("helpDialog.title"),onClick:t})},keyTest:function(e){return e.key===en.QUESTION_MARK}});var vf=function(e,t){var n=Dc(Cc(e),t,!0);return n.length>=2&&!function(e){if(e.length>=2){var t,n=mf(e[0].groupIds);try{var r=function(){var n=t.value;if(e.reduce((function(e,t){return e&&Si(t,n)}),!0))return{v:!0}};for(n.s();!(t=n.n()).done;){var i=r();if("object"===I(i))return i.v}}catch(e){n.e(e)}finally{n.f()}}return!1}(n)},yf=Ml({name:"group",perform:function(e,t){var n=Dc(Cc(e),t,!0);if(n.length<2)return{appState:t,elements:e,commitToHistory:!1};var r=wi(t);if(1===r.length){var i=r[0],o=new Set(ki(e,i).map((function(e){return e.id}))),a=new Set(n.map((function(e){return e.id})));if(new Set([].concat(M(Array.from(o)),M(Array.from(a)))).size===o.size)return{appState:t,elements:e,commitToHistory:!1}}var s=ri(),l=In(n),c=e.map((function(e){return l.get(e.id)?si(e,{groupIds:Ti(e.groupIds,s,t.editingGroupId)}):e})),u=ki(c,s),d=u[u.length-1],p=c.lastIndexOf(d),f=c.slice(p+1),h=c.slice(0,p).filter((function(e){return!Si(e,s)})),m=[].concat(M(h),M(u),M(f));return{appState:vi(s,hf(hf({},t),{},{selectedGroupIds:{}}),Cc(m)),elements:m,commitToHistory:!0}},contextItemLabel:"labels.group",contextItemPredicate:function(e,t){return vf(e,t)},keyTest:function(e){return!e.shiftKey&&e[en.CTRL_OR_CMD]&&e.code===Kt},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{hidden:!vf(t,n),type:"button",icon:(0,O.jsx)(Vs,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(C("labels.group")," \u2014 ").concat(bn("CtrlOrCmd+G")),"aria-label":C("labels.group"),visible:Nc(Cc(t),n)})}}),bf=Ml({name:"ungroup",perform:function(e,t){if(0===wi(t).length)return{appState:t,elements:e,commitToHistory:!1};var n=[],r=e.map((function(e){et(e)&&n.push(e.id);var r=function(e,t){return e.filter((function(e){return!t[e]}))}(e.groupIds,t.selectedGroupIds);return r.length===e.groupIds.length?e:si(e,{groupIds:r})})),i=xi(hf(hf({},t),{},{selectedGroupIds:{}}),Cc(r));return n.forEach((function(e){return i.selectedElementIds[e]=!1})),{appState:i,elements:r,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&e[en.CTRL_OR_CMD]&&e.code===Kt},contextItemLabel:"labels.ungroup",contextItemPredicate:function(e,t){return wi(t).length>0},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{type:"button",hidden:0===wi(n).length,icon:(0,O.jsx)(zs,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(C("labels.ungroup")," \u2014 ").concat(bn("CtrlOrCmd+Shift+G")),"aria-label":C("labels.ungroup"),visible:Nc(Cc(t),n)})}}),wf=(n(2789),function(e){var t=e.children,n=e.color,r=e.border,i=e.onClick;return(0,O.jsx)("div",{className:"Avatar",style:{background:n,border:"1px solid ".concat(r)},onClick:i,children:t})});function xf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Sf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xf(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kf(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Ml({name:"goToCollaborator",perform:function(e,t,n){var r=n;return r?{appState:Sf(Sf(Sf({},t),Zl({scenePoint:r,viewportDimensions:{width:t.width,height:t.height},zoom:t.zoom})),{},{openMenu:"canvas"===t.openMenu?null:t.openMenu}),commitToHistory:!1}:{appState:t,commitToHistory:!1}},PanelComponent:function(e){var t=e.appState,n=e.updateData,r=e.data,i=null==r?void 0:r.id;if(!i)return null;var o=t.collaborators.get(i);if(!o)return null;var a=gu(i,t),s=a.background,l=a.stroke,c=function(e){if(!e)return"?";var t=e.trim().split(" ");if(t.length<2)return t[0].substring(0,2).toUpperCase();var n=t[0],r=t[t.length-1];return(n[0]+r[0]).toUpperCase()}(o.username);return(0,O.jsx)(wf,{color:s,border:l,onClick:function(){return n(o.pointer)},children:c})}});var Ef=Ml({name:"addToLibrary",perform:function(e,t,n,r){var i=Dc(Cc(e),t,!0);return i.some((function(e){return"image"===e.type}))?{commitToHistory:!1,appState:Tf(Tf({},t),{},{errorMessage:"Support for adding images to the library coming soon!"})}:r.library.loadLibrary().then((function(e){return r.library.saveLibrary([{id:ri(),status:"unpublished",elements:i.map(Di),created:Date.now()}].concat(M(e)))})).then((function(){return{commitToHistory:!1,appState:Tf(Tf({},t),{},{toastMessage:C("toast.addedToLibrary")})}})).catch((function(e){return{commitToHistory:!1,appState:Tf(Tf({},t),{},{errorMessage:e.message})}}))},contextItemLabel:"labels.addToLibrary"});function _f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_f(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Of=function(e,t,n){var r=n.axis,i=n.position,o=Et(e),a=h("x"===r?["minX","maxX"]:["minY","maxY"],2),s=a[0],l=a[1];return Cf(Cf({},{x:0,y:0}),{},N({},r,"start"===i?t[s]-o[s]:"end"===i?t[l]-o[l]:(t[s]+t[l])/2-(o[s]+o[l])/2))},Pf=function(e,t){return Dc(Cc(e),t).length>1},Af=function(e,t,n){var r=function(e,t){var n=Ei(e),r=Et(e);return n.flatMap((function(e){var n=Of(e,r,t);return e.map((function(e){return si(e,{x:e.x+n.x,y:e.y+n.y})}))}))}(Dc(Cc(e),t),n),i=In(r);return e.map((function(e){return i.get(e.id)||e}))};function If(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Mf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mf(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Mf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Ml({name:"alignTop",perform:function(e,t){return{appState:t,elements:Af(e,t,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.shiftKey&&e.key===en.ARROW_UP},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{hidden:!Pf(t,n),type:"button",icon:(0,O.jsx)(Is,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(C("labels.alignTop")," \u2014 ").concat(bn("CtrlOrCmd+Shift+Up")),"aria-label":C("labels.alignTop"),visible:Nc(Cc(t),n)})}}),Ml({name:"alignBottom",perform:function(e,t){return{appState:t,elements:Af(e,t,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.shiftKey&&e.key===en.ARROW_DOWN},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{hidden:!Pf(t,n),type:"button",icon:(0,O.jsx)(Ms,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(C("labels.alignBottom")," \u2014 ").concat(bn("CtrlOrCmd+Shift+Down")),"aria-label":C("labels.alignBottom"),visible:Nc(Cc(t),n)})}}),Ml({name:"alignLeft",perform:function(e,t){return{appState:t,elements:Af(e,t,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.shiftKey&&e.key===en.ARROW_LEFT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{hidden:!Pf(t,n),type:"button",icon:(0,O.jsx)(Ns,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(C("labels.alignLeft")," \u2014 ").concat(bn("CtrlOrCmd+Shift+Left")),"aria-label":C("labels.alignLeft"),visible:Nc(Cc(t),n)})}}),Ml({name:"alignRight",perform:function(e,t){return{appState:t,elements:Af(e,t,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.shiftKey&&e.key===en.ARROW_RIGHT},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{hidden:!Pf(t,n),type:"button",icon:(0,O.jsx)(Rs,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(C("labels.alignRight")," \u2014 ").concat(bn("CtrlOrCmd+Shift+Right")),"aria-label":C("labels.alignRight"),visible:Nc(Cc(t),n)})}}),Ml({name:"alignVerticallyCentered",perform:function(e,t){return{appState:t,elements:Af(e,t,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{hidden:!Pf(t,n),type:"button",icon:(0,O.jsx)(js,{theme:n.theme}),onClick:function(){return r(null)},title:C("labels.centerVertically"),"aria-label":C("labels.centerVertically"),visible:Nc(Cc(t),n)})}}),Ml({name:"alignHorizontallyCentered",perform:function(e,t){return{appState:t,elements:Af(e,t,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{hidden:!Pf(t,n),type:"button",icon:(0,O.jsx)(Bs,{theme:n.theme}),onClick:function(){return r(null)},title:C("labels.centerHorizontally"),"aria-label":C("labels.centerHorizontally"),visible:Nc(Cc(t),n)})}});var Nf=function(e,t){return Dc(Cc(e),t).length>1},Rf=function(e,t,n){var r=function(e,t){var n,r=h("x"===t.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],4),i=r[0],o=r[1],a=r[2],s=r[3],l=Et(e),c=Ei(e).map((function(e){return[e,Et(e)]})).sort((function(e,t){return e[1][o]-t[1][o]})),u=0,d=If(c);try{for(d.s();!(n=d.n()).done;)u+=n.value[1][s]}catch(e){d.e(e)}finally{d.f()}var p=(l[s]-u)/(c.length-1);if(p<0){var f=c.findIndex((function(e){return e[1][i]===l[i]})),m=c.findIndex((function(e){return e[1][a]===l[a]})),g=(c[m][1][o]-c[f][1][o])/(c.length-1),v=c[f][1][o];return c.flatMap((function(e,n){var r=h(e,2),i=r[0],a=r[1],s={x:0,y:0};return n!==f&&n!==m&&(v+=g,s[t.axis]=v-a[o]),i.map((function(e){return si(e,{x:e.x+s.x,y:e.y+s.y})}))}))}var y=l[i];return c.flatMap((function(e){var n=h(e,2),r=n[0],o=n[1],a={x:0,y:0};return a[t.axis]=y-o[i],y+=p,y+=o[s],r.map((function(e){return si(e,{x:e.x+a.x,y:e.y+a.y})}))}))}(Dc(Cc(e),t),n),i=In(r);return e.map((function(e){return i.get(e.id)||e}))},Df=(Ml({name:"distributeHorizontally",perform:function(e,t){return{appState:t,elements:Rf(e,t,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&e.code===Xt},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{hidden:!Nf(t,n),type:"button",icon:(0,O.jsx)(Ds,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(C("labels.distributeHorizontally")," \u2014 ").concat(bn("Alt+H")),"aria-label":C("labels.distributeHorizontally"),visible:Nc(Cc(t),n)})}}),Ml({name:"distributeVertically",perform:function(e,t){return{appState:t,elements:Rf(e,t,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(e){return e.altKey&&e.code===Zt},PanelComponent:function(e){var t=e.elements,n=e.appState,r=e.updateData;return(0,O.jsx)(Kl,{hidden:!Nf(t,n),type:"button",icon:(0,O.jsx)(Ls,{theme:n.theme}),onClick:function(){return r(null)},title:"".concat(C("labels.distributeVertically")," \u2014 ").concat(bn("Alt+V")),"aria-label":C("labels.distributeVertically"),visible:Nc(Cc(t),n)})}}),Ml({name:"flipHorizontal",perform:function(e,t){return{elements:jf(e,t,"horizontal"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&"KeyH"===e.code},contextItemLabel:"labels.flipHorizontal",contextItemPredicate:function(e,t){return function(e,t){var n=Dc(Cc(e),t);return 1===n.length&&"text"!==n[0].type}(e,t)}})),Lf=Ml({name:"flipVertical",perform:function(e,t){return{elements:jf(e,t,"vertical"),appState:t,commitToHistory:!0}},keyTest:function(e){return e.shiftKey&&"KeyV"===e.code},contextItemLabel:"labels.flipVertical",contextItemPredicate:function(e,t){return function(e,t){return 1===Dc(Cc(e),t).length}(e,t)}}),jf=function(e,t,n){var r=Dc(Cc(e),t);if(r.length>1)return e;var i=Bf(r,t,n),o=In(i);return e.map((function(e){return o.get(e.id)||e}))},Bf=function(e,t,n){return e.forEach((function(e){Ff(e,t),"vertical"===n&&Uf(e,Math.PI)})),e},Ff=function(e,t){var n=e.x,r=e.y,i=e.width,o=e.height,a=Ba(e.angle),s=0;(qe(e)||We(e))&&(s=2*e.points.reduce((function(e,t){return Math.max(e,t[0])}),0)-e.width),ai(e,{angle:Ba(0)});var l=Vi(e,t.zoom),c=!0,u=0,d=l.nw;if(d||(c=!1,d=l.ne)){if(qe(e)){for(var p=1;p<e.points.length;p++)aa.movePoints(e,[{index:p,point:[-e.points[p][0],e.points[p][1]]}]);aa.normalizePoints(e)}else u=c?e.x+2*i:e.x-2*i,Va(e,!0,e,c?"nw":"ne",!1,u,d[1]),ai(e,{width:i,height:o});var f=Ba(2*Math.PI-a);f<0&&(f=Ba(f+2*Math.PI)),ai(e,{angle:f}),ai(e,{x:n+s,y:r}),Sa(e)}else ai(e,{angle:a})},Uf=function(e,t){var n=e.x,r=e.y,i=Ba(e.angle+t);i<0&&(i=Ba(2*Math.PI+i)),ai(e,{angle:i}),ai(e,{x:n,y:r})};function $f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$f(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Gf=Ml({name:"copy",perform:function(e,t,n,r){return Rp(Cc(e),t,r.files),{commitToHistory:!1}},contextItemLabel:"labels.copy",keyTest:void 0}),Vf=Ml({name:"cut",perform:function(e,t,n,r){return Gf.perform(e,t,n,r),Uc.perform(e,t)},contextItemLabel:"labels.cut",keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.code===Yt}}),zf=Ml({name:"copyAsSvg",perform:function(){var e=(0,d.Z)(g().mark((function e(t,n,r,i){var o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return o=Dc(Cc(t),n,!0),e.prev=3,e.next=6,Hp("clipboard-svg",o.length?o:Cc(t),n,i.files,n);case 6:return e.abrupt("return",{commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:Hf(Hf({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),Wf=Ml({name:"copyAsPng",perform:function(){var e=(0,d.Z)(g().mark((function e(t,n,r,i){var o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.canvas){e.next=2;break}return e.abrupt("return",{commitToHistory:!1});case 2:return o=Dc(Cc(t),n,!0),e.prev=3,e.next=6,Hp("clipboard",o.length?o:Cc(t),n,i.files,n);case 6:return e.abrupt("return",{appState:Hf(Hf({},n),{},{toastMessage:C("toast.copyToClipboardAsPng",{exportSelection:o.length?C("toast.selection"):C("toast.canvas"),exportColorScheme:n.exportWithDarkMode?C("buttons.darkMode"):C("buttons.lightMode")})}),commitToHistory:!1});case 9:return e.prev=9,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",{appState:Hf(Hf({},n),{},{errorMessage:e.t0.message}),commitToHistory:!1});case 13:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(e){return e.code===zt&&e.altKey&&e.shiftKey}});function Kf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kf(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Xf=Ml({name:"gridMode",perform:function(e,t){return hu("view","mode","grid"),{appState:qf(qf({},t),{},{gridSize:this.checked(t)?null:c.k}),commitToHistory:!1}},checked:function(e){return null!==e.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.code===Ht}});function Zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Yf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zf(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Qf=Ml({name:"zenMode",perform:function(e,t){return hu("view","mode","zen"),{appState:Yf(Yf({},t),{},{zenModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(e){return!e[en.CTRL_OR_CMD]&&e.altKey&&e.code===Qt}});function Jf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function eh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jf(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var th=Ml({name:"stats",perform:function(e,t){return{appState:eh(eh({},t),{},{showStats:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.showStats},contextItemLabel:"stats.title",keyTest:function(e){return!e[en.CTRL_OR_CMD]&&e.altKey&&e.code===Vt}}),nh=Ml({name:"unbindText",contextItemLabel:"labels.unbindText",perform:function(e,t){return Dc(Cc(e),t).forEach((function(e){var t=kr(e);if(t){var n,r=fr(t.originalText,dn(t)),i=r.width,o=r.height,a=r.baseline;ai(t,{containerId:null,width:i,height:o,baseline:a,text:t.originalText}),ai(e,{boundElements:null===(n=e.boundElements)||void 0===n?void 0:n.filter((function(e){return e.id!==t.id}))})}})),{elements:e,appState:t,commitToHistory:!0}}});function rh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ih(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rh(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var oh=function(e,t,n){var r=!1;if(!(t.multiElement||t.resizingElement||t.editingElement||t.draggingElement)){var i=n();if(null===i)return{commitToHistory:r};var o=In(e),a=i.elements,s=In(a),l=e.filter((function(e){return!s.has(e.id)})),c=a.map((function(e){return si(o.get(e.id)||e,e)})).concat(l.map((function(e){return si(e,{isDeleted:!0})})));return Ra(c,l),{elements:c,appState:ih(ih({},t),i.appState),commitToHistory:r,syncHistory:!0}}return{commitToHistory:r}},ah=function(){function e(t,n,r,i){var o=this;R(this,e),this.actions={},this.renderAction=function(e,t){var n=o.app.props.UIOptions.canvasActions;if(o.actions[e]&&"PanelComponent"in o.actions[e]&&(!(e in n)||n[e])){var r=o.actions[e],i=r.PanelComponent;return(0,O.jsx)(i,{elements:o.getElementsIncludingDeleted(),appState:o.getAppState(),updateData:function(e){o.updater(r.perform(o.getElementsIncludingDeleted(),o.getAppState(),e,o.app))},appProps:o.app.props,data:t})}return null},this.updater=function(e){if(!e||!("then"in e))return t(e);e.then((function(e){return t(e)}))},this.getAppState=n,this.getElementsIncludingDeleted=r,this.app=i}return L(e,[{key:"registerAction",value:function(e){this.actions[e.name]=e}},{key:"registerAll",value:function(e){var t=this;e.forEach((function(e){return t.registerAction(e)}))}},{key:"handleKeyDown",value:function(e){var t=this,n=this.app.props.UIOptions.canvasActions,r=Object.values(this.actions).sort((function(e,t){return(t.keyPriority||0)-(e.keyPriority||0)})).filter((function(r){return(!(r.name in n)||n[r.name])&&r.keyTest&&r.keyTest(e,t.getAppState(),t.getElementsIncludingDeleted())}));return 0!==r.length&&!(this.getAppState().viewModeEnabled&&!Object.values(c.EH).includes(r[0].name))&&(e.preventDefault(),this.updater(r[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)}},{key:"executeAction",value:function(e){this.updater(e.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))}}]),e}();function sh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return lh(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lh(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function lh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ch(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function uh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ch(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ch(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dh=function(){function e(t){var n=this;R(this,e),this.libraryCache=null,this.resetLibrary=(0,d.Z)(g().mark((function e(){var t,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(t=(r=n.app.props).onLibraryChange)||void 0===t?void 0:t.call(r,[]);case 2:n.libraryCache=[];case 3:case"end":return e.stop()}}),e)}))),this.restoreLibraryItem=function(e){var t=Cc(Od(e.elements,null));return t.length?uh(uh({},e),{},{elements:t}):null},this.loadLibrary=function(){return new Promise(function(){var e=(0,d.Z)(g().mark((function e(t){var r,i;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.libraryCache){e.next=2;break}return e.abrupt("return",t(JSON.parse(JSON.stringify(n.libraryCache))));case 2:if(e.prev=2,r=n.app.libraryItemsFromStorage){e.next=6;break}return e.abrupt("return",t([]));case 6:i=r.reduce((function(e,t){return n.restoreLibraryItem(t)&&e.push(t),e}),[]),n.libraryCache=JSON.parse(JSON.stringify(i)),t(i),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0),t([]);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}())},this.saveLibrary=function(){var e=(0,d.Z)(g().mark((function e(t){var r,i,o,a;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.libraryCache,e.prev=1,a=JSON.stringify(t),n.libraryCache=JSON.parse(a),e.next=6,null===(i=(o=n.app.props).onLibraryChange)||void 0===i?void 0:i.call(o,t);case 6:e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),n.libraryCache=r,e.t0;case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),this.app=t}var t;return L(e,[{key:"importLibrary",value:(t=(0,d.Z)(g().mark((function e(t){var n,r,i,o,a,s,l,c,u,d,p,f=arguments;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:"unpublished",e.next=3,Fd(t);case 3:if((r=e.sent)&&(r.libraryItems||r.library)){e.next=6;break}return e.abrupt("return");case 6:return i=function(e,t){return!e.find((function(e){return e.elements.length===t.elements.length&&e.elements.every((function(e,n){return e.id===t.elements[n].id&&e.versionNonce===t.elements[n].versionNonce}))}))},e.next=9,this.loadLibrary();case 9:o=e.sent,a=r.libraryItems||r.library||[],s=Id(a,n),l=[],c=sh(s);try{for(c.s();!(u=c.n()).done;)d=u.value,(p=this.restoreLibraryItem(d))&&i(o,p)&&l.push(p)}catch(e){c.e(e)}finally{c.f()}return e.next=17,this.saveLibrary([].concat(l,M(o)));case 17:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),ph=dh,fh=function(e){var t=Array.from(e.values());return{x:mh(t,(function(e){return e.x}))/t.length,y:mh(t,(function(e){return e.y}))/t.length}},hh=function(e){var t=h(e,2),n=t[0],r=t[1];return Math.hypot(n.x-r.x,n.y-r.y)},mh=function(e,t){return e.reduce((function(e,n){return e+t(n)}),0)};function gh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gh(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yh=function(e){return{selectedElementIds:e.selectedElementIds,selectedGroupIds:e.selectedGroupIds,viewBackgroundColor:e.viewBackgroundColor,editingLinearElement:e.editingLinearElement,editingGroupId:e.editingGroupId,name:e.name}},bh=function(){function e(){var t=this;R(this,e),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(e,n){return t.dehydrateHistoryEntry({appState:yh(e),elements:n.reduce((function(t,n){if(qe(n)&&e.multiElement&&e.multiElement.id===n.id){if(e.multiElement&&e.multiElement.id===n.id&&n.points.length<2)return t;t.push(vh(vh({},n),{},{points:n.lastCommittedPoint!==n.points[n.points.length-1]?n.points.slice(0,-1):n.points}))}else t.push(n);return t}),[])})}}return L(e,[{key:"hydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.parse(n),elements:r.map((function(e){var n,r=null===(n=t.elementCache.get(e.id))||void 0===n?void 0:n.get(e.versionNonce);if(!r)throw new Error("Element not found: ".concat(e.id,":").concat(e.versionNonce));return r}))}}},{key:"dehydrateHistoryEntry",value:function(e){var t=this,n=e.appState,r=e.elements;return{appState:JSON.stringify(n),elements:r.map((function(e){t.elementCache.has(e.id)||t.elementCache.set(e.id,new Map);var n=t.elementCache.get(e.id);return n.has(e.versionNonce)||n.set(e.versionNonce,Di(e)),{id:e.id,versionNonce:e.versionNonce}}))}}},{key:"getSnapshotForTest",value:function(){var e=this;return{recording:this.recording,stateHistory:this.stateHistory.map((function(t){return e.hydrateHistoryEntry(t)})),redoStack:this.redoStack.map((function(t){return e.hydrateHistoryEntry(t)}))}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(e){var t,n=this.lastEntry;if(!n)return!0;if(e.elements.length!==n.elements.length)return!0;for(var r=e.elements.length-1;r>-1;r--){var i=e.elements[r],o=n.elements[r];if(!i||!o||i.id!==o.id||i.versionNonce!==o.versionNonce)return!0}for(t in e.appState){var a,s;if(("editingLinearElement"!==t||(null===(a=e.appState[t])||void 0===a?void 0:a.elementId)!==(null===(s=n.appState[t])||void 0===s?void 0:s.elementId))&&"selectedElementIds"!==t&&"selectedGroupIds"!==t&&e.appState[t]!==n.appState[t])return!0}return!1}},{key:"pushEntry",value:function(e,t){var n=this.generateEntry(e,t),r=this.hydrateHistoryEntry(n);if(r){if(!this.shouldCreateEntry(r))return;this.stateHistory.push(n),this.lastEntry=r,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(0===this.redoStack.length)return null;var e=this.redoStack.pop();return void 0!==e?(this.stateHistory.push(e),this.hydrateHistoryEntry(e)):null}},{key:"undoOnce",value:function(){if(1===this.stateHistory.length)return null;var e=this.stateHistory.pop(),t=this.stateHistory[this.stateHistory.length-1];return void 0!==e?(this.redoStack.push(e),this.hydrateHistoryEntry(t)):null}},{key:"setCurrentState",value:function(e,t){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(e,t))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(e,t){this.recording&&(this.pushEntry(e,t),this.recording=!1)}}]),e}(),wh=[{icon:(0,O.jsx)("svg",{viewBox:"0 0 320 512",className:"",children:(0,O.jsx)("path",{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})}),value:"selection",key:en.V},{icon:(0,O.jsx)("svg",{viewBox:"0 0 448 512",children:(0,O.jsx)("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})}),value:"rectangle",key:en.R},{icon:(0,O.jsx)("svg",{viewBox:"0 0 223.646 223.646",children:(0,O.jsx)("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})}),value:"diamond",key:en.D},{icon:(0,O.jsx)("svg",{viewBox:"0 0 512 512",children:(0,O.jsx)("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})}),value:"ellipse",key:en.E},{icon:(0,O.jsx)("svg",{viewBox:"0 0 448 512",className:"rtl-mirror",children:(0,O.jsx)("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})}),value:"arrow",key:en.A},{icon:(0,O.jsx)("svg",{viewBox:"0 0 6 6",children:(0,O.jsx)("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})}),value:"line",key:[en.P,en.L]},{icon:(0,O.jsx)("svg",{viewBox:"0 0 512 512",children:(0,O.jsx)("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})}),value:"freedraw",key:[en.X,en.P.toUpperCase()]},{icon:(0,O.jsx)("svg",{viewBox:"0 0 448 512",children:(0,O.jsx)("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})}),value:"text",key:en.T},{icon:(0,O.jsx)("svg",{viewBox:"0 0 512 512",children:(0,O.jsx)("path",{fill:"currentColor",d:"M464 64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 336H54a6 6 0 0 1-6-6V118a6 6 0 0 1 6-6h404a6 6 0 0 1 6 6v276a6 6 0 0 1-6 6zM128 152c-22.091 0-40 17.909-40 40s17.909 40 40 40 40-17.909 40-40-17.909-40-40-40zM96 352h320v-80l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L192 304l-39.515-39.515c-4.686-4.686-12.284-4.686-16.971 0L96 304v48z"})}),value:"image",key:null}],xh=(n(1292),{cut:[bn("CtrlOrCmd+X")],copy:[bn("CtrlOrCmd+C")],paste:[bn("CtrlOrCmd+V")],copyStyles:[bn("CtrlOrCmd+Alt+C")],pasteStyles:[bn("CtrlOrCmd+Alt+V")],selectAll:[bn("CtrlOrCmd+A")],deleteSelectedElements:[bn("Del")],duplicateSelection:[bn("CtrlOrCmd+D"),bn("Alt+".concat(C("helpDialog.drag")))],sendBackward:[bn("CtrlOrCmd+[")],bringForward:[bn("CtrlOrCmd+]")],sendToBack:[bn(At?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[bn(At?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[bn("Shift+Alt+C")],copyAsSvg:[],group:[bn("CtrlOrCmd+G")],ungroup:[bn("CtrlOrCmd+Shift+G")],gridMode:[bn("CtrlOrCmd+'")],zenMode:[bn("Alt+Z")],stats:[bn("Alt+/")],addToLibrary:[],flipHorizontal:[bn("Shift+H")],flipVertical:[bn("Shift+V")],viewMode:[bn("Alt+R")],link:[bn("CtrlOrCmd+K")]}),Sh=function(e){var t=e.options,n=e.onCloseRequest,r=e.top,i=e.left,o=e.actionManager,a=e.appState,s=e.elements;return(0,O.jsx)(Za,{onCloseRequest:n,top:r,left:i,fitInViewport:!0,offsetLeft:a.offsetLeft,offsetTop:a.offsetTop,viewportWidth:a.width,viewportHeight:a.height,children:(0,O.jsx)("ul",{className:"context-menu",onContextMenu:function(e){return e.preventDefault()},children:t.map((function(e,t){var r;if("separator"===e)return(0,O.jsx)("hr",{className:"context-menu-option-separator"},t);var i,l,c=e.name,u="";return e.contextItemLabel&&(u="function"==typeof e.contextItemLabel?C(e.contextItemLabel(s,a)):C(e.contextItemLabel)),(0,O.jsx)("li",{"data-testid":c,onClick:n,children:(0,O.jsxs)("button",{className:$e("context-menu-option",{dangerous:"deleteSelectedElements"===c,checkmark:null===(r=e.checked)||void 0===r?void 0:r.call(e,a)}),onClick:function(){return o.executeAction(e)},children:[(0,O.jsx)("div",{className:"context-menu-option__label",children:u}),(0,O.jsx)("kbd",{className:"context-menu-option__shortcut",children:c?(i=c,l=xh[i],l&&l.length>0?l[0]:""):""})]})},t)}))})})},kh=new WeakMap,Th=function(e){var t,n,r=Array.of();e.options.forEach((function(e){e&&r.push(e)})),r.length&&(0,Pt.render)((0,O.jsx)(Sh,{top:e.top,left:e.left,options:r,onCloseRequest:function(){return t=e.container,void((n=kh.get(t))&&((0,Pt.unmountComponentAtNode)(n),n.remove(),kh.delete(t)));var t,n},actionManager:e.actionManager,appState:e.appState,elements:e.elements}),(t=e.container,(n=kh.get(t))||(n=document.createElement("div"),t.querySelector(".excalidraw-contextMenuContainer").appendChild(n),kh.set(t,n),n)))};function Eh(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_h(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ch=function(e){var t,n,r=e.appState,i=e.elements,o=e.renderAction,a=e.elementType,s=Lc(Cc(i),r),l=Boolean(r.editingElement),c=eg(),u="rtl"===document.documentElement.getAttribute("dir"),d=xl(a)||s.some((function(e){return xl(e.type)&&!Cn(e.backgroundColor)})),p=xl(a)||s.some((function(e){return xl(e.type)})),f=(null===(t=s[0])||void 0===t?void 0:t.type)||null,h=Eh(s);try{for(h.s();!(n=h.n()).done;)if(n.value.type!==f){f=null;break}}catch(e){h.e(e)}finally{h.f()}return(0,O.jsxs)("div",{className:"panelColumn",children:[(Sl(a)&&"image"!==a&&"image"!==f||s.some((function(e){return Sl(e.type)})))&&o("changeStrokeColor"),p&&o("changeBackgroundColor"),d&&o("changeFillStyle"),(kl(a)||s.some((function(e){return kl(e.type)})))&&o("changeStrokeWidth"),("freedraw"===a||s.some((function(e){return"freedraw"===e.type})))&&o("changeStrokeShape"),(Tl(a)||s.some((function(e){return Tl(e.type)})))&&(0,O.jsxs)(O.Fragment,{children:[o("changeStrokeStyle"),o("changeSloppiness")]}),(El(a)||s.some((function(e){return El(e.type)})))&&(0,O.jsx)(O.Fragment,{children:o("changeSharpness")}),(_l(a)||s.some((function(e){return _l(e.type)})))&&(0,O.jsxs)(O.Fragment,{children:[o("changeFontSize"),o("changeFontFamily"),o("changeTextAlign")]}),(Cl(a)||s.some((function(e){return Cl(e.type)})))&&(0,O.jsx)(O.Fragment,{children:o("changeArrowhead")}),o("changeOpacity"),(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.layers")}),(0,O.jsxs)("div",{className:"buttonList",children:[o("sendToBack"),o("sendBackward"),o("bringToFront"),o("bringForward")]})]}),s.length>1&&(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.align")}),(0,O.jsxs)("div",{className:"buttonList",children:[u?(0,O.jsxs)(O.Fragment,{children:[o("alignRight"),o("alignHorizontallyCentered"),o("alignLeft")]}):(0,O.jsxs)(O.Fragment,{children:[o("alignLeft"),o("alignHorizontallyCentered"),o("alignRight")]}),s.length>2&&o("distributeHorizontally"),(0,O.jsxs)("div",{className:"iconRow",children:[o("alignTop"),o("alignVerticallyCentered"),o("alignBottom"),s.length>2&&o("distributeVertically")]})]})]}),!l&&s.length>0&&(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.actions")}),(0,O.jsxs)("div",{className:"buttonList",children:[!c&&o("duplicateSelection"),!c&&o("deleteSelectedElements"),o("group"),o("ungroup"),1===s.length&&o("link")]})]})]})},Oh=function(e){var t=e.canvas,n=e.elementType,r=e.setAppState,i=e.onImageAction;return(0,O.jsx)(O.Fragment,{children:wh.map((function(e,o){var a=e.value,s=e.icon,l=e.key,c=C("toolBar.".concat(a)),u=l&&("string"==typeof l?l:l[0]),d=u?"".concat(ln(u)," ").concat(C("helpDialog.or")," ").concat(o+1):"".concat(o+1);return(0,O.jsx)(Kl,{className:"Shape",type:"radio",icon:s,checked:n===a,name:"editor-current-shape",title:"".concat(ln(c)," \u2014 ").concat(d),keyBindingLabel:"".concat(o+1),"aria-label":ln(c),"aria-keyshortcuts":d,"data-testid":a,onChange:function(e){var n=e.pointerType;r({elementType:a,multiElement:null,selectedElementIds:{}}),vn(t,a),"image"===a&&i({pointerType:n})}},a)}))})},Ph=function(e){var t=e.renderAction;return e.zoom,(0,O.jsx)(Zp,{gap:1,children:(0,O.jsxs)(Xp,{gap:1,align:"center",children:[t("zoomOut"),t("zoomIn"),t("resetZoom")]})})},Ah=function(e){e.appState,e.setAppState;var t=e.actionManager,n=e.showThemeBtn;return(0,O.jsxs)("div",{style:{display:"flex"},children:[t.renderAction("changeViewBackgroundColor"),n&&t.renderAction("toggleTheme")]})},Ih=(n(778),function(e){var t=e.isCollaborating,n=e.collaboratorCount,r=e.onClick;return(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(Kl,{className:$e("CollabButton",{"is-collaborating":t}),onClick:r,icon:Fs,type:"button",title:C("labels.liveCollaboration"),"aria-label":C("labels.liveCollaboration"),showAriaLabel:eg(),children:n>0&&(0,O.jsx)("div",{className:"CollabButton-collaborators",children:n})})})}),Mh=function(e){var t=e.message,n=e.onClose,r=h((0,s.useState)(!!t),2),i=r[0],o=r[1],a=ng().container,c=l().useCallback((function(){o(!1),n&&n(),null==a||a.focus()}),[n,a]);return(0,O.jsx)(O.Fragment,{children:i&&(0,O.jsx)(lc,{small:!0,onCloseRequest:c,title:C("errorDialog.title"),children:(0,O.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:t})})})},Nh=(n(2205),"filter"in document.createElement("canvas").getContext("2d")),Rh=function(){return(0,O.jsxs)("div",{children:[(0,O.jsx)("h3",{children:C("canvasError.cannotShowPreview")}),(0,O.jsx)("p",{children:(0,O.jsx)("span",{children:C("canvasError.canvasTooBig")})}),(0,O.jsxs)("em",{children:["(",C("canvasError.canvasTooBigTip"),")"]})]})},Dh=function(e,t){(0,Pt.unmountComponentAtNode)(t),t.innerHTML="",e instanceof HTMLCanvasElement?t.appendChild(e):(0,Pt.render)((0,O.jsx)(Rh,{}),t)},Lh=function(e){var t,n=e.children,r=e.title,i=e.onClick,o=e.color,a=e.shade,s=void 0===a?6:a;return(0,O.jsx)("button",{className:"ExportDialog-imageExportButton",style:(t={},N(t,"--button-color",_t[o][s]),N(t,"--button-color-darker",_t[o][s+1]),N(t,"--button-color-darkest",_t[o][s+2]),t),title:r,"aria-label":r,onClick:i,children:n})},jh=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.exportPadding,o=void 0===i?c.qy:i,a=e.actionManager,l=e.onExportToPng,u=e.onExportToSvg,d=e.onExportToClipboard,p=Nc(t,n),f=h((0,s.useState)(p),2),m=f[0],g=f[1],v=(0,s.useRef)(null),y=n.exportBackground,b=n.viewBackgroundColor,w=m?Dc(t,n,!0):t;return(0,s.useEffect)((function(){g(p)}),[p]),(0,s.useEffect)((function(){var e=v.current;e&&cp(w,n,r,{exportBackground:y,viewBackgroundColor:b,exportPadding:o}).then((function(t){return Ud(t).then((function(){Dh(t,e)}))})).catch((function(t){console.error(t),Dh(new Vl,e)}))}),[n,r,w,y,o,b]),(0,O.jsxs)("div",{className:"ExportDialog",children:[(0,O.jsx)("div",{className:"ExportDialog__preview",ref:v}),Nh&&a.renderAction("exportWithDarkMode"),(0,O.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,O.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[a.renderAction("changeExportBackground"),p&&(0,O.jsx)(Wp,{checked:m,onChange:function(e){return g(e)},children:C("labels.onlySelected")}),a.renderAction("changeExportEmbedScene")]})}),(0,O.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,O.jsx)(Xp,{gap:2,children:a.renderAction("changeExportScale")}),(0,O.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:"Scale"})]}),(0,O.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!gd&&a.renderAction("changeProjectName")}),(0,O.jsxs)(Xp,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,O.jsx)(Lh,{color:"indigo",title:C("buttons.exportToPng"),"aria-label":C("buttons.exportToPng"),onClick:function(){return l(w)},children:"PNG"}),(0,O.jsx)(Lh,{color:"red",title:C("buttons.exportToSvg"),"aria-label":C("buttons.exportToSvg"),onClick:function(){return u(w)},children:"SVG"}),Np&&(0,O.jsx)(Lh,{title:C("buttons.copyPngToClipboard"),onClick:function(){return d(w)},color:"gray",shade:7,children:hs})]})]})},Bh=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.exportPadding,o=void 0===i?c.qy:i,a=e.actionManager,u=e.onExportToPng,d=e.onExportToSvg,p=e.onExportToClipboard,f=h((0,s.useState)(!1),2),m=f[0],g=f[1],v=l().useCallback((function(){g(!1)}),[]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Kl,{onClick:function(){g(!0)},"data-testid":"image-export-button",icon:ys,type:"button","aria-label":C("buttons.exportImage"),showAriaLabel:eg(),title:C("buttons.exportImage")}),m&&(0,O.jsx)(lc,{onCloseRequest:v,title:C("buttons.exportImage"),children:(0,O.jsx)(jh,{elements:t,appState:n,files:r,exportPadding:o,actionManager:a,onExportToPng:u,onExportToSvg:d,onExportToClipboard:p,onCloseRequest:v})})]})},Fh=(n(1310),function(e){var t=e.children,n=e.side,r=e.className;return(0,O.jsx)("div",{className:$e("FixedSideContainer","FixedSideContainer_side_".concat(n),r),children:t})}),Uh=(n(7096),function(e){var t=function(e){var t=e.appState,n=e.elements,r=e.isMobile,i=t.elementType,o=t.isResizing,a=t.isRotating,s=t.lastPointerDownWith,l=null!==t.multiElement;if("arrow"===i||"line"===i)return C(l?"hints.linearElementMulti":"hints.linearElement");if("freedraw"===i)return C("hints.freeDraw");if("text"===i)return C("hints.text");if("image"===t.elementType&&t.pendingImageElement)return C("hints.placeImage");var c,u=Dc(n,t);if(o&&"mouse"===s&&1===u.length){var d=u[0];return qe(d)&&2===d.points.length?C("hints.lockAngle"):Ve(d)?C("hints.resizeImage"):C("hints.resize")}if(a&&"mouse"===s)return C("hints.rotate");if(1===u.length&&ze(u[0]))return C("hints.text_selected");if(t.editingElement&&ze(t.editingElement))return C("hints.text_editing");if("selection"===i){var p;if("selection"===(null===(p=t.draggingElement)||void 0===p?void 0:p.type)&&!t.editingElement&&!t.editingLinearElement)return C("hints.deepBoxSelect");if(!u.length&&!r)return C("hints.canvasPanning")}if(1===u.length){if(qe(u[0]))return t.editingLinearElement?t.editingLinearElement.selectedPointsIndices?C("hints.lineEditor_pointSelected"):C("hints.lineEditor_nothingSelected"):C("hints.lineEditor_info");if(null!=(c=u[0])&&("rectangle"===c.type||"diamond"===c.type||"ellipse"===c.type||"image"===c.type))return C("hints.bindTextToElement")}return null}({appState:e.appState,elements:e.elements,isMobile:e.isMobile});return t?(t=bn(t),(0,O.jsx)("div",{className:"HintViewer",children:(0,O.jsx)("span",{children:t})})):null}),$h={CHECKED:(0,O.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",children:(0,O.jsx)("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})}),UNCHECKED:(0,O.jsx)("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:(0,O.jsx)("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})})},Hh=function(e){return(0,O.jsxs)("label",{className:$e("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_".concat("medium"),{"is-mobile":e.isMobile}),title:"".concat(e.title," \u2014 Q"),children:[(0,O.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,O.jsx)("div",{className:"ToolIcon__icon",children:e.checked?$h.CHECKED:$h.UNCHECKED})]})},Gh=["heading","children"];function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vh(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Wh=function(e){var t=e.heading,n=e.children,r=pi(e,Gh),i=ng().id,o=(0,O.jsx)("h2",{className:"visually-hidden",id:"".concat(i,"-").concat(t,"-title"),children:C("headings.".concat(t))});return(0,O.jsx)("section",zh(zh({},r),{},{"aria-labelledby":"".concat(i,"-").concat(t,"-title"),children:"function"==typeof n?n(o):(0,O.jsxs)(O.Fragment,{children:[o,n]})}))},Kh=(n(580),function(e){var t=e.children,n=e.className,r=e.mobile;return(0,O.jsx)("div",{className:$e("UserList",n,{UserList_mobile:r}),children:t})}),qh=(0,O.jsx)("svg",{viewBox:"0 0 576 512",children:(0,O.jsx)("path",{fill:"currentColor",d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"})}),Xh=function(e){var t=e.appState,n=e.setAppState,r=e.isMobile;return(0,O.jsxs)("label",{className:$e("ToolIcon ToolIcon_type_floating ToolIcon__library","ToolIcon_size_medium",{"is-mobile":r}),title:"".concat(ln(C("toolBar.library"))," \u2014 0"),children:[(0,O.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(e){n({isLibraryOpen:e.target.checked})},checked:t.isLibraryOpen,"aria-label":ln(C("toolBar.library")),"aria-keyshortcuts":"0"}),(0,O.jsx)("div",{className:"ToolIcon__icon",children:qh})]})},Zh="medium",Yh={CHECKED:(0,O.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",children:[(0,O.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,O.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,O.jsx)("path",{d:"M125 145h70v50h-70"}),(0,O.jsx)("path",{d:"M190 145v-30l-10-20h-40l-10 20v30h15v-30l5-5h20l5 5v30h15"})]}),UNCHECKED:(0,O.jsxs)("svg",{width:"205",height:"205",viewBox:"0 0 205 205",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror",children:[(0,O.jsx)("path",{d:"m35 195-25-29.17V50h50v115l-25 30"}),(0,O.jsx)("path",{d:"M10 40V10h50v30H10"}),(0,O.jsx)("path",{d:"M125 145h70v50h-70"}),(0,O.jsx)("path",{d:"M145 145v-30l-10-20H95l-10 20v30h15v-30l5-5h20l5 5v30h15"})]})},Qh=function(e){return e.penDetected?(0,O.jsxs)("label",{className:$e("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(Zh),{"is-mobile":e.isMobile}),title:"".concat(e.title),children:[(0,O.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:e.name,onChange:e.onChange,checked:e.checked,"aria-label":e.title}),(0,O.jsx)("div",{className:"ToolIcon__icon",children:e.checked?Yh.CHECKED:Yh.UNCHECKED})]}):e.isMobile?null:(0,O.jsx)("label",{className:$e("ToolIcon ToolIcon__penMode ToolIcon_type_floating","ToolIcon_size_".concat(Zh),{"is-mobile":e.isMobile}),children:(0,O.jsx)("div",{className:"ToolIcon__icon ToolIcon__hidden"})})};function Jh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var em=function(e){var t=e.appState,n=e.elements,r=e.libraryMenu,i=e.actionManager,o=e.renderJSONExportDialog,a=e.renderImageExportDialog,s=e.setAppState,c=e.onCollabButtonClick,u=e.onLockToggle,d=e.onPenModeToggle,p=e.canvas,f=e.isCollaborating,m=e.renderCustomFooter,g=e.viewModeEnabled,v=e.showThemeBtn,y=e.onImageAction,b=e.renderTopRightUI;return(0,O.jsxs)(O.Fragment,{children:[!g&&(0,O.jsxs)(Fh,{side:"top",className:"App-top-bar",children:[(0,O.jsx)(Wh,{heading:"shapes",children:function(e){return(0,O.jsxs)(Zp,{gap:4,align:"center",children:[(0,O.jsxs)(Xp,{gap:1,className:"App-toolbar-container",children:[(0,O.jsxs)(oc,{padding:1,className:"App-toolbar",children:[e,(0,O.jsx)(Xp,{gap:1,children:(0,O.jsx)(Oh,{canvas:p,elementType:t.elementType,setAppState:s,onImageAction:function(e){var t=e.pointerType;y({insertOnCanvasDirectly:"mouse"!==t})}})})]}),b&&b(!0,t),(0,O.jsx)(Hh,{checked:t.elementLocked,onChange:u,title:C("toolBar.lock"),isMobile:!0}),(0,O.jsx)(Xh,{appState:t,setAppState:s,isMobile:!0}),(0,O.jsx)(Qh,{checked:t.penMode,onChange:d,title:C("toolBar.penMode"),isMobile:!0,penDetected:t.penDetected})]}),r]})}}),(0,O.jsx)(Uh,{appState:t,elements:n,isMobile:!0})]}),(0,O.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14},children:(0,O.jsxs)(oc,{padding:0,children:["canvas"===t.openMenu?(0,O.jsx)(Wh,{className:"App-mobile-menu",heading:"canvasActions",children:(0,O.jsx)("div",{className:"panelColumn",children:(0,O.jsxs)(Zp,{gap:4,children:[g?(0,O.jsxs)(O.Fragment,{children:[o(),a()]}):(0,O.jsxs)(O.Fragment,{children:[i.renderAction("clearCanvas"),i.renderAction("loadScene"),o(),a(),c&&(0,O.jsx)(Ih,{isCollaborating:f,collaboratorCount:t.collaborators.size,onClick:c}),(0,O.jsx)(Ah,{actionManager:i,appState:t,setAppState:s,showThemeBtn:v})]}),null==m?void 0:m(!0,t),t.collaborators.size>0&&(0,O.jsxs)("fieldset",{children:[(0,O.jsx)("legend",{children:C("labels.collaborators")}),(0,O.jsx)(Kh,{mobile:!0,children:Array.from(t.collaborators).filter((function(e){var t=h(e,2),n=(t[0],t[1]);return 0!==Object.keys(n).length})).map((function(e){var t=h(e,2),n=t[0];return t[1],(0,O.jsx)(l().Fragment,{children:i.renderAction("goToCollaborator",{id:n})},n)}))})]})]})})}):"shape"===t.openMenu&&!g&&Sc(t,n)?(0,O.jsx)(Wh,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,O.jsx)(Ch,{appState:t,elements:n,renderAction:i.renderAction,elementType:t.elementType})}):null,(0,O.jsxs)("footer",{className:"App-toolbar",children:[g?(0,O.jsx)("div",{className:"App-toolbar-content",children:i.renderAction("toggleCanvasMenu")}):(0,O.jsxs)("div",{className:"App-toolbar-content",children:[i.renderAction("toggleCanvasMenu"),i.renderAction("toggleEditMenu"),i.renderAction("undo"),i.renderAction("redo"),i.renderAction(t.multiElement?"finalize":"duplicateSelection"),i.renderAction("deleteSelectedElements")]}),t.scrolledOutside&&!t.openMenu&&(0,O.jsx)("button",{className:"scroll-back-to-content",onClick:function(){s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jh(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Yl(n,t)))},children:C("buttons.scrollBackToContent")})]})]})})]})},tm=(n(8051),function(e){var t=(0,s.useRef)(null),n=h((0,s.useState)(null),2),r=n[0],i=n[1];return(0,s.useLayoutEffect)((function(){if(e.spreadsheet){var n,r=Op(e.chartType,e.spreadsheet,0,0);i(r);var o=t.current;return(0,d.Z)(g().mark((function t(){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,up(r,{exportBackground:!1,viewBackgroundColor:_t.white},null);case 2:n=t.sent,o.appendChild(n),e.selected&&o.parentNode.focus();case 5:case"end":return t.stop()}}),t)})))(),function(){o.removeChild(n)}}}),[e.spreadsheet,e.chartType,e.selected]),(0,O.jsx)("button",{className:"ChartPreview",onClick:function(){r&&e.onClick(e.chartType,r)},children:(0,O.jsx)("div",{ref:t})})}),nm=function(e){var t=e.setAppState,n=e.appState,r=e.onClose,i=e.onInsertChart,o=l().useCallback((function(){r&&r()}),[r]),a=function(e,n){i(n),hu("magic","chart",e),t({currentChartType:e,pasteDialog:{shown:!1,data:null}})};return(0,O.jsx)(lc,{small:!0,onCloseRequest:o,title:C("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,O.jsxs)("div",{className:"container",children:[(0,O.jsx)(tm,{chartType:"bar",spreadsheet:n.pasteDialog.data,selected:"bar"===n.currentChartType,onClick:a}),(0,O.jsx)(tm,{chartType:"line",spreadsheet:n.pasteDialog.data,selected:"line"===n.currentChartType,onClick:a})]})})};function rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}n(3922);var im=function(){return(0,O.jsxs)("div",{className:"HelpDialog--header",children:[(0,O.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:C("helpDialog.documentation")}),(0,O.jsx)("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:C("helpDialog.blog")}),(0,O.jsx)("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:C("helpDialog.github")})]})},om=function(e){return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("h3",{children:e.title}),e.children]})},am=function(e){return(0,O.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"},children:e.children})},sm=function(e){return(0,O.jsx)("div",{style:{width:"49%"},children:e.children})},lm=function(e){return(0,O.jsxs)("div",{className:"HelpDialog--island",children:[(0,O.jsx)("h3",{className:"HelpDialog--island-title",children:e.caption}),e.children]})},cm=function(e){return(0,O.jsx)("div",{className:"HelpDialog--shortcut",children:(0,O.jsxs)("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"},children:[(0,O.jsx)("div",{style:{lineHeight:1.4},children:e.label}),(0,O.jsx)("div",{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"},children:e.shortcuts.map((function(t,n){return(0,O.jsxs)(l().Fragment,{children:[(0,O.jsx)(um,{children:t}),e.isOr&&n!==e.shortcuts.length-1&&C("helpDialog.or")]},n)}))})]})})};cm.defaultProps={isOr:!0};var um=function(e){return(0,O.jsx)("kbd",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rm(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({className:"HelpDialog--key"},e))},dm=function(e){var t=e.onClose,n=l().useCallback((function(){t&&t()}),[t]);return(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)(lc,{onCloseRequest:n,title:C("helpDialog.title"),className:"HelpDialog",children:[(0,O.jsx)(im,{}),(0,O.jsx)(om,{title:C("helpDialog.shortcuts"),children:(0,O.jsxs)(am,{children:[(0,O.jsxs)(sm,{children:[(0,O.jsxs)(lm,{caption:C("helpDialog.shapes"),children:[(0,O.jsx)(cm,{label:C("toolBar.selection"),shortcuts:["V","1"]}),(0,O.jsx)(cm,{label:C("toolBar.rectangle"),shortcuts:["R","2"]}),(0,O.jsx)(cm,{label:C("toolBar.diamond"),shortcuts:["D","3"]}),(0,O.jsx)(cm,{label:C("toolBar.ellipse"),shortcuts:["E","4"]}),(0,O.jsx)(cm,{label:C("toolBar.arrow"),shortcuts:["A","5"]}),(0,O.jsx)(cm,{label:C("toolBar.line"),shortcuts:["P","6"]}),(0,O.jsx)(cm,{label:C("toolBar.freedraw"),shortcuts:["Shift + P","X","7"]}),(0,O.jsx)(cm,{label:C("toolBar.text"),shortcuts:["T","8"]}),(0,O.jsx)(cm,{label:C("toolBar.image"),shortcuts:["9"]}),(0,O.jsx)(cm,{label:C("toolBar.library"),shortcuts:["0"]}),(0,O.jsx)(cm,{label:C("helpDialog.editSelectedShape"),shortcuts:[bn("Enter"),C("helpDialog.doubleClick")]}),(0,O.jsx)(cm,{label:C("helpDialog.textNewLine"),shortcuts:[bn("Enter"),bn("Shift+Enter")]}),(0,O.jsx)(cm,{label:C("helpDialog.textFinish"),shortcuts:[bn("Esc"),bn("CtrlOrCmd+Enter")]}),(0,O.jsx)(cm,{label:C("helpDialog.curvedArrow"),shortcuts:["A",C("helpDialog.click"),C("helpDialog.click"),C("helpDialog.click")],isOr:!1}),(0,O.jsx)(cm,{label:C("helpDialog.curvedLine"),shortcuts:["L",C("helpDialog.click"),C("helpDialog.click"),C("helpDialog.click")],isOr:!1}),(0,O.jsx)(cm,{label:C("toolBar.lock"),shortcuts:["Q"]}),(0,O.jsx)(cm,{label:C("helpDialog.preventBinding"),shortcuts:[bn("CtrlOrCmd")]}),(0,O.jsx)(cm,{label:C("toolBar.link"),shortcuts:[bn("CtrlOrCmd+K")]})]}),(0,O.jsxs)(lm,{caption:C("helpDialog.view"),children:[(0,O.jsx)(cm,{label:C("buttons.zoomIn"),shortcuts:[bn("CtrlOrCmd++")]}),(0,O.jsx)(cm,{label:C("buttons.zoomOut"),shortcuts:[bn("CtrlOrCmd+-")]}),(0,O.jsx)(cm,{label:C("buttons.resetZoom"),shortcuts:[bn("CtrlOrCmd+0")]}),(0,O.jsx)(cm,{label:C("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,O.jsx)(cm,{label:C("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,O.jsx)(cm,{label:C("buttons.fullScreen"),shortcuts:["F"]}),(0,O.jsx)(cm,{label:C("buttons.zenMode"),shortcuts:[bn("Alt+Z")]}),(0,O.jsx)(cm,{label:C("labels.showGrid"),shortcuts:[bn("CtrlOrCmd+'")]}),(0,O.jsx)(cm,{label:C("labels.viewMode"),shortcuts:[bn("Alt+R")]}),(0,O.jsx)(cm,{label:C("labels.toggleTheme"),shortcuts:[bn("Alt+Shift+D")]}),(0,O.jsx)(cm,{label:C("stats.title"),shortcuts:[bn("Alt+/")]})]})]}),(0,O.jsx)(sm,{children:(0,O.jsxs)(lm,{caption:C("helpDialog.editor"),children:[(0,O.jsx)(cm,{label:C("labels.selectAll"),shortcuts:[bn("CtrlOrCmd+A")]}),(0,O.jsx)(cm,{label:C("labels.multiSelect"),shortcuts:[bn("Shift+".concat(C("helpDialog.click")))]}),(0,O.jsx)(cm,{label:C("helpDialog.deepSelect"),shortcuts:[bn("CtrlOrCmd+".concat(C("helpDialog.click")))]}),(0,O.jsx)(cm,{label:C("helpDialog.deepBoxSelect"),shortcuts:[bn("CtrlOrCmd+".concat(C("helpDialog.drag")))]}),(0,O.jsx)(cm,{label:C("labels.moveCanvas"),shortcuts:[bn("Space+".concat(C("helpDialog.drag"))),bn("Wheel+".concat(C("helpDialog.drag")))],isOr:!0}),(0,O.jsx)(cm,{label:C("labels.cut"),shortcuts:[bn("CtrlOrCmd+X")]}),(0,O.jsx)(cm,{label:C("labels.copy"),shortcuts:[bn("CtrlOrCmd+C")]}),(0,O.jsx)(cm,{label:C("labels.paste"),shortcuts:[bn("CtrlOrCmd+V")]}),(0,O.jsx)(cm,{label:C("labels.copyAsPng"),shortcuts:[bn("Shift+Alt+C")]}),(0,O.jsx)(cm,{label:C("labels.copyStyles"),shortcuts:[bn("CtrlOrCmd+Alt+C")]}),(0,O.jsx)(cm,{label:C("labels.pasteStyles"),shortcuts:[bn("CtrlOrCmd+Alt+V")]}),(0,O.jsx)(cm,{label:C("labels.delete"),shortcuts:[bn("Del")]}),(0,O.jsx)(cm,{label:C("labels.sendToBack"),shortcuts:[bn(At?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),(0,O.jsx)(cm,{label:C("labels.bringToFront"),shortcuts:[bn(At?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),(0,O.jsx)(cm,{label:C("labels.sendBackward"),shortcuts:[bn("CtrlOrCmd+[")]}),(0,O.jsx)(cm,{label:C("labels.bringForward"),shortcuts:[bn("CtrlOrCmd+]")]}),(0,O.jsx)(cm,{label:C("labels.alignTop"),shortcuts:[bn("CtrlOrCmd+Shift+Up")]}),(0,O.jsx)(cm,{label:C("labels.alignBottom"),shortcuts:[bn("CtrlOrCmd+Shift+Down")]}),(0,O.jsx)(cm,{label:C("labels.alignLeft"),shortcuts:[bn("CtrlOrCmd+Shift+Left")]}),(0,O.jsx)(cm,{label:C("labels.alignRight"),shortcuts:[bn("CtrlOrCmd+Shift+Right")]}),(0,O.jsx)(cm,{label:C("labels.duplicateSelection"),shortcuts:[bn("CtrlOrCmd+D"),bn("Alt+".concat(C("helpDialog.drag")))]}),(0,O.jsx)(cm,{label:C("buttons.undo"),shortcuts:[bn("CtrlOrCmd+Z")]}),(0,O.jsx)(cm,{label:C("buttons.redo"),shortcuts:It?[bn("CtrlOrCmd+Y"),bn("CtrlOrCmd+Shift+Z")]:[bn("CtrlOrCmd+Shift+Z")]}),(0,O.jsx)(cm,{label:C("labels.group"),shortcuts:[bn("CtrlOrCmd+G")]}),(0,O.jsx)(cm,{label:C("labels.ungroup"),shortcuts:[bn("CtrlOrCmd+Shift+G")]}),(0,O.jsx)(cm,{label:C("labels.flipHorizontal"),shortcuts:[bn("Shift+H")]}),(0,O.jsx)(cm,{label:C("labels.flipVertical"),shortcuts:[bn("Shift+V")]}),(0,O.jsx)(cm,{label:C("labels.showStroke"),shortcuts:[bn("S")]}),(0,O.jsx)(cm,{label:C("labels.showBackground"),shortcuts:[bn("G")]}),(0,O.jsx)(cm,{label:C("labels.decreaseFontSize"),shortcuts:[bn("CtrlOrCmd+Shift+<")]}),(0,O.jsx)(cm,{label:C("labels.increaseFontSize"),shortcuts:[bn("CtrlOrCmd+Shift+>")]})]})})]})})]})})},pm=(n(5080),function(e){var t,n=e.children,r=e.color;return(0,O.jsx)("div",{className:"Card",style:(t={},N(t,"--card-color","primary"===r?"var(--color-primary)":_t[r][7]),N(t,"--card-color-darker","primary"===r?"var(--color-primary-darker)":_t[r][8]),N(t,"--card-color-darkest","primary"===r?"var(--color-primary-darkest)":_t[r][9]),t),children:n})}),fm=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.actionManager,o=e.exportOpts,a=e.canvas,s=o.onExportToBackend;return(0,O.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,O.jsxs)("div",{className:"ExportDialog-cards",children:[o.saveFileToDisk&&(0,O.jsxs)(pm,{color:"lime",children:[(0,O.jsx)("div",{className:"Card-icon",children:bs}),(0,O.jsx)("h2",{children:C("exportDialog.disk_title")}),(0,O.jsxs)("div",{className:"Card-details",children:[C("exportDialog.disk_details"),!gd&&i.renderAction("changeProjectName")]}),(0,O.jsx)(Kl,{className:"Card-button",type:"button",title:C("exportDialog.disk_button"),"aria-label":C("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){i.executeAction(rf)}})]}),s&&(0,O.jsxs)(pm,{color:"pink",children:[(0,O.jsx)("div",{className:"Card-icon",children:us}),(0,O.jsx)("h2",{children:C("exportDialog.link_title")}),(0,O.jsx)("div",{className:"Card-details",children:C("exportDialog.link_details")}),(0,O.jsx)(Kl,{className:"Card-button",type:"button",title:C("exportDialog.link_button"),"aria-label":C("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){return s(t,n,r,a)}})]}),o.renderCustomUI&&o.renderCustomUI(t,n,r,a)]})})},hm=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.actionManager,o=e.exportOpts,a=e.canvas,c=h((0,s.useState)(!1),2),u=c[0],d=c[1],p=l().useCallback((function(){d(!1)}),[]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Kl,{onClick:function(){d(!0)},"data-testid":"json-export-button",icon:vs,type:"button","aria-label":C("buttons.export"),showAriaLabel:eg(),title:C("buttons.export")}),u&&(0,O.jsx)(lc,{onCloseRequest:p,title:C("buttons.export"),children:(0,O.jsx)(fm,{elements:t,appState:n,files:r,actionManager:i,onCloseRequest:p,exportOpts:o,canvas:a})})]})};function mm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mm(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var vm=function(e){var t=e.elements,n=e.appState,r=e.files,i=e.maxWidthOrHeight,o=e.getDimensions,a=Ad({elements:t,appState:n},null,null),s=a.elements,l=a.appState,c=l.exportBackground,u=l.viewBackgroundColor;return cp(Cc(s),gm(gm({},l),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),r||{},{exportBackground:c,viewBackgroundColor:u},(function(e,t){var n,r=document.createElement("canvas");if(i){"function"==typeof o&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var a=Math.max(e,t),s=i/a;return r.width=e*s,r.height=t*s,{canvas:r,scale:s}}var l=(null==o?void 0:o(e,t))||{width:e,height:t};return r.width=l.width,r.height=l.height,{canvas:r,scale:null!==(n=l.scale)&&void 0!==n?n:1}}))},ym=function(){var e=(0,d.Z)(g().mark((function e(t){var n,r,i,o,a,s;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=(r=t).mimeType,o=void 0===i?c.LO.png:i,a=r.quality,o===c.LO.png&&"number"==typeof a&&console.warn('"quality" will be ignored for "'.concat(c.LO.png,'" mimeType')),"image/jpg"===o&&(o=c.LO.jpg),o!==c.LO.jpg||null!==(n=t.appState)&&void 0!==n&&n.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(c.LO.jpg,'" mimeType')),t=gm(gm({},t),{},{appState:gm(gm({},t.appState),{},{exportBackground:!0})})),e.next=6,vm(t);case 6:return s=e.sent,a=a||(/image\/jpe?g/.test(o)?.92:.8),e.abrupt("return",new Promise((function(e){s.toBlob((function(t){e(t)}),o,a)})));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bm=function(){var e=(0,d.Z)(g().mark((function e(t){var n,r,i,o,a,s,l,c,u;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.elements,r=t.appState,i=void 0===r?jn():r,o=t.files,a=void 0===o?{}:o,s=t.exportPadding,l=Ad({elements:n,appState:i},null,null),c=l.elements,u=l.appState,e.abrupt("return",up(Cc(c),gm(gm({},u),{},{exportPadding:s}),a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function wm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wm(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(9295),n(9781);var Sm=function(e){var t=e.libItem,n=e.appState,r=e.index,i=e.onChange,o=e.onRemove,a=(0,s.useRef)(null),l=(0,s.useRef)(null);return(0,s.useEffect)((function(){var e=a.current;e&&(0,d.Z)(g().mark((function r(){var i;return g().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,bm({elements:t.elements,appState:xm(xm({},n),{},{viewBackgroundColor:_t.white,exportBackground:!0}),files:null});case 2:i=r.sent,e.innerHTML=i.outerHTML;case 4:case"end":return r.stop()}}),r)})))()}),[t.elements,n]),(0,O.jsxs)("div",{className:"single-library-item",children:[(0,O.jsx)("div",{ref:a,className:"single-library-item__svg"}),(0,O.jsx)(Kl,{"aria-label":C("buttons.remove"),type:"button",icon:Us,className:"single-library-item--remove",onClick:o.bind(null,t.id),title:C("buttons.remove")}),(0,O.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0.3rem",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,O.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,O.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,O.jsx)("span",{style:{fontWeight:500,color:_t.gray[6]},children:C("publishDialog.itemName")}),(0,O.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,O.jsx)("input",{type:"text",ref:l,style:{width:"80%",padding:"0.2rem"},defaultValue:t.name,placeholder:"Item name",onChange:function(e){i(e.target.value,r)}})]}),(0,O.jsx)("span",{className:"error",children:t.error})]})]})};function km(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?km(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):km(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Em(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_m(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function _m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Cm="publish-library-data",Om=function(){var e=(0,d.Z)(g().mark((function e(t){var n,r,i,o,a,s,l,u,d,p,f,m,v,y,b,w,x;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=6,r=128,i=Math.round(r/16),o=Math.max(Math.round(r/64),2),a=fn(t,n),(s=document.createElement("canvas")).width=a[0].length*r+(a[0].length+1)*(2*i)-2*i,s.height=a.length*r+(a.length+1)*(2*i)-2*i,(l=s.getContext("2d")).fillStyle=_t.white,l.fillRect(0,0,s.width,s.height),u=Em(t.entries()),e.prev=12,u.s();case 14:if((d=u.n()).done){e.next=28;break}return p=h(d.value,2),f=p[0],m=p[1],e.next=18,vm({elements:m.elements,files:null,maxWidthOrHeight:r});case 18:v=e.sent,y=v.width,b=v.height,w=Math.floor(f/n)*(r+2*i),x=f%n*(r+2*i),l.drawImage(v,x+(r-y)/2+i,w+(r-b)/2+i),l.lineWidth=o,l.strokeStyle=_t.gray[4],l.strokeRect(x+i/2,w+i/2,r+i,r+i);case 26:e.next=14;break;case 28:e.next=33;break;case 30:e.prev=30,e.t0=e.catch(12),u.e(e.t0);case 33:return e.prev=33,u.f(),e.finish(33);case 36:return e.t1=Vd,e.t2=File,e.next=40,Ud(s);case 40:return e.t3=e.sent,e.t4=[e.t3],e.t5={type:c.LO.png},e.t6=new e.t2(e.t4,"preview",e.t5),e.t7={outputType:c.LO.jpg,maxWidthOrHeight:5e3},e.next=47,(0,e.t1)(e.t6,e.t7);case 47:return e.abrupt("return",e.sent);case 48:case"end":return e.stop()}}),e,null,[[12,30,33,36]])})));return function(t){return e.apply(this,arguments)}}(),Pm=function(e){var t=e.onClose,n=e.libraryItems,r=e.appState,i=e.onSuccess,o=e.onError,a=e.updateItemsInStorage,l=e.onRemove,u=h((0,s.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),2),p=u[0],f=u[1],m=h((0,s.useState)(!1),2),v=m[0],y=m[1];(0,s.useEffect)((function(){var e=function(){try{var e=localStorage.getItem(Cm);if(e)return JSON.parse(e)}catch(e){console.error(e)}return null}();e&&f(e)}),[]);var b=h((0,s.useState)(n.slice()),2),w=b[0],x=b[1];(0,s.useEffect)((function(){x(n.slice())}),[n]);var S,k=function(e){f(Tm(Tm({},p),{},N({},e.target.name,e.target.value)))},T=function(){var e=(0,d.Z)(g().mark((function e(t){var n,r,a,s,l,u,d;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y(!0),n=[],r=!1,w.forEach((function(e){var t="";e.name||(t=C("publishDialog.errors.required"),r=!0),n.push(Tm(Tm({},e),{},{error:t}))})),!r){e.next=9;break}return x(n),y(!1),e.abrupt("return");case 9:return e.next=11,Om(w);case 11:a=e.sent,s={type:c.r8.excalidrawLibrary,version:c.Kr.excalidrawLibrary,source:c.pb,libraryItems:w},l=JSON.stringify(s,null,2),u=new Blob([l],{type:"application/json"}),(d=new FormData).append("excalidrawLib",u),d.append("previewImage",a),d.append("previewImageType",a.type),d.append("title",p.name),d.append("authorName",p.authorName),d.append("githubHandle",p.githubHandle),d.append("name",p.name),d.append("description",p.description),d.append("twitterHandle",p.twitterHandle),d.append("website",p.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:d}).then((function(e){return e.ok?e.json().then((function(e){var t=e.url;localStorage.removeItem(Cm),i({url:t,authorName:p.authorName,items:w})})):e.json().catch((function(){throw new Error(e.statusText||"something went wrong")})).then((function(t){throw new Error(t.message||e.statusText||"something went wrong")}))}),(function(e){console.error(e),o(e),y(!1)})).catch((function(e){console.error(e),o(e),y(!1)}));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=(0,s.useCallback)((function(){a(w),function(e){try{localStorage.setItem(Cm,JSON.stringify(e))}catch(e){console.error(e)}}(p),t()}),[w,t,a,p]),_=!!n.length;return(0,O.jsx)(lc,{onCloseRequest:E,title:C("publishDialog.title"),className:"publish-library",children:_?(0,O.jsxs)("form",{onSubmit:T,children:[(0,O.jsxs)("div",{className:"publish-library-note",children:[C("publishDialog.noteDescription.pre"),(0,O.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:C("publishDialog.noteDescription.link")})," ",C("publishDialog.noteDescription.post")]}),(0,O.jsxs)("span",{className:"publish-library-note",children:[C("publishDialog.noteGuidelines.pre"),(0,O.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:C("publishDialog.noteGuidelines.link")}),C("publishDialog.noteGuidelines.post")]}),(0,O.jsx)("div",{className:"publish-library-note",children:C("publishDialog.noteItems")}),(S=[],w.forEach((function(e,t){S.push((0,O.jsx)("div",{className:"single-library-item-wrapper",children:(0,O.jsx)(Sm,{libItem:e,appState:r,index:t,onChange:function(e,t){var n=w.slice();n[t].name=e,x(n)},onRemove:l})},t))})),(0,O.jsx)("div",{className:"selected-library-items",children:S})),(0,O.jsxs)("div",{className:"publish-library__fields",children:[(0,O.jsxs)("label",{children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{children:C("publishDialog.libraryName")}),(0,O.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,O.jsx)("input",{type:"text",name:"name",required:!0,value:p.name,onChange:k,placeholder:C("publishDialog.placeholder.libraryName")})]}),(0,O.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{children:C("publishDialog.libraryDesc")}),(0,O.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,O.jsx)("textarea",{name:"description",rows:4,required:!0,value:p.description,onChange:k,placeholder:C("publishDialog.placeholder.libraryDesc")})]}),(0,O.jsxs)("label",{children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("span",{children:C("publishDialog.authorName")}),(0,O.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,O.jsx)("input",{type:"text",name:"authorName",required:!0,value:p.authorName,onChange:k,placeholder:C("publishDialog.placeholder.authorName")})]}),(0,O.jsxs)("label",{children:[(0,O.jsx)("span",{children:C("publishDialog.githubUsername")}),(0,O.jsx)("input",{type:"text",name:"githubHandle",value:p.githubHandle,onChange:k,placeholder:C("publishDialog.placeholder.githubHandle")})]}),(0,O.jsxs)("label",{children:[(0,O.jsx)("span",{children:C("publishDialog.twitterUsername")}),(0,O.jsx)("input",{type:"text",name:"twitterHandle",value:p.twitterHandle,onChange:k,placeholder:C("publishDialog.placeholder.twitterHandle")})]}),(0,O.jsxs)("label",{children:[(0,O.jsx)("span",{children:C("publishDialog.website")}),(0,O.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:C("publishDialog.errors.website"),value:p.website,onChange:k,placeholder:C("publishDialog.placeholder.website")})]}),(0,O.jsxs)("span",{className:"publish-library-note",children:[C("publishDialog.noteLicense.pre"),(0,O.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:C("publishDialog.noteLicense.link")}),C("publishDialog.noteLicense.post")]})]}),(0,O.jsxs)("div",{className:"publish-library__buttons",children:[(0,O.jsx)(Kl,{type:"button",title:C("buttons.cancel"),"aria-label":C("buttons.cancel"),label:C("buttons.cancel"),onClick:E,"data-testid":"cancel-clear-canvas-button",className:"publish-library__buttons--cancel"}),(0,O.jsx)(Kl,{type:"submit",title:C("buttons.submit"),"aria-label":C("buttons.submit"),label:C("buttons.submit"),className:"publish-library__buttons--confirm",isLoading:v})]})]}):(0,O.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:C("publishDialog.atleastOneLibItem")})})},Am=(n(4406),n(2891)),Im=(n(694),(0,O.jsx)("svg",{viewBox:"0 0 1792 1792",children:(0,O.jsx)("path",{d:"M1600 736v192c0 26.667-9.33 49.333-28 68-18.67 18.67-41.33 28-68 28h-416v416c0 26.67-9.33 49.33-28 68s-41.33 28-68 28H800c-26.667 0-49.333-9.33-68-28s-28-41.33-28-68v-416H288c-26.667 0-49.333-9.33-68-28-18.667-18.667-28-41.333-28-68V736c0-26.667 9.333-49.333 28-68s41.333-28 68-28h416V224c0-26.667 9.333-49.333 28-68s41.333-28 68-28h192c26.67 0 49.33 9.333 68 28s28 41.333 28 68v416h416c26.67 0 49.33 9.333 68 28s28 41.333 28 68Z",style:{stroke:"#fff",strokeWidth:140},transform:"translate(0 64)"})})),Mm=function(e){var t=e.id,n=e.elements,r=e.files,i=e.isPending,o=e.onClick,a=e.selected,l=e.onToggle,u=(0,s.useRef)(null);(0,s.useEffect)((function(){var e=u.current;if(e)return(0,d.Z)(g().mark((function t(){var i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,up(n,{exportBackground:!1,viewBackgroundColor:_t.white},r);case 4:i=t.sent,e.innerHTML=i.outerHTML;case 6:case"end":return t.stop()}}),t)})))(),function(){e.innerHTML=""}}),[n,r]);var p=h((0,s.useState)(!1),2),f=p[0],m=p[1],v=eg(),y=i&&(0,O.jsx)("div",{className:"library-unit__adder",children:Im});return(0,O.jsxs)("div",{className:$e("library-unit",{"library-unit__active":n,"library-unit--hover":n&&f,"library-unit--selected":a}),onMouseEnter:function(){return m(!0)},onMouseLeave:function(){return m(!1)},children:[(0,O.jsx)("div",{className:$e("library-unit__dragger",{"library-unit__pulse":!!i}),ref:u,draggable:!!n,onClick:n||i?function(e){t&&e.shiftKey?l(t,e):o()}:void 0,onDragStart:function(e){m(!1),e.dataTransfer.setData(c.LO.excalidrawlib,JSON.stringify(n))}}),y,t&&n&&(f||v||a)&&(0,O.jsx)(Wp,{checked:a,onChange:function(e,n){return l(t,n)},className:"library-unit__checkbox"})]})},Nm=(n(6043),function(e){var t,n,r,i=e.libraryItems,o=e.onRemoveFromLibrary,a=e.onAddToLibrary,l=e.onInsertShape,u=e.pendingElements,p=e.theme,f=e.setAppState,m=e.libraryReturnUrl,v=e.library,y=e.files,b=e.id,w=e.selectedItems,x=e.onToggle,S=e.onPublish,k=e.resetLibrary,T=(0,s.useCallback)((function(){var e=w.length?C("alerts.removeItemsFromsLibrary",{count:w.length}):C("alerts.resetLibrary"),t=w.length?C("confirmDialog.removeItemsFromLib"):C("confirmDialog.resetLibrary");return(0,O.jsx)(pc,{onConfirm:function(){w.length?o():k(),P(!1)},onCancel:function(){P(!1)},title:t,children:(0,O.jsx)("p",{children:e})})}),[w,o,k]),E=h((0,s.useState)(!1),2),_=E[0],P=E[1],A=eg(),I=A?4:6,N=m||window.location.origin+window.location.pathname,R=w.some((function(e){var t;return"published"===(null===(t=i.find((function(t){return t.id===e})))||void 0===t?void 0:t.status)})),D=function(e){var t,n,r,i,o;return(0,O.jsx)(Zp,{children:(0,O.jsx)(Mm,{elements:null===(t=e.item)||void 0===t?void 0:t.elements,files:y,isPending:!(null!==(n=e.item)&&void 0!==n&&n.id||null===(r=e.item)||void 0===r||!r.elements),onClick:e.onClick||function(){},id:(null===(i=e.item)||void 0===i?void 0:i.id)||null,selected:!(null===(o=e.item)||void 0===o||!o.id)&&w.includes(e.item.id),onToggle:function(e,t){x(e,t)}})},e.key)},L=function(e){var t=e.map((function(e){return e.id?D({item:e,onClick:function(){return l(e.elements)},key:e.id}):D({key:"__pending__item__",item:e,onClick:function(){return a(u)}})})),n=(0,Am.chunk)(t,I);return n.length||(n=[[]]),n.map((function(e,t,n){return t===n.length-1&&(e=e.concat(new Array(I-e.length).fill(null).map((function(e,t){return D({key:"empty_".concat(t),item:null})})))),(0,O.jsx)(Xp,{align:"center",gap:1,children:e},t)}))},j=i.filter((function(e){return"published"===e.status})),B=[].concat(M(u.length?[{id:null,elements:u}]:[]),M(i.filter((function(e){return"published"!==e.status}))));return(0,O.jsxs)("div",{className:"library-menu-items-container",children:[_&&T(),(0,O.jsxs)("div",{className:"layer-ui__library-header",children:[(t=!!w.length,n=t?i.filter((function(e){return w.includes(e.id)})):i,r=C(t?"buttons.remove":"buttons.resetLibrary"),(0,O.jsxs)("div",{className:"library-actions",children:[(!t||!A)&&(0,O.jsx)(Kl,{type:"button",title:C("buttons.load"),"aria-label":C("buttons.load"),icon:fs,onClick:function(){tp(v).then((function(){f({isLibraryOpen:!1}),f({isLibraryOpen:!0})})).catch(_n).catch((function(e){f({errorMessage:e.message})}))},className:"library-actions--load"},"import"),!!n.length&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(Kl,{type:"button",title:C("buttons.export"),"aria-label":C("buttons.export"),icon:bs,onClick:(0,d.Z)(g().mark((function e(){var r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=4;break}e.t0=n,e.next=7;break;case 4:return e.next=6,v.loadLibrary();case 6:e.t0=e.sent;case 7:r=e.t0,ep(r).catch(_n).catch((function(e){f({errorMessage:e.message})}));case 9:case"end":return e.stop()}}),e)}))),className:"library-actions--export",children:w.length>0&&(0,O.jsx)("span",{className:"library-actions-counter",children:w.length})},"export"),(0,O.jsx)(Kl,{type:"button",title:r,"aria-label":r,icon:ms,onClick:function(){return P(!0)},className:"library-actions--remove",children:w.length>0&&(0,O.jsx)("span",{className:"library-actions-counter",children:w.length})},"reset")]}),t&&!R&&(0,O.jsx)(nc,{label:C("hints.publishLibrary"),children:(0,O.jsxs)(Kl,{type:"button","aria-label":C("buttons.publishLibrary"),label:C("buttons.publishLibrary"),icon:bl,className:"library-actions--publish",onClick:S,children:[!A&&(0,O.jsx)("label",{children:C("buttons.publishLibrary")}),w.length>0&&(0,O.jsx)("span",{className:"library-actions-counter",children:w.length})]})})]})),(0,O.jsx)("a",{href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(N,"&useHash=true&token=").concat(b,"&theme=").concat(p,"&version=").concat(c.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:C("labels.libraries")})]},"library-header"),(0,O.jsxs)(Zp,{className:"library-menu-items-container__items",align:"start",gap:1,children:[(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("div",{className:"separator",children:C("labels.personalLib")}),L(B)]}),(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"separator",children:[C("labels.excalidrawLib")," "]}),L(j)]})]})]})}),Rm=function(e,t){return e.filter((function(e){return t.includes(e.id)}))},Dm=function(e){var t=e.onClose,n=e.onInsertShape,r=e.pendingElements,i=e.onAddToLibrary,o=e.theme,a=e.setAppState,l=e.files,u=e.libraryReturnUrl,p=e.focusContainer,f=e.library,m=e.id,v=e.appState,y=(0,s.useRef)(null);!function(e,t){(0,s.useEffect)((function(){var n=function(n){e.current&&(n.target instanceof Element&&(e.current.contains(n.target)||!document.body.contains(n.target))||t(n))};return document.addEventListener("pointerdown",n,!1),function(){document.removeEventListener("pointerdown",n)}}),[e,t])}(y,(function(e){e.target.closest(".ToolIcon__library")||t()})),(0,s.useEffect)((function(){var e=function(e){e.key===en.ESCAPE&&t()};return document.addEventListener(c.Ks.KEYDOWN,e),function(){document.removeEventListener(c.Ks.KEYDOWN,e)}}),[t]);var b=h((0,s.useState)([]),2),w=b[0],x=b[1],S=h((0,s.useState)("preloading"),2),k=S[0],T=S[1],E=h((0,s.useState)([]),2),_=E[0],P=E[1],A=h((0,s.useState)(!1),2),I=A[0],N=A[1],R=h((0,s.useState)(null),2),D=R[0],L=R[1],j=(0,s.useRef)(null);(0,s.useEffect)((function(){return Promise.race([new Promise((function(e){j.current=window.setTimeout((function(){e("loading")}),100)})),f.loadLibrary().then((function(e){x(e),T("ready")}))]).then((function(e){"loading"===e&&T("loading")})),function(){clearTimeout(j.current)}}),[f]);var B=(0,s.useCallback)((0,d.Z)(g().mark((function e(){var t,n;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.loadLibrary();case 2:t=e.sent,n=t.filter((function(e){return!_.includes(e.id)})),f.saveLibrary(n).catch((function(e){x(t),a({errorMessage:C("alerts.errorRemovingFromLibrary")})})),P([]),x(n);case 7:case"end":return e.stop()}}),e)}))),[f,a,_,P]),F=(0,s.useCallback)((function(){f.resetLibrary(),x([]),p()}),[f,p]),U=(0,s.useCallback)(function(){var e=(0,d.Z)(g().mark((function e(t){var n,r;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.some((function(e){return"image"===e.type}))){e.next=2;break}return e.abrupt("return",a({errorMessage:"Support for adding images to the library coming soon!"}));case 2:return e.next=4,f.loadLibrary();case 4:n=e.sent,r=[{status:"unpublished",elements:t,id:ri(),created:Date.now()}].concat(M(n)),i(),f.saveLibrary(r).catch((function(e){x(n),a({errorMessage:C("alerts.errorAddingToLibrary")})})),x(r);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,f,a]),$=(0,s.useCallback)((function(){return(0,O.jsxs)(lc,{onCloseRequest:function(){return L(null)},title:C("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,O.jsxs)("p",{children:[C("publishSuccessDialog.content",{authorName:D.authorName})," ",(0,O.jsx)("a",{href:null==D?void 0:D.url,target:"_blank",rel:"noopener noreferrer",children:C("publishSuccessDialog.link")})]}),(0,O.jsx)(Kl,{type:"button",title:C("buttons.close"),"aria-label":C("buttons.close"),label:C("buttons.close"),onClick:function(){return L(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})}),[L,D]),H=(0,s.useCallback)((function(e){N(!1),L({url:e.url,authorName:e.authorName});var t=w.slice();t.forEach((function(e){_.includes(e.id)&&(e.status="published")})),f.saveLibrary(t),x(t)}),[N,L,w,_,f]),G=h((0,s.useState)(null),2),V=G[0],z=G[1];return"preloading"===k?null:(0,O.jsxs)(oc,{padding:1,ref:y,className:"layer-ui__library",children:[I&&(0,O.jsx)(Pm,{onClose:function(){return N(!1)},libraryItems:Rm(w,_),appState:v,onSuccess:H,onError:function(e){return window.alert(e)},updateItemsInStorage:function(){return f.saveLibrary(w)},onRemove:function(e){return P(_.filter((function(t){return t!==e})))}}),D&&$(),"loading"===k?(0,O.jsx)("div",{className:"layer-ui__library-message",children:C("labels.libraryLoadingMessage")}):(0,O.jsx)(Nm,{libraryItems:w,onRemoveFromLibrary:B,onAddToLibrary:U,onInsertShape:n,pendingElements:r,setAppState:a,libraryReturnUrl:u,library:f,theme:o,files:l,id:m,selectedItems:_,onToggle:function(e,t){if(_.includes(e))z(null),P(_.filter((function(t){return t!==e})));else{if(t.shiftKey&&V){var n=w.findIndex((function(e){return e.id===V})),r=w.findIndex((function(t){return t.id===e}));if(-1===n||-1===r)return void P([].concat(M(_),[e]));var i=In(_),o=w.reduce((function(e,t,o){return(o>=n&&o<=r||i.has(t.id))&&e.push(t.id),e}),[]);P(o)}else P([].concat(M(_),[e]));z(e)}},onPublish:function(){return N(!0)},resetLibrary:F})]})},Lm=(n(3336),n(276),["suggestedBindings","startBoundElement"]);function jm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var Bm=function(e){var t,n=e.actionManager,r=e.appState,i=e.files,o=e.setAppState,a=e.canvas,l=e.elements,u=e.onCollabButtonClick,p=e.onLockToggle,f=e.onPenModeToggle,m=e.onInsertElements,v=e.zenModeEnabled,y=e.showExitZenModeBtn,b=e.showThemeBtn,w=e.toggleZenMode,x=e.isCollaborating,S=e.renderTopRightUI,k=e.renderCustomFooter,T=e.viewModeEnabled,E=e.libraryReturnUrl,_=e.UIOptions,A=e.focusContainer,I=e.library,M=e.id,R=e.onImageAction,D=eg(),L=function(){return _.canvasActions.export?(0,O.jsx)(hm,{elements:l,appState:r,files:i,actionManager:n,exportOpts:_.canvasActions.export,canvas:a}):null},j=function(){if(!_.canvasActions.saveAsImage)return null;var e=function(e){return function(){var t=(0,d.Z)(g().mark((function t(n){var a;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Hp(e,n,r,i,{exportBackground:r.exportBackground,name:r.name,viewBackgroundColor:r.viewBackgroundColor}).catch(_n).catch((function(e){console.error(e),o({errorMessage:e.message})}));case 2:a=t.sent,r.exportEmbedScene&&a&&Ld(a)&&o({fileHandle:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};return(0,O.jsx)(Bh,{elements:l,appState:r,files:i,actionManager:n,onExportToPng:e("png"),onExportToSvg:e("svg"),onExportToClipboard:e("clipboard")})},B=function(){return(0,O.jsx)("div",{style:{width:".625em"}})},F=(0,s.useCallback)((function(){document.querySelector(".Dialog")||o({isLibraryOpen:!1})}),[o]),U=(0,s.useCallback)((function(){o({selectedElementIds:{},selectedGroupIds:{}})}),[o]),$=r.isLibraryOpen?(0,O.jsx)(Dm,{pendingElements:Dc(l,r,!0),onClose:F,onInsertShape:m,onAddToLibrary:U,setAppState:o,libraryReturnUrl:E,focusContainer:A,library:I,theme:r.theme,files:i,id:M,appState:r}):null,H=(0,O.jsxs)(O.Fragment,{children:[r.isLoading&&(0,O.jsx)(P,{}),r.errorMessage&&(0,O.jsx)(Mh,{message:r.errorMessage,onClose:function(){return o({errorMessage:null})}}),r.showHelpDialog&&(0,O.jsx)(dm,{onClose:function(){o({showHelpDialog:!1})}}),r.pasteDialog.shown&&(0,O.jsx)(nm,{setAppState:o,appState:r,onInsertChart:m,onClose:function(){return o({pasteDialog:{shown:!1,data:null}})}})]});return D?(0,O.jsxs)(O.Fragment,{children:[H,(0,O.jsx)(em,{appState:r,elements:l,actionManager:n,libraryMenu:$,renderJSONExportDialog:L,renderImageExportDialog:j,setAppState:o,onCollabButtonClick:u,onLockToggle:p,onPenModeToggle:f,canvas:a,isCollaborating:x,renderCustomFooter:k,viewModeEnabled:T,showThemeBtn:b,onImageAction:R,renderTopRightUI:S})]}):(0,O.jsxs)("div",{className:$e("layer-ui__wrapper",{"disable-pointerEvents":r.draggingElement||r.resizingElement||r.editingElement&&!ze(r.editingElement)}),children:[H,(t=Sc(r,l),(0,O.jsx)(Fh,{side:"top",children:(0,O.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,O.jsxs)(Zp,{gap:4,className:$e({"disable-pointerEvents":v}),children:[T?(0,O.jsx)(Wh,{heading:"canvasActions",className:$e("zen-mode-transition",{"transition-left":v}),children:(0,O.jsx)(oc,{padding:2,style:{zIndex:1},children:(0,O.jsx)(Zp,{gap:4,children:(0,O.jsxs)(Xp,{gap:1,justifyContent:"space-between",children:[L(),j()]})})})}):(0,O.jsx)(Wh,{heading:"canvasActions",className:$e("zen-mode-transition",{"transition-left":v}),children:(0,O.jsx)(oc,{padding:2,style:{zIndex:1},children:(0,O.jsxs)(Zp,{gap:4,children:[(0,O.jsxs)(Xp,{gap:1,justifyContent:"space-between",children:[n.renderAction("clearCanvas"),(0,O.jsx)(B,{}),n.renderAction("loadScene"),L(),j(),(0,O.jsx)(B,{}),u&&(0,O.jsx)(Ih,{isCollaborating:x,collaboratorCount:r.collaborators.size,onClick:u})]}),(0,O.jsx)(Ah,{actionManager:n,appState:r,setAppState:o,showThemeBtn:b}),r.fileHandle&&(0,O.jsx)(O.Fragment,{children:n.renderAction("saveToActiveFile")})]})})}),t&&(0,O.jsx)(Wh,{heading:"selectedShapeActions",className:$e("zen-mode-transition",{"transition-left":v}),children:(0,O.jsx)(oc,{className:c.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(r.height-(r.fileHandle?248:200),"px")},children:(0,O.jsx)(Ch,{appState:r,elements:l,renderAction:n.renderAction,elementType:r.elementType})})})]}),!T&&(0,O.jsx)(Wh,{heading:"shapes",children:function(e){return(0,O.jsxs)(Zp,{gap:4,align:"start",children:[(0,O.jsxs)(Xp,{gap:1,className:$e("App-toolbar-container",{"zen-mode":v}),children:[(0,O.jsx)(Qh,{zenModeEnabled:v,checked:r.penMode,onChange:f,title:C("toolBar.penMode"),penDetected:r.penDetected}),(0,O.jsx)(Hh,{zenModeEnabled:v,checked:r.elementLocked,onChange:p,title:C("toolBar.lock")}),(0,O.jsxs)(oc,{padding:1,className:$e("App-toolbar",{"zen-mode":v}),children:[(0,O.jsx)(Uh,{appState:r,elements:l,isMobile:D}),e,(0,O.jsx)(Xp,{gap:1,children:(0,O.jsx)(Oh,{canvas:a,elementType:r.elementType,setAppState:o,onImageAction:function(e){var t=e.pointerType;R({insertOnCanvasDirectly:"mouse"!==t})}})})]}),(0,O.jsx)(Xh,{appState:r,setAppState:o})]}),$]})}}),(0,O.jsxs)("div",{className:$e("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":v}),children:[(0,O.jsx)(Kh,{children:r.collaborators.size>0&&Array.from(r.collaborators).filter((function(e){var t=h(e,2),n=(t[0],t[1]);return 0!==Object.keys(n).length})).map((function(e){var t=h(e,2),r=t[0],i=t[1];return(0,O.jsx)(nc,{label:i.username||"Unknown user",children:n.renderAction("goToCollaborator",{id:r})},r)}))}),null==S?void 0:S(D,r)]})]})})),(0,O.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,O.jsx)("div",{className:$e("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":v}),children:(0,O.jsx)(Zp,{gap:2,children:(0,O.jsxs)(Wh,{heading:"canvasActions",children:[(0,O.jsx)(oc,{padding:1,children:(0,O.jsx)(Ph,{renderAction:n.renderAction,zoom:r.zoom})}),!T&&(0,O.jsxs)("div",{className:$e("undo-redo-buttons zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":v}),children:[n.renderAction("undo",{size:"small"}),n.renderAction("redo",{size:"small"})]})]})})}),(0,O.jsx)("div",{className:$e("layer-ui__wrapper__footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":v}),children:null==k?void 0:k(!1,r)}),(0,O.jsx)("div",{className:$e("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":v}),children:n.renderAction("toggleShortcuts")}),(0,O.jsx)("button",{className:$e("disable-zen-mode",{"disable-zen-mode--visible":y}),onClick:w,children:C("buttons.exitZenMode")})]}),r.scrolledOutside&&(0,O.jsx)("button",{className:"scroll-back-to-content",onClick:function(){o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jm(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},Yl(l,r)))},children:C("buttons.scrollBackToContent")})]})},Fm=function(e,t){var n=function(e){return e.suggestedBindings,e.startBoundElement,pi(e,Lm)},r=n(e.appState),i=n(t.appState),o=Object.keys(r);return e.renderCustomFooter===t.renderCustomFooter&&e.langCode===t.langCode&&e.elements===t.elements&&e.files===t.files&&o.every((function(e){return r[e]===i[e]}))},Um=l().memo(Bm,Fm),$m=(n(1528),function(e){var t,n=eg(),r=St(e.elements),i=Lc(e.elements,e.appState),o=St(i);return n&&e.appState.openMenu?null:(0,O.jsx)("div",{className:"Stats",children:(0,O.jsxs)(oc,{padding:2,children:[(0,O.jsx)("div",{className:"close",onClick:e.onClose,children:Us}),(0,O.jsx)("h3",{children:C("stats.title")}),(0,O.jsx)("table",{children:(0,O.jsxs)("tbody",{children:[(0,O.jsx)("tr",{children:(0,O.jsx)("th",{colSpan:2,children:C("stats.scene")})}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{children:C("stats.elements")}),(0,O.jsx)("td",{children:e.elements.length})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{children:C("stats.width")}),(0,O.jsx)("td",{children:Math.round(r[2])-Math.round(r[0])})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{children:C("stats.height")}),(0,O.jsx)("td",{children:Math.round(r[3])-Math.round(r[1])})]}),1===i.length&&(0,O.jsx)("tr",{children:(0,O.jsx)("th",{colSpan:2,children:C("stats.element")})}),i.length>1&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)("tr",{children:(0,O.jsx)("th",{colSpan:2,children:C("stats.selected")})}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{children:C("stats.elements")}),(0,O.jsx)("td",{children:i.length})]})]}),i.length>0&&(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{children:"x"}),(0,O.jsx)("td",{children:Math.round(o[0])})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{children:"y"}),(0,O.jsx)("td",{children:Math.round(o[1])})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{children:C("stats.width")}),(0,O.jsx)("td",{children:Math.round(o[2]-o[0])})]}),(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{children:C("stats.height")}),(0,O.jsx)("td",{children:Math.round(o[3]-o[1])})]})]}),1===i.length&&(0,O.jsxs)("tr",{children:[(0,O.jsx)("td",{children:C("stats.angle")}),(0,O.jsx)("td",{children:"".concat(Math.round(180*i[0].angle/Math.PI),"\xb0")})]}),null===(t=e.renderCustomStats)||void 0===t?void 0:t.call(e,e.elements,e.appState)]})})]})})}),Hm=(n(9757),function(e){var t=e.message,n=e.clearToast,r=(0,s.useRef)(0),i=(0,s.useCallback)((function(){return r.current=window.setTimeout((function(){return n()}),c.Lg)}),[n]);return(0,s.useEffect)((function(){return i(),function(){return clearTimeout(r.current)}}),[i,t]),(0,O.jsx)("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==r?void 0:r.current)},onMouseLeave:i,children:(0,O.jsx)("p",{className:"Toast__message",children:t})})});function Gm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Gm(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var zm=Ml({name:"viewMode",perform:function(e,t){return hu("view","mode","view"),{appState:Vm(Vm({},t),{},{viewModeEnabled:!this.checked(t)}),commitToHistory:!1}},checked:function(e){return e.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(e){return!e[en.CTRL_OR_CMD]&&e.altKey&&e.code===Jt}}),Wm=n(200),Km=n.n(Wm);function qm(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Xm(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Xm(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Xm(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ym(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Zm(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qm(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$(e);if(t){var i=$(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U(this,n)}}var Jm=l().createContext(!1),eg=function(){return(0,s.useContext)(Jm)},tg=l().createContext({container:null,id:null}),ng=function(){return(0,s.useContext)(tg)},rg=!1,ig=0,og=0,ag=0,sg=!1,lg=!1,cg=!1,ug={horizontal:null,vertical:null},dg=0,pg=!1,fg=null,hg={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},mg=function(e){F(i,e);var t,n,r=Qm(i);function i(e){var t;R(this,i),t=r.call(this,e),gg.call(j(t));var n,o=jn(),a=e.excalidrawRef,s=e.viewModeEnabled,l=void 0!==s&&s,u=e.zenModeEnabled,d=void 0!==u&&u,p=e.gridModeEnabled,f=void 0!==p&&p,h=e.theme,m=void 0===h?o.theme:h,g=e.name,v=void 0===g?o.name:g;if(t.state=Ym(Ym(Ym({},o),{},{theme:m,isLoading:!0},t.getCanvasOffsets()),{},{viewModeEnabled:l,zenModeEnabled:d,gridSize:f?c.k:null,name:v,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1}),t.id=He(),a){var y,b="current"in a&&(null===(y=a.current)||void 0===y?void 0:y.readyPromise)||function(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}(),w={ready:!0,readyPromise:b,updateScene:t.updateScene,addFiles:t.addFiles,resetScene:t.resetScene,getSceneElementsIncludingDeleted:t.getSceneElementsIncludingDeleted,history:{clear:t.resetHistory},scrollToContent:t.scrollToContent,getSceneElements:t.getSceneElements,getAppState:function(){return t.state},getFiles:function(){return t.files},refresh:t.refresh,importLibrary:t.importLibraryFromUrl,setToastMessage:t.setToastMessage,id:t.id};"function"==typeof a?a(w):a.current=w,b.resolve(w)}return t.excalidrawContainerValue={container:t.excalidrawContainerRef.current,id:t.id},t.scene=new cr,t.library=new ph(j(t)),t.history=new bh,t.actionManager=new ah(t.syncActionResult,(function(){return t.state}),(function(){return t.scene.getElementsIncludingDeleted()}),j(t)),t.actionManager.registerAll(Il),t.actionManager.registerAction((n=t.history,{name:"undo",perform:function(e,t){return oh(e,t,(function(){return n.undoOnce()}))},keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.key.toLowerCase()===en.Z&&!e.shiftKey},PanelComponent:function(e){var t=e.updateData,n=e.data;return(0,O.jsx)(Kl,{type:"button",icon:Ts,"aria-label":C("buttons.undo"),onClick:t,size:(null==n?void 0:n.size)||"medium"})},commitToHistory:function(){return!1}})),t.actionManager.registerAction(function(e){return{name:"redo",perform:function(t,n){return oh(t,n,(function(){return e.redoOnce()}))},keyTest:function(e){return e[en.CTRL_OR_CMD]&&e.shiftKey&&e.key.toLowerCase()===en.Z||It&&e.ctrlKey&&!e.shiftKey&&e.key===en.Y},PanelComponent:function(e){var t=e.updateData,n=e.data;return(0,O.jsx)(Kl,{type:"button",icon:Es,"aria-label":C("buttons.redo"),onClick:t,size:(null==n?void 0:n.size)||"medium"})},commitToHistory:function(){return!1}}}(t.history)),t}return L(i,[{key:"renderCanvas",value:function(){var e=window.devicePixelRatio,t=this.state,n=t.width,r=t.height,i=n*e,o=r*e;return t.viewModeEnabled?(0,O.jsx)("canvas",{className:"excalidraw__canvas",style:{width:n,height:r,cursor:c.oc.GRAB},width:i,height:o,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:C("labels.drawingCanvas")}):(0,O.jsx)("canvas",{className:"excalidraw__canvas",style:{width:n,height:r},width:i,height:o,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:C("labels.drawingCanvas")})}},{key:"render",value:function(){var e,t,n=this,r=this.state,i=r.zenModeEnabled,o=r.viewModeEnabled,a=Dc(this.scene.getElements(),this.state),s=this.props,l=s.onCollabButtonClick,c=s.renderTopRightUI,u=s.renderFooter,d=s.renderCustomStats;return(0,O.jsx)("div",{className:$e("excalidraw excalidraw-container",{"excalidraw--view-mode":o,"excalidraw--mobile":this.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,O.jsx)(tg.Provider,{value:this.excalidrawContainerValue,children:(0,O.jsxs)(Jm.Provider,{value:this.isMobile,children:[(0,O.jsx)(Um,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:l,onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onInsertElements:function(e){return n.addElementsFromPasteOrLibrary({elements:e,position:"center",files:null})},zenModeEnabled:i,toggleZenMode:this.toggleZenMode,langCode:E().code,isCollaborating:this.props.isCollaborating,renderTopRightUI:c,renderCustomFooter:u,viewModeEnabled:o,showExitZenModeBtn:void 0===(null===(e=this.props)||void 0===e?void 0:e.zenModeEnabled)&&i,showThemeBtn:void 0===(null===(t=this.props)||void 0===t?void 0:t.theme)&&this.props.UIOptions.canvasActions.theme,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction}),(0,O.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,O.jsx)("div",{className:"excalidraw-contextMenuContainer"}),1===a.length&&this.state.showHyperlinkPopup&&(0,O.jsx)(xu,{element:a[0],appState:this.state,setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},a[0].id),this.state.showStats&&(0,O.jsx)($m,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats,renderCustomStats:d}),null!==this.state.toastMessage&&(0,O.jsx)(Hm,{message:this.state.toastMessage,clearToast:this.clearToast}),(0,O.jsx)("main",{children:this.renderCanvas()})]})})})}},{key:"componentDidMount",value:(n=(0,d.Z)(g().mark((function e(){var t,n,r,i,o=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,"production"!==c.Vi.TEST&&"production"!==c.Vi.DEVELOPMENT||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return o.state}},setState:{configurable:!0,value:function(){return o.setState.apply(o,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),"ResizeObserver"in window&&null!==(t=this.excalidrawContainerRef)&&void 0!==t&&t.current?(this.resizeObserver=new ResizeObserver((function(){var e=o.excalidrawContainerRef.current.getBoundingClientRect(),t=e.width,n=e.height;o.isMobile=t<c.kV||n<c.Yx&&t<c.sS,o.updateDOMRect()})),null===(n=this.resizeObserver)||void 0===n||n.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(r=window.matchMedia("(max-width: ".concat(c.kV,"px), (max-height: ").concat(c.Yx,"px) and (max-width: ").concat(c.sS,"px)")),i=function(){return o.isMobile=r.matches},r.addListener(i),this.detachIsMobileMqHandler=function(){return r.removeListener(i)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 9:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e;this.files={},this.imageCache.clear(),null===(e=this.resizeObserver)||void 0===e||e.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(dg),dg=0}},{key:"removeEventListeners",value:function(){var e,t,n,r;document.removeEventListener(c.Ks.POINTER_UP,this.removePointer),document.removeEventListener(c.Ks.COPY,this.onCopy),document.removeEventListener(c.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(c.Ks.CUT,this.onCut),null===(e=this.nearestScrollableContainer)||void 0===e||e.removeEventListener(c.Ks.SCROLL,this.onScroll),document.removeEventListener(c.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(c.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(c.Ks.KEYUP,this.onKeyUp),window.removeEventListener(c.Ks.RESIZE,this.onResize,!1),window.removeEventListener(c.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(c.Ks.BLUR,this.onBlur,!1),null===(t=this.excalidrawContainerRef.current)||void 0===t||t.removeEventListener(c.Ks.DRAG_OVER,this.disableEvent,!1),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.removeEventListener(c.Ks.DROP,this.disableEvent,!1),document.removeEventListener(c.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(c.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(c.Ks.GESTURE_END,this.onGestureEnd,!1),null===(r=this.detachIsMobileMqHandler)||void 0===r||r.call(this)}},{key:"addEventListeners",value:function(){var e,t,n,r;this.removeEventListeners(),document.addEventListener(c.Ks.POINTER_UP,this.removePointer),document.addEventListener(c.Ks.COPY,this.onCopy),this.props.handleKeyboardGlobally&&document.addEventListener(c.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(c.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(c.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),null===(e=document.fonts)||void 0===e||null===(t=e.addEventListener)||void 0===t||t.call(e,"loadingdone",this.onFontLoaded),document.addEventListener(c.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(c.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(c.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(c.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(c.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=function(e){for(var t=e.parentElement;t;){if(t===document.body)return document;var n=window.getComputedStyle(t).overflowY;if(t.scrollHeight>t.clientHeight&&("auto"===n||"scroll"===n))return t;t=t.parentElement}return document}(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(c.Ks.SCROLL,this.onScroll)),window.addEventListener(c.Ks.RESIZE,this.onResize,!1),window.addEventListener(c.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(c.Ks.BLUR,this.onBlur,!1),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.addEventListener(c.Ks.DRAG_OVER,this.disableEvent,!1),null===(r=this.excalidrawContainerRef.current)||void 0===r||r.addEventListener(c.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(e,t){var n,r=this;"selection"===t.elementType&&"selection"!==this.state.elementType&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),e.langCode!==this.props.langCode&&this.updateLanguage(),e.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),t.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),e.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),e.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),e.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?c.k:null}),this.props.name&&e.name!==this.props.name&&this.setState({name:this.props.name}),null===(n=this.excalidrawContainerRef.current)||void 0===n||n.classList.toggle("theme--dark","dark"===this.state.theme),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout((function(){r.actionManager.executeAction(fu)}));var i=t.multiElement;t.elementType!==this.state.elementType&&null!=i&&ca(this.state)&&Ze(i)&&ha(i,this.state,this.scene,En(aa.getPointAtIndexGlobalCoordinates(i,-1)));var o={},a={},s={},l={},u={};this.state.collaborators.forEach((function(e,t){if(e.selectedElementIds)for(var n=0,i=Object.keys(e.selectedElementIds);n<i.length;n++){var c=i[n];c in s||(s[c]=[]),s[c].push(t)}e.pointer&&(e.username&&(l[t]=e.username),e.userState&&(u[t]=e.userState),a[t]=xn({sceneX:e.pointer.x,sceneY:e.pointer.y},r.state),o[t]=e.button)}));var d=this.scene.getElements().filter((function(e){return(!Ve(e)||!r.state.pendingImageElement||e.id!==r.state.pendingImageElement.id)&&(!r.state.editingElement||"text"!==r.state.editingElement.type||e.id!==r.state.editingElement.id)})),p=Bu(d,this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:a,remotePointerButton:o,remoteSelectedElementIds:s,remotePointerUsernames:l,remotePointerUserStates:u,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom,theme:this.state.theme,imageCache:this.imageCache,isExporting:!1,renderScrollbars:!this.isMobile}),f=p.atLeastOneVisibleElement,h=p.scrollBars;h&&(ug=h);var m,g,v=!ze(this.state.editingElement)&&!f&&d.length>0;this.state.scrolledOutside!==v&&this.setState({scrolledOutside:v}),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.scheduleImageRefresh(),this.state.isLoading||null===(m=(g=this.props).onChange)||void 0===m||m.call(g,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(e){var t=wn({clientX:og,clientY:ag},this.state),n=t.x,r=t.y,i=Mi({x:n,y:r,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:e,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:c.hs});this.scene.replaceAllElements([].concat(M(this.scene.getElementsIncludingDeleted()),[i])),this.setState({selectedElementIds:N({},i.id,!0)}),this.history.resumeRecording()}},{key:"selectShapeTool",value:function(e){var t;sg||vn(this.canvas,e),(t=document.activeElement)instanceof HTMLElement&&t.className.includes("ToolIcon")&&this.focusContainer(),Xe(e)||this.setState({suggestedBindings:[]}),"image"===e&&this.onImageAction(),"selection"!==e?this.setState({elementType:e,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:e})}},{key:"handleTextWysiwyg",value:function(e,t){var n=this,r=t.isExistingElement,i=void 0!==r&&r,o=function(t,r,i){n.scene.replaceAllElements(M(n.scene.getElementsIncludingDeleted().map((function(n){return n.id===e.id&&ze(n)?Ni(n,{text:t,isDeleted:i,originalText:r}):n}))))};xc({id:e.id,canvas:this.canvas,getViewportCoords:function(e,t){var r=xn({sceneX:e,sceneY:t},n.state),i=r.x,o=r.y;return[i-n.state.offsetLeft,o-n.state.offsetTop]},onChange:On((function(t){o(t,t,!1),Oc(e)&&Sa(e)})),onSubmit:On((function(t){var r=t.text,a=t.viaKeyboard,s=t.originalText,l=!r.trim();if(o(r,s,l),!l&&a){var c=e.containerId?e.containerId:e.id;n.setState((function(e){return{selectedElementIds:Ym(Ym({},e.selectedElementIds),{},N({},c,!0))}}))}l&&Ra(n.scene.getElements(),[e]),l&&!i||n.history.resumeRecording(),n.setState({draggingElement:null,editingElement:null}),n.state.elementLocked&&vn(n.canvas,n.state.elementType),n.focusContainer()})),element:e,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),o(e.text,e.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(e,t){var n=this.getElementAtPosition(e,t,{includeBoundTextElement:!0});return n&&ze(n)&&!n.isDeleted?n:null}},{key:"getElementAtPosition",value:function(e,t,n){var r=this.getElementsAtPosition(e,t,null==n?void 0:n.includeBoundTextElement);if(r.length>1){if(null!=n&&n.preferSelected)for(var i=r.length-1;i>-1;i--)if(this.state.selectedElementIds[r[i].id])return r[i];var o=r[r.length-1];return yo(o,this.state,e,t)?r[r.length-2]:o}return 1===r.length?r[0]:null}},{key:"getElementsAtPosition",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this.scene.getElements():this.scene.getElements().filter((function(e){return!(ze(e)&&e.containerId)}));return Pl(r,(function(r){return vo(r,n.state,e,t)}))}},{key:"maybeCleanupAfterMissingPointerUp",value:function(e){null!==fg&&fg(e)}},{key:"updateGestureOnPointerDown",value:function(e){hg.pointers.set(e.pointerId,{x:e.clientX,y:e.clientY}),2===hg.pointers.size&&(hg.lastCenter=fh(hg.pointers),hg.initialScale=this.state.zoom.value,hg.initialDistance=hh(Array.from(hg.pointers.values())))}},{key:"initialPointerDownState",value:function(e){var t=wn(e,this.state),n=Dc(this.scene.getElements(),this.state),r=h(St(n),4),i=r[0],o=r[1],a=r[2],s=r[3];return{origin:t,withCmdOrCtrl:e[en.CTRL_OR_CMD],originInGrid:En(ut(t.x,t.y,this.state.gridSize)),scrollbars:Mc(ug,e.clientX-this.state.offsetLeft,e.clientY-this.state.offsetTop),lastCoords:Ym({},t),originalElements:this.scene.getElements().reduce((function(e,t){return e.set(t.id,Di(t)),e}),new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(a+i)/2,y:(s+o)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(t,n),hasHitElementInside:!1},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1}}}},{key:"handleDraggingScrollBar",value:function(e,t){var n=this;if(!t.scrollbars.isOverEither||this.state.multiElement)return!1;cg=!0,t.lastCoords.x=e.clientX,t.lastCoords.y=e.clientY;var r=Pn((function(e){e.target instanceof HTMLElement&&n.handlePointerMoveOverScrollbars(e,t)})),i=On((function(){cg=!1,vn(n.canvas,n.state.elementType),fg=null,n.setState({cursorButton:"up"}),n.savePointer(e.clientX,e.clientY,"up"),window.removeEventListener(c.Ks.POINTER_MOVE,r),window.removeEventListener(c.Ks.POINTER_UP,i),r.flush()}));return fg=i,window.addEventListener(c.Ks.POINTER_MOVE,r),window.addEventListener(c.Ks.POINTER_UP,i),!0}},{key:"isASelectedElement",value:function(e){return null!=e&&this.state.selectedElementIds[e.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(e,t){if(t.length<2)return!1;var n=10/this.state.zoom.value,r=h(St(t),4),i=r[0],o=r[1],a=r[2],s=r[3];return e.x>i-n&&e.x<a+n&&e.y>o-n&&e.y<s+n}},{key:"onKeyDownFromPointerDownHandler",value:function(e){var t=this;return On((function(n){t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onKeyUpFromPointerDownHandler",value:function(e){var t=this;return On((function(n){n.key===en.ALT&&n.preventDefault(),t.maybeHandleResize(e,n)||t.maybeDragNewGenericElement(e,n)}))}},{key:"onPointerMoveFromPointerDownHandler",value:function(e){var t=this;return Pn((function(n){var r,i;if(null===e.drag.offset&&(e.drag.offset=En(function(e,t,n){var r=h(St(e),2);return[t-r[0],n-r[1]]}(Dc(t.scene.getElements(),t.state),e.origin.x,e.origin.y))),n.target instanceof HTMLElement&&!t.handlePointerMoveOverScrollbars(n,e)){var o=wn(n,t.state),a=h(ut(o.x,o.y,t.state.gridSize),2),s=a[0],l=a[1];if(e.drag.hasOccurred||"arrow"!==t.state.elementType&&"line"!==t.state.elementType||!(it(o.x,o.y,e.origin.x,e.origin.y)<c.f)){if(e.resize.isResizing&&(e.lastCoords.x=o.x,e.lastCoords.y=o.y,t.maybeHandleResize(e,n)))return!0;if(t.state.editingLinearElement){var u=aa.handlePointDragging(t.state,(function(e){return t.setState(e)}),o.x,o.y,(function(e,n){t.maybeSuggestBindingsForLinearElementAtCoords(e,n)}));if(u)return e.lastCoords.x=o.x,void(e.lastCoords.y=o.y)}if((e.hit.allHitElements.some((function(e){return t.isASelectedElement(e)}))||e.hit.hasHitCommonBoundingBoxOfSelectedElements)&&(!t.state.editingLinearElement||!n.shiftKey)&&(!t.state.editingLinearElement||(null===(r=t.state.editingLinearElement)||void 0===r?void 0:r.elementId)!==(null===(i=e.hit.element)||void 0===i?void 0:i.id)||e.hit.hasHitElementInside)){e.drag.hasOccurred=!0;var d=Dc(t.scene.getElements(),t.state);if(d.length>0&&!e.withCmdOrCtrl){var p=h(ut(o.x-e.drag.offset.x,o.y-e.drag.offset.y,t.state.gridSize),2),f=p[0],m=p[1],g=[Math.abs(o.x-e.origin.x),Math.abs(o.y-e.origin.y)],v=g[0],y=g[1],b=n.shiftKey;if(function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7?arguments[7]:void 0,l=h(St(t),2),c={x:n-l[0],y:r-l[1]};t.forEach((function(n){if(Ka(i,o,a,e,n,c),!n.groupIds.length||s.editingGroupId&&!yi(s,n)){var r=Sr(n);if(r){var l=cr.getScene(n).getElement(r);Ka(i,o,a,e,l,c)}}Sa(n,{simultaneouslyUpdated:t})}))}(e,d,f,m,b,v,y,t.state),t.maybeSuggestBindingForAll(d),n.altKey&&!e.hit.hasBeenDuplicated){e.hit.hasBeenDuplicated=!0;var w,x=[],S=[],k=new Map,T=new Map,E=e.hit.element,_=t.scene.getElementsIncludingDeleted(),C=Dc(_,t.state,!0).map((function(e){return e.id})),O=qm(_);try{for(O.s();!(w=O.n()).done;){var P=w.value;if(C.includes(P.id)||P.id===(null==E?void 0:E.id)&&e.hit.wasAddedToSelection){var A=Li(t.state.editingGroupId,k,P),I=h(ut(e.origin.x-e.drag.offset.x,e.origin.y-e.drag.offset.y,t.state.gridSize),2),R=I[0],D=I[1];ai(A,{x:A.x+(R-f),y:A.y+(D-m)}),x.push(A),S.push(P),T.set(P.id,A.id)}else x.push(P)}}catch(e){O.e(e)}finally{O.f()}var L=[].concat(x,S);dr(x,S,T),Ma(L,S,T,"duplicatesServeAsOld"),t.scene.replaceAllElements(L)}return}}var j=t.state.draggingElement;if(j){if("freedraw"===j.type){var B=j.points,F=o.x-j.x,U=o.y-j.y,$=B.length>0&&B[B.length-1];if(!$||$[0]!==F||$[1]!==U){var H=j.simulatePressure?j.pressures:[].concat(M(j.pressures),[n.pressure]);ai(j,{points:[].concat(M(B),[[F,U]]),pressures:H})}}else if(qe(j)){e.drag.hasOccurred=!0;var G=j.points,V=s-j.x,z=l-j.y;if(on(n)&&2===G.length){var W=ui(t.state.elementType,V,z);V=W.width,z=W.height}1===G.length?ai(j,{points:[].concat(M(G),[[V,z]])}):G.length>1&&ai(j,{points:[].concat(M(G.slice(0,-1)),[[V,z]])}),Ze(j)&&t.maybeSuggestBindingsForLinearElementAtCoords(j,[o],t.state.startBoundElement)}else e.lastCoords.x=o.x,e.lastCoords.y=o.y,t.maybeDragNewGenericElement(e,n);if("selection"===t.state.elementType){e.boxSelection.hasOccurred=!0;var K=t.scene.getElements();if(n.shiftKey||t.state.editingLinearElement||!Nc(K,t.state)||(e.withCmdOrCtrl&&e.hit.element?t.setState((function(n){return xi(Ym(Ym({},n),{},{selectedElementIds:N({},e.hit.element.id,!0)}),t.scene.getElements())})):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),t.state.editingLinearElement)aa.handleBoxSelection(n,t.state,t.setState.bind(t));else{var q=function(e,t){var n=h(mt(t),4),r=n[0],i=n[1],o=n[2],a=n[3];return e.filter((function(e){var t=h(xt(e),4),n=t[0],s=t[1],l=t[2],c=t[3];return"selection"!==e.type&&!et(e)&&r<=n&&i<=s&&o>=l&&a>=c}))}(K,j);t.setState((function(n){return xi(Ym(Ym({},n),{},{selectedElementIds:Ym(Ym(Ym({},n.selectedElementIds),q.reduce((function(e,t){return e[t.id]=!0,e}),{})),e.hit.element?N({},e.hit.element.id,!q.length):null),showHyperlinkPopup:!(1!==q.length||!q[0].link)&&"info"}),t.scene.getElements())}))}}}}}}))}},{key:"handlePointerMoveOverScrollbars",value:function(e,t){if(t.scrollbars.isOverHorizontal){var n=e.clientX,r=n-t.lastCoords.x;return this.setState({scrollX:this.state.scrollX-r/this.state.zoom.value}),t.lastCoords.x=n,!0}if(t.scrollbars.isOverVertical){var i=e.clientY,o=i-t.lastCoords.y;return this.setState({scrollY:this.state.scrollY-o/this.state.zoom.value}),t.lastCoords.y=i,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(e){var t=this;return On((function(n){var r,i,o=t.state,a=o.draggingElement,s=o.resizingElement,l=o.multiElement,u=o.elementType,d=o.elementLocked,p=o.isResizing,f=o.isRotating;if(t.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:l||ze(t.state.editingElement)?t.state.editingElement:null}),t.savePointer(n.clientX,n.clientY,"up"),t.state.editingLinearElement)if(e.boxSelection.hasOccurred||(null===(r=e.hit)||void 0===r||null===(i=r.element)||void 0===i?void 0:i.id)===t.state.editingLinearElement.elementId&&e.hit.hasHitElementInside){var h=aa.handlePointerUp(n,t.state.editingLinearElement,t.state);h!==t.state.editingLinearElement&&t.setState({editingLinearElement:h,suggestedBindings:[]})}else t.actionManager.executeAction(fu);if(fg=null,e.eventListeners.onMove&&e.eventListeners.onMove.flush(),window.removeEventListener(c.Ks.POINTER_MOVE,e.eventListeners.onMove),window.removeEventListener(c.Ks.POINTER_UP,e.eventListeners.onUp),window.removeEventListener(c.Ks.KEYDOWN,e.eventListeners.onKeyDown),window.removeEventListener(c.Ks.KEYUP,e.eventListeners.onKeyUp),t.state.pendingImageElement&&t.setState({pendingImageElement:null}),"freedraw"===(null==a?void 0:a.type)){var m=wn(n,t.state),g=a.points,v=m.x-a.x,y=m.y-a.y;v===g[0][0]&&y===g[0][1]&&(y+=1e-4,v+=1e-4);var b=a.simulatePressure?[]:[].concat(M(a.pressures),[n.pressure]);return ai(a,{points:[].concat(M(g),[[v,y]]),pressures:b,lastCommittedPoint:[v,y]}),void t.actionManager.executeAction(fu)}if(Ve(a)){var w=a;try{t.initializeImageDimensions(w),t.setState({selectedElementIds:N({},w.id,!0)},(function(){t.actionManager.executeAction(fu)}))}catch(e){console.error(e),t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==w.id}))),t.actionManager.executeAction(fu)}}else if(qe(a)){a.points.length>1&&t.history.resumeRecording();var x=wn(n,t.state);e.drag.hasOccurred||!a||l?e.drag.hasOccurred&&!l&&(ca(t.state)&&Ze(a)&&ha(a,t.state,t.scene,x),t.setState({suggestedBindings:[],startBoundElement:null}),d?t.setState((function(e){return{draggingElement:null,selectedElementIds:Ym(Ym({},e.selectedElementIds),{},N({},t.state.draggingElement.id,!0))}})):(mn(t.canvas),t.setState((function(e){return{draggingElement:null,elementType:"selection",selectedElementIds:Ym(Ym({},e.selectedElementIds),{},N({},t.state.draggingElement.id,!0))}})))):(ai(a,{points:[].concat(M(a.points),[[x.x-a.x,x.y-a.y]])}),t.setState({multiElement:a,editingElement:t.state.draggingElement}))}else{if("selection"!==u&&a&&ci(a))return t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().slice(0,-1)),void t.setState({draggingElement:null});a&&ai(a,di(a)),s&&t.history.resumeRecording(),s&&ci(s)&&t.scene.replaceAllElements(t.scene.getElementsIncludingDeleted().filter((function(e){return e.id!==s.id})));var S=e.hit.element;if(S&&!e.drag.hasOccurred&&!e.hit.wasAddedToSelection&&(!t.state.editingLinearElement||!e.boxSelection.hasOccurred))if(n.shiftKey&&!t.state.editingLinearElement)if(t.state.selectedElementIds[S.id])if(yi(t.state,S)){var k=S.groupIds.flatMap((function(e){return ki(t.scene.getElements(),e)})).map((function(e){return N({},e.id,!1)})).reduce((function(e,t){return Ym(Ym({},e),t)}),{});t.setState((function(e){return{selectedGroupIds:Ym(Ym({},e.selectedElementIds),S.groupIds.map((function(e){return N({},e,!1)})).reduce((function(e,t){return Ym(Ym({},e),t)}),{})),selectedElementIds:Ym(Ym({},e.selectedElementIds),k)}}))}else t.setState((function(e){return xi(Ym(Ym({},e),{},{selectedElementIds:Ym(Ym({},e.selectedElementIds),{},N({},S.id,!1))}),t.scene.getElements())}));else t.setState((function(e){return{selectedElementIds:Ym(Ym({},e.selectedElementIds),{},N({},S.id,!0))}}));else t.setState((function(e){return Ym({},xi(Ym(Ym({},e),{},{selectedElementIds:N({},S.id,!0)}),t.scene.getElements()))}));t.state.editingLinearElement||e.drag.hasOccurred||t.state.isResizing||!(S&&yo(S,t.state,e.origin.x,e.origin.y)||!S&&e.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!d&&"freedraw"!==u&&a&&t.setState((function(e){return{selectedElementIds:Ym(Ym({},e.selectedElementIds),{},N({},a.id,!0))}})),("selection"!==u||Nc(t.scene.getElements(),t.state))&&t.history.resumeRecording(),(e.drag.hasOccurred||p||f)&&(ca(t.state)?pa:ya)(Dc(t.scene.getElements(),t.state)),d||"freedraw"===u?t.setState({draggingElement:null,suggestedBindings:[]}):(mn(t.canvas),t.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):t.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}))}},{key:"maybeSuggestBindingForAll",value:function(e){var t,n,r=(t=e,n=new Set(t.map((function(e){return e.id}))),t.flatMap((function(e){return Ze(e)?Ca(e).filter((function(e){return!n.has(e.id)})):Qe(e)?Aa(e).filter((function(e){return!n.has(e[0].id)})):[]})));this.setState({suggestedBindings:r})}},{key:"clearSelection",value:function(e){this.setState((function(t){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:t.editingGroupId&&null!=e&&Si(e,t.editingGroupId)?t.editingGroupId:null}})),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(e,t,n,r,i){var o=Al(this.scene.getElementsIncludingDeleted().filter((function(e){return!ze(e)})),e,t);if(o){var a=o.x+o.width/2,s=o.y+o.height/2;if(Math.hypot(e-a,t-s)<c.wZ){var l=xn({sceneX:a,sceneY:s},n);return{viewportX:l.x,viewportY:l.y,elementCenterX:a,elementCenterY:s}}}}},{key:"getCanvasOffsets",value:function(){var e;if(null!==(e=this.excalidrawContainerRef)&&void 0!==e&&e.current){var t=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:t.left,offsetTop:t.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(t=(0,d.Z)(g().mark((function e(){var t,n=this;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w.find((function(e){return e.code===n.props.langCode}))||b,e.next=3,T(t);case 3:this.setAppState({});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){rg=!1}}]),i}(l().Component);mg.defaultProps={UIOptions:c.cW};var gg=function(){var e=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.isMobile=!1,this.excalidrawContainerRef=l().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.contextMenuOpen=!1,this.focusContainer=function(){var t;e.props.autoFocus&&(null===(t=e.excalidrawContainerRef.current)||void 0===t||t.focus())},this.getSceneElementsIncludingDeleted=function(){return e.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return e.scene.getElements()},this.syncActionResult=On((function(t){if(e.contextMenuOpen=!1,!e.unmounted&&!1!==t){var n=null;if(t.elements&&(t.elements.forEach((function(t){var r;(null===(r=e.state.editingElement)||void 0===r?void 0:r.id)===t.id&&e.state.editingElement!==t&&Oc(t)&&(n=t)})),e.scene.replaceAllElements(t.elements),t.commitToHistory&&e.history.resumeRecording()),t.files&&(e.files=t.replaceFiles?t.files:Ym(Ym({},e.files),t.files),e.addNewImagesToImageCache()),t.appState||n){var r,i,o,a,s,l;t.commitToHistory&&e.history.resumeRecording();var u=(null==t||null===(r=t.appState)||void 0===r?void 0:r.viewModeEnabled)||!1,d=(null==t||null===(i=t.appState)||void 0===i?void 0:i.zenModeEnabled)||!1,p=(null==t||null===(o=t.appState)||void 0===o?void 0:o.gridSize)||null,f=(null==t||null===(a=t.appState)||void 0===a?void 0:a.theme)||c.C6.LIGHT,h=null!==(s=null==t||null===(l=t.appState)||void 0===l?void 0:l.name)&&void 0!==s?s:e.state.name;void 0!==e.props.viewModeEnabled&&(u=e.props.viewModeEnabled),void 0!==e.props.zenModeEnabled&&(d=e.props.zenModeEnabled),void 0!==e.props.gridModeEnabled&&(p=e.props.gridModeEnabled?c.k:null),void 0!==e.props.theme&&(f=e.props.theme),void 0!==e.props.name&&(h=e.props.name),e.setState((function(e){var r;return Object.assign(t.appState||{},{editingElement:n||(null===(r=t.appState)||void 0===r?void 0:r.editingElement)||null,viewModeEnabled:u,zenModeEnabled:d,gridSize:p,theme:f,name:h})}),(function(){t.syncHistory&&e.history.setCurrentState(e.state,e.scene.getElementsIncludingDeleted())}))}}})),this.onBlur=On((function(){sg=!1,e.setState({isBindingEnabled:!0})})),this.onUnload=function(){e.onBlur()},this.disableEvent=function(e){e.preventDefault()},this.onFontLoaded=function(){e.scene.getElementsIncludingDeleted().forEach((function(e){ze(e)&&$r(e)})),e.onSceneUpdated()},this.importLibraryFromUrl=function(){var t=(0,d.Z)(g().mark((function t(n,r){var i,o,a,s,l;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.location.hash.includes(c.ah.addLibrary)?((i=new URLSearchParams(window.location.hash.slice(1))).delete(c.ah.addLibrary),window.history.replaceState({},c.iC,"#".concat(i.toString()))):window.location.search.includes(c.UO.addLibrary)&&((o=new URLSearchParams(window.location.search)).delete(c.UO.addLibrary),window.history.replaceState({},c.iC,"?".concat(o.toString()))),t.prev=1,t.next=4,fetch(decodeURIComponent(n));case 4:return a=t.sent,t.next=7,a.blob();case 7:return s=t.sent,t.t0=JSON,t.next=11,s.text();case 11:if(t.t1=t.sent,l=t.t0.parse.call(t.t0,t.t1),Jd(l)){t.next=15;break}throw new Error;case 15:if(r!==e.id&&!window.confirm(C("alerts.confirmAddLibrary",{numShapes:(l.libraryItems||l.library||[]).length}))){t.next=20;break}return t.next=18,e.library.importLibrary(s,"published");case 18:e.state.isLibraryOpen&&e.setState({isLibraryOpen:!1}),e.setState({isLibraryOpen:!0});case 20:t.next=26;break;case 22:t.prev=22,t.t2=t.catch(1),window.alert(C("alerts.errorLoadingLibrary")),console.error(t.t2);case 26:return t.prev=26,e.focusContainer(),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[1,22,26,29]])})));return function(e,n){return t.apply(this,arguments)}}(),this.resetHistory=function(){e.history.clear()},this.resetScene=On((function(t){e.scene.replaceAllElements([]),e.setState((function(n){return Ym(Ym({},jn()),{},{isLoading:(null==t||!t.resetLoadingState)&&n.isLoading,theme:e.state.theme})})),e.resetHistory()})),this.initializeScene=(0,d.Z)(g().mark((function t(){var n,r,i,o,a;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var t=(0,d.Z)(g().mark((function t(n){var r,i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.files.length){t.next=2;break}return t.abrupt("return");case 2:return r=n.files[0],t.next=5,r.getFile();case 5:(i=t.sent).handle=r,Bd(i,e.state,e.scene.getElementsIncludingDeleted()).then((function(t){e.syncActionResult(Ym(Ym({},t),{},{appState:Ym(Ym({},t.appState||e.state),{},{isLoading:!1}),commitToHistory:!0}))})).catch((function(t){e.setState({isLoading:!1,errorMessage:t.message})}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.state.isLoading||e.setState({isLoading:!0}),r=null,t.prev=3,t.next=6,e.props.initialData;case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0=null;case 9:r=t.t0,null!==(i=r)&&void 0!==i&&i.libraryItems&&(e.libraryItemsFromStorage=Id(r.libraryItems,"unpublished")),t.next=17;break;case 13:t.prev=13,t.t1=t.catch(3),console.error(t.t1),r={appState:{errorMessage:t.t1.message||"Encountered an error during importing or restoring scene data"}};case 17:if((o=Ad(r,null,null)).appState=Ym(Ym({},o.appState),{},{elementType:"image"===o.appState.elementType?"selection":o.appState.elementType,isLoading:!1}),null!==(n=r)&&void 0!==n&&n.scrollToContent&&(o.appState=Ym(Ym({},o.appState),Yl(o.elements,Ym(Ym({},o.appState),{},{width:e.state.width,height:e.state.height,offsetTop:e.state.offsetTop,offsetLeft:e.state.offsetLeft})))),e.resetHistory(),e.syncActionResult(Ym(Ym({},o),{},{commitToHistory:!0})),!(a=new URLSearchParams(window.location.hash.slice(1)).get(c.ah.addLibrary)||new URLSearchParams(window.location.search).get(c.UO.addLibrary))){t.next=26;break}return t.next=26,e.importLibraryFromUrl(a);case 26:case"end":return t.stop()}}),t,null,[[3,13]])}))),this.onResize=On((function(){e.scene.getElementsIncludingDeleted().forEach((function(e){return $r(e)})),e.setState({})})),this.onScroll=pn((function(){var t=e.getCanvasOffsets(),n=t.offsetTop,r=t.offsetLeft;e.setState((function(e){return e.offsetLeft===r&&e.offsetTop===n?null:{offsetTop:n,offsetLeft:r}}))}),c.HM),this.onCut=On((function(t){var n;(null===(n=e.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(document.activeElement))&&!cn(t.target)&&(e.cutAll(),t.preventDefault())})),this.onCopy=On((function(t){var n;(null===(n=e.excalidrawContainerRef.current)||void 0===n?void 0:n.contains(document.activeElement))&&!cn(t.target)&&(e.copyAll(),t.preventDefault())})),this.cutAll=function(){e.copyAll(),e.actionManager.executeAction(Uc)},this.copyAll=function(){Rp(e.scene.getElements(),e.state,e.files)},this.onTapStart=function(t){if(Mt||t.preventDefault(),!rg)return rg=!0,clearTimeout(ig),void(ig=window.setTimeout(mg.resetTapTwice,c.Gj));if(rg&&1===t.touches.length){var n=h(t.touches,1)[0];e.handleCanvasDoubleClick({clientX:n.clientX,clientY:n.clientY}),rg=!1,clearTimeout(ig)}Mt&&t.preventDefault(),2===t.touches.length&&e.setState({selectedElementIds:{}})},this.onTapEnd=function(t){e.resetContextMenuTimer(),t.touches.length>0?e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}):hg.pointers.clear()},this.pasteFromClipboard=On(function(){var t=(0,d.Z)(g().mark((function t(n){var r,i,o,a,s,l,c,u,d,p,f;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=document.activeElement,null===(r=e.excalidrawContainerRef.current)||void 0===r?void 0:r.contains(o)){t.next=4;break}return t.abrupt("return");case 4:if(a=document.elementFromPoint(og,ag),!n||a instanceof HTMLCanvasElement&&!cn(o)){t.next=7;break}return t.abrupt("return");case 7:return s=null==n||null===(i=n.clipboardData)||void 0===i?void 0:i.files[0],t.next=10,Bp(n);case 10:if(l=t.sent,!s&&l.text&&(c=l.text.trim()).startsWith("<svg")&&c.endsWith("</svg>")&&(s=zd(c)),!jd(s)||l.spreadsheet){t.next=19;break}return u=wn({clientX:og,clientY:ag},e.state),d=u.x,p=u.y,f=e.createImageElement({sceneX:d,sceneY:p}),e.insertImageElement(f,s),e.initializeImageDimensions(f),e.setState({selectedElementIds:N({},f.id,!0)}),t.abrupt("return");case 19:if(!e.props.onPaste){t.next=31;break}return t.prev=20,t.next=23,e.props.onPaste(l,n);case 23:if(t.t0=t.sent,!1!==t.t0){t.next=26;break}return t.abrupt("return");case 26:t.next=31;break;case 28:t.prev=28,t.t1=t.catch(20),console.error(t.t1);case 31:l.errorMessage?e.setState({errorMessage:l.errorMessage}):l.spreadsheet?e.setState({pasteDialog:{data:l.spreadsheet,shown:!0}}):l.elements?e.addElementsFromPasteOrLibrary({elements:l.elements,files:l.files||null,position:"cursor"}):l.text&&e.addTextFromPaste(l.text),e.selectShapeTool("selection"),null==n||n.preventDefault();case 34:case"end":return t.stop()}}),t,null,[[20,28]])})));return function(e){return t.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(t){var n=Od(t.elements,null),r=h(St(n),4),i=r[0],o=r[1],a=r[2],s=r[3],l=hn(i,a)/2,c=hn(o,s)/2,u="object"===I(t.position)?t.position.clientX:"cursor"===t.position?og:e.state.width/2+e.state.offsetLeft,d="object"===I(t.position)?t.position.clientY:"cursor"===t.position?ag:e.state.height/2+e.state.offsetTop,p=wn({clientX:u,clientY:d},e.state),f=p.x-l,m=p.y-c,g=new Map,v=h(ut(f,m,e.state.gridSize),2),y=v[0],b=v[1],w=new Map,x=n.map((function(t){var n=Li(e.state.editingGroupId,g,t,{x:t.x+y-i,y:t.y+b-o});return w.set(t.id,n.id),n}));dr(x,n,w);var S=[].concat(M(e.scene.getElementsIncludingDeleted()),M(x));Ma(S,n,w),t.files&&(e.files=Ym(Ym({},e.files),t.files)),e.scene.replaceAllElements(S),e.history.resumeRecording(),e.setState(xi(Ym(Ym({},e.state),{},{isLibraryOpen:!1,selectedElementIds:x.reduce((function(e,t){return et(t)||(e[t.id]=!0),e}),{}),selectedGroupIds:{}}),e.scene.getElements()),(function(){t.files&&e.addNewImagesToImageCache()})),e.selectShapeTool("selection")},this.setAppState=function(t){e.setState(t)},this.removePointer=function(t){dg&&e.resetContextMenuTimer(),hg.pointers.delete(t.pointerId)},this.toggleLock=function(){e.setState((function(e){return{elementLocked:!e.elementLocked,elementType:e.elementLocked?"selection":e.elementType}}))},this.togglePenMode=function(){e.setState((function(e){return{penMode:!e.penMode}}))},this.toggleZenMode=function(){e.actionManager.executeAction(Qf)},this.toggleStats=function(){e.state.showStats||hu("dialog","stats"),e.actionManager.executeAction(th)},this.scrollToContent=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.scene.getElements();e.setState(Ym({},Yl(Array.isArray(t)?t:[t],e.state,e.canvas)))},this.clearToast=function(){e.setState({toastMessage:null})},this.setToastMessage=function(t){e.setState({toastMessage:t})},this.restoreFileFromShare=(0,d.Z)(g().mark((function t(){var n,r,i;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,caches.open("web-share-target");case 3:return n=t.sent,t.next=6,n.match("shared-file");case 6:if(!(r=t.sent)){t.next=15;break}return t.next=10,r.blob();case 10:return i=t.sent,e.loadFileToCanvas(i),t.next=14,n.delete("shared-file");case 14:window.history.replaceState(null,c.iC,window.location.pathname);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(0),e.setState({errorMessage:t.t0.message});case 20:case"end":return t.stop()}}),t,null,[[0,17]])}))),this.addFiles=On((function(t){var n=t.reduce((function(e,t){return e.set(t.id,t),e}),new Map);e.files=Ym(Ym({},e.files),Object.fromEntries(n)),e.scene.getElements().forEach((function(t){Ge(t)&&n.has(t.fileId)&&(e.imageCache.delete(t.fileId),$r(t))})),e.scene.informMutation(),e.addNewImagesToImageCache()})),this.updateScene=On((function(t){t.commitToHistory&&e.history.resumeRecording(),t.appState&&e.setState(t.appState),t.elements&&e.scene.replaceAllElements(t.elements),t.collaborators&&e.setState({collaborators:t.collaborators}),t.libraryItems&&e.library.saveLibrary(Id(t.libraryItems,"unpublished"))})),this.onSceneUpdated=function(){e.setState({})},this.updateCurrentCursorPosition=On((function(e){og=e.clientX,ag=e.clientY})),this.onKeyDown=On((function(t){var n;if("Proxy"in window&&(!t.shiftKey&&/^[A-Z]$/.test(t.key)||t.shiftKey&&/^[a-z]$/.test(t.key))&&(t=new Proxy(t,{get:function(e,n){var r=e[n];return"function"==typeof r?r.bind(e):"key"===n?t.shiftKey?e.key.toUpperCase():e.key.toLowerCase():r}})),!(cn(t.target)&&t.key!==en.ESCAPE||tn(t.key)&&(n=t.target,n instanceof HTMLElement&&"wysiwyg"===n.dataset.type||n instanceof HTMLBRElement||n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement||n instanceof HTMLSelectElement))&&(t.key===en.QUESTION_MARK&&e.setState({showHelpDialog:!0}),!e.actionManager.handleKeyDown(t)&&!e.state.viewModeEnabled)){if(t[en.CTRL_OR_CMD]&&e.state.isBindingEnabled&&e.setState({isBindingEnabled:!1}),t.code===Gt&&e.setState({isLibraryOpen:!e.state.isLibraryOpen}),tn(t.key)){var r=e.state.gridSize&&(t.shiftKey?c.$e:e.state.gridSize)||(t.shiftKey?c.Iw:c.$e),i=Dc(e.scene.getElements(),e.state,!0),o=0,a=0;t.key===en.ARROW_LEFT?o=-r:t.key===en.ARROW_RIGHT?o=r:t.key===en.ARROW_UP?a=-r:t.key===en.ARROW_DOWN&&(a=r),i.forEach((function(e){ai(e,{x:e.x+o,y:e.y+a}),Sa(e,{simultaneouslyUpdated:i})})),e.maybeSuggestBindingForAll(i),t.preventDefault()}else if(t.key===en.ENTER){var s=Dc(e.scene.getElements(),e.state);if(1===s.length&&qe(s[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===s[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new aa(s[0],e.scene)}));else if(1===s.length&&!qe(s[0])){var l=s[0];return e.startTextEditing({sceneX:l.x+l.width/2,sceneY:l.y+l.height/2,shouldBind:!0}),void t.preventDefault()}}else if(!t.ctrlKey&&!t.altKey&&!t.metaKey&&null===e.state.draggingElement){var u=function(e){var t=wh.find((function(t,n){return e===(n+1).toString()||t.key&&("string"==typeof t.key?t.key===e:t.key.includes(e))}));return(null==t?void 0:t.value)||null}(t.key);u?e.selectShapeTool(u):t.key===en.Q&&e.toggleLock()}if(t.key===en.SPACE&&0===hg.pointers.size&&(sg=!0,gn(e.canvas,c.oc.GRABBING),t.preventDefault()),t.key===en.G||t.key===en.S){var d=Dc(e.scene.getElements(),e.state);if("selection"===e.state.elementType&&!d.length)return;t.key===en.G&&(xl(e.state.elementType)||d.some((function(e){return xl(e.type)})))&&e.setState({openPopup:"backgroundColorPicker"}),t.key===en.S&&e.setState({openPopup:"strokeColorPicker"})}}})),this.onKeyUp=On((function(t){if(t.key===en.SPACE&&(e.state.viewModeEnabled?gn(e.canvas,c.oc.GRAB):"selection"===e.state.elementType?mn(e.canvas):(vn(e.canvas,e.state.elementType),e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),sg=!1),t[en.CTRL_OR_CMD]||e.state.isBindingEnabled||e.setState({isBindingEnabled:!0}),tn(t.key)){var n=Dc(e.scene.getElements(),e.state);ca(e.state)?pa(n):ya(n),e.setState({suggestedBindings:[]})}})),this.onGestureStart=On((function(t){t.preventDefault(),e.setState({selectedElementIds:{}}),hg.initialScale=e.state.zoom.value})),this.onGestureChange=On((function(t){if(t.preventDefault(),!(hg.pointers.size>=2)){var n=hg.initialScale;n&&e.setState((function(e){return Ym({},Jl({viewportX:og,viewportY:ag,nextZoom:Ql(n*t.scale)},e))}))}})),this.onGestureEnd=On((function(t){t.preventDefault(),e.setState({previousSelectedElementIds:{},selectedElementIds:e.state.previousSelectedElementIds}),hg.initialScale=null})),this.startTextEditing=function(t){var n,r,i,o=t.sceneX,a=t.sceneY,s=t.shouldBind,l=t.insertAtParentCenter,u=(void 0===l||l)&&e.getTextWysiwygSnappedToCenterPosition(o,a,e.state,e.canvas,window.devicePixelRatio),d=s||u?Al(e.scene.getElements().filter((function(e){return!ze(e)})),o,a):null,p=e.getTextElementAtPosition(o,a);if(d){var f=Sr(d);f&&(p=e.scene.getElement(f))}if(!p&&d){var h={fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily},m=wr(dn(h)),g=(i=dn(h),gr(i)+2*c.gK),v=Math.max(d.height,g),y=Math.max(d.width,m);ai(d,{height:v,width:y}),o=d.x+y/2,a=d.y+v/2,u&&(u=e.getTextWysiwygSnappedToCenterPosition(o,a,e.state,e.canvas,window.devicePixelRatio))}var b=p||Mi({x:u?u.elementCenterX:o,y:u?u.elementCenterY:a,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness,text:"",fontSize:e.state.currentItemFontSize,fontFamily:e.state.currentItemFontFamily,textAlign:u?"center":e.state.currentItemTextAlign,verticalAlign:u?"middle":c.hs,containerId:null!==(n=null==d?void 0:d.id)&&void 0!==n?n:void 0,groupIds:null!==(r=null==d?void 0:d.groupIds)&&void 0!==r?r:[]});e.setState({editingElement:b}),p?u&&"center"===b.textAlign||ai(b,{verticalAlign:c.hs}):(e.scene.replaceAllElements([].concat(M(e.scene.getElementsIncludingDeleted()),[b])),u||ai(b,{y:b.y-b.baseline/2})),e.setState({editingElement:b}),e.handleTextWysiwyg(b,{isExistingElement:!!p})},this.handleCanvasDoubleClick=function(t){if(!e.state.multiElement&&"selection"===e.state.elementType){var n=Dc(e.scene.getElements(),e.state);if(1===n.length&&qe(n[0]))e.state.editingLinearElement&&e.state.editingLinearElement.elementId===n[0].id||(e.history.resumeRecording(),e.setState({editingLinearElement:new aa(n[0],e.scene)}));else{mn(e.canvas);var r=wn(t,e.state),i=r.x,o=r.y;if(wi(e.state).length>0){var a=e.getElementAtPosition(i,o),s=a&&function(e,t){return e.groupIds.find((function(e){return t[e]}))}(a,e.state.selectedGroupIds);if(s)return void e.setState((function(t){return xi(Ym(Ym({},t),{},{editingGroupId:s,selectedElementIds:N({},a.id,!0),selectedGroupIds:{}}),e.scene.getElements())}))}if(mn(e.canvas),!t[en.CTRL_OR_CMD]&&!e.state.viewModeEnabled){var l=Dc(e.scene.getElements(),e.state);if(1===l.length){var c=l[0];Je(c)&&(i=c.x+c.width/2,o=c.y+c.height/2)}e.startTextEditing({sceneX:i,sceneY:o,shouldBind:!1,insertAtParentCenter:!t.altKey})}}}},this.getElementLinkAtPosition=function(t,n){var r=e.scene.getElements().slice().reverse(),i=1/0;return r.find((function(r,o){return n&&r.id===n.id&&(i=o),r.link&&Ou(r,e.state,[t.x,t.y],e.isMobile)&&o<=i}))},this.redirectToLink=function(t,n){var r=it(e.lastPointerDown.clientX,e.lastPointerDown.clientY,e.lastPointerUp.clientX,e.lastPointerUp.clientY);if(!(!e.hitLinkElement||n&&r>c.f||!n&&0!==r)){var i=wn(e.lastPointerDown,e.state),o=Ou(e.hitLinkElement,e.state,[i.x,i.y],e.isMobile),a=wn(e.lastPointerUp,e.state),s=Ou(e.hitLinkElement,e.state,[a.x,a.y],e.isMobile);if(o&&s){var l,u,d=e.hitLinkElement.link;if(d&&(e.props.onLinkOpen&&(u=Nn(c.Ks.EXCALIDRAW_LINK,t.nativeEvent),e.props.onLinkOpen(e.hitLinkElement,u)),null===(l=u)||void 0===l||!l.defaultPrevented)){var p=Tu(d)?"_self":"_blank",f=window.open(void 0,p);f&&(f.opener=null,f.location=ku(d))}}}},this.handleCanvasPointerMove=function(t){e.savePointer(t.clientX,t.clientY,e.state.cursorButton),hg.pointers.has(t.pointerId)&&hg.pointers.set(t.pointerId,{x:t.clientX,y:t.clientY});var n=hg.initialScale;if(2===hg.pointers.size&&hg.lastCenter&&n&&hg.initialDistance){var r=fh(hg.pointers),i=r.x-hg.lastCenter.x,o=r.y-hg.lastCenter.y;hg.lastCenter=r;var a=hh(Array.from(hg.pointers.values())),s="freedraw"===e.state.elementType&&e.state.penMode?1:a/hg.initialDistance,l=s?Ql(n*s):e.state.zoom.value;e.setState((function(e){var t=Jl({viewportX:r.x,viewportY:r.y,nextZoom:l},e);return{zoom:t.zoom,scrollX:t.scrollX+i/l,scrollY:t.scrollY+o/l,shouldCacheIgnoreZoom:!0}})),e.resetShouldCacheIgnoreZoomDebounced()}else hg.lastCenter=hg.initialDistance=hg.initialScale=null;if(!(sg||lg||cg)){var u=Mc(ug,t.clientX-e.state.offsetLeft,t.clientY-e.state.offsetTop).isOverEither;e.state.draggingElement||e.state.multiElement||(u?mn(e.canvas):vn(e.canvas,e.state.elementType));var d=wn(t,e.state),p=d.x,f=d.y;if(e.state.editingLinearElement&&!e.state.editingLinearElement.isDragging){var h=aa.handlePointerMove(t,p,f,e.state.editingLinearElement,e.state.gridSize);h!==e.state.editingLinearElement&&e.setState({editingLinearElement:h}),null!=h.lastUncommittedPoint?e.maybeSuggestBindingAtCursor(d):e.setState({suggestedBindings:[]})}if(Ye(e.state.elementType)){var m=e.state.draggingElement;Ze(m)?e.maybeSuggestBindingsForLinearElementAtCoords(m,[d],e.state.startBoundElement):e.maybeSuggestBindingAtCursor(d)}if(e.state.multiElement){var g=e.state.multiElement,v=g.x,y=g.y,b=g.points,w=g.lastCommittedPoint,x=b[b.length-1];return vn(e.canvas,e.state.elementType),void(x===w?it(p-v,f-y,x[0],x[1])>=c.qx?ai(g,{points:[].concat(M(b),[[p-v,f-y]])}):gn(e.canvas,c.oc.POINTER):b.length>2&&w&&it(p-v,f-y,w[0],w[1])<c.qx?(gn(e.canvas,c.oc.POINTER),ai(g,{points:b.slice(0,-1)})):(ot(b,e.state.zoom.value)&&gn(e.canvas,c.oc.POINTER),ai(g,{points:[].concat(M(b.slice(0,-1)),[[p-v,f-y]])})))}if(!(Boolean(t.buttons)||"selection"!==e.state.elementType&&"text"!==e.state.elementType)){var S=e.scene.getElements(),k=Dc(S,e.state);if(1!==k.length||u||e.state.editingLinearElement){if(k.length>1&&!u){var T=Jo(St(k),p,f,e.state.zoom,t.pointerType);if(T)return void gn(e.canvas,ta({transformHandleType:T}))}}else{var E=Qo(S,e.state,p,f,e.state.zoom,t.pointerType);if(E&&E.transformHandleType)return void gn(e.canvas,ta(E))}var _=e.getElementAtPosition(d.x,d.y);if(e.hitLinkElement=e.getElementLinkAtPosition(d,_),e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id])gn(e.canvas,c.oc.POINTER),function(e,t){Pu&&clearTimeout(Pu),Pu=window.setTimeout((function(){return Au(e,t)}),c.sA)}(e.hitLinkElement,e.state);else if(Pu&&clearTimeout(Pu),wu&&(wu=!1,ec().classList.remove("excalidraw-tooltip--visible")),_&&_.link&&e.state.selectedElementIds[_.id]&&!e.contextMenuOpen&&!e.state.showHyperlinkPopup&&e.setState({showHyperlinkPopup:"info"}),"text"===e.state.elementType)gn(e.canvas,ze(_)?c.oc.TEXT:c.oc.CROSSHAIR);else if(e.state.viewModeEnabled)gn(e.canvas,c.oc.GRAB);else if(u)gn(e.canvas,c.oc.AUTO);else if(e.state.editingLinearElement){var C=aa.getElement(e.state.editingLinearElement.elementId);C&&bo(C,e.state,[d.x,d.y])?gn(e.canvas,c.oc.MOVE):gn(e.canvas,c.oc.AUTO)}else t[en.CTRL_OR_CMD]||!_&&!e.isHittingCommonBoundingBoxOfSelectedElements(d,k)?gn(e.canvas,c.oc.AUTO):gn(e.canvas,c.oc.MOVE)}}},this.handleTouchMove=function(e){pg=!0},this.handleCanvasPointerDown=function(t){var n=document.getSelection();if(null!=n&&n.anchorNode&&n.removeAllRanges(),e.maybeOpenContextMenuAfterPointerDownOnTouchDevices(t),e.maybeCleanupAfterMissingPointerUp(t),e.state.penDetected||"pen"!==t.pointerType||e.setState((function(e){return{penMode:!0,penDetected:!0}})),!lg&&(e.lastPointerDown=t,e.setState({lastPointerDownWith:t.pointerType,cursorButton:"down"}),e.savePointer(t.clientX,t.clientY,"down"),!e.handleCanvasPanUsingWheelOrSpaceDrag(t)&&!(t.button!==c.Oh.MAIN&&t.button!==c.Oh.TOUCH||(e.updateGestureOnPointerDown(t),hg.pointers.size>1)))){var r=e.initialPointerDownState(t);if(!e.handleDraggingScrollBar(t,r)&&(e.contextMenuOpen=!1,e.clearSelectionIfNotUsingSelection(),e.updateBindingEnabledOnPointerMove(t),!e.handleSelectionOnPointerDown(t,r)&&(!e.state.penMode||"touch"!==t.pointerType||"selection"===e.state.elementType||"text"===e.state.elementType||"image"===e.state.elementType)))if("text"!==e.state.elementType){if("arrow"===e.state.elementType||"line"===e.state.elementType)e.handleLinearElementOnPointerDown(t,e.state.elementType,r);else if("image"===e.state.elementType){if(gn(e.canvas,c.oc.CROSSHAIR),!e.state.pendingImageElement)return;e.setState({draggingElement:e.state.pendingImageElement,editingElement:e.state.pendingImageElement,pendingImageElement:null,multiElement:null});var i=wn(t,e.state),o=i.x,a=i.y;ai(e.state.pendingImageElement,{x:o,y:a})}else"freedraw"===e.state.elementType?e.handleFreeDrawElementOnPointerDown(t,e.state.elementType,r):e.createGenericElementOnPointerDown(e.state.elementType,r);var s=e.onPointerMoveFromPointerDownHandler(r),l=e.onPointerUpFromPointerDownHandler(r),u=e.onKeyDownFromPointerDownHandler(r),d=e.onKeyUpFromPointerDownHandler(r);fg=l,e.state.viewModeEnabled||(window.addEventListener(c.Ks.POINTER_MOVE,s),window.addEventListener(c.Ks.POINTER_UP,l),window.addEventListener(c.Ks.KEYDOWN,u),window.addEventListener(c.Ks.KEYUP,d),r.eventListeners.onMove=s,r.eventListeners.onUp=l,r.eventListeners.onKeyUp=d,r.eventListeners.onKeyDown=u)}else e.handleTextOnPointerDown(t,r)}},this.handleCanvasPointerUp=function(t){e.lastPointerUp=t;var n=["pen","touch"].includes(t.pointerType);if(n){var r=wn({clientX:t.clientX,clientY:t.clientY},e.state),i=e.getElementAtPosition(r.x,r.y);e.hitLinkElement=e.getElementLinkAtPosition(r,i)}e.hitLinkElement&&!e.state.selectedElementIds[e.hitLinkElement.id]&&e.redirectToLink(t,n),e.removePointer(t)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(t){"touch"===t.pointerType&&(pg=!1,dg?pg=!0:dg=window.setTimeout((function(){dg=0,pg||e.handleCanvasContextMenu(t)}),c.nM))},this.resetContextMenuTimer=function(){clearTimeout(dg),dg=0,pg=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(t){if(0!==hg.pointers.size||!(t.button===c.Oh.WHEEL||t.button===c.Oh.MAIN&&sg||e.state.viewModeEnabled)||ze(e.state.editingElement))return!1;lg=!0,t.preventDefault();var n=!1,r=/Linux/.test(window.navigator.platform);gn(e.canvas,c.oc.GRABBING);var i=t.clientX,o=t.clientY,a=Pn((function(t){var a=i-t.clientX,s=o-t.clientY;if(i=t.clientX,o=t.clientY,r&&!n&&(Math.abs(a)>1||Math.abs(s)>1)){n=!0;var l=function e(t){document.body.removeEventListener(c.Ks.PASTE,e),t.stopPropagation()};document.body.addEventListener(c.Ks.PASTE,l),window.addEventListener(c.Ks.POINTER_UP,(function e(){setTimeout((function(){document.body.removeEventListener(c.Ks.PASTE,l),window.removeEventListener(c.Ks.POINTER_UP,e)}),100)}))}e.setState({scrollX:e.state.scrollX-a/e.state.zoom.value,scrollY:e.state.scrollY-s/e.state.zoom.value})})),s=On(fg=function(){fg=null,lg=!1,sg||(e.state.viewModeEnabled?gn(e.canvas,c.oc.GRAB):vn(e.canvas,e.state.elementType)),e.setState({cursorButton:"up"}),e.savePointer(t.clientX,t.clientY,"up"),window.removeEventListener(c.Ks.POINTER_MOVE,a),window.removeEventListener(c.Ks.POINTER_UP,s),window.removeEventListener(c.Ks.BLUR,s),a.flush()});return window.addEventListener(c.Ks.BLUR,s),window.addEventListener(c.Ks.POINTER_MOVE,a,{passive:!0}),window.addEventListener(c.Ks.POINTER_UP,s),!0},this.clearSelectionIfNotUsingSelection=function(){"selection"!==e.state.elementType&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(t,n){if("selection"===e.state.elementType){var r=e.scene.getElements(),i=Dc(r,e.state);if(1!==i.length||e.state.editingLinearElement)i.length>1&&(n.resize.handleType=Jo(St(i),n.origin.x,n.origin.y,e.state.zoom,t.pointerType));else{var o=Qo(r,e.state,n.origin.x,n.origin.y,e.state.zoom,t.pointerType);null!=o&&(e.setState({resizingElement:o.element}),n.resize.handleType=o.transformHandleType)}if(n.resize.handleType)gn(e.canvas,ta({transformHandleType:n.resize.handleType})),n.resize.isResizing=!0,n.resize.offset=En(function(e,t,n,r){var i=h(1===t.length?mt(t[0]):St(t),4),o=i[0],a=i[1],s=i[2],l=i[3],c=(o+s)/2,u=(a+l)/2,d=1===t.length?t[0].angle:0,p=h(tt(n,r,c,u,-d),2);switch(n=p[0],r=p[1],e){case"n":return tt(n-(o+s)/2,r-a,0,0,d);case"s":return tt(n-(o+s)/2,r-l,0,0,d);case"w":return tt(n-o,r-(a+l)/2,0,0,d);case"e":return tt(n-s,r-(a+l)/2,0,0,d);case"nw":return tt(n-o,r-a,0,0,d);case"ne":return tt(n-s,r-a,0,0,d);case"sw":return tt(n-o,r-l,0,0,d);case"se":return tt(n-s,r-l,0,0,d);default:return[0,0]}}(n.resize.handleType,i,n.origin.x,n.origin.y)),1===i.length&&qe(i[0])&&2===i[0].points.length&&(n.resize.arrowDirection=(u=n.resize.handleType,d=h(i[0].points,2),f=(p=h(d[1],2))[0],m=p[1],"nw"===u&&(f<0||m<0)||"ne"===u&&f>=0||"sw"===u&&f<=0||"se"===u&&(f>0||m>0)?"end":"origin"));else{var a;if(e.state.editingLinearElement){var s=aa.handlePointerDown(t,e.state,(function(t){return e.setState(t)}),e.history,n.origin);if(s.hitElement&&(n.hit.element=s.hitElement),s.didAddPoint)return!0}if(n.hit.element=null!==(a=n.hit.element)&&void 0!==a?a:e.getElementAtPosition(n.origin.x,n.origin.y),n.hit.element){if(Ou(n.hit.element,e.state,[n.origin.x,n.origin.y],e.isMobile))return!1;n.hit.hasHitElementInside=bo(n.hit.element,e.state,[n.origin.x,n.origin.y])}n.hit.allHitElements=e.getElementsAtPosition(n.origin.x,n.origin.y);var l=n.hit.element,c=n.hit.allHitElements.some((function(t){return e.isASelectedElement(t)}));if(null!==l&&c||t.shiftKey||n.hit.hasHitCommonBoundingBoxOfSelectedElements||e.clearSelection(l),e.state.editingLinearElement)e.setState({selectedElementIds:N({},e.state.editingLinearElement.elementId,!0)});else if(null!=l){if(t[en.CTRL_OR_CMD])return e.state.selectedElementIds[l.id]||(n.hit.wasAddedToSelection=!0),e.setState((function(t){return Ym(Ym({},function(e,t){return gi(gi({},e),{},{editingGroupId:t.groupIds.length?t.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:N({},t.id,!0)})}(t,l)),{},{previousSelectedElementIds:e.state.selectedElementIds})})),!1;e.state.selectedElementIds[l.id]||(e.state.editingGroupId&&!Si(l,e.state.editingGroupId)&&e.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),c||n.hit.hasHitCommonBoundingBoxOfSelectedElements||(e.setState((function(t){return xi(Ym(Ym({},t),{},{selectedElementIds:Ym(Ym({},t.selectedElementIds),{},N({},l.id,!0)),showHyperlinkPopup:!!l.link&&"info"}),e.scene.getElements())})),n.hit.wasAddedToSelection=!0))}e.setState({previousSelectedElementIds:e.state.selectedElementIds})}}var u,d,p,f,m;return!1},this.handleTextOnPointerDown=function(t,n){if(!ze(e.state.editingElement)){var r=n.origin.x,i=n.origin.y,o=e.getElementAtPosition(r,i,{includeBoundTextElement:!0});Je(o)&&(r=o.x+o.width/2,i=o.y+o.height/2),e.startTextEditing({sceneX:r,sceneY:i,shouldBind:!1,insertAtParentCenter:!t.altKey}),mn(e.canvas),e.state.elementLocked||e.setState({elementType:"selection"})}},this.handleFreeDrawElementOnPointerDown=function(t,n,r){var i,o=h(ut(r.origin.x,r.origin.y,null),2),a=(i={type:n,x:o[0],y:o[1],strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,simulatePressure:.5===t.pressure},Oi(Oi({},Pi(i.type,i)),{},{points:i.points||[],pressures:[],simulatePressure:i.simulatePressure,lastCommittedPoint:null}));e.setState((function(e){return{selectedElementIds:Ym(Ym({},e.selectedElementIds),{},N({},a.id,!1))}}));var s=a.simulatePressure?a.pressures:[].concat(M(a.pressures),[t.pressure]);ai(a,{points:[[0,0]],pressures:s});var l=wa(r.origin,e.scene);e.scene.replaceAllElements([].concat(M(e.scene.getElementsIncludingDeleted()),[a])),e.setState({draggingElement:a,editingElement:a,startBoundElement:l,suggestedBindings:[]})},this.createImageElement=function(t){var n,r=t.sceneX,i=t.sceneY,o=h(ut(r,i,e.state.gridSize),2);return n={type:"image",x:o[0],y:o[1],strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness},Oi(Oi({},Pi("image",n)),{},{strokeColor:"transparent",status:"pending",fileId:null,scale:[1,1]})},this.handleLinearElementOnPointerDown=function(t,n,r){if(e.state.multiElement){var i=e.state.multiElement;if("line"===i.type&&ot(i.points,e.state.zoom.value))return ai(i,{lastCommittedPoint:i.points[i.points.length-1]}),void e.actionManager.executeAction(fu);var o=i.x,a=i.y,s=i.lastCommittedPoint;if(i.points.length>1&&s&&it(r.origin.x-o,r.origin.y-a,s[0],s[1])<c.qx)return void e.actionManager.executeAction(fu);e.setState((function(e){return{selectedElementIds:Ym(Ym({},e.selectedElementIds),{},N({},i.id,!0))}})),ai(i,{lastCommittedPoint:i.points[i.points.length-1]}),gn(e.canvas,c.oc.POINTER)}else{var l=h(ut(r.origin.x,r.origin.y,e.state.gridSize),2),u=l[0],d=l[1],p=e.state,f=p.currentItemStartArrowhead,m=p.currentItemEndArrowhead,g=h("arrow"===n?[f,m]:[null,null],2),v=g[0],y=g[1],b=Ri({type:n,x:u,y:d,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemLinearStrokeSharpness,startArrowhead:v,endArrowhead:y});e.setState((function(e){return{selectedElementIds:Ym(Ym({},e.selectedElementIds),{},N({},b.id,!1))}})),ai(b,{points:[].concat(M(b.points),[[0,0]])});var w=wa(r.origin,e.scene);e.scene.replaceAllElements([].concat(M(e.scene.getElementsIncludingDeleted()),[b])),e.setState({draggingElement:b,editingElement:b,startBoundElement:w,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(t,n){var r=h(ut(n.origin.x,n.origin.y,e.state.gridSize),2),i=r[0],o=r[1],a=Ai({type:t,x:i,y:o,strokeColor:e.state.currentItemStrokeColor,backgroundColor:e.state.currentItemBackgroundColor,fillStyle:e.state.currentItemFillStyle,strokeWidth:e.state.currentItemStrokeWidth,strokeStyle:e.state.currentItemStrokeStyle,roughness:e.state.currentItemRoughness,opacity:e.state.currentItemOpacity,strokeSharpness:e.state.currentItemStrokeSharpness});"selection"===a.type?e.setState({selectionElement:a,draggingElement:a}):(e.scene.replaceAllElements([].concat(M(e.scene.getElementsIncludingDeleted()),[a])),e.setState({multiElement:null,draggingElement:a,editingElement:a}))},this.initializeImage=function(){var t=(0,d.Z)(g().mark((function t(n){var r,i,o,a,s,l,u,p,f,h,m,v,y,b,w;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n.imageFile,s=n.imageElement,l=n.showCursorImagePreview,u=void 0!==l&&l,jd(a)){t.next=3;break}throw new Error(C("errors.unsupportedFileType"));case 3:if(p=a.type,gn(e.canvas,"wait"),p!==c.LO.svg){t.next=23;break}return t.prev=6,t.t0=zd,t.t1=sp,t.next=11,a.text();case 11:return t.t2=t.sent,t.next=14,(0,t.t1)(t.t2);case 14:t.t3=t.sent,t.t4=a.name,a=(0,t.t0)(t.t3,t.t4),t.next=23;break;case 19:throw t.prev=19,t.t5=t.catch(6),console.warn(t.t5),new Error(C("errors.svgImageInsertError"));case 23:return t.next=25,(null===(r=(i=e.props).generateIdForFile)||void 0===r?void 0:r.call(i,a))||$d(a);case 25:if(f=t.sent){t.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error(C("errors.imageInsertError"));case 29:if(null!=(h=e.files[f])&&h.dataURL){t.next=42;break}return t.prev=31,t.next=34,Vd(a,{maxWidthOrHeight:c.h6});case 34:a=t.sent,t.next=40;break;case 37:t.prev=37,t.t6=t.catch(31),console.error("error trying to resing image file on insertion",t.t6);case 40:if(!(a.size>c.$n)){t.next=42;break}throw new Error(C("errors.fileTooBig",{maxSize:"".concat(Math.trunc(c.$n/1024/1024),"MB")}));case 42:if(u&&(v=null===(m=e.files[f])||void 0===m?void 0:m.dataURL,y=v&&Gd(v),e.setImagePreviewCursor(y||a)),t.t7=null===(o=e.files[f])||void 0===o?void 0:o.dataURL,t.t7){t.next=48;break}return t.next=47,Hd(a);case 47:t.t7=t.sent;case 48:return b=t.t7,w=ai(s,{fileId:f},!1),t.abrupt("return",new Promise(function(){var t=(0,d.Z)(g().mark((function t(n,r){var i,o,a;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.files=Ym(Ym({},e.files),{},N({},f,{mimeType:p,id:f,dataURL:b,created:Date.now()})),a=e.imageCache.get(f)){t.next=7;break}return e.addNewImagesToImageCache(),t.next=7,e.updateImageCache([w]);case 7:if(!((null==a?void 0:a.image)instanceof Promise)){t.next=10;break}return t.next=10,a.image;case 10:(null===(i=e.state.pendingImageElement)||void 0===i?void 0:i.id)!==w.id&&(null===(o=e.state.draggingElement)||void 0===o?void 0:o.id)!==w.id&&e.initializeImageDimensions(w,!0),n(w),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0),r(new Error(C("errors.imageInsertError")));case 18:return t.prev=18,u||mn(e.canvas),t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,14,18,21]])})));return function(e,n){return t.apply(this,arguments)}}()));case 51:case"end":return t.stop()}}),t,null,[[6,19],[31,37]])})));return function(e){return t.apply(this,arguments)}}(),this.insertImageElement=function(){var t=(0,d.Z)(g().mark((function t(n,r,i){return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.scene.replaceAllElements([].concat(M(e.scene.getElementsIncludingDeleted()),[n])),t.prev=1,t.next=4,e.initializeImage({imageFile:r,imageElement:n,showCursorImagePreview:i});case 4:t.next=11;break;case 6:t.prev=6,t.t0=t.catch(1),ai(n,{isDeleted:!0}),e.actionManager.executeAction(fu),e.setState({errorMessage:t.t0.message||C("errors.imageInsertError")});case 11:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n,r){return t.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var t=(0,d.Z)(g().mark((function t(n){var r,i,o,a,s,l,u;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=96,t.next=3,Vd(n,{maxWidthOrHeight:r});case 3:return i=t.sent,t.next=6,Hd(i);case 6:if(o=t.sent,n.type!==c.LO.svg){t.next=20;break}return t.next=10,ip(o);case 10:a=t.sent,s=Math.min(a.height,r),(l=s*(a.width/a.height))>r&&(s=(l=r)*(a.height/a.width)),(u=document.createElement("canvas")).height=s,u.width=l,u.getContext("2d").drawImage(a,0,0,l,s),o=u.toDataURL(c.LO.svg);case 20:e.state.pendingImageElement&&gn(e.canvas,"url(".concat(o,") 4 4, auto"));case 21:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.onImageAction=(0,d.Z)(g().mark((function t(){var n,r,i,o,a,s,l,c,u,d=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.length>0&&void 0!==d[0]?d[0]:{insertOnCanvasDirectly:!1},r=n.insertOnCanvasDirectly,t.prev=1,i=e.state.width/2+e.state.offsetLeft,o=e.state.height/2+e.state.offsetTop,a=wn({clientX:i,clientY:o},e.state),s=a.x,l=a.y,t.next=7,bd({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:c=t.sent,u=e.createImageElement({sceneX:s,sceneY:l}),r?(e.insertImageElement(u,c),e.initializeImageDimensions(u),e.setState({selectedElementIds:N({},u.id,!0)},(function(){e.actionManager.executeAction(fu)}))):e.setState({pendingImageElement:u},(function(){e.insertImageElement(u,c,!0)})),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),"AbortError"!==t.t0.name?console.error(t.t0):console.warn(t.t0),e.setState({pendingImageElement:null,editingElement:null,elementType:"selection"},(function(){e.actionManager.executeAction(fu)}));case 16:case"end":return t.stop()}}),t,null,[[1,12]])}))),this.initializeImageDimensions=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=Ge(t)&&(null===(n=e.imageCache.get(t.fileId))||void 0===n?void 0:n.image);if(!i||i instanceof Promise){if(t.width<c.f/e.state.zoom.value&&t.height<c.f/e.state.zoom.value){var o=100/e.state.zoom.value;ai(t,{x:t.x-o/2,y:t.y-o/2,width:o,height:o})}}else if(r||t.width<c.f/e.state.zoom.value&&t.height<c.f/e.state.zoom.value){var a=Math.max(e.state.height-120,160),s=Math.min(a,Math.floor(.5*e.state.height)/e.state.zoom.value),l=Math.min(i.naturalHeight,s),u=l*(i.naturalWidth/i.naturalHeight),d=t.x+t.width/2-u/2,p=t.y+t.height/2-l/2;ai(t,{x:d,y:p,width:u,height:l})}},this.updateImageCache=function(){var t=(0,d.Z)(g().mark((function t(n){var r,i,o,a,s,l,c,u=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:e.files,t.next=3,op({imageCache:e.imageCache,fileIds:n.map((function(e){return e.fileId})),files:r});case 3:if(i=t.sent,o=i.updatedFiles,a=i.erroredFiles,o.size||a.size){s=qm(n);try{for(s.s();!(l=s.n()).done;)c=l.value,o.has(c.fileId)&&$r(c)}catch(e){s.e(e)}finally{s.f()}}return a.size&&e.scene.replaceAllElements(e.scene.getElementsIncludingDeleted().map((function(e){return Ge(e)&&a.has(e.fileId)?si(e,{status:"error"}):e}))),t.abrupt("return",{updatedFiles:o,erroredFiles:a});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,d.Z)(g().mark((function t(){var n,r,i,o=arguments;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>0&&void 0!==o[0]?o[0]:ap(e.scene.getElements()),r=o.length>1&&void 0!==o[1]?o[1]:e.files,!(i=n.filter((function(t){return!t.isDeleted&&!e.imageCache.has(t.fileId)}))).length){t.next=9;break}return t.next=6,e.updateImageCache(i,r);case 6:t.sent.updatedFiles.size&&e.scene.informMutation();case 9:case"end":return t.stop()}}),t)}))),this.scheduleImageRefresh=Km()((function(){e.addNewImagesToImageCache()}),c.LL),this.updateBindingEnabledOnPointerMove=function(t){var n=function(e){return!e[en.CTRL_OR_CMD]}(t);e.state.isBindingEnabled!==n&&e.setState({isBindingEnabled:n})},this.maybeSuggestBindingAtCursor=function(t){var n=wa(t,e.scene);e.setState({suggestedBindings:null!=n?[n]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(t,n,r){if(n.length){var i=n.reduce((function(n,i){var o=wa(i,e.scene);return null==o||va(t,null==r?void 0:r.id,o)||n.push(o),n}),[]);e.setState({suggestedBindings:i})}},this.handleCanvasRef=function(t){var n,r,i;null!==t?(e.canvas=t,e.rc=Fe.canvas(e.canvas),e.canvas.addEventListener(c.Ks.WHEEL,e.handleWheel,{passive:!1}),e.canvas.addEventListener(c.Ks.TOUCH_START,e.onTapStart),e.canvas.addEventListener(c.Ks.TOUCH_END,e.onTapEnd)):(null===(n=e.canvas)||void 0===n||n.removeEventListener(c.Ks.WHEEL,e.handleWheel),null===(r=e.canvas)||void 0===r||r.removeEventListener(c.Ks.TOUCH_START,e.onTapStart),null===(i=e.canvas)||void 0===i||i.removeEventListener(c.Ks.TOUCH_END,e.onTapEnd))},this.handleAppOnDrop=function(){var t=(0,d.Z)(g().mark((function t(n){var r,i,o,a,s,l,u,d,p,f,h,m;return g().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=n.dataTransfer.files[0],!jd(o)){t.next=33;break}if((null==o?void 0:o.type)!==c.LO.png&&(null==o?void 0:o.type)!==c.LO.svg){t.next=27;break}if(t.prev=4,!gd){t.next=16;break}return t.prev=6,a=n.dataTransfer.items[0],t.next=10,a.getAsFileSystemHandle();case 10:o.handle=t.sent,t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6),console.warn(t.t0.name,t.t0.message);case 16:return t.next=18,Bd(o,e.state,e.scene.getElementsIncludingDeleted());case 18:return s=t.sent,e.syncActionResult(Ym(Ym({},s),{},{appState:Ym(Ym({},s.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),t.abrupt("return");case 23:if(t.prev=23,t.t1=t.catch(4),"EncodingError"===t.t1.name){t.next=27;break}throw t.t1;case 27:return l=wn(n,e.state),u=l.x,d=l.y,p=e.createImageElement({sceneX:u,sceneY:d}),e.insertImageElement(p,o),e.initializeImageDimensions(p),e.setState({selectedElementIds:N({},p.id,!0)}),t.abrupt("return");case 33:t.next=38;break;case 35:return t.prev=35,t.t2=t.catch(0),t.abrupt("return",e.setState({isLoading:!1,errorMessage:t.t2.message}));case 38:if(""===(f=n.dataTransfer.getData(c.LO.excalidrawlib))){t.next=42;break}return e.addElementsFromPasteOrLibrary({elements:JSON.parse(f),position:n,files:null}),t.abrupt("return");case 42:if(!((null==(h=null===(r=n.dataTransfer)||void 0===r?void 0:r.files[0])?void 0:h.type)===c.LO.excalidrawlib||null!=h&&null!==(i=h.name)&&void 0!==i&&i.endsWith(".excalidrawlib"))){t.next=47;break}e.library.importLibrary(h).then((function(){e.setState({isLibraryOpen:!1}),e.setState({isLibraryOpen:!0})})).catch((function(t){return e.setState({isLoading:!1,errorMessage:t.message})})),t.next=61;break;case 47:if(e.setState({isLoading:!0}),!gd){t.next=59;break}return t.prev=49,m=n.dataTransfer.items[0],t.next=53,m.getAsFileSystemHandle();case 53:h.handle=t.sent,t.next=59;break;case 56:t.prev=56,t.t3=t.catch(49),console.warn(t.t3.name,t.t3.message);case 59:return t.next=61,e.loadFileToCanvas(h);case 61:case"end":return t.stop()}}),t,null,[[0,35],[4,23],[6,13],[49,56]])})));return function(e){return t.apply(this,arguments)}}(),this.loadFileToCanvas=function(t){Bd(t,e.state,e.scene.getElementsIncludingDeleted()).then((function(t){e.syncActionResult(Ym(Ym({},t),{},{appState:Ym(Ym({},t.appState||e.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0}))})).catch((function(t){e.setState({isLoading:!1,errorMessage:t.message})}))},this.handleCanvasContextMenu=function(t){if(t.preventDefault(),"touch"!==t.nativeEvent.pointerType&&("pen"!==t.nativeEvent.pointerType||t.button===c.Oh.SECONDARY)||"selection"===e.state.elementType){var n=wn(t,e.state),r=n.x,i=n.y,o=e.getElementAtPosition(r,i,{preferSelected:!0}),a=o?"element":"canvas",s=e.excalidrawContainerRef.current.getBoundingClientRect(),l=s.top,u=s.left,d=t.clientX-u,p=t.clientY-l;o&&!e.state.selectedElementIds[o.id]?e.setState({selectedElementIds:N({},o.id,!0)},(function(){e._openContextMenu({top:p,left:d},a)})):e._openContextMenu({top:p,left:d},a)}},this.maybeDragNewGenericElement=function(t,n){var r=e.state.draggingElement,i=t.lastCoords;if(r)if("selection"===r.type)qa(r,e.state.elementType,t.origin.x,t.origin.y,i.x,i.y,hn(t.origin.x,i.x),hn(t.origin.y,i.y),rn(n),nn(n));else{var o,a=h(ut(i.x,i.y,e.state.gridSize),2),s=a[0],l=a[1],c=Ge(r)&&(null===(o=e.imageCache.get(r.fileId))||void 0===o?void 0:o.image),u=!c||c instanceof Promise?null:c.width/c.height;qa(r,e.state.elementType,t.originInGrid.x,t.originInGrid.y,s,l,hn(t.originInGrid.x,s),hn(t.originInGrid.y,l),Ve(r)?!rn(n):rn(n),nn(n),u),e.maybeSuggestBindingForAll([r])}},this.maybeHandleResize=function(t,n){var r=Dc(e.scene.getElements(),e.state),i=t.resize.handleType;e.setState({isResizing:i&&"rotation"!==i,isRotating:"rotation"===i});var o=t.lastCoords,a=h(ut(o.x-t.resize.offset.x,o.y-t.resize.offset.y,e.state.gridSize),2),s=a[0],l=a[1];return!!function(e,t,n,r,i,o,a,s,l,c,u){if(1===n.length){var d=h(n,1)[0];return"rotation"===t?(Fa(d,s,l,i),Sa(d)):!qe(d)||2!==d.points.length||"nw"!==t&&"ne"!==t&&"sw"!==t&&"se"!==t?!ze(d)||"nw"!==t&&"ne"!==t&&"sw"!==t&&"se"!==t?t&&Va(e.originalElements.get(d.id),a,d,t,o,s,l):(Ga(d,t,o,s,l),Sa(d)):Ua(d,r,i,s,l),!0}if(n.length>1){if("rotation"===t)return Wa(e,n,s,l,i,c,u),!0;if("nw"===t||"ne"===t||"sw"===t||"se"===t)return za(n,t,s,l),pr(n,t),!0}return!1}(t,i,r,t.resize.arrowDirection,on(n),nn(n),1===r.length&&Ve(r[0])?!rn(n):rn(n),s,l,t.resize.center.x,t.resize.center.y)&&(e.maybeSuggestBindingForAll(r),!0)},this._openContextMenu=function(t,n){var r=t.left,i=t.top;e.state.showHyperlinkPopup&&e.setState({showHyperlinkPopup:!1}),e.contextMenuOpen=!0;var o=yf.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),a=bf.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),s=Df.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),l=Lf.contextItemPredicate(e.actionManager.getElementsIncludingDeleted(),e.actionManager.getAppState()),c="separator",u=e.scene.getElements(),d=[];if(Np&&u.length>0&&d.push(Wf),Mp&&u.length>0&&d.push(zf),"canvas"===n){var p=[].concat(d,[void 0===e.props.gridModeEnabled&&Xf,void 0===e.props.zenModeEnabled&&Qf,void 0===e.props.viewModeEnabled&&zm,th]);e.state.viewModeEnabled?Th({options:p,top:i,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:u}):Th({options:[e.isMobile&&navigator.clipboard&&{name:"paste",perform:function(t,n){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.isMobile&&navigator.clipboard&&c,Np&&u.length>0&&Wf,Mp&&u.length>0&&zf,(Np&&u.length>0||Mp&&u.length>0)&&c,ru,c,void 0===e.props.gridModeEnabled&&Xf,void 0===e.props.zenModeEnabled&&Qf,void 0===e.props.viewModeEnabled&&zm,th],top:i,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:u})}else if("element"===n){var f=Dc(u,e.state).some((function(e){return!Je(e)}));e.state.viewModeEnabled?Th({options:[navigator.clipboard&&Gf].concat(d),top:i,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:u}):Th({options:[e.isMobile&&Vf,e.isMobile&&navigator.clipboard&&Gf,e.isMobile&&navigator.clipboard&&{name:"paste",perform:function(t,n){return e.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},e.isMobile&&c].concat(d,[c,lf,cf,c,o&&yf,!f&&nh,a&&bf,(o||a)&&c,Ef,c,Yc,Qc,Jc,eu,c,s&&Df,l&&Lf,(s||l)&&c,Eu.contextItemPredicate(u,e.state)&&Eu,au,Uc]),top:i,left:r,actionManager:e.actionManager,appState:e.state,container:e.excalidrawContainerRef.current,elements:u})}},this.handleWheel=On((function(t){if(t.preventDefault(),!lg){var n=t.deltaX,r=t.deltaY,i=e.state,o=i.selectedElementIds,a=i.previousSelectedElementIds;if(t.metaKey||t.ctrlKey){var s=Math.sign(r),l=Math.abs(r);l>10&&(l=10),l*=s,0!==Object.keys(a).length&&setTimeout((function(){e.setState({selectedElementIds:a,previousSelectedElementIds:{}})}),1e3);var u=e.state.zoom.value-l/100;return u+=Math.log10(Math.max(1,e.state.zoom.value))*-s,u=Math.round(u*c.V4*100)/(100*c.V4),e.setState((function(e){return Ym(Ym({},Jl({viewportX:og,viewportY:ag,nextZoom:Ql(u)},e)),{},{selectedElementIds:{},previousSelectedElementIds:0!==Object.keys(o).length?o:a,shouldCacheIgnoreZoom:!0})})),void e.resetShouldCacheIgnoreZoomDebounced()}t.shiftKey?e.setState((function(e){var t=e.zoom;return{scrollX:e.scrollX-(r||n)/t.value}})):e.setState((function(e){var t=e.zoom,i=e.scrollX,o=e.scrollY;return{scrollX:i-n/t.value,scrollY:o-r/t.value}}))}})),this.savePointer=function(t,n,r){var i,o;if(t&&n){var a=wn({clientX:t,clientY:n},e.state);isNaN(a.x)||isNaN(a.y),null===(i=(o=e.props).onPointerUpdate)||void 0===i||i.call(o,{pointer:a,button:r,pointersMap:hg.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=pn((function(){e.unmounted||e.setState({shouldCacheIgnoreZoom:!1})}),300),this.updateDOMRect=function(t){var n;if(null!==(n=e.excalidrawContainerRef)&&void 0!==n&&n.current){var r=e.excalidrawContainerRef.current.getBoundingClientRect(),i=r.width,o=r.height,a=r.left,s=r.top,l=e.state,c=l.width,u=l.height,d=l.offsetTop,p=l.offsetLeft;if(i===c&&o===u&&a===p&&s===d)return void(t&&t());e.setState({width:i,height:o,offsetLeft:a,offsetTop:s},(function(){t&&t()}))}},this.refresh=function(){e.setState(Ym({},e.getCanvasOffsets()))}};"production"!==c.Vi.TEST&&"production"!==c.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(e){return this.app.scene.replaceAllElements(e)}}}));var vg=mg,yg=(n(4285),n(3313),["initialData","UIOptions"]),bg=["initialData","UIOptions"];function wg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wg(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Sg=function(e){var t,n,r,i=e.onChange,o=e.initialData,a=e.excalidrawRef,l=e.onCollabButtonClick,u=e.isCollaborating,d=void 0!==u&&u,p=e.onPointerUpdate,f=e.renderTopRightUI,h=e.renderFooter,m=e.langCode,g=void 0===m?b.code:m,v=e.viewModeEnabled,y=e.zenModeEnabled,w=e.gridModeEnabled,x=e.libraryReturnUrl,S=e.theme,k=e.name,T=e.renderCustomStats,E=e.onPaste,_=e.detectScroll,C=void 0===_||_,P=e.handleKeyboardGlobally,I=void 0!==P&&P,M=e.onLibraryChange,N=e.autoFocus,R=void 0!==N&&N,D=e.generateIdForFile,L=e.onLinkOpen,j=null===(t=e.UIOptions)||void 0===t?void 0:t.canvasActions,B={canvasActions:xg(xg({},c.cW.canvasActions),j)};return null!=j&&j.export&&(B.canvasActions.export.saveFileToDisk=null!==(n=null===(r=j.export)||void 0===r?void 0:r.saveFileToDisk)&&void 0!==n?n:c.cW.canvasActions.export.saveFileToDisk),(0,s.useEffect)((function(){var e=function(e){"number"==typeof e.scale&&1!==e.scale&&e.preventDefault()};return document.addEventListener("touchmove",e,{passive:!1}),function(){document.removeEventListener("touchmove",e)}}),[]),(0,O.jsx)(A,{langCode:g,children:(0,O.jsx)(vg,{onChange:i,initialData:o,excalidrawRef:a,onCollabButtonClick:l,isCollaborating:d,onPointerUpdate:p,renderTopRightUI:f,renderFooter:h,langCode:g,viewModeEnabled:v,zenModeEnabled:y,gridModeEnabled:w,libraryReturnUrl:x,theme:S,name:k,renderCustomStats:T,UIOptions:B,onPaste:E,detectScroll:C,handleKeyboardGlobally:I,onLibraryChange:M,autoFocus:R,generateIdForFile:D,onLinkOpen:L})})},kg=function(e,t){e.initialData;var n=e.UIOptions,r=void 0===n?{}:n,o=i()(e,yg),a=(t.initialData,t.UIOptions),s=void 0===a?{}:a,l=i()(t,bg),c=Object.keys(r),u=Object.keys(s);if(c.length!==u.length)return!1;var d=c.every((function(e){return"canvasActions"===e&&Object.keys(r.canvasActions).every((function(e){var t,n,i,o;return"export"===e&&null!=r&&null!==(t=r.canvasActions)&&void 0!==t&&t.export&&null!=s&&null!==(n=s.canvasActions)&&void 0!==n&&n.export?r.canvasActions.export.saveFileToDisk===s.canvasActions.export.saveFileToDisk:(null==r||null===(i=r.canvasActions)||void 0===i?void 0:i[e])===(null==s||null===(o=s.canvasActions)||void 0===o?void 0:o[e])})),!0})),p=Object.keys(e),f=Object.keys(t);return d&&p.length===f.length&&p.every((function(e){return o[e]===l[e]}))},Tg=(0,s.forwardRef)((function(e,t){return(0,O.jsx)(Sg,xg(xg({},e),{},{excalidrawRef:t}))})),Eg=l().memo(Tg,kg),_g=(n(8336),Eg)},9669:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(e){"use strict";e.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(e){"use strict";e.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},3147:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Cascadia.woff2"},3940:function(e,t,n){"use strict";e.exports=n.p+"excalidraw-assets/Virgil.woff2"},9787:function(e){"use strict";e.exports=r},5156:function(e){"use strict";e.exports=i},8950:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},1463:function(e){"use strict";e.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library\u2026","libraries":"Browse libraries","loadingScene":"Loading scene\u2026","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","link":{"edit":"Edit link","create":"Create link","label":"Link"}},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Save as image","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","errorAddingToLibrary":"Couldn\'t add item to the library","errorRemovingFromLibrary":"Couldn\'t remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn\'t insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn\'t insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Prevent pinch-zoom and accept freedraw input only from pen","link":"Add/ Update link for a selected shape"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn\'t export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it\'s filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started"},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"}}')},4451:function(e){"use strict";e.exports=JSON.parse('{"ar-SA":88,"bg-BG":61,"bn-BD":0,"ca-ES":95,"cs-CZ":24,"da-DK":16,"de-DE":99,"el-GR":87,"en":100,"es-ES":84,"eu-ES":96,"fa-IR":63,"fi-FI":98,"fr-FR":100,"he-IL":80,"hi-IN":55,"hu-HU":49,"id-ID":100,"it-IT":96,"ja-JP":98,"kab-KAB":95,"kk-KZ":23,"ko-KR":72,"lt-LT":24,"lv-LV":100,"my-MM":46,"nb-NO":100,"nl-NL":90,"nn-NO":83,"oc-FR":97,"pa-IN":87,"pl-PL":93,"pt-BR":98,"pt-PT":83,"ro-RO":100,"ru-RU":99,"si-LK":9,"sk-SK":100,"sv-SE":100,"ta-IN":99,"tr-TR":85,"uk-UA":82,"zh-CN":100,"zh-HK":28,"zh-TW":100}')}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}};return a[e].call(n.exports,n,n.exports,l),n.loaded=!0,n.exports}return l.m=a,l.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return l.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},l.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var i=Object.create(null);l.r(i);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((function(e){o[e]=function(){return n[e]}}));return o.default=function(){return n},l.d(i,o),i},l.d=function(e,t){for(var n in t)l.o(t,n)&&!l.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},l.f={},l.e=function(e){return Promise.all(Object.keys(l.f).reduce((function(t,n){return l.f[n](e,t),t}),[]))},l.u=function(e){return"excalidraw-assets/"+{9:"i18n-zh-HK-json",43:"i18n-de-DE-json",58:"i18n-lt-LT-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",90:"i18n-si-LK-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",387:"i18n-cs-CZ-json",395:"i18n-ta-IN-json",401:"i18n-sk-SK-json",431:"i18n-eu-ES-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",491:"i18n-id-ID-json",499:"image",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",603:"i18n-bn-BD-json",617:"i18n-da-DK-json",649:"i18n-kk-KZ-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",899:"i18n-lv-LV-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[e]+"-"+{9:"30c36c8fd961f5d170f3",43:"ef380f64f6865954b0a8",58:"999644c6901ba293b94f",60:"8cb8265529a1b44b5b83",62:"b98625b888d1a38a1e35",90:"0168ba04309e69acf8f8",137:"d393424a3bf3d819c55c",149:"51f59b1e2263211ec93f",164:"b6e3fb72b894c32d880b",196:"ac240a29fc28abe04b68",213:"a5403d611da049fb9ac9",242:"f113e0d4e325f2ab5f9a",246:"a68ef171ead03e41a3fc",262:"46098f880b56c784c524",280:"fd72f5acaf54acdf92f4",304:"bf2622c18de40b872772",317:"2a7c2aedd8e0e11c0ffd",351:"49c237f0386f487f2b89",364:"c4a47fdc6828648bcc0b",381:"c33f3d7e5ced5fa875da",384:"e4675485be70db3d505b",387:"18e06cddb62be71241bc",395:"028cb3ff5436242bfe93",401:"689a542868cd8bf55c8f",431:"2b70c65af4801826fd81",465:"353b67282442ff113ca5",472:"d1b98e036e0c311a5f94",491:"a56030455c18e20fc460",499:"b76d879db8316c30fd0d",526:"ced6e4a724987ebc00c3",558:"d46c8f24fe4ef43f1ba6",565:"032cf6f52e5c1fde7146",583:"574637d179e2f430e9cd",603:"a74dc358f3c11e1f2eda",617:"ae94ab97dbff85f9a6a5",649:"0c61810ca218a4a849ab",661:"be46128b9fe090bd2727",698:"b487a1452d9e8cc95e99",710:"ca6c7d3370106a46c722",736:"41e5c0be76c29ad2aba4",752:"db4d695c50423ea348a2",852:"c4f01f39d882bac94426",869:"9c2f8157732f9cfd998c",899:"3d721192be0e9e91d53a",920:"6b400c9d969d9b00957f",933:"0abea31b70b913ab7137"}[e]+".js"},l.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},o="Excalidraw:",l.l=function(e,t,r,i){if(n[e])n[e].push(t);else{var a,s;if(void 0!==r)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==o+r){a=d;break}}a||(s=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,l.nc&&a.setAttribute("nonce",l.nc),a.setAttribute("data-webpack",o+r),a.src=e),n[e]=[t];var p=function(t,r){a.onerror=a.onload=null,clearTimeout(f);var i=n[e];if(delete n[e],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((function(e){return e(r)})),t)return t(r)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=p.bind(null,a.onerror),a.onload=p.bind(null,a.onload),s&&document.head.appendChild(a)}},l.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},l.p="",function(){l.b=document.baseURI||self.location.href;var e={388:0};l.f.j=function(t,n){var r=l.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise((function(n,i){r=e[t]=[n,i]}));n.push(r[2]=i);var o=l.p+l.u(t),a=new Error;l.l(o,(function(n){if(l.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",a.name="ChunkLoadError",a.type=i,a.request=o,r[1](a)}}),"chunk-"+t,t)}};var t=function(t,n){var r,i,o=n[0],a=n[1],s=n[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(r in a)l.o(a,r)&&(l.m[r]=a[r]);s&&s(l)}for(t&&t(n);c<o.length;c++)i=o[c],l.o(e,i)&&e[i]&&e[i][0](),e[o[c]]=0},n=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),l(7314)}())},74474:(e,t,n)=>{e.exports=n(60290)},34537:e=>{"use strict";e.exports=function(e,t){var n=new Array(arguments.length-1),r=0,i=2,o=!0;for(;i<arguments.length;)n[r++]=arguments[i++];return new Promise((function(i,a){n[r]=function(e){if(o)if(o=!1,e)a(e);else{for(var t=new Array(arguments.length-1),n=0;n<t.length;)t[n++]=arguments[n];i.apply(null,t)}};try{e.apply(t||null,n)}catch(s){o&&(o=!1,a(s))}}))}},97419:(e,t)=>{"use strict";var n=t;n.length=function(e){var t=e.length;if(!t)return 0;for(var n=0;--t%4>1&&"="===e.charAt(t);)++n;return Math.ceil(3*e.length)/4-n};for(var r=new Array(64),i=new Array(123),o=0;o<64;)i[r[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(e,t,n){for(var i,o=null,a=[],s=0,l=0;t<n;){var c=e[t++];switch(l){case 0:a[s++]=r[c>>2],i=(3&c)<<4,l=1;break;case 1:a[s++]=r[i|c>>4],i=(15&c)<<2,l=2;break;case 2:a[s++]=r[i|c>>6],a[s++]=r[63&c],l=0}s>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,a)),s=0)}return l&&(a[s++]=r[i],a[s++]=61,1===l&&(a[s++]=61)),o?(s&&o.push(String.fromCharCode.apply(String,a.slice(0,s))),o.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(e,t,n){for(var r,o=n,s=0,l=0;l<e.length;){var c=e.charCodeAt(l++);if(61===c&&s>1)break;if(void 0===(c=i[c]))throw Error(a);switch(s){case 0:r=c,s=1;break;case 1:t[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:t[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:t[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error(a);return n-o},n.test=function(e){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(e)}},19211:e=>{"use strict";function t(){this._listeners={}}e.exports=t,t.prototype.on=function(e,t,n){return(this._listeners[e]||(this._listeners[e]=[])).push({fn:t,ctx:n||this}),this},t.prototype.off=function(e,t){if(void 0===e)this._listeners={};else if(void 0===t)this._listeners[e]=[];else for(var n=this._listeners[e],r=0;r<n.length;)n[r].fn===t?n.splice(r,1):++r;return this},t.prototype.emit=function(e){var t=this._listeners[e];if(t){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<t.length;)t[r].fn.apply(t[r++].ctx,n)}return this}},10945:e=>{"use strict";function t(e){return"undefined"!==typeof Float32Array?function(){var t=new Float32Array([-0]),n=new Uint8Array(t.buffer),r=128===n[3];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3]}function o(e,r,i){t[0]=e,r[i]=n[3],r[i+1]=n[2],r[i+2]=n[1],r[i+3]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],t[0]}function s(e,r){return n[3]=e[r],n[2]=e[r+1],n[1]=e[r+2],n[0]=e[r+3],t[0]}e.writeFloatLE=r?i:o,e.writeFloatBE=r?o:i,e.readFloatLE=r?a:s,e.readFloatBE=r?s:a}():function(){function t(e,t,n,r){var i=t<0?1:0;if(i&&(t=-t),0===t)e(1/t>0?0:2147483648,n,r);else if(isNaN(t))e(2143289344,n,r);else if(t>34028234663852886e22)e((i<<31|2139095040)>>>0,n,r);else if(t<11754943508222875e-54)e((i<<31|Math.round(t/1401298464324817e-60))>>>0,n,r);else{var o=Math.floor(Math.log(t)/Math.LN2);e((i<<31|o+127<<23|8388607&Math.round(t*Math.pow(2,-o)*8388608))>>>0,n,r)}}function a(e,t,n){var r=e(t,n),i=2*(r>>31)+1,o=r>>>23&255,a=8388607&r;return 255===o?a?NaN:i*(1/0):0===o?1401298464324817e-60*i*a:i*Math.pow(2,o-150)*(a+8388608)}e.writeFloatLE=t.bind(null,n),e.writeFloatBE=t.bind(null,r),e.readFloatLE=a.bind(null,i),e.readFloatBE=a.bind(null,o)}(),"undefined"!==typeof Float64Array?function(){var t=new Float64Array([-0]),n=new Uint8Array(t.buffer),r=128===n[7];function i(e,r,i){t[0]=e,r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2],r[i+3]=n[3],r[i+4]=n[4],r[i+5]=n[5],r[i+6]=n[6],r[i+7]=n[7]}function o(e,r,i){t[0]=e,r[i]=n[7],r[i+1]=n[6],r[i+2]=n[5],r[i+3]=n[4],r[i+4]=n[3],r[i+5]=n[2],r[i+6]=n[1],r[i+7]=n[0]}function a(e,r){return n[0]=e[r],n[1]=e[r+1],n[2]=e[r+2],n[3]=e[r+3],n[4]=e[r+4],n[5]=e[r+5],n[6]=e[r+6],n[7]=e[r+7],t[0]}function s(e,r){return n[7]=e[r],n[6]=e[r+1],n[5]=e[r+2],n[4]=e[r+3],n[3]=e[r+4],n[2]=e[r+5],n[1]=e[r+6],n[0]=e[r+7],t[0]}e.writeDoubleLE=r?i:o,e.writeDoubleBE=r?o:i,e.readDoubleLE=r?a:s,e.readDoubleBE=r?s:a}():function(){function t(e,t,n,r,i,o){var a=r<0?1:0;if(a&&(r=-r),0===r)e(0,i,o+t),e(1/r>0?0:2147483648,i,o+n);else if(isNaN(r))e(0,i,o+t),e(2146959360,i,o+n);else if(r>17976931348623157e292)e(0,i,o+t),e((a<<31|2146435072)>>>0,i,o+n);else{var s;if(r<22250738585072014e-324)e((s=r/5e-324)>>>0,i,o+t),e((a<<31|s/4294967296)>>>0,i,o+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),e(4503599627370496*(s=r*Math.pow(2,-l))>>>0,i,o+t),e((a<<31|l+1023<<20|1048576*s&1048575)>>>0,i,o+n)}}}function a(e,t,n,r,i){var o=e(r,i+t),a=e(r,i+n),s=2*(a>>31)+1,l=a>>>20&2047,c=4294967296*(1048575&a)+o;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}e.writeDoubleLE=t.bind(null,n,0,4),e.writeDoubleBE=t.bind(null,r,4,0),e.readDoubleLE=a.bind(null,i,0,4),e.readDoubleBE=a.bind(null,o,4,0)}(),e}function n(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}function r(e,t,n){t[n]=e>>>24,t[n+1]=e>>>16&255,t[n+2]=e>>>8&255,t[n+3]=255&e}function i(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}function o(e,t){return(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}e.exports=t(t)},67199:module=>{"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},76662:e=>{"use strict";e.exports=function(e,t,n){var r=n||8192,i=r>>>1,o=null,a=r;return function(n){if(n<1||n>i)return e(n);a+n>r&&(o=e(r),a=0);var s=t.call(o,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},94997:(e,t)=>{"use strict";var n=t;n.length=function(e){for(var t=0,n=0,r=0;r<e.length;++r)(n=e.charCodeAt(r))<128?t+=1:n<2048?t+=2:55296===(64512&n)&&56320===(64512&e.charCodeAt(r+1))?(++r,t+=4):t+=3;return t},n.read=function(e,t,n){if(n-t<1)return"";for(var r,i=null,o=[],a=0;t<n;)(r=e[t++])<128?o[a++]=r:r>191&&r<224?o[a++]=(31&r)<<6|63&e[t++]:r>239&&r<365?(r=((7&r)<<18|(63&e[t++])<<12|(63&e[t++])<<6|63&e[t++])-65536,o[a++]=55296+(r>>10),o[a++]=56320+(1023&r)):o[a++]=(15&r)<<12|(63&e[t++])<<6|63&e[t++],a>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,o)),a=0);return i?(a&&i.push(String.fromCharCode.apply(String,o.slice(0,a))),i.join("")):String.fromCharCode.apply(String,o.slice(0,a))},n.write=function(e,t,n){for(var r,i,o=n,a=0;a<e.length;++a)(r=e.charCodeAt(a))<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296===(64512&r)&&56320===(64512&(i=e.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&i),++a,t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128);return n-o}},85973:(e,t,n)=>{"use strict";function r(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function i(e){return!!e&&!!e[K]}function o(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===q}(e)||Array.isArray(e)||!!e[W]||!!e.constructor[W]||p(e)||f(e))}function a(e,t,n){void 0===n&&(n=!1),0===s(e)?(n?Object.keys:X)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function s(e){var t=e[K];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:p(e)?2:f(e)?3:0}function l(e,t){return 2===s(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c(e,t){return 2===s(e)?e.get(t):e[t]}function u(e,t,n){var r=s(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function p(e){return H&&e instanceof Map}function f(e){return G&&e instanceof Set}function h(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Z(e);delete t[K];for(var n=X(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),y(e)||i(e)||!o(e)||(s(e)>1&&(e.set=e.add=e.clear=e.delete=v),Object.freeze(e),t&&a(e,(function(e,t){return g(t,!0)}),!0)),e}function v(){r(2)}function y(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function b(e){var t=Y[e];return t||r(18,e),t}function w(e,t){Y[e]||(Y[e]=t)}function x(){return U}function S(e,t){t&&(b("Patches"),e.u=[],e.s=[],e.v=t)}function k(e){T(e),e.p.forEach(_),e.p=null}function T(e){e===U&&(U=e.l)}function E(e){return U={p:[],l:U,h:e,m:!0,_:0}}function _(e){var t=e[K];0===t.i||1===t.i?t.j():t.O=!0}function C(e,t){t._=t.p.length;var n=t.p[0],i=void 0!==e&&e!==n;return t.h.g||b("ES5").S(t,e,i),i?(n[K].P&&(k(t),r(4)),o(e)&&(e=O(t,e),t.l||A(t,e)),t.u&&b("Patches").M(n[K].t,e,t.u,t.s)):e=O(t,n,[]),k(t),t.u&&t.v(t.u,t.s),e!==z?e:void 0}function O(e,t,n){if(y(t))return t;var r=t[K];if(!r)return a(t,(function(i,o){return P(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return A(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o;a(3===r.i?new Set(i):i,(function(t,o){return P(e,r,i,t,o,n)})),A(e,i,!1),n&&e.u&&b("Patches").R(r,n,e.u,e.s)}return r.o}function P(e,t,n,r,a,s){if(i(a)){var c=O(e,a,s&&t&&3!==t.i&&!l(t.D,r)?s.concat(r):void 0);if(u(n,r,c),!i(c))return;e.m=!1}if(o(a)&&!y(a)){if(!e.h.F&&e._<1)return;O(e,a),t&&t.A.l||A(e,a)}}function A(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&g(t,n)}function I(e,t){var n=e[K];return(n?h(n):e)[t]}function M(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function N(e){e.P||(e.P=!0,e.l&&N(e.l))}function R(e){e.o||(e.o=m(e.t))}function D(e,t,n){var r=p(t)?b("MapSet").N(t,n):f(t)?b("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:x(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=Q;n&&(i=[r],o=J);var a=Proxy.revocable(i,o),s=a.revoke,l=a.proxy;return r.k=l,r.j=s,l}(t,n):b("ES5").J(t,n);return(n?n.A:x()).p.push(r),r}function L(e){return i(e)||r(22,e),function e(t){if(!o(t))return t;var n,r=t[K],i=s(t);if(r){if(!r.P&&(r.i<4||!b("ES5").K(r)))return r.t;r.I=!0,n=j(t,i),r.I=!1}else n=j(t,i);return a(n,(function(t,i){r&&c(r.t,t)===i||u(n,t,e(i))})),3===i?new Set(n):n}(e)}function j(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}function B(){function e(e,t){var n=o[e];return n?n.enumerable=t:o[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[K];return Q.get(t,e)},set:function(t){var n=this[K];Q.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][K];if(!i.P)switch(i.i){case 5:r(i)&&N(i);break;case 4:n(i)&&N(i)}}}function n(e){for(var t=e.t,n=e.k,r=X(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==K){var a=t[o];if(void 0===a&&!l(t,o))return!0;var s=n[o],c=s&&s[K];if(c?c.t!==a:!d(s,a))return!0}}var u=!!t[K];return r.length!==X(t).length+(u?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var o={};w("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=Z(n);delete o[K];for(var a=X(o),s=0;s<a.length;s++){var l=a[s];o[l]=e(l,t||!!o[l].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:x(),P:!1,I:!1,D:{},l:n,t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,K,{value:o,writable:!0}),i},S:function(e,n,o){o?i(n)&&n[K].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[K];if(n){var i=n.t,o=n.k,s=n.D,c=n.i;if(4===c)a(o,(function(t){t!==K&&(void 0!==i[t]||l(i,t)?s[t]||e(o[t]):(s[t]=!0,N(n)))})),a(i,(function(e){void 0!==o[e]||l(o,e)||(s[e]=!1,N(n))}));else if(5===c){if(r(n)&&(N(n),s.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)s[u]=!1;else for(var d=i.length;d<o.length;d++)s[d]=!0;for(var p=Math.min(o.length,i.length),f=0;f<p;f++)o.hasOwnProperty(f)||(s[f]=!0),void 0===s[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}n.d(t,{xC:()=>Re,HF:()=>ze,oM:()=>Be});var F,U,$="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),H="undefined"!=typeof Map,G="undefined"!=typeof Set,V="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,z=$?Symbol.for("immer-nothing"):((F={})["immer-nothing"]=!0,F),W=$?Symbol.for("immer-draftable"):"__$immer_draftable",K=$?Symbol.for("immer-state"):"__$immer_state",q=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),X="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Z=Object.getOwnPropertyDescriptors||function(e){var t={};return X(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Y={},Q={get:function(e,t){if(t===K)return e;var n=h(e);if(!l(n,t))return function(e,t,n){var r,i=M(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!o(r)?r:r===I(e.t,t)?(R(e),e.o[t]=D(e.A.h,r,e)):r},has:function(e,t){return t in h(e)},ownKeys:function(e){return Reflect.ownKeys(h(e))},set:function(e,t,n){var r=M(h(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=I(h(e),t),o=null==i?void 0:i[K];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,i)&&(void 0!==n||l(e.t,t)))return!0;R(e),N(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==I(e.t,t)||t in e.t?(e.D[t]=!1,R(e),N(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=h(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){r(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){r(12)}},J={};a(Q,(function(e,t){J[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),J.deleteProperty=function(e,t){return J.set.call(this,e,t,void 0)},J.set=function(e,t,n){return Q.set.call(this,e[0],t,n,e[0])};var ee=function(){function e(e){var t=this;this.g=V,this.F=!0,this.produce=function(e,n,i){if("function"==typeof e&&"function"!=typeof n){var a=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var l;if("function"!=typeof n&&r(6),void 0!==i&&"function"!=typeof i&&r(7),o(e)){var c=E(t),u=D(t,e,void 0),d=!0;try{l=n(u),d=!1}finally{d?k(c):T(c)}return"undefined"!=typeof Promise&&l instanceof Promise?l.then((function(e){return S(c,i),C(e,c)}),(function(e){throw k(c),e})):(S(c,i),C(l,c))}if(!e||"object"!=typeof e){if(void 0===(l=n(e))&&(l=e),l===z&&(l=void 0),t.F&&g(l,!0),i){var p=[],f=[];b("Patches").M(e,l,p,f),i(p,f)}return l}r(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){o(e)||r(8),i(e)&&(e=L(e));var t=E(this),n=D(this,e,void 0);return n[K].C=!0,T(t),n},t.finishDraft=function(e,t){var n=(e&&e[K]).A;return S(n,t),C(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!V&&r(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var o=b("Patches").$;return i(e)?o(e,t):this.produce(e,(function(e){return o(e,t)}))},e}(),te=new ee,ne=te.produce;te.produceWithPatches.bind(te),te.setAutoFreeze.bind(te),te.setUseProxies.bind(te),te.applyPatches.bind(te),te.createDraft.bind(te),te.finishDraft.bind(te);const re=ne;var ie=n(20573),oe=n(4942);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){(0,oe.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function le(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ce="function"===typeof Symbol&&Symbol.observable||"@@observable",ue=function(){return Math.random().toString(36).substring(7).split("").join(".")},de={INIT:"@@redux/INIT"+ue(),REPLACE:"@@redux/REPLACE"+ue(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ue()}};function pe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function fe(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(le(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(le(1));return n(fe)(e,t)}if("function"!==typeof e)throw new Error(le(2));var i=e,o=t,a=[],s=a,l=!1;function c(){s===a&&(s=a.slice())}function u(){if(l)throw new Error(le(3));return o}function d(e){if("function"!==typeof e)throw new Error(le(4));if(l)throw new Error(le(5));var t=!0;return c(),s.push(e),function(){if(t){if(l)throw new Error(le(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function p(e){if(!pe(e))throw new Error(le(7));if("undefined"===typeof e.type)throw new Error(le(8));if(l)throw new Error(le(9));try{l=!0,o=i(o,e)}finally{l=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function f(e){if("function"!==typeof e)throw new Error(le(10));i=e,p({type:de.REPLACE})}function h(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(le(11));function n(){e.next&&e.next(u())}return n(),{unsubscribe:t(n)}}})[ce]=function(){return this},e}return p({type:de.INIT}),(r={dispatch:p,subscribe:d,getState:u,replaceReducer:f})[ce]=h,r}function he(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:de.INIT}))throw new Error(le(12));if("undefined"===typeof n(void 0,{type:de.PROBE_UNKNOWN_ACTION()}))throw new Error(le(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var l=a[s],c=n[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(le(14))}i[l]=d,r=r||d!==u}return(r=r||a.length!==Object.keys(e).length)?i:e}}function me(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(le(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return r=me.apply(void 0,o)(n.dispatch),se(se({},n),{},{dispatch:r})}}}function ve(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var ye=ve();ye.withExtraArgument=ve;const be=ye;var we,xe=(we=function(e,t){return we=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},we(e,t)},function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}we(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Se=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},ke=Object.defineProperty,Te=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Ee=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,Ce=function(e,t,n){return t in e?ke(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Oe=function(e,t){for(var n in t||(t={}))Ee.call(t,n)&&Ce(e,n,t[n]);if(Te)for(var r=0,i=Te(t);r<i.length;r++){n=i[r];_e.call(t,n)&&Ce(e,n,t[n])}return e},Pe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ie.P1.apply(void 0,e),r=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return n.apply(void 0,Se([i(e)?L(e):e],t))};return r},Ae="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?me:me.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ie(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Me=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return xe(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Se([void 0],e[0].concat(this)))):new(t.bind.apply(t,Se([void 0],e.concat(this))))},t}(Array);function Ne(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Me);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(be.withExtraArgument(n.extraArgument)):r.push(be));0;return r}(e)}}function Re(e){var t,n=Ne(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,l=r.devTools,c=void 0===l||l,u=r.preloadedState,d=void 0===u?void 0:u,p=r.enhancers,f=void 0===p?void 0:p;if("function"===typeof o)t=o;else{if(!Ie(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=he(o)}var h=s;"function"===typeof h&&(h=h(n));var m=ge.apply(void 0,h),g=me;c&&(g=Ae(Oe({trace:!1},"object"===typeof c&&c)));var v=[m];return Array.isArray(f)?v=Se([m],f):"function"===typeof f&&(v=f(v)),fe(t,d,g.apply(void 0,v))}function De(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Oe(Oe({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Le(e){return["type","payload","error","meta"].indexOf(e)>-1}function je(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}function Be(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:re(e.initialState,(function(){})),a=e.reducers||{},s=Object.keys(a),l={},c={},u={};function d(){var t="function"===typeof e.extraReducers?je(e.extraReducers):[e.extraReducers],n=t[0],a=void 0===n?{}:n,s=t[1],l=void 0===s?[]:s,u=t[2],d=void 0===u?void 0:u,p=Oe(Oe({},a),c);return function(e,t,n,r){void 0===n&&(n=[]);var a,s="function"===typeof t?je(t):[t,n,r],l=s[0],c=s[1],u=s[2];if(function(e){return"function"===typeof e}(e))a=function(){return re(e(),(function(){}))};else{var d=re(e,(function(){}));a=function(){return d}}function p(e,t){void 0===e&&(e=a());var n=Se([l[t.type]],c.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(i(e))return"undefined"===typeof(r=n(e,t))?e:r;if(o(e))return re(e,(function(e){return n(e,t)}));if("undefined"===typeof(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return p.getInitialState=a,p}(r,p,l,d)}return s.forEach((function(e){var n,r,i=a[e],o=t+"/"+e;"reducer"in i?(n=i.reducer,r=i.prepare):n=i,l[e]=n,c[o]=n,u[e]=r?De(o,r):De(o)})),{name:t,reducer:function(e,t){return n||(n=d()),n(e,t)},actions:u,caseReducers:l,getInitialState:function(){return n||(n=d()),n.getInitialState()}}}function Fe(e){return function(t,n){function r(e){return Ie(t=e)&&"string"===typeof t.type&&Object.keys(t).every(Le);var t}var o=function(t){r(n)?e(n.payload,t):e(n,t)};return i(t)?(o(t),t):re(t,o)}}function Ue(e,t){return t(e)}function $e(e){return Array.isArray(e)||(e=Object.values(e)),e}function He(e,t,n){for(var r=[],i=[],o=0,a=e=$e(e);o<a.length;o++){var s=a[o],l=Ue(s,t);l in n.entities?i.push({id:l,changes:s}):r.push(s)}return[r,i]}function Ge(e){function t(t,n){var r=Ue(t,e);r in n.entities||(n.ids.push(r),n.entities[r]=t)}function n(e,n){for(var r=0,i=e=$e(e);r<i.length;r++){t(i[r],n)}}function r(t,n){var r=Ue(t,e);r in n.entities||n.ids.push(r),n.entities[r]=t}function i(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function o(t,n){var r={},i={};if(t.forEach((function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:Oe(Oe({},i[e.id]?i[e.id].changes:null),e.changes)})})),(t=Object.values(i)).length>0){var o=t.filter((function(t){return function(t,n,r){var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=Ue(o,e),s=a!==n.id;return s&&(t[n.id]=a,delete r.entities[n.id]),r.entities[a]=o,s}(r,t,n)})).length>0;o&&(n.ids=n.ids.map((function(e){return r[e]||e})))}}function a(t,r){var i=He(t,e,r),a=i[0];o(i[1],r),n(a,r)}return{removeAll:(s=function(e){Object.assign(e,{ids:[],entities:{}})},l=Fe((function(e,t){return s(t)})),function(e){return l(e,void 0)}),addOne:Fe(t),addMany:Fe(n),setOne:Fe(r),setMany:Fe((function(e,t){for(var n=0,i=e=$e(e);n<i.length;n++){r(i[n],t)}})),setAll:Fe((function(e,t){e=$e(e),t.ids=[],t.entities={},n(e,t)})),updateOne:Fe((function(e,t){return o([e],t)})),updateMany:Fe(o),upsertOne:Fe((function(e,t){return a([e],t)})),upsertMany:Fe(a),removeOne:Fe((function(e,t){return i([e],t)})),removeMany:Fe(i)};var s,l}function Ve(e,t){var n=Ge(e);function r(t,n){var r=(t=$e(t)).filter((function(t){return!(Ue(t,e)in n.entities)}));0!==r.length&&s(r,n)}function i(e,t){0!==(e=$e(e)).length&&s(e,t)}function o(t,n){var r=[];t.forEach((function(t){return function(t,n,r){if(!(n.id in r.entities))return!1;var i=r.entities[n.id],o=Object.assign({},i,n.changes),a=Ue(o,e);return delete r.entities[n.id],t.push(o),a!==n.id}(r,t,n)})),0!==r.length&&s(r,n)}function a(t,n){var i=He(t,e,n),a=i[0];o(i[1],n),r(a,n)}function s(n,r){n.forEach((function(t){r.entities[e(t)]=t}));var i=Object.values(r.entities);i.sort(t);var o=i.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(r.ids,o)||(r.ids=o)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:Fe((function(e,t){return r([e],t)})),updateOne:Fe((function(e,t){return o([e],t)})),upsertOne:Fe((function(e,t){return a([e],t)})),setOne:Fe((function(e,t){return i([e],t)})),setMany:Fe(i),setAll:Fe((function(e,t){e=$e(e),t.entities={},t.ids=[],r(e,t)})),addMany:Fe(r),updateMany:Fe(o),upsertMany:Fe(a)}}function ze(e){void 0===e&&(e={});var t=Oe({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,r=t.sortComparer,i={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},o={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},r=Pe(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},o=function(e,t){return e[t]},a=Pe(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:r,selectTotal:a,selectById:Pe(n,i,o)};var s=Pe(e,n);return{selectIds:Pe(e,t),selectEntities:s,selectAll:Pe(e,r),selectTotal:Pe(e,a),selectById:Pe(s,i,o)}}},a=r?Ve(n,r):Ge(n);return Oe(Oe(Oe({selectId:n,sortComparer:r},i),o),a)}Object.assign;var We="listenerMiddleware";De(We+"/add"),De(We+"/removeAll"),De(We+"/remove");B()},56124:(e,t,n)=>{"use strict";n.d(t,{zD:()=>Pi});var r={};n.r(r),n.d(r,{json:()=>R});var i={};n.r(i),n.d(i,{json:()=>D});var o={};n.r(o),n.d(o,{json:()=>L});var a={};n.r(a),n.d(a,{json:()=>j});var s={};n.r(s),n.d(s,{json:()=>B});var l={};n.r(l),n.d(l,{json:()=>F});var c={};n.r(c),n.d(c,{json:()=>U});var u={};n.r(u),n.d(u,{json:()=>$});var d={};n.r(d),n.d(d,{json:()=>H});var p={};n.r(p),n.d(p,{json:()=>G});var f={};n.r(f),n.d(f,{json:()=>V});var h={};n.r(h),n.d(h,{json:()=>z});var m={};n.r(m),n.d(m,{json:()=>W});var g={};n.r(g),n.d(g,{json:()=>K});var v={};n.r(v),n.d(v,{json:()=>q});var y={};n.r(y),n.d(y,{json:()=>X});var b={};n.r(b),n.d(b,{json:()=>Z});var w={};n.r(w),n.d(w,{json:()=>Y});var x={};n.r(x),n.d(x,{json:()=>Q});var S=n(77410);var k,T;(0,S.env)().registerFlag("KEEP_INTERMEDIATE_TENSORS",(()=>!1),(e=>{e&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")})),function(e){e[e.DT_INVALID=0]="DT_INVALID",e[e.DT_FLOAT=1]="DT_FLOAT",e[e.DT_DOUBLE=2]="DT_DOUBLE",e[e.DT_INT32=3]="DT_INT32",e[e.DT_UINT8=4]="DT_UINT8",e[e.DT_INT16=5]="DT_INT16",e[e.DT_INT8=6]="DT_INT8",e[e.DT_STRING=7]="DT_STRING",e[e.DT_COMPLEX64=8]="DT_COMPLEX64",e[e.DT_INT64=9]="DT_INT64",e[e.DT_BOOL=10]="DT_BOOL",e[e.DT_QINT8=11]="DT_QINT8",e[e.DT_QUINT8=12]="DT_QUINT8",e[e.DT_QINT32=13]="DT_QINT32",e[e.DT_BFLOAT16=14]="DT_BFLOAT16",e[e.DT_QINT16=15]="DT_QINT16",e[e.DT_QUINT16=16]="DT_QUINT16",e[e.DT_UINT16=17]="DT_UINT16",e[e.DT_COMPLEX128=18]="DT_COMPLEX128",e[e.DT_HALF=19]="DT_HALF",e[e.DT_RESOURCE=20]="DT_RESOURCE",e[e.DT_VARIANT=21]="DT_VARIANT",e[e.DT_UINT32=22]="DT_UINT32",e[e.DT_UINT64=23]="DT_UINT64",e[e.DT_FLOAT_REF=101]="DT_FLOAT_REF",e[e.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",e[e.DT_INT32_REF=103]="DT_INT32_REF",e[e.DT_UINT8_REF=104]="DT_UINT8_REF",e[e.DT_INT16_REF=105]="DT_INT16_REF",e[e.DT_INT8_REF=106]="DT_INT8_REF",e[e.DT_STRING_REF=107]="DT_STRING_REF",e[e.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",e[e.DT_INT64_REF=109]="DT_INT64_REF",e[e.DT_BOOL_REF=110]="DT_BOOL_REF",e[e.DT_QINT8_REF=111]="DT_QINT8_REF",e[e.DT_QUINT8_REF=112]="DT_QUINT8_REF",e[e.DT_QINT32_REF=113]="DT_QINT32_REF",e[e.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",e[e.DT_QINT16_REF=115]="DT_QINT16_REF",e[e.DT_QUINT16_REF=116]="DT_QUINT16_REF",e[e.DT_UINT16_REF=117]="DT_UINT16_REF",e[e.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",e[e.DT_HALF_REF=119]="DT_HALF_REF",e[e.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",e[e.DT_VARIANT_REF=121]="DT_VARIANT_REF",e[e.DT_UINT32_REF=122]="DT_UINT32_REF",e[e.DT_UINT64_REF=123]="DT_UINT64_REF"}(k||(k={})),function(e){let t;!function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"}(t=e.CheckpointFormatVersion||(e.CheckpointFormatVersion={}))}(T||(T={}));const E={};function _(e){return E[e]}function C(e,t,n,r,i){const o=t.inputParams[e];if(o&&void 0!==o.inputIndexStart){const e=o.inputIndexStart,a=0===o.inputIndexEnd?void 0:void 0===o.inputIndexEnd?e+1:o.inputIndexEnd;if("tensor"===o.type)return O(t.inputNames[o.inputIndexStart],n,r,i);if("tensors"===o.type){return t.inputNames.slice(e,a).map((e=>O(e,n,r,i)))}const s=O(t.inputNames.slice(e)[0],n,r,i),l=s.dataSync();return"number"===o.type?l[0]:S.util.toNestedArray(s.shape,l)}const a=t.attrParams[e];return a&&a.value}function O(e,t,n,r){const[i,o]=I(e);if(null!=r){const e=r.getHashTableHandleByName(i);if(null!=e)return e}const a=n.currentContextIds.find((e=>!!t[A(i,e)]));return void 0!==a?t[A(i,a)][o]:void 0}function P(e,t){const[n,r,i]=I(e);return[A(n,t&&t.currentContextId),r,i]}function A(e,t){return t?`${e}-${t}`:e}function I(e){const t=e.split(":");if(1===t.length)return[e,0,void 0];const n=t[0],r=3===t.length?t[1]:void 0;return[n,Number(t[t.length-1]),r]}function M(e,t,n){let r=C("pad",e,t,n);if("explicit"===r){r=C("explicitPaddings",e,t,n);const i=[[0,0],[0,0],[0,0],[0,0]];for(let e=0;e<4;e++)i[e][0]=r[2*e],i[e][1]=r[2*e+1];return i}return r}function N(e){return e.kept?e:(0,S.clone)(e)}const R=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],D=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Prod",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axes",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],L=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]}],j=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number"}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],B=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],F=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],U=[{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],$=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],H=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]}],G=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]}],V=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],z=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]}],W=[{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"SparseToDense",category:"normalization",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!0,notSupported:!0}]}],K=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],q=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]}],X=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],Z=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],Y=[{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],Q=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}];class J{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[].concat(...[r,i,o,a,s,l,c,u,d,p,f,h,m,g,v,y,b,w,x].map((e=>e.json)));this.opMappers=e.reduce(((e,t)=>(e[t.tfOpName]=t,e)),{})}transformGraph(e,t={}){const n=e.node,r=[],i=[],o=[],a=n.reduce(((e,t)=>(e[t.name]=this.mapNode(t),t.op.startsWith("Placeholder")?r.push(e[t.name]):"Const"===t.op?i.push(e[t.name]):null!=t.input&&0!==t.input.length||o.push(e[t.name]),e)),{});let s=[];const l=[];let c={},u={};null!=t&&(c=this.mapSignatureEntries(t.inputs),u=this.mapSignatureEntries(t.outputs));const d=Object.keys(a);d.forEach((e=>{const t=a[e];t.inputNames.forEach(((e,n)=>{const[r,,i]=P(e),o=a[r];if(null!=o.outputs){const e=o.outputs.indexOf(i);if(-1!==e){const i=`${r}:${e}`;t.inputNames[n]=i}}t.inputs.push(o),o.children.push(t)}))})),0===Object.keys(u).length?d.forEach((e=>{const t=a[e];0===t.children.length&&l.push(t)})):Object.keys(u).forEach((e=>{const[t]=P(e),n=a[t];null!=n&&(n.signatureKey=u[e],l.push(n))})),Object.keys(c).length>0?Object.keys(c).forEach((e=>{const[t]=P(e),n=a[t];n&&(n.signatureKey=c[e],s.push(n))})):s=r;let p={};null!=e.library&&null!=e.library.function&&(p=e.library.function.reduce(((e,t)=>(e[t.signature.name]=this.mapFunction(t),e)),{}));const f={nodes:a,inputs:s,outputs:l,weights:i,placeholders:r,signature:t,functions:p};return o.length>0&&(f.initNodes=o),f}mapSignatureEntries(e){return Object.keys(e||{}).reduce(((t,n)=>(t[e[n].name]=n,t)),{})}mapNode(e){const t=_(e.op)||this.opMappers[e.op]||{};null==e.attr&&(e.attr={});const n={name:e.name,op:e.op,category:t.category,inputNames:(e.input||[]).map((e=>e.startsWith("^")?e.substr(1):e)),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:t.outputs};return null!=t.inputs&&(n.inputParams=t.inputs.reduce(((e,t)=>(e[t.name]={type:t.type,inputIndexStart:t.start,inputIndexEnd:t.end},e)),{})),null!=t.attrs&&(n.attrParams=t.attrs.reduce(((t,n)=>{const r=n.type;let i;switch(n.type){case"string":i=te(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=te(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"string[]":i=de(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=de(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number":i=re(e.attr,n.tfName,n.defaultValue||0),void 0===i&&n.tfDeprecatedName&&(i=re(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"number[]":i=ue(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ue(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool":i=ne(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ne(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"bool[]":i=fe(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=fe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape":i=ce(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ce(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"shape[]":i=pe(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=pe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype":i=ae(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=ae(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"dtype[]":i=se(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=se(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"func":i=oe(e.attr,n.tfName,n.defaultValue),void 0===i&&n.tfDeprecatedName&&(i=oe(e.attr,n.tfDeprecatedName,n.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${n.type} for op: ${e.op}`)}return t[n.name]={value:i,type:r},t}),{})),n}mapFunction(e){const t=e.nodeDef,n=[];let r={};null!=t&&(r=t.reduce(((e,t)=>(e[t.name]=this.mapNode(t),"Const"===t.op&&n.push(e[t.name]),e)),{}));const i=[],o=[];e.signature.inputArg.forEach((e=>{const[t]=P(e.name),n={name:t,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:ie(e.type),type:"dtype"}},children:[]};n.signatureKey=e.name,i.push(n),r[t]=n}));Object.keys(r).forEach((e=>{const t=r[e];t.inputNames.forEach(((e,n)=>{const[i,,o]=P(e),a=r[i];if(null!=a.outputs){const e=a.outputs.indexOf(o);if(-1!==e){const r=`${i}:${e}`;t.inputNames[n]=r}}t.inputs.push(a),a.children.push(t)}))}));const a=e.ret;e.signature.outputArg.forEach((e=>{const[t,n]=P(a[e.name]),i=r[t];null!=i&&(i.defaultOutput=n,o.push(i))}));const s=this.mapArgsToSignature(e);return{nodes:r,inputs:i,outputs:o,weights:n,placeholders:[],signature:s}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce(((e,t)=>(e[t.name]=this.mapArgToTensorInfo(t),e)),{}),outputs:e.signature.outputArg.reduce(((t,n)=>(t[n.name]=this.mapArgToTensorInfo(n,e.ret),t)),{})}}mapArgToTensorInfo(e,t){let n=e.name;return null!=t&&(n=t[n]),{name:n,dtype:e.type}}}function ee(e,t){const n=Array.isArray(e)?String.fromCharCode.apply(null,e):function(e){const t=(0,S.env)().global;if("undefined"!==typeof t.atob)return t.atob(e);if("undefined"!==typeof Buffer)return new Buffer(e,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}(e);return t?n:n.toLowerCase()}function te(e,t,n,r=!1){const i=e[t];return null!=i?ee(i.s,r):n}function ne(e,t,n){const r=e[t];return r?r.b:n}function re(e,t,n){const r=e[t]||{},i=null!=r.i?r.i:null!=r.f?r.f:n;return"number"===typeof i?i:parseInt(i,10)}function ie(e){switch("string"===typeof e&&(e=k[e]),e){case k.DT_FLOAT:case k.DT_HALF:return"float32";case k.DT_INT32:case k.DT_INT64:case k.DT_INT8:case k.DT_UINT8:return"int32";case k.DT_BOOL:return"bool";case k.DT_DOUBLE:return"float32";case k.DT_STRING:return"string";default:return null}}function oe(e,t,n){const r=e[t];return r&&r.func?r.func.name:n}function ae(e,t,n){const r=e[t];return r&&r.type?ie(r.type):n}function se(e,t,n){const r=e[t];return r&&r.list&&r.list.type?r.list.type.map((e=>ie(e))):n}function le(e){if(!e.unknownRank)return null!=e.dim?e.dim.map((e=>"number"===typeof e.size?e.size:parseInt(e.size,10))):[]}function ce(e,t,n){const r=e[t];return r&&r.shape?le(r.shape):n}function ue(e,t,n){const r=e[t];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map((e=>"number"===typeof e?e:parseInt(e,10))):n}function de(e,t,n,r=!1){const i=e[t];return i&&i.list&&i.list.s?i.list.s.map((e=>ee(e,r))):n}function pe(e,t,n){const r=e[t];return r&&r.list&&r.list.shape?r.list.shape.map((e=>le(e))):n}function fe(e,t,n){const r=e[t];return r&&r.list&&r.list.b?r.list.b:n}class he{constructor(e,t,n){this.node=e,this.tensorMap=t,this.context=n,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map((e=>this.getInput(e))),null!=e.rawAttrs&&(this.attrs=Object.keys(e.rawAttrs).reduce(((e,t)=>(e[t]=this.getAttr(t),e)),{}))}getInput(e){return O(e,this.tensorMap,this.context)}getAttr(e,t){const n=this.node.rawAttrs[e];if(null!=n.tensor)return O(e,this.tensorMap,this.context);if(null!=n.i||null!=n.f)return re(this.node.rawAttrs,e,t);if(null!=n.s)return te(this.node.rawAttrs,e,t);if(null!=n.b)return ne(this.node.rawAttrs,e,t);if(null!=n.shape)return ce(this.node.rawAttrs,e,t);if(null!=n.type)return ae(this.node.rawAttrs,e,t);if(null!=n.list){if(null!=n.list.i||null!=n.list.f)return ue(this.node.rawAttrs,e,t);if(null!=n.list.s)return de(this.node.rawAttrs,e,t);if(null!=n.list.shape)return pe(this.node.rawAttrs,e,t);if(null!=n.list.b)return fe(this.node.rawAttrs,e,t);if(null!=n.list.type)return se(this.node.rawAttrs,e,t)}return t}}var me=n(56407),ge=n(13135),ve=n(85228),ye=n(24841),be=n(41274),we=n(49322),xe=n(9165),Se=n(70827),ke=n(24513),Te=n(80632),Ee=n(33453),_e=n(15265);var Ce=n(96235),Oe=n(17839),Pe=n(91470),Ae=n(72421),Ie=n(21891),Me=n(77037),Ne=n(29812),Re=n(80369),De=n(6825),Le=n(61661),je=n(70173),Be=n(2699),Fe=n(83233),Ue=n(34650),$e=n(44842),He=n(53426),Ge=n(26943),Ve=n(82597),ze=n(17474),We=n(64386),Ke=n(17370),qe=n(19036),Xe=n(60766),Ze=n(7409),Ye=n(97809),Qe=n(55503),Je=n(30625),et=n(99331),tt=n(34434),nt=n(83254),rt=n(3694),it=n(13261),ot=n(50248),at=n(21869),st=n(61173),lt=n(42279),ct=n(83582),ut=n(32634),dt=n(49451),pt=n(99133),ft=n(98151),ht=n(96230);function mt(e,t,n=""){if("number"!==typeof e&&"number"!==typeof t){S.util.assert(e.length===t.length,(()=>n+` Shapes ${e} and ${t} must match`));for(let r=0;r<e.length;r++){const i=e[r],o=t[r];S.util.assert(i<0||o<0||i===o,(()=>n+` Shapes ${e} and ${t} must match`))}}}function gt(e){return"number"!==typeof e&&!e.some((e=>e<0))}function vt(e,t,n){let r=yt(e,n);const i=!gt(r);if(i&&0===t.length)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(i&&t.forEach((e=>{r=yt(e.shape,r)})),!gt(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function yt(e,t){if("number"===typeof e)return t;if("number"===typeof t)return e;if(e.length!==t.length)throw new Error(`Incompatible ranks during merge: ${e} vs. ${t}`);const n=[];for(let r=0;r<e.length;++r){const i=e[r],o=t[r];if(i>=0&&o>=0&&i!==o)throw new Error(`Incompatible shape during merge: ${e} vs. ${t}`);n[r]=i>=0?i:o}return n}class bt{constructor(e,t,n,r,i,o,a){this.name=e,this.dtype=t,this.maxSize=n,this.elementShape=r,this.identicalElementShapes=i,this.dynamicSize=o,this.clearAfterRead=a,this.tensors=[],this.closed_=!1,this.idTensor=(0,S.scalar)(0),(0,S.keep)(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.tensor.id)||t.tensor.dispose()})),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const t=this.tensors[e];if(t.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(t.cleared=!0),t.read=!0,t.tensor}readMany(e){return e.map((e=>this.read(e)))}write(e,t){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const n=this.tensors[e]||{};if(t.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},\n          because the value dtype is ${t.dtype}, but TensorArray dtype is ${this.dtype}.`);if(0!==this.size()||null!=this.elementShape&&0!==this.elementShape.length||(this.elementShape=t.shape),mt(this.elementShape,t.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),n.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(n.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);n.tensor=t,(0,S.keep)(t),n.written=!0,this.tensors[e]=n}writeMany(e,t){if(e.length!==t.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${t.length}.`);e.forEach(((e,n)=>this.write(e,t[n])))}gather(e,t){if(t&&t!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${t}`);if(e)e=e.slice(0,this.size());else{e=[];for(let t=0;t<this.size();t++)e.push(t)}if(0===e.length)return(0,S.tensor)([],[0].concat(this.elementShape));const n=this.readMany(e);return mt(this.elementShape,n[0].shape,"TensorArray shape mismatch: "),(0,S.stack)(n,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(0===this.size())return(0,S.tensor)([],[0].concat(this.elementShape));const t=[];for(let r=0;r<this.size();r++)t.push(r);const n=this.readMany(t);return mt(this.elementShape,n[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${n[0].shape})`),(0,S.concat)(n,0)}scatter(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const n=Math.max(...e);if(!this.dynamicSize&&n>=this.maxSize)throw new Error(`Max index must be < array size (${n}  vs. ${this.maxSize})`);this.writeMany(e,(0,S.unstack)(t,0))}split(e,t){if(t.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${t.dtype}`);let n=0;const r=e.map((e=>(n+=e,n)));if(n!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${n}, and tensor's shape is: ${t.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const i=0===n?0:t.size/n,o=[];(0,S.tidy)((()=>{t=(0,S.reshape)(t,[1,n,i]);for(let n=0;n<e.length;++n){const a=[0,0===n?0:r[n-1],0],s=[1,e[n],i];o[n]=(0,S.reshape)((0,S.slice)(t,a,s),this.elementShape)}return o}));const a=[];for(let s=0;s<e.length;s++)a[s]=s;this.writeMany(a,o)}}class wt{constructor(e,t,n,r=-1){this.tensors=e,this.elementShape=t,this.elementDtype=n,null!=e&&e.forEach((e=>{if(n!==e.dtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${e.dtype}`);mt(t,e.shape,"TensorList shape mismatch: "),(0,S.keep)(e)})),this.idTensor=(0,S.scalar)(0),this.maxNumElements=r,(0,S.keep)(this.idTensor)}get id(){return this.idTensor.id}copy(){return new wt([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach((t=>{null!=e&&e.has(t.id)||t.dispose()})),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,t,n=-1){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(-1!==n&&this.tensors.length!==n)throw new Error(`Operation expected a list with ${n} elements but got a list with ${this.tensors.length} elements.`);mt(e,this.elementShape,"TensorList shape mismatch: ");const r=vt(this.elementShape,this.tensors,e);return(0,S.tidy)((()=>{const e=this.tensors.map((e=>(0,S.reshape)(e,r)));return(0,S.stack)(e,0)}))}popBack(e,t){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);if(0===this.size())throw new Error("Trying to pop from an empty list.");const n=vt(this.elementShape,this.tensors,e),r=this.tensors.pop();return mt(r.shape,e,"TensorList shape mismatch: "),(0,S.reshape)(r,n)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(mt(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");(0,S.keep)(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(-1!==this.maxNumElements&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);this.tensors.length=e}getItem(e,t,n){if(n!==this.elementDtype)throw new Error(`Invalid data types; op elements ${n}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(null==this.tensors[e])throw new Error(`element at index ${e} is null.`);mt(this.tensors[e].shape,t,"TensorList shape mismatch: ");const r=vt(this.elementShape,this.tensors,t);return(0,S.reshape)(this.tensors[e],r)}setItem(e,t){if(t.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${this.elementDtype}`);if(e<0||-1!==this.maxNumElements&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);mt(this.elementShape,t.shape,"TensorList shape mismatch: "),(0,S.keep)(t),this.tensors[e]=t}gather(e,t,n){if(t!==this.elementDtype)throw new Error(`Invalid data types; op elements ${t}, but list elements ${this.elementDtype}`);mt(this.elementShape,n,"TensorList shape mismatch: "),e=e.slice(0,this.size());const r=vt(this.elementShape,this.tensors,n);return 0===e.length?(0,S.tensor)([],[0].concat(r)):(0,S.tidy)((()=>{const t=e.map((e=>(0,S.reshape)(this.tensors[e],r)));return(0,S.stack)(t,0)}))}concat(e,t){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);mt(this.elementShape,t,"TensorList shape mismatch: ");const n=vt(this.elementShape,this.tensors,t);return 0===this.size()?(0,S.tensor)([],[0].concat(n)):(0,S.tidy)((()=>{const e=this.tensors.map((e=>(0,S.reshape)(e,n)));return(0,S.concat)(e,0)}))}}const xt=async(e,t,n)=>{switch(e.op){case"If":case"StatelessIf":{const r=C("thenBranch",e,t,n),i=C("elseBranch",e,t,n),o=C("cond",e,t,n),a=C("args",e,t,n);return(await o.data())[0]?n.functionMap[r].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap):n.functionMap[i].executeFunctionAsync(a,n.tensorArrayMap,n.tensorListMap)}case"While":case"StatelessWhile":{const r=C("body",e,t,n),i=C("cond",e,t,n),o=C("args",e,t,n),a=await n.functionMap[i].executeFunctionAsync(o,n.tensorArrayMap,n.tensorListMap),s=o.map((e=>e.id));let l=await a[0].data();a.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||e.dispose()}));let c=o;for(;l[0];){const e=c;c=await n.functionMap[r].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);const t=c.map((e=>e.id));e.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}));const o=await n.functionMap[i].executeFunctionAsync(c,n.tensorArrayMap,n.tensorListMap);l=await o[0].data(),o.forEach((e=>{e.kept||-1!==s.indexOf(e.id)||-1!==t.indexOf(e.id)||e.dispose()}))}return c}case"LoopCond":return[N(C("pred",e,t,n))];case"Switch":{const r=C("pred",e,t,n);let i=C("data",e,t,n);return i.kept||(i=N(i)),(await r.data())[0]?[void 0,i]:[i,void 0]}case"Merge":{const r=e.inputNames.find((e=>void 0!==O(e,t,n)));if(r){return[N(O(r,t,n))]}return}case"Enter":{const r=C("frameName",e,t,n),i=C("tensor",e,t,n);return n.enterFrame(r),[N(i)]}case"Exit":{const r=C("tensor",e,t,n);return n.exitFrame(),[N(r)]}case"NextIteration":{const r=C("tensor",e,t,n);return n.nextIteration(),[N(r)]}case"TensorArrayV3":{const r=C("size",e,t,n),i=C("dtype",e,t,n),o=C("elementShape",e,t,n),a=C("dynamicSize",e,t,n),s=C("clearAfterRead",e,t,n),l=C("identicalElementShapes",e,t,n),c=C("name",e,t,n),u=new bt(c,i,r,o,l,a,s);return n.addTensorArray(u),[u.idTensor,(0,S.scalar)(1)]}case"TensorArrayWriteV3":{const r=C("tensorArrayId",e,t,n),i=C("index",e,t,n),o=C("tensor",e,t,n),a=n.getTensorArray(r.id);return a.write(i,o),[a.idTensor]}case"TensorArrayReadV3":{const r=C("tensorArrayId",e,t,n),i=C("index",e,t,n);return[n.getTensorArray(r.id).read(i)]}case"TensorArrayGatherV3":{const r=C("tensorArrayId",e,t,n),i=C("indices",e,t,n),o=C("dtype",e,t,n);return[n.getTensorArray(r.id).gather(i,o)]}case"TensorArrayScatterV3":{const r=C("tensorArrayId",e,t,n),i=C("indices",e,t,n),o=C("tensor",e,t,n),a=n.getTensorArray(r.id);return a.scatter(i,o),[a.idTensor]}case"TensorArrayConcatV3":{const r=C("tensorArrayId",e,t,n),i=n.getTensorArray(r.id),o=C("dtype",e,t,n);return[i.concat(o)]}case"TensorArraySplitV3":{const r=C("tensorArrayId",e,t,n),i=C("tensor",e,t,n),o=C("lengths",e,t,n),a=n.getTensorArray(r.id);return a.split(o,i),[a.idTensor]}case"TensorArraySizeV3":{const r=C("tensorArrayId",e,t,n),i=n.getTensorArray(r.id);return[(0,S.scalar)(i.size(),"int32")]}case"TensorArrayCloseV3":{const r=C("tensorArrayId",e,t,n),i=n.getTensorArray(r.id);return i.clearAndClose(),[i.idTensor]}case"TensorListSetItem":{const r=C("tensorListId",e,t,n),i=C("index",e,t,n),o=C("tensor",e,t,n),a=n.getTensorList(r.id);return a.setItem(i,o),[a.idTensor]}case"TensorListGetItem":{const r=C("tensorListId",e,t,n),i=C("index",e,t,n),o=C("elementShape",e,t,n),a=C("elementDType",e,t,n);return[n.getTensorList(r.id).getItem(i,o,a)]}case"TensorListScatterV2":case"TensorListScatter":{const r=C("indices",e,t,n),i=function(e,t,n,r){if(t.length!==e.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${t.length} vs. ${e.shape[0]}`);const i=Math.max(...t);if(null!=r&&-1!==r&&i>=r)throw new Error(`Max index must be < array size (${i}  vs. ${r})`);const o=new wt([],n,e.dtype,r),a=(0,S.unstack)(e,0);return t.forEach(((e,t)=>{o.setItem(e,a[t])})),o}(C("tensor",e,t,n),r,C("elementShape",e,t,n),C("numElements",e,t,n));return n.addTensorList(i),[i.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=C("elementShape",e,t,n),i=C("elementDType",e,t,n);let o;o="TensorListReserve"===e.op?"numElements":"maxNumElements";const a=function(e,t,n){return new wt([],e,t,n)}(r,i,C(o,e,t,n));return n.addTensorList(a),[a.idTensor]}case"TensorListGather":{const r=C("tensorListId",e,t,n),i=C("indices",e,t,n),o=C("elementShape",e,t,n),a=C("elementDType",e,t,n);return[n.getTensorList(r.id).gather(i,a,o)]}case"TensorListStack":{const r=C("tensorListId",e,t,n),i=C("elementShape",e,t,n),o=C("elementDType",e,t,n),a=C("numElements",e,t,n);return[n.getTensorList(r.id).stack(i,o,a)]}case"TensorListFromTensor":{const r=function(e,t,n){const r=e.dtype;if(e.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${e.shape}`);if(e.dtype!==n)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${n}`);mt(e.shape.slice(1),t,"TensorList shape mismatch: ");const i=(0,S.unstack)(e);return new wt(i,t,r)}(C("tensor",e,t,n),C("elementShape",e,t,n),C("elementDType",e,t,n));return n.addTensorList(r),[r.idTensor]}case"TensorListConcat":{const r=C("tensorListId",e,t,n),i=n.getTensorList(r.id),o=C("dtype",e,t,n),a=C("elementShape",e,t,n);return[i.concat(o,a)]}case"TensorListPushBack":{const r=C("tensorListId",e,t,n),i=C("tensor",e,t,n),o=n.getTensorList(r.id);return o.pushBack(i),[o.idTensor]}case"TensorListPopBack":{const r=C("tensorListId",e,t,n),i=C("elementShape",e,t,n),o=C("elementDType",e,t,n);return[n.getTensorList(r.id).popBack(i,o)]}case"TensorListSplit":{const r=C("tensor",e,t,n),i=C("elementShape",e,t,n),o=function(e,t,n){let r=0;const i=t.map((e=>(r+=e,r)));if(r!==e.shape[0])throw new Error(`Expected sum of lengths to be equal to\n          tensor.shape[0], but sum of lengths is\n        ${r}, and tensor's shape is: ${e.shape}`);const o=yt(e.shape.slice(1),n),a=0===r?0:e.size/r,s=(0,S.tidy)((()=>{const n=[];e=(0,S.reshape)(e,[1,r,a]);for(let r=0;r<t.length;++r){const s=[0,0===r?0:i[r-1],0],l=[1,t[r],a];n[r]=(0,S.reshape)((0,S.slice)(e,s,l),o)}return e.dispose(),n})),l=new wt([],n,e.dtype,t.length);for(let c=0;c<s.length;c++)l.setItem(c,s[c]);return l}(r,C("lengths",e,t,n),i);return n.addTensorList(o),[o.idTensor]}default:throw TypeError(`Node type ${e.op} is not implemented`)}};var St=n(11355),kt=n(64794),Tt=n(32277),Et=n(71405),_t=n(64718),Ct=n(70473),Ot=n(15176),Pt=n(21174),At=n(96877),It=n(61749),Mt=n(25020),Nt=n(70557);function Rt(e,t,n){const[r,i]=C("fusedOps",e,t,n),o="biasadd"===r,a=!o,s="prelu"===i,l="fusedbatchnorm"===r,c=C("numArgs",e,t,n);if(o){if(s&&2!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!s&&o&&1!==c)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(l)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const u=C("strides",e,t,n),d=M(e,t,n),p=C("dataFormat",e,t,n).toUpperCase(),f=C("dilations",e,t,n);let[h,m]=C("args",e,t,n);a&&(m=h,h=void 0);return{stride:u,pad:d,dataFormat:p,dilations:f,biasArg:h,preluArg:m,activationFunc:i,leakyreluAlpha:C("leakyreluAlpha",e,t,n)}}var Dt=n(14006),Lt=n(14135),jt=n(90686),Bt=n(76708),Ft=n(44917),Ut=n(7846),$t=n(75002),Ht=n(47245),Gt=n(43596),Vt=n(59640),zt=n(6577);var Wt=n(94885),Kt=n(62271),qt=n(66380),Xt=n(36567);function Zt(e,t,n){return{boxes:C("boxes",e,t,n),scores:C("scores",e,t,n),maxOutputSize:C("maxOutputSize",e,t,n),iouThreshold:C("iouThreshold",e,t,n),scoreThreshold:C("scoreThreshold",e,t,n),softNmsSigma:C("softNmsSigma",e,t,n)}}var Yt=n(43243),Qt=n(49608);var Jt=n(46092),en=n(99494);class tn{constructor(e,t){this.keyDType=e,this.valueDType=t,this.handle=(0,S.scalar)(0),this.tensorMap=new Map,(0,S.keep)(this.handle)}get id(){return this.handle.id}clearAndClose(){this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return en.i(this.size(),"int32")}async import(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return this.tensorMap.forEach((e=>e.dispose())),this.tensorMap.clear(),(0,S.tidy)((()=>{const e=(0,S.unstack)(t),r=n.length,i=e.length;S.util.assert(r===i,(()=>`The number of elements doesn't match, keys has ${r} elements, the values has ${i} elements.`));for(let t=0;t<r;t++){const r=n[t],i=e[t];(0,S.keep)(i),this.tensorMap.set(r,i)}return this.handle}))}async find(e,t){this.checkKeyAndValueTensor(e,t);const n=await e.data();return(0,S.tidy)((()=>{const e=[];for(let r=0;r<n.length;r++){const i=n[r],o=this.findWithDefault(i,t);e.push(o)}return(0,S.stack)(e)}))}findWithDefault(e,t){const n=this.tensorMap.get(e);return null!=n?n:t}checkKeyAndValueTensor(e,t){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(t.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${t.dtype}`)}}var nn=n(26477),rn=n(16500),on=n(20636),an=n(17630),sn=n(86573),ln=n(50624),cn=n(2856),un=n(38651),dn=n(15750),pn=n(95912);var fn=n(28687),hn=n(94653),mn=n(89065);var gn=n(27505),vn=n(79648),yn=n(80682),bn=n(31510),wn=n(39758);var xn=n(83307),Sn=n(75130),kn=n(25735),Tn=n(15475),En=n(90781),_n=n(92998),Cn=n(40047),On=n(27394),Pn=n(37405),An=n(93865),In=n(75746);var Mn=n(46884),Nn=n(24926),Rn=n(57486),Dn=n(22676),Ln=n(55158),jn=n(79590),Bn=n(4968),Fn=n(82991),Un=n(24136),$n=n(47501),Hn=n(28644),Gn=n(63100),Vn=n(87494);var zn=n(7020),Wn=n(88447),Kn=n(13710),qn=n(84415);var Xn=n(81300),Zn=n(71483),Yn=n(39682),Qn=n(27918),Jn=n(28441),er=n(89112),tr=n(68247),nr=n(88194);function rr(e,t,n,r){const i=((e,t,n)=>{switch(e.category){case"arithmetic":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"BiasAdd":case"AddV2":case"Add":return[me.I(C("a",e,t,n),C("b",e,t,n))];case"AddN":return[ge.Q(C("tensors",e,t,n))];case"FloorMod":case"Mod":return[ve.w(C("a",e,t,n),C("b",e,t,n))];case"Mul":return[ye.d(C("a",e,t,n),C("b",e,t,n))];case"RealDiv":case"Div":return[be.h(C("a",e,t,n),C("b",e,t,n))];case"DivNoNan":return[we.N(C("a",e,t,n),C("b",e,t,n))];case"FloorDiv":return[xe.q(C("a",e,t,n),C("b",e,t,n))];case"Sub":return[Se.l(C("a",e,t,n),C("b",e,t,n))];case"Minimum":return[ke.L(C("a",e,t,n),C("b",e,t,n))];case"Maximum":return[Te.g(C("a",e,t,n),C("b",e,t,n))];case"Pow":return[Ee.s(C("a",e,t,n),C("b",e,t,n))];case"SquaredDifference":return[_e.$(C("a",e,t,n),C("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"basic_math":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"Abs":case"ComplexAbs":return[Ce.W(C("x",e,t,n))];case"Acos":return[Oe.K(C("x",e,t,n))];case"Acosh":return[Pe._(C("x",e,t,n))];case"Asin":return[Ae.Z(C("x",e,t,n))];case"Asinh":return[Ie.V(C("x",e,t,n))];case"Atan":return[Me.z(C("x",e,t,n))];case"Atan2":return[Ne.f(C("x",e,t,n),C("y",e,t,n))];case"Atanh":return[Re.C(C("x",e,t,n))];case"Ceil":return[De.m(C("x",e,t,n))];case"Complex":return[Le.P(C("real",e,t,n),C("imag",e,t,n))];case"Cos":return[je.m(C("x",e,t,n))];case"Cosh":return[Be.f(C("x",e,t,n))];case"Elu":return[Fe.p(C("x",e,t,n))];case"Erf":return[Ue.q(C("x",e,t,n))];case"Exp":return[$e.Q(C("x",e,t,n))];case"Expm1":return[He.t(C("x",e,t,n))];case"Floor":return[Ge.G(C("x",e,t,n))];case"Log":return[Ve.c(C("x",e,t,n))];case"Log1p":return[ze.K(C("x",e,t,n))];case"Imag":return[We.a(C("x",e,t,n))];case"Neg":return[Ke.W(C("x",e,t,n))];case"Reciprocal":return[qe.M(C("x",e,t,n))];case"Real":return[Xe.k(C("x",e,t,n))];case"Relu":return[Ze.U(C("x",e,t,n))];case"Round":return[Ye.N(C("x",e,t,n))];case"Selu":return[Qe.U(C("x",e,t,n))];case"Sigmoid":return[Je.X(C("x",e,t,n))];case"Sin":return[et.O(C("x",e,t,n))];case"Sign":return[tt.X(C("x",e,t,n))];case"Sinh":return[nt.R(C("x",e,t,n))];case"Softplus":return[rt.W(C("x",e,t,n))];case"Sqrt":return[it._(C("x",e,t,n))];case"Square":return[ot.h(C("x",e,t,n))];case"Tanh":return[at.A(C("x",e,t,n))];case"Tan":return[st.O(C("x",e,t,n))];case"ClipByValue":return[lt.i(C("x",e,t,n),C("clipValueMin",e,t,n),C("clipValueMax",e,t,n))];case"Relu6":return[ct.b(C("x",e,t,n))];case"Rsqrt":return[ut.b(O(e.inputNames[0],t,n))];case"Prod":return[dt.W(C("x",e,t,n),C("axes",e,t,n))];case"LeakyRelu":return[pt.h(C("x",e,t,n),C("alpha",e,t,n))];case"Prelu":return[ft.A(C("x",e,t,n),C("alpha",e,t,n))];case"IsNan":return[ht.i(O(e.inputNames[0],t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"control":return xt(e,t,n);case"convolution":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"Conv1D":{const r=C("stride",e,t,n),i=C("pad",e,t,n),o=C("dataFormat",e,t,n).toUpperCase(),a=C("dilation",e,t,n);return[St.P(C("x",e,t,n),C("filter",e,t,n),r,i,o,a)]}case"Conv2D":{const r=C("strides",e,t,n),i=M(e,t,n),o=C("dataFormat",e,t,n).toUpperCase(),a=C("dilations",e,t,n);return[kt.T(C("x",e,t,n),C("filter",e,t,n),[r[1],r[2]],i,o,[a[1],a[2]])]}case"_FusedConv2D":{const{stride:r,pad:i,dataFormat:o,dilations:a,biasArg:s,preluArg:l,activationFunc:c,leakyreluAlpha:u}=Rt(e,t,n);return[Tt.conv2d({x:C("x",e,t,n),filter:C("filter",e,t,n),strides:[r[1],r[2]],pad:i,dataFormat:o,dilations:[a[1],a[2]],bias:s,activation:c,preluActivationWeights:l,leakyreluAlpha:u})]}case"FusedDepthwiseConv2dNative":{const{stride:r,pad:i,dataFormat:o,dilations:a,biasArg:s,preluArg:l,activationFunc:c,leakyreluAlpha:u}=Rt(e,t,n);return[Tt.depthwiseConv2d({x:C("x",e,t,n),filter:C("filter",e,t,n),strides:[r[1],r[2]],pad:i,dataFormat:o,dilations:[a[1],a[2]],bias:s,activation:c,preluActivationWeights:l,leakyreluAlpha:u})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const r=C("outputShape",e,t,n),i=C("strides",e,t,n),o=M(e,t,n);return[Et.b(C("x",e,t,n),C("filter",e,t,n),r,[i[1],i[2]],o)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const r=C("strides",e,t,n),i=M(e,t,n),o=C("dilations",e,t,n),a=C("dataFormat",e,t,n).toUpperCase();return[_t.B(C("input",e,t,n),C("filter",e,t,n),[r[1],r[2]],i,a,[o[1],o[2]])]}case"Conv3D":{const r=C("strides",e,t,n),i=C("pad",e,t,n),o=C("dataFormat",e,t,n).toUpperCase(),a=C("dilations",e,t,n);return[Ct.p(C("x",e,t,n),C("filter",e,t,n),[r[1],r[2],r[3]],i,o,[a[1],a[2],a[3]])]}case"AvgPool":{const r=C("strides",e,t,n),i=C("pad",e,t,n),o=C("kernelSize",e,t,n);return[Ot.w(C("x",e,t,n),[o[1],o[2]],[r[1],r[2]],i)]}case"MaxPool":{const r=C("strides",e,t,n),i=C("pad",e,t,n),o=C("kernelSize",e,t,n);return[Pt._(C("x",e,t,n),[o[1],o[2]],[r[1],r[2]],i)]}case"MaxPoolWithArgmax":{const r=C("strides",e,t,n),i=C("pad",e,t,n),o=C("kernelSize",e,t,n),a=C("includeBatchInIndex",e,t,n),{result:s,indexes:l}=At.I(C("x",e,t,n),[o[1],o[2]],[r[1],r[2]],i,a);return[s,l]}case"AvgPool3D":{const r=C("strides",e,t,n),i=C("pad",e,t,n),o=C("kernelSize",e,t,n);return[It.u(C("x",e,t,n),[o[1],o[2],o[3]],[r[1],r[2],r[3]],i)]}case"MaxPool3D":{const r=C("strides",e,t,n),i=C("pad",e,t,n),o=C("kernelSize",e,t,n);return[Mt.Y(C("x",e,t,n),[o[1],o[2],o[3]],[r[1],r[2],r[3]],i)]}case"Dilation2D":{const r=C("strides",e,t,n),i=C("pad",e,t,n),o=C("dilations",e,t,n),a=r[1],s=r[2],l=o[1],c=o[2];return[Nt.W(C("x",e,t,n),C("filter",e,t,n),[a,s],i,[l,c],"NHWC")]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"creation":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"Fill":{const r=C("shape",e,t,n),i=C("dtype",e,t,n),o=C("value",e,t,n);return[Dt.h(r,o,i)]}case"LinSpace":{const r=C("start",e,t,n),i=C("stop",e,t,n),o=C("num",e,t,n);return[Lt.S(r,i,o)]}case"Multinomial":{const r=C("logits",e,t,n),i=C("numSamples",e,t,n),o=C("seed",e,t,n);return[jt.S(r,i,o)]}case"OneHot":{const r=C("indices",e,t,n),i=C("depth",e,t,n),o=C("onValue",e,t,n),a=C("offValue",e,t,n);return[Bt.l(r,i,o,a)]}case"Ones":return[Ft.i(C("shape",e,t,n),C("dtype",e,t,n))];case"OnesLike":return[Ut.J(C("x",e,t,n))];case"RandomUniform":return[$t.L(C("shape",e,t,n),C("minval",e,t,n),C("maxval",e,t,n),C("dtype",e,t,n))];case"Range":{const r=C("start",e,t,n),i=C("stop",e,t,n),o=C("step",e,t,n);return[Ht.w(r,i,o,C("dtype",e,t,n))]}case"TruncatedNormal":{const r=C("shape",e,t,n),i=C("mean",e,t,n),o=C("stdDev",e,t,n),a=C("seed",e,t,n);return[Gt.X(r,i,o,C("dtype",e,t,n),a)]}case"Zeros":return[Vt.l(C("shape",e,t,n),C("dtype",e,t,n))];case"ZerosLike":return[zt.P(C("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"dynamic":return(async(e,t,n)=>{switch(e.op){case"NonMaxSuppressionV5":{const{boxes:r,scores:i,maxOutputSize:o,iouThreshold:a,scoreThreshold:s,softNmsSigma:l}=Zt(e,t,n),c=await Wt.BHj.nonMaxSuppressionWithScoreAsync(r,i,o,a,s,l);return[c.selectedIndices,c.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:r,scores:i,maxOutputSize:o,iouThreshold:a,scoreThreshold:s}=Zt(e,t,n),l=C("padToMaxOutputSize",e,t,n),c=await Wt.BHj.nonMaxSuppressionPaddedAsync(r,i,o,a,s,l);return[c.selectedIndices,c.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:r,scores:i,maxOutputSize:o,iouThreshold:a,scoreThreshold:s}=Zt(e,t,n);return[await Wt.BHj.nonMaxSuppressionAsync(r,i,o,a,s)]}case"Where":{const r=Kt.p(C("condition",e,t,n),"bool"),i=[await qt.i(r)];return r.dispose(),i}case"ListDiff":return Xt.O(C("x",e,t,n),C("y",e,t,n));default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n);case"evaluation":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"TopKV2":{const r=C("x",e,t,n),i=C("k",e,t,n),o=C("sorted",e,t,n),a=Yt.h(r,i,o);return[a.values,a.indices]}case"Unique":{const r=C("x",e,t,n),i=Qt.T(r);return[i.values,i.indices]}case"UniqueV2":{const r=C("x",e,t,n),i=C("axis",e,t,n),o=Qt.T(r,i);return[o.values,o.indices]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"image":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"ResizeBilinear":{const r=C("images",e,t,n),i=C("size",e,t,n),o=C("alignCorners",e,t,n),a=C("halfPixelCenters",e,t,n);return[Wt.BHj.resizeBilinear(r,[i[0],i[1]],o,a)]}case"ResizeNearestNeighbor":{const r=C("images",e,t,n),i=C("size",e,t,n),o=C("alignCorners",e,t,n),a=C("halfPixelCenters",e,t,n);return[Wt.BHj.resizeNearestNeighbor(r,[i[0],i[1]],o,a)]}case"CropAndResize":{const r=C("image",e,t,n),i=C("boxes",e,t,n),o=C("boxInd",e,t,n),a=C("cropSize",e,t,n),s=C("method",e,t,n),l=C("extrapolationValue",e,t,n);return[Wt.BHj.cropAndResize(r,i,o,a,s,l)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"graph":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"Const":return t[e.name];case"PlaceholderWithDefault":const r=C("default",e,t,n);return[O(e.name,t,n)||r];case"Placeholder":return[O(e.name,t,n)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":case"Snapshot":return[N(C("x",e,t,n))];case"IdentityN":return C("x",e,t,n).map((e=>N(e)));case"Shape":return[Jt.R(C("x",e,t,n).shape,"int32")];case"ShapeN":return C("x",e,t,n).map((e=>Jt.R(e.shape)));case"Size":return[en.i(C("x",e,t,n).size,"int32")];case"Rank":return[en.i(C("x",e,t,n).rank,"int32")];case"NoOp":return[en.i(1)];case"Print":const i=C("x",e,t,n),o=C("data",e,t,n),a=C("message",e,t,n),s=C("summarize",e,t,n);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(a);for(let e=0;e<o.length;e++)console.log(Array.prototype.slice.call(o[e].dataSync()).slice(0,s));return[i];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"logical":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"Equal":return[nn.D(C("a",e,t,n),C("b",e,t,n))];case"NotEqual":return[rn.Q(C("a",e,t,n),C("b",e,t,n))];case"Greater":return[on.p(C("a",e,t,n),C("b",e,t,n))];case"GreaterEqual":return[an.b(C("a",e,t,n),C("b",e,t,n))];case"Less":return[sn.d(C("a",e,t,n),C("b",e,t,n))];case"LessEqual":return[ln.z(C("a",e,t,n),C("b",e,t,n))];case"LogicalAnd":return[cn.H(C("a",e,t,n),C("b",e,t,n))];case"LogicalNot":return[un.h(C("a",e,t,n))];case"LogicalOr":return[dn.K(C("a",e,t,n),C("b",e,t,n))];case"Select":case"SelectV2":return[pn.a(C("condition",e,t,n),C("a",e,t,n),C("b",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"matrices":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[fn.O(C("a",e,t,n),C("b",e,t,n),C("transposeA",e,t,n),C("transposeB",e,t,n))];case"Einsum":return[hn.W(C("equation",e,t,n),...C("tensors",e,t,n))];case"Transpose":return[mn.p(C("x",e,t,n),C("perm",e,t,n))];case"_FusedMatMul":const[r,i]=C("fusedOps",e,t,n),o="biasadd"===r,a="prelu"===i,s=C("numArgs",e,t,n),l=C("leakyreluAlpha",e,t,n);if(o){if(a&&2!==s)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!a&&1!==s)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[c,u]=C("args",e,t,n);return[Tt.matMul({a:C("a",e,t,n),b:C("b",e,t,n),transposeA:C("transposeA",e,t,n),transposeB:C("transposeB",e,t,n),bias:c,activation:i,preluActivationWeights:u,leakyreluAlpha:l})];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"normalization":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"FusedBatchNorm":case"FusedBatchNormV2":case"FusedBatchNormV3":return[gn.t(C("x",e,t,n),C("mean",e,t,n),C("variance",e,t,n),C("offset",e,t,n),C("scale",e,t,n),C("epsilon",e,t,n))];case"LRN":return[vn.G(C("x",e,t,n),C("radius",e,t,n),C("bias",e,t,n),C("alpha",e,t,n),C("beta",e,t,n))];case"Softmax":return[yn.X(C("x",e,t,n))];case"LogSoftmax":return[bn.C(C("x",e,t,n))];case"SparseToDense":return[wn.e(C("sparseIndices",e,t,n),C("outputShape",e,t,n),C("sparseValues",e,t,n),C("defaultValue",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"reduction":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"Max":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[xn.F(C("x",e,t,n),r,i)]}case"Mean":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[Sn.J(C("x",e,t,n),r,i)]}case"Min":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[kn.V(C("x",e,t,n),r,i)]}case"Sum":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[Tn.S(C("x",e,t,n),r,i)]}case"All":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[En.$(C("x",e,t,n),r,i)]}case"Any":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[_n.Y(C("x",e,t,n),r,i)]}case"ArgMax":{const r=C("axis",e,t,n);return[Cn.N(C("x",e,t,n),r)]}case"ArgMin":{const r=C("axis",e,t,n);return[On.v(C("x",e,t,n),r)]}case"Prod":{const r=C("axis",e,t,n),i=C("keepDims",e,t,n);return[dt.W(C("x",e,t,n),r,i)]}case"Cumsum":{const r=C("axis",e,t,n),i=C("exclusive",e,t,n),o=C("reverse",e,t,n);return[Pn.z(C("x",e,t,n),r,i,o)]}case"Bincount":const r=C("x",e,t,n),i=C("weights",e,t,n),o=C("size",e,t,n);return[An.y(r,i,o)];case"DenseBincount":{const r=C("x",e,t,n),i=C("weights",e,t,n),o=C("size",e,t,n),a=C("binaryOutput",e,t,n);return[In.p(r,i,o,a)]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"slice_join":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"ConcatV2":case"Concat":{const r=C("n",e,t,n),i=C("axis",e,t,n);let o=C("tensors",e,t,n);return o=o.slice(0,r),[Mn.z(o,i)]}case"Gather":{const r=C("x",e,t,n),i=C("indices",e,t,n);return[Nn.I(r,Kt.p(i,"int32"),0)]}case"GatherV2":{const r=C("axis",e,t,n),i=C("batchDims",e,t,n),o=C("x",e,t,n),a=C("indices",e,t,n);return[Nn.I(o,Kt.p(a,"int32"),r,i)]}case"Reverse":{const r=C("dims",e,t,n),i=[];for(let e=0;e<r.length;e++)r[e]&&i.push(e);const o=C("x",e,t,n);return[Rn.G(o,i)]}case"ReverseV2":{const r=C("axis",e,t,n),i=C("x",e,t,n);return[Rn.G(i,r)]}case"Slice":{const r=C("begin",e,t,n),i=C("size",e,t,n);return[Dn.t(C("x",e,t,n),r,i)]}case"StridedSlice":{const r=C("begin",e,t,n),i=C("end",e,t,n),o=C("strides",e,t,n),a=C("beginMask",e,t,n),s=C("endMask",e,t,n),l=C("ellipsisMask",e,t,n),c=C("newAxisMask",e,t,n),u=C("shrinkAxisMask",e,t,n),d=C("x",e,t,n);return[Ln.N(d,r,i,o,a,s,l,c,u)]}case"Pack":return(0,S.tidy)((()=>{const r=C("axis",e,t,n),i=C("tensors",e,t,n),o=i[0].shape,a=jn.L(i[0]).shape,s=i.map((e=>{const t=S.util.arraysEqual(e.shape,o);if(!t&&!S.util.arraysEqual(jn.L(e).shape,a))throw new Error("the input tensors shape does not match");return t?e:Bn.X(e,o)}));return[Fn.k(s,r)]}));case"Unpack":{const r=C("axis",e,t,n),i=C("tensor",e,t,n);return Un.H(i,r)}case"Tile":{const r=C("reps",e,t,n);return[$n.G(C("x",e,t,n),r)]}case"Split":case"SplitV":{const r=C("axis",e,t,n),i=C("numOrSizeSplits",e,t,n),o=C("x",e,t,n);return Hn.V(o,i,r)}case"ScatterNd":{const r=C("indices",e,t,n),i=C("values",e,t,n),o=C("shape",e,t,n);return[Gn.s(r,i,o)]}case"GatherNd":{const r=C("x",e,t,n),i=C("indices",e,t,n);return[Vn.d(r,i)]}case"SparseToDense":{const r=C("sparseIndices",e,t,n),i=C("outputShape",e,t,n),o=C("sparseValues",e,t,n),a=C("defaultValue",e,t,n);return[wn.e(r,o,i,o.dtype===a.dtype?a:Kt.p(a,o.dtype))]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"sparse":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"SparseFillEmptyRows":{const{outputIndices:r,outputValues:i,emptyRowIndicator:o,reverseIndexMap:a}=Wt.rVs.sparseFillEmptyRows(C("indices",e,t,n),C("values",e,t,n),C("denseShape",e,t,n),C("defaultValue",e,t,n));return[r,i,o,a]}case"SparseReshape":{const{outputIndices:r,outputShape:i}=Wt.rVs.sparseReshape(C("inputIndices",e,t,n),C("inputShape",e,t,n),C("newShape",e,t,n));return[r,i]}case"SparseSegmentMean":return[Wt.rVs.sparseSegmentMean(C("data",e,t,n),C("indices",e,t,n),C("segmentIds",e,t,n))];case"SparseSegmentSum":return[Wt.rVs.sparseSegmentSum(C("data",e,t,n),C("indices",e,t,n),C("segmentIds",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"spectral":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"FFT":return[zn.k(C("x",e,t,n))];case"IFFT":return[Wn.S(C("x",e,t,n))];case"RFFT":return[Kn.Q(C("x",e,t,n))];case"IRFFT":return[qn.w(C("x",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"string":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"StringNGrams":{const{nGrams:r,nGramsSplits:i}=Wt.Z_8.stringNGrams(C("data",e,t,n),C("dataSplits",e,t,n),C("separator",e,t,n),C("nGramWidths",e,t,n),C("leftPad",e,t,n),C("rightPad",e,t,n),C("padWidth",e,t,n),C("preserveShortSequences",e,t,n));return[r,i]}case"StringSplit":{const{indices:r,values:i,shape:o}=Wt.Z_8.stringSplit(C("input",e,t,n),C("delimiter",e,t,n),C("skipEmpty",e,t,n));return[r,i,o]}case"StringToHashBucketFast":return[Wt.Z_8.stringToHashBucketFast(C("input",e,t,n),C("numBuckets",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"transformation":return S.tidy((()=>((e,t,n)=>{switch(e.op){case"Cast":return[Kt.p(C("x",e,t,n),C("dtype",e,t,n))];case"ExpandDims":{const r=C("axis",e,t,n);return[Xn.d(C("x",e,t,n),r)]}case"Squeeze":{const r=C("axis",e,t,n);return[jn.L(C("x",e,t,n),r)]}case"Reshape":return[Bn.X(C("x",e,t,n),C("shape",e,t,n))];case"MirrorPad":return[Zn.V(C("x",e,t,n),C("padding",e,t,n),C("mode",e,t,n))];case"PadV2":case"Pad":return[Yn.v(C("x",e,t,n),C("padding",e,t,n),C("constantValue",e,t,n))];case"SpaceToBatchND":{const r=C("blockShape",e,t,n),i=C("paddings",e,t,n);return[Qn.f(C("x",e,t,n),r,i)]}case"BatchToSpaceND":{const r=C("blockShape",e,t,n),i=C("crops",e,t,n);return[Jn.E(C("x",e,t,n),r,i)]}case"DepthToSpace":{const r=C("blockSize",e,t,n),i=C("dataFormat",e,t,n).toUpperCase();return[er.n(C("x",e,t,n),r,i)]}case"BroadcastTo":return[tr.U(C("x",e,t,n),C("shape",e,t,n))];case"BroadcastArgs":return[nr.X(C("s0",e,t,n),C("s1",e,t,n))];default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n)));case"hash_table":return(async(e,t,n,r)=>{switch(e.op){case"HashTable":case"HashTableV2":{const i=C("keyDType",e,t,n),o=C("valueDType",e,t,n),a=new tn(i,o);return r.addHashTable(e.name,a),[a.handle]}case"LookupTableImport":case"LookupTableImportV2":{const i=C("tableHandle",e,t,n,r),o=C("keys",e,t,n),a=C("values",e,t,n),s=r.getHashTableById(i.id);return[await s.import(o,a)]}case"LookupTableFind":case"LookupTableFindV2":{const i=C("tableHandle",e,t,n,r),o=C("keys",e,t,n),a=C("defaultValue",e,t,n),s=r.getHashTableById(i.id);return[await s.find(o,a)]}case"LookupTableSize":case"LookupTableSizeV2":{const i=C("tableHandle",e,t,n,r);return[r.getHashTableById(i.id).tensorSize()]}default:throw TypeError(`Node type ${e.op} is not implemented`)}})(e,t,n,r);case"custom":const i=_(e.op);if(i&&i.customExecutor)return i.customExecutor(new he(e,t,n));throw TypeError(`Custom op ${e.op} is not registered.`);default:throw TypeError(`Unknown op '${e.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(e,t,n);return S.util.isPromise(i)?i.then((e=>[].concat(e))):[].concat(i)}class ir{constructor(e={},t={},n={},r={}){this.weightMap=e,this.tensorArrayMap=t,this.tensorListMap=n,this.functionMap=r,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,t){return{id:e,frameName:t,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let t=0;t<this.contexts.length-1;t++){const n=this.contexts.slice(0,this.contexts.length-t);e.push(this.contextIdforContexts(n))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map((e=>0===e.id&&0===e.iterationId?"":`${e.frameName}-${e.iterationId}`)).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(!(this.contexts&&this.contexts.length>1))throw new Error("Cannot exit frame, the context is empty");this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift()}nextIteration(){if(!(this.contexts&&this.contexts.length>0))throw new Error("Cannot increase frame iteration, the context is empty");{this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const t in this.tensorArrayMap)this.tensorArrayMap[t].clearAndClose(e);for(const t in this.tensorListMap)this.tensorListMap[t].clearAndClose(e)}}function or(e,t,n,r){const i=new Set,o=[];let a=null,s=null;const l=new Set,c=Object.keys(e).map((e=>I(e)[0]));let u=[];null!=r&&(u=r.map((e=>I(e.name)[0])));const d=[...t];for(;d.length>0;){const e=d.pop();(cr(e)||ur(e)||dr(e))&&null==a&&(a=e,s=a.children.map((e=>e.name)).filter((e=>i.has(e)))),i.add(e.name),null==n[e.name]&&(-1===c.indexOf(e.name)&&-1===u.indexOf(e.name)&&(0!==e.inputs.length?e.inputs.forEach((e=>{l.has(e.name)||(l.add(e.name),d.push(e))})):o.push(e.name)))}return{inputs:e,outputs:t,usedNodes:i,missingInputs:o,dynamicNode:a,syncInputs:s}}const ar=["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"],sr=["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"],lr=["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"];function cr(e){return ar.indexOf(e.op)>=0}function ur(e){return sr.indexOf(e.op)>=0}function dr(e){return lr.indexOf(e.op)>=0}class pr{constructor(e,t){this.graph=e,this.parent=t,this.compiledMap=new Map,this._weightMap={},this.SEPERATOR=",",this._functions={},this._functionExecutorMap={},this.intermediateTensors={},this.keepTensorForDebug=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,null!=e.functions&&Object.keys(e.functions).forEach((t=>{this._functionExecutorMap[t]=new pr(e.functions[t],this)}))}get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const t=Object.keys(e).map((t=>e[t].map((e=>e.id))));this._weightIds=[].concat(...t),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get outputs(){return this._outputs.map((e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0})))}get inputNodes(){return this._inputs.map((e=>e.signatureKey||e.name))}get outputNodes(){return this._outputs.map((e=>{const t=e.signatureKey||e.name;return e.defaultOutput?`${t}:${e.defaultOutput}`:t}))}get functions(){return Object.keys(this._functions).reduce(((e,t)=>(e[t]=this._functions[t].signature,e)),{})}getCompilationKey(e,t){const n=e.map((e=>e.name)).sort(),r=t.map((e=>e.name)).sort();return n.join(this.SEPERATOR)+"--"+r.join(this.SEPERATOR)}compile(e,t){const n=or(e,t,this.weightMap,this._initNodes),{missingInputs:r,dynamicNode:i,syncInputs:o}=n;if(null!=i)throw new Error(`This execution contains the node '${i.name}', which has the dynamic op '${i.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${o}]`);if(r.length>0){const n=t.map((e=>e.name)),i=Object.keys(e);throw new Error(`Cannot compute the outputs [${n}] from the provided inputs [${i}]. Missing the following inputs: [${r}]`)}return function(e,t,n){const{usedNodes:r,inputs:i}=n,o=[],a=Object.keys(i).map((e=>I(e)[0])).map((t=>e.nodes[t])),s=e.initNodes;a.forEach((e=>{r.has(e.name)&&o.push(e)})),e.weights.forEach((e=>{r.has(e.name)&&o.push(e)})),null!=s&&s.forEach((e=>{r.has(e.name)&&o.push(e)}));const l=new Set,c=[];for(;o.length>0;){const e=o.pop();l.add(e.name),t[e.name]||c.push(e),e.children.forEach((e=>{!l.has(e.name)&&r.has(e.name)&&e.inputs.every((e=>l.has(e.name)))&&o.push(e)}))}return c}(this.graph,this.weightMap,n)}execute(e,t){e=this.mapInputs(e);const n=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t);const r=n.map((e=>this.graph.nodes[I(e)[0]])),i=t.map((e=>I(e)[0]));let o=i.map((e=>this.graph.nodes[e]));this.resetIntermediateTensors(),0===o.length&&(o=this._outputs);const a=this.getCompilationKey(r,o);let s=this.compiledMap.get(a);null==s&&(s=this.compile(e,o),this.compiledMap.set(a,s));const l={},c={};return(0,S.tidy)((()=>{const n=new ir(this.weightMap,l,c,this.functionExecutorMap),r=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,i]=I(t),o=[];o[i]=e[t],r[n]=o}));const o=this.getFrozenTensorIds(r),a={};for(let e=0;e<s.length;e++){const t=s[e];if(!r[t.name]){const e=rr(t,r,n,this._resourceManager);if(S.util.isPromise(e))throw new Error(`The execution of the op '${t.op}' returned a promise. Please use model.executeAsync() instead.`);r[t.name]=e,this.checkTensorForDisposal(t.name,t,r,n,o,i,a)}}return null==this.parent&&n.dispose(o),t.map((e=>O(e,r,n)))}))}getFrozenTensorIds(e){const t=[].concat.apply([],Object.keys(e).map((t=>e[t])).map((e=>e.map((e=>e.id)))));return new Set(t)}checkTensorForDisposal(e,t,n,r,i,o,a){"control"!==t.category&&-1===o.indexOf(e)&&(n[e].forEach((e=>{null!=e&&(a[e.id]=(a[e.id]||0)+t.children.length)})),t.inputs.forEach((e=>{if("control"!==e.category){const o=function(e,t,n){return t[A(e,n.currentContextId)]}(e.name,n,r);null!=o&&o.forEach((e=>{if(e&&!e.kept&&!i.has(e.id)){const n=a[e.id];if(1===n){if(this.keepTensorForDebug){const[n,i]=P(t.name,r);this.intermediateTensors[n]||(this.intermediateTensors[n]=[]),this.intermediateTensors[n][i]=e}else e.dispose();delete a[e.id]}else null!=n&&a[e.id]--}}))}})))}async executeAsync(e,t){return this._executeAsync(e,t)}disposeIntermediateTensors(){this.intermediateTensors&&(Object.keys(this.intermediateTensors).forEach((e=>this.intermediateTensors[e].forEach((e=>e.dispose())))),this.disposeTensorsMap())}disposeTensorsMap(){this.tensorsMap&&Object.keys(this.tensorsMap).forEach((e=>{this.tensorsMap[e].forEach((e=>{!e||e.kept||e.isDisposed||this.keepIds.has(e.id)||e.dispose()}))}))}getIntermediateTensors(){return this.tensorsMap}resetIntermediateTensors(){for(const e in this.intermediateTensors)this.intermediateTensors[e].forEach((e=>e.dispose())),delete this.intermediateTensors[e]}async _executeAsync(e,t,n=!1,r={},i={}){n||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),t=this.mapOutputs(t),this.checkOutputs(t));try{this.keepTensorForDebug=(0,S.env)().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(c){console.warn(c.message)}this.resetIntermediateTensors();const o=new ir(this.weightMap,r,i,this.functionExecutorMap);this.tensorsMap=await this.executeWithControlFlow(e,o,t,n);const a=t.map((e=>O(e,this.tensorsMap,o))),s=a.map((e=>e.id)),l=Object.keys(e).map((t=>e[t].id));return this.keepIds=new Set([...s,...l,...this.weightIds]),this.keepTensorForDebug||this.disposeTensorsMap(),null==this.parent&&o.dispose(this.keepIds),a}async executeFunctionAsync(e,t,n){const r=e.reduce(((e,t,n)=>(e[this.inputs[n].name]=t,e)),{});return this._executeAsync(r,this.outputNodes,!0,t,n)}async executeWithControlFlow(e,t,n,r){const i=Object.keys(e),o=i.map((e=>this.graph.nodes[I(e)[0]])),a=n.map((e=>I(e)[0]));let s=a.map((e=>this.graph.nodes[e]));0===s.length&&(s=this._outputs);const{usedNodes:l,missingInputs:c,dynamicNode:u,syncInputs:d}=or(e,s,this.weightMap,this._initNodes),p=[...o,...this.graph.weights,...this._initNodes||[]].map((e=>({node:e,contexts:t.currentContext}))),f=Object.assign({},this.weightMap);Object.keys(e).forEach((t=>{const[n,r]=I(t),i=[];i[r]=e[t],f[n]=i}));const h={},m=this.getFrozenTensorIds(f),g={};for(;p.length>0;){const e=this.processStack(o,p,t,f,g,m,a,h,l);await Promise.all(e)}null!=u||r||console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const v=s.filter((e=>!cr(e)&&!O(e.name,f,t))).map((e=>e.name));if(v.length>0){let e="";throw null!=u&&(e=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${d}]`),new Error(`Cannot compute the outputs [${v}] from the provided inputs [${i}]. Consider providing the following inputs: [${c}]. ${e}`)}return f}processStack(e,t,n,r,i,o,a,s,l){const c=[];for(;t.length>0;){const e=t.pop();n.currentContext=e.contexts;let u="";if("Enter"===e.node.op&&C("isConstant",e.node,r,n)&&([u]=P(e.node.name,n)),null==r[e.node.name]){const d=rr(e.node,r,n,this._resourceManager);u||([u]=P(e.node.name,n));const p=n.currentContext;S.util.isPromise(d)?c.push(d.then((c=>(r[u]=c,n.currentContext=p,this.checkTensorForDisposal(u,e.node,r,n,o,a,s),this.processChildNodes(e.node,t,n,r,i,l),c)))):(r[u]=d,this.checkTensorForDisposal(u,e.node,r,n,o,a,s),this.processChildNodes(e.node,t,n,r,i,l))}else this.processChildNodes(e.node,t,n,r,i,l)}return c}processChildNodes(e,t,n,r,i,o){e.children.forEach((e=>{const[a]=P(e.name,n);!i[a]&&o.has(e.name)&&("Merge"===e.op?e.inputNames.some((e=>!!O(e,r,n)))&&(i[a]=!0,t.push({contexts:n.currentContext,node:e})):e.inputNames.every((e=>!!O(e,r,n)))&&(i[a]=!0,t.push({contexts:n.currentContext,node:e})))}))}dispose(){Object.keys(this.weightMap).forEach((e=>this.weightMap[e].forEach((e=>e.dispose()))))}checkInputShapeAndType(e){Object.keys(e).forEach((t=>{const n=e[t],[r]=I(t),i=this.graph.nodes[r];if(i.attrParams.shape&&i.attrParams.shape.value){const e=i.attrParams.shape.value,t=e.length===n.shape.length&&n.shape.every(((t,n)=>-1===e[n]||e[n]===t));S.util.assert(t,(()=>`The shape of dict['${i.name}'] provided in model.execute(dict) must be [${e}], but was [${n.shape}]`))}i.attrParams.dtype&&i.attrParams.dtype.value&&S.util.assert(n.dtype===i.attrParams.dtype.value,(()=>`The dtype of dict['${i.name}'] provided in model.execute(dict) must be ${i.attrParams.dtype.value}, but was ${n.dtype}`))}))}mapInputs(e){const t={};for(const n in e)if(null!=this._signature&&null!=this._signature.inputs&&null!=this._signature.inputs[n]){t[this._signature.inputs[n].name]=e[n]}else t[n]=e[n];return t}checkInputs(e){const t=Object.keys(e).filter((e=>{const[t]=I(e);return null==this.graph.nodes[t]}));if(t.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${t}] that are not part of graph`)}mapOutputs(e){return e.map((e=>{if(null!=this._signature&&null!=this._signature.outputs&&null!=this._signature.outputs[e]){return this._signature.outputs[e].name}return e}),{})}checkOutputs(e){e.forEach((e=>{const[t]=I(e);if(!this.graph.nodes[t])throw new Error(`The output '${e}' is not found in the graph`)}))}}class fr{constructor(e={},t={}){this.hashTableNameToHandle=e,this.hashTableMap=t}addHashTable(e,t){this.hashTableNameToHandle[e]=t.handle,this.hashTableMap[t.id]=t}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}class hr{constructor(e,t={}){this.modelUrl=e,this.loadOptions=t,this.version="n/a",null==t&&(this.loadOptions={}),this.resourceManager=new fr}get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}findIOHandler(){const e=this.modelUrl;if(null!=e.load)this.handler=e;else if(null!=this.loadOptions.requestInit)this.handler=S.io.browserHTTPRequest(e,this.loadOptions);else{const t=S.io.getLoadHandlers(e,this.loadOptions);if(0===t.length)t.push(S.io.browserHTTPRequest(e,this.loadOptions));else if(t.length>1)throw new Error(`Found more than one (${t.length}) load handlers for URL '${[e]}'`);this.handler=t[0]}}async load(){if(this.findIOHandler(),null==this.handler.load)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=await this.handler.load();return this.loadSync(e)}loadSync(e){this.artifacts=e;const t=this.artifacts.modelTopology;let n;n=null!=this.artifacts.userDefinedMetadata&&null!=this.artifacts.userDefinedMetadata.signature?this.artifacts.userDefinedMetadata.signature:this.artifacts.signature,this.signature=n,this.version=`${t.versions.producer}.${t.versions.minConsumer}`;const r=S.io.decodeWeights(this.artifacts.weightData,this.artifacts.weightSpecs);if(this.executor=new pr(J.Instance.transformGraph(t,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(r),this.executor.resourceManager=this.resourceManager,null!=e.modelInitializer&&null!=e.modelInitializer.node){const t=J.Instance.transformGraph(e.modelInitializer);this.initializer=new pr(t),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializer.executeAsync({},[])}return!0}async save(e,t){if("string"===typeof e){const t=S.io.getSaveHandlers(e);if(0===t.length)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(t.length>1)throw new Error(`Found more than one (${t.length}) save handlers for URL '${e}'`);e=t[0]}if(null==e.save)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}predict(e,t){return this.execute(e,this.outputNodes)}normalizeInputs(e){if(!(e instanceof S.Tensor)&&!Array.isArray(e))return e;if((e=Array.isArray(e)?e:[e]).length!==this.inputNodes.length)throw new Error(`Input tensor count mismatch,the graph model has ${this.inputNodes.length} placeholders, while there are ${e.length} input tensors.`);return this.inputNodes.reduce(((t,n,r)=>(t[n]=e[r],t)),{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}execute(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=this.executor.execute(e,t);return n.length>1?n:n[0]}async executeAsync(e,t){e=this.normalizeInputs(e),t=this.normalizeOutputs(t);const n=await this.executor.executeAsync(e,t);return n.length>1?n:n[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce(((t,n)=>(t[n]=[e[n]],t)),{})}dispose(){this.executor.dispose(),this.initializer&&this.initializer.dispose(),this.resourceManager.dispose()}}async function mr(e,t={}){if(null==e)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");null==t&&(t={}),t.fromTFHub&&null==e.load&&(e.endsWith("/")||(e+="/"),e=`${e}model.json?tfjs-format=file`);const n=new hr(e,t);return await n.load(),n}var gr=function(e,t){return(gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function vr(e,t){function n(){this.constructor=e}gr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var yr=function(){return(yr=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function br(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}function wr(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function xr(e){var t=e.shape[2],n=(0,S.argMax)(e,2),r=(0,S.reshape)(n,[-1]);return(0,S.oneHot)(r,t)}function Sr(e,t){return(0,S.tidy)((function(){return(0,S.cast)((0,S.greater)(e,(0,S.scalar)(t)),"int32")}))}function kr(e,t){var n=t.shape,r=n[0],i=n[1],o=n[2];return(0,S.tidy)((function(){var n=xr(t),a=(0,S.expandDims)((0,S.range)(0,o,1,"int32"),1),s=(0,S.cast)((0,S.matMul)(n,a),"int32"),l=(0,S.reshape)(s,[r,i]),c=(0,S.add)(l,(0,S.scalar)(1,"int32"));return(0,S.sub)(function(e,t){return(0,S.mul)(e,t)}(c,e),(0,S.scalar)(1,"int32"))}))}function Tr(e){var t=e.shape,n=t[0],r=t[1],i=t[2];return(0,S.tidy)((function(){var t=xr(e),o=(0,S.expandDims)((0,S.range)(0,i,1,"int32"),1),a=(0,S.cast)((0,S.matMul)(t,o),"int32");return(0,S.reshape)(a,[n,r])}))}var Er=function(){function e(e,t){this.model=e,this.outputStride=t;var n=this.model.inputs[0].shape;S.util.assert(-1===n[1]&&-1===n[2],(function(){return"Input shape ["+n[1]+", "+n[2]+"] must both be equal to or -1"}))}return e.prototype.predict=function(e){var t=this;return(0,S.tidy)((function(){var n=t.preprocessInput((0,S.cast)(e,"float32")),r=(0,S.expandDims)(n,0),i=t.model.predict(r).map((function(e){return(0,S.squeeze)(e,[0])})),o=t.nameOutputResults(i);return{heatmapScores:(0,S.sigmoid)(o.heatmap),offsets:o.offsets,displacementFwd:o.displacementFwd,displacementBwd:o.displacementBwd,segmentation:o.segmentation,partHeatmaps:o.partHeatmaps,longOffsets:o.longOffsets,partOffsets:o.partOffsets}}))},e.prototype.dispose=function(){this.model.dispose()},e}(),_r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vr(t,e),t.prototype.preprocessInput=function(e){return(0,S.tidy)((function(){return(0,S.sub)((0,S.div)(e,127.5),1)}))},t.prototype.nameOutputResults=function(e){return{offsets:e[0],segmentation:e[1],partHeatmaps:e[2],longOffsets:e[3],heatmap:e[4],displacementFwd:e[5],displacementBwd:e[6],partOffsets:e[7]}},t}(Er),Cr=["nose","leftEye","rightEye","leftEar","rightEar","leftShoulder","rightShoulder","leftElbow","rightElbow","leftWrist","rightWrist","leftHip","rightHip","leftKnee","rightKnee","leftAnkle","rightAnkle"],Or=Cr.length,Pr=Cr.reduce((function(e,t,n){return e[t]=n,e}),{});[["leftHip","leftShoulder"],["leftElbow","leftShoulder"],["leftElbow","leftWrist"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["rightHip","rightShoulder"],["rightElbow","rightShoulder"],["rightElbow","rightWrist"],["rightHip","rightKnee"],["rightKnee","rightAnkle"],["leftShoulder","rightShoulder"],["leftHip","rightHip"]].map((function(e){var t=e[0],n=e[1];return[Pr[t],Pr[n]]}));function Ar(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1],s=n.top,l=n.bottom;return[a/(n.left+n.right+i),o/(s+l+r)]}function Ir(e,t,n,r){return{y:r.get(e,t,n),x:r.get(e,t,n+Or)}}function Mr(e,t,n){var r=Ir(e.heatmapY,e.heatmapX,e.id,n),i=r.y,o=r.x;return{x:e.heatmapX*t+o,y:e.heatmapY*t+i}}function Nr(e,t,n){return e<t?t:e>n?n:e}function Rr(e,t){return{x:e.x+t.x,y:e.y+t.y}}function Dr(e,t,n){void 0===n&&(n=.3);for(var r=0,i=0,o=0;o<e.length;o++)t.keypoints[o].score>n&&(i+=1,r+=Math.pow(e[o].x-t.keypoints[o].position.x,2)+Math.pow(e[o].y-t.keypoints[o].position.y,2));return 0===i?r=1/0:r/=i,r}function Lr(e,t,n,r,i,o,a){for(var s=a[0],l=a[1],c=n(e),u=c.y*r+c.x,d=i[Or*(2*u)+t],p=i[Or*(2*u+1)+t],f=e.y+d,h=e.x+p,m=0;m<o;m++){f=Math.min(f,s-1);var g=n({x:h=Math.min(h,l-1),y:f}),v=g.y*r+g.x;f+=d=i[Or*(2*v)+t],h+=p=i[Or*(2*v+1)+t]}return{x:h,y:f}}function jr(e,t,n,r,i,o,a,s,l,c){for(var u=i[0],d=i[1],p=o[0],f=o[1],h=s[0],m=s[1],g=[],v=function(e){return function(e,t,n,r){var i=t[0],o=t[1],a=n[0],s=n[1],l=Math.round(((i+e.y+1)*s-1)/r);return{x:Math.round(((o+e.x+1)*a-1)/r),y:l}}(e,[u,d],[p,f],l)},y=0;y<r;y++){var b=Lr(e,y,v,a,t,c,[h,m]);g.push(b)}for(var w=-1,x=1/0,S=0;S<n.length;S++){var k=Dr(g,n[S]);k<x&&(w=S,x=k)}return w}function Br(e,t){var n=e[0],r=e[1];return[Math.round((r-1)/t+1),Math.round((n-1)/t+1)]}function Fr(e,t,n,r,i,o,a,s,l,c,u){for(var d=a[0],p=a[1],f=e.shape,h=f[0],m=f[1],g=t.shape.slice(0,2),v=g[0],y=g[1],b=(0,S.reshape)(t,[v,y,2,Or]),w=new Float32Array(u*Or*3).fill(0),x=0;x<n.length;x++)for(var k=x*Or*3,T=n[x],E=0;E<Or;E++){var _=T.keypoints[E],C=k+3*E;w[C]=_.score,w[C+1]=_.position.y,w[C+2]=_.position.x}var O=Ar([r,i],[d,p],s),P=O[0],A=O[1],I=(0,S.tensor)(w,[u,Or,3]),M=s.top,N=s.left,R={variableNames:["segmentation","longOffsets","poses"],outputShape:[h,m],userCode:"\n    int convertToPositionInOutput(int pos, int pad, float scale, int stride) {\n      return round(((float(pos + pad) + 1.0) * scale - 1.0) / float(stride));\n    }\n\n    float convertToPositionInOutputFloat(\n        int pos, int pad, float scale, int stride) {\n      return ((float(pos + pad) + 1.0) * scale - 1.0) / float(stride);\n    }\n\n    float dist(float x1, float y1, float x2, float y2) {\n      return pow(x1 - x2, 2.0) + pow(y1 - y2, 2.0);\n    }\n\n    float sampleLongOffsets(float h, float w, int d, int k) {\n      float fh = fract(h);\n      float fw = fract(w);\n      int clH = int(ceil(h));\n      int clW = int(ceil(w));\n      int flH = int(floor(h));\n      int flW = int(floor(w));\n      float o11 = getLongOffsets(flH, flW, d, k);\n      float o12 = getLongOffsets(flH, clW, d, k);\n      float o21 = getLongOffsets(clH, flW, d, k);\n      float o22 = getLongOffsets(clH, clW, d, k);\n      float o1 = mix(o11, o12, fw);\n      float o2 = mix(o21, o22, fw);\n      return mix(o1, o2, fh);\n    }\n\n    int findNearestPose(int h, int w) {\n      float prob = getSegmentation(h, w);\n      if (prob < 1.0) {\n        return -1;\n      }\n\n      // Done(Tyler): convert from output space h/w to strided space.\n      float stridedH = convertToPositionInOutputFloat(\n        h, "+M+", "+A+", "+o+");\n      float stridedW = convertToPositionInOutputFloat(\n        w, "+N+", "+P+", "+o+");\n\n      float minDist = 1000000.0;\n      int iMin = -1;\n      for (int i = 0; i < "+u+"; i++) {\n        float curDistSum = 0.0;\n        int numKpt = 0;\n        for (int k = 0; k < "+Or+"; k++) {\n          float dy = sampleLongOffsets(stridedH, stridedW, 0, k);\n          float dx = sampleLongOffsets(stridedH, stridedW, 1, k);\n\n          float y = float(h) + dy;\n          float x = float(w) + dx;\n\n          for (int s = 0; s < "+l+"; s++) {\n            int yRounded = round(min(y, float("+(r-1)+")));\n            int xRounded = round(min(x, float("+(i-1)+")));\n\n            float yStrided = convertToPositionInOutputFloat(\n              yRounded, "+M+", "+A+", "+o+");\n            float xStrided = convertToPositionInOutputFloat(\n              xRounded, "+N+", "+P+", "+o+");\n\n            float dy = sampleLongOffsets(yStrided, xStrided, 0, k);\n            float dx = sampleLongOffsets(yStrided, xStrided, 1, k);\n\n            y = y + dy;\n            x = x + dx;\n          }\n\n          float poseScore = getPoses(i, k, 0);\n          float poseY = getPoses(i, k, 1);\n          float poseX = getPoses(i, k, 2);\n          if (poseScore > "+c+") {\n            numKpt = numKpt + 1;\n            curDistSum = curDistSum + dist(x, y, poseX, poseY);\n          }\n        }\n        if (numKpt > 0 && curDistSum / float(numKpt) < minDist) {\n          minDist = curDistSum / float(numKpt);\n          iMin = i;\n        }\n      }\n      return iMin;\n    }\n\n    void main() {\n        ivec2 coords = getOutputCoords();\n        int nearestPose = findNearestPose(coords[0], coords[1]);\n        setOutput(float(nearestPose));\n      }\n  "};return(0,S.backend)().compileAndRun(R,[e,b,I])}function Ur(){return"webgl"===(0,S.getBackend)()}function $r(e,t,n,r,i,o,a,s,l,c,u,d){var p=a[0],f=a[1];return void 0===l&&(l=.2),void 0===c&&(c=8),void 0===u&&(u=.3),void 0===d&&(d=10),br(this,void 0,void 0,(function(){var a,h,m,g,v;return wr(this,(function(y){switch(y.label){case 0:return a=n.filter((function(e){return e.score>=l})),Ur()?(m=(0,S.tidy)((function(){var n=Fr(e,t,a,r,i,o,[p,f],s,c,u,d),l=(0,S.engine)().makeTensorFromDataId(n.dataId,n.shape,n.dtype);return a.map((function(e,t){return function(e,t){return(0,S.tidy)((function(){return(0,S.cast)((0,S.equal)(e,(0,S.scalar)(t)),"int32")}))}(l,t)}))})),[4,Promise.all(m.map((function(e){return e.data()})))]):[3,2];case 1:return h=y.sent(),m.forEach((function(e){return e.dispose()})),[3,5];case 2:return[4,e.data()];case 3:return g=y.sent(),[4,t.data()];case 4:v=y.sent(),h=function(e,t,n,r,i,o,a,s,l,c){var u=a[0],d=a[1];void 0===c&&(c=5);for(var p=n.map((function(e){return new Uint8Array(r*i).fill(0)})),f=s.top,h=s.left,m=Ar([r,i],[u,d],s),g=m[0],v=m[1],y=Br([u,d],o)[0],b=0;b<r;b+=1)for(var w=0;w<i;w+=1){var x=b*i+w;if(1===e[x]){var S=jr({x:w,y:b},t,n,c,[f,h],[g,v],y,[r,i],o,l);S>=0&&(p[S][x]=1)}}return p}(g,v,a,r,i,o,[p,f],s,c),y.label=5;case 5:return[2,h.map((function(e,t){return{data:e,pose:a[t],width:i,height:r}}))]}}))}))}function Hr(e,t,n,r,i,o,a,s,l,c,u,d,p){var f=s[0],h=s[1];return void 0===c&&(c=.2),void 0===u&&(u=8),void 0===d&&(d=.3),void 0===p&&(p=10),br(this,void 0,void 0,(function(){var s,m,g,v,y,b;return wr(this,(function(w){switch(w.label){case 0:return s=r.filter((function(e){return e.score>=c})),Ur()?(g=(0,S.tidy)((function(){var r=Fr(e,t,s,i,o,a,[f,h],l,u,d,p),c=(0,S.engine)().makeTensorFromDataId(r.dataId,r.shape,r.dtype);return s.map((function(e,t){return function(e,t,n){return(0,S.tidy)((function(){return(0,S.sub)((0,S.mul)((0,S.cast)((0,S.equal)(e,(0,S.scalar)(n)),"int32"),(0,S.add)(t,1)),1)}))}(c,n,t)}))})),[4,Promise.all(g.map((function(e){return e.data()})))]):[3,2];case 1:return m=w.sent(),g.forEach((function(e){return e.dispose()})),[3,6];case 2:return[4,e.data()];case 3:return v=w.sent(),[4,t.data()];case 4:return y=w.sent(),[4,n.data()];case 5:b=w.sent(),m=function(e,t,n,r,i,o,a,s,l,c,u){var d=s[0],p=s[1];void 0===u&&(u=5);for(var f=r.map((function(e){return new Int32Array(i*o).fill(-1)})),h=l.top,m=l.left,g=Ar([i,o],[d,p],l),v=g[0],y=g[1],b=Br([d,p],a)[0],w=0;w<i;w+=1)for(var x=0;x<o;x+=1){var S=w*o+x;if(1===e[S]){var k=jr({x,y:w},t,r,u,[h,m],[v,y],b,[i,o],a,c);k>=0&&(f[k][S]=n[S])}}return f}(v,y,b,s,i,o,a,[f,h],l,u),w.label=6;case 6:return[2,m.map((function(e,t){return{pose:s[t],data:e,height:i,width:o}}))]}}))}))}function Gr(e){return Math.floor(e/2)}var Vr=function(){function e(e,t){this.priorityQueue=new Array(e),this.numberOfElements=-1,this.getElementValue=t}return e.prototype.enqueue=function(e){this.priorityQueue[++this.numberOfElements]=e,this.swim(this.numberOfElements)},e.prototype.dequeue=function(){var e=this.priorityQueue[0];return this.exchange(0,this.numberOfElements--),this.sink(0),this.priorityQueue[this.numberOfElements+1]=null,e},e.prototype.empty=function(){return-1===this.numberOfElements},e.prototype.size=function(){return this.numberOfElements+1},e.prototype.all=function(){return this.priorityQueue.slice(0,this.numberOfElements+1)},e.prototype.max=function(){return this.priorityQueue[0]},e.prototype.swim=function(e){for(;e>0&&this.less(Gr(e),e);)this.exchange(e,Gr(e)),e=Gr(e)},e.prototype.sink=function(e){for(;2*e<=this.numberOfElements;){var t=2*e;if(t<this.numberOfElements&&this.less(t,t+1)&&t++,!this.less(e,t))break;this.exchange(e,t),e=t}},e.prototype.getValueAt=function(e){return this.getElementValue(this.priorityQueue[e])},e.prototype.less=function(e,t){return this.getValueAt(e)<this.getValueAt(t)},e.prototype.exchange=function(e,t){var n=this.priorityQueue[e];this.priorityQueue[e]=this.priorityQueue[t],this.priorityQueue[t]=n},e}();function zr(e,t,n,r,i,o){for(var a=o.shape,s=a[0],l=a[1],c=!0,u=Math.max(n-i,0),d=Math.min(n+i+1,s),p=u;p<d;++p){for(var f=Math.max(r-i,0),h=Math.min(r+i+1,l),m=f;m<h;++m)if(o.get(p,m,e)>t){c=!1;break}if(!c)break}return c}var Wr=[["nose","leftEye"],["leftEye","leftEar"],["nose","rightEye"],["rightEye","rightEar"],["nose","leftShoulder"],["leftShoulder","leftElbow"],["leftElbow","leftWrist"],["leftShoulder","leftHip"],["leftHip","leftKnee"],["leftKnee","leftAnkle"],["nose","rightShoulder"],["rightShoulder","rightElbow"],["rightElbow","rightWrist"],["rightShoulder","rightHip"],["rightHip","rightKnee"],["rightKnee","rightAnkle"]].map((function(e){var t=e[0],n=e[1];return[Pr[t],Pr[n]]})),Kr=Wr.map((function(e){return e[1]})),qr=Wr.map((function(e){return e[0]}));function Xr(e,t,n,r){return{y:Nr(Math.round(e.y/t),0,n-1),x:Nr(Math.round(e.x/t),0,r-1)}}function Zr(e,t,n,r,i,o,a,s){void 0===s&&(s=2);for(var l=r.shape,c=l[0],u=l[1],d=function(e,t,n){var r=n.shape[2]/2;return{y:n.get(t.y,t.x,e),x:n.get(t.y,t.x,r+e)}}(e,Xr(t.position,o,c,u),a),p=Rr(t.position,d),f=0;f<s;f++){var h=Xr(p,o,c,u),m=Ir(h.y,h.x,n,i);p=Rr({x:h.x*o,y:h.y*o},{x:m.x,y:m.y})}var g=Xr(p,o,c,u),v=r.get(g.y,g.x,n);return{position:p,part:Cr[n],score:v}}function Yr(e,t,n,r,i,o){var a=t.shape[2],s=Kr.length,l=new Array(a),c=e.part,u=e.score,d=Mr(c,r,n);l[c.id]={score:u,part:Cr[c.id],position:d};for(var p=s-1;p>=0;--p){var f=Kr[p],h=qr[p];l[f]&&!l[h]&&(l[h]=Zr(p,l[f],h,t,n,r,o))}for(p=0;p<s;++p)f=qr[p],h=Kr[p],l[f]&&!l[h]&&(l[h]=Zr(p,l[f],h,t,n,r,i));return l}function Qr(e,t,n,r){var i=n.x,o=n.y;return e.some((function(e){var n=e.keypoints[r].position;return function(e,t,n,r){var i=n-e,o=r-t;return i*i+o*o}(o,i,n.y,n.x)<=t}))}function Jr(e,t,n){return n.reduce((function(n,r,i){var o=r.position,a=r.score;return Qr(e,t,o,i)||(n+=a),n}),0)/n.length}function ei(e,t,n,r,i,o,a,s){void 0===a&&(a=.5),void 0===s&&(s=20);for(var l=[],c=function(e,t,n){for(var r=n.shape,i=r[0],o=r[1],a=r[2],s=new Vr(i*o*a,(function(e){return e.score})),l=0;l<i;++l)for(var c=0;c<o;++c)for(var u=0;u<a;++u){var d=n.get(l,c,u);d<e||zr(u,d,l,c,t,n)&&s.enqueue({score:d,part:{heatmapY:l,heatmapX:c,id:u}})}return s}(a,1,e),u=s*s;l.length<o&&!c.empty();){var d=c.dequeue();if(!Qr(l,u,Mr(d.part,i,t),d.part.id)){var p=Yr(d,e,t,i,n,r),f=Jr(l,u,p);l.push({keypoints:p,score:f})}}return l}var ti,ni=[-123.15,-115.9,-103.06],ri=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return vr(t,e),t.prototype.preprocessInput=function(e){return(0,S.add)(e,ni)},t.prototype.nameOutputResults=function(e){var t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5];return{offsets:o,segmentation:e[6],partHeatmaps:a,longOffsets:i,heatmap:r,displacementFwd:n,displacementBwd:t,partOffsets:e[7]}},t}(Er),ii="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/resnet50/",oi="https://storage.googleapis.com/tfjs-models/savedmodel/bodypix/mobilenet/";function ai(e){if("undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas||"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement)return function(e){if("offsetHeight"in e&&0!==e.offsetHeight&&"offsetWidth"in e&&0!==e.offsetWidth)return[e.offsetHeight,e.offsetWidth];if(null!=e.height&&null!=e.width)return[e.height,e.width];throw new Error("HTMLImageElement must have height and width attributes set.")}(e);if("undefined"!=typeof ImageData&&e instanceof ImageData)return[e.height,e.width];if("undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement)return function(e){return e.hasAttribute("height")&&e.hasAttribute("width")?[e.height,e.width]:[e.videoHeight,e.videoWidth]}(e);if(e instanceof S.Tensor)return[e.shape[0],e.shape[1]];throw new Error("error: Unknown input type: "+e+".")}function si(e,t){return function(e,t){return(e-1)%t==0}(e,t)?e:Math.floor(e/t)*t+1}var li={low:"low",medium:"medium",high:"high",full:"full"},ci=((ti={})[li.low]=.25,ti[li.medium]=.5,ti[li.high]=.75,ti[li.full]=1,ti);function ui(e,t,n){var r=n[0],i=n[1],o=function(e){if("string"==typeof e){var t=ci[e];return S.util.assert("number"==typeof t,(function(){return"string value of inputResolution must be one of "+Object.values(li).join(",")+" but was "+e+"."})),t}return S.util.assert("number"==typeof e&&e<=2&&e>=.1,(function(){return"inputResolution must be a string or number between 0.1 and 2, but was "+e})),e}(e);return[si(r*o,t),si(i*o,t)]}function di(e,t,n,r,i){var o=t[0],a=t[1],s=n[0],l=n[1],c=r[0],u=c[0],d=c[1],p=r[1],f=p[0],h=p[1];return void 0===i&&(i=!1),(0,S.tidy)((function(){var t=S.image.resizeBilinear(e,[s,l],!0);return i&&(t=(0,S.sigmoid)(t)),function(e,t,n){var r=t[0],i=t[1],o=n[0],a=o[0],s=o[1],l=n[1],c=l[0],u=l[1];return(0,S.tidy)((function(){var t=(0,S.expandDims)(e);return(0,S.squeeze)(S.image.cropAndResize(t,[[a/(r+a+s-1),c/(i+c+u-1),(a+r-1)/(r+a+s-1),(c+i-1)/(i+c+u-1)]],[0],[r,i]),[0])}))}(t,[o,a],[[u,d],[f,h]])}))}function pi(e,t){var n=t[0],r=t[1],i=ai(e),o=i[0],a=i[1],s=r/n,l=[0,0,0,0],c=l[0],u=l[1],d=l[2],p=l[3];return a/o<s?(c=0,u=0,d=Math.round(.5*(s*o-a)),p=Math.round(.5*(s*o-a))):(c=Math.round(.5*(1/s*a-o)),u=Math.round(.5*(1/s*a-o)),d=0,p=0),{resized:(0,S.tidy)((function(){var t=function(e){return e instanceof S.Tensor?e:S.browser.fromPixels(e)}(e);return t=(0,S.pad3d)(t,[[c,u],[d,p],[0,0]]),S.image.resizeBilinear(t,[n,r])})),padding:{top:c,left:d,right:p,bottom:u}}}function fi(e){return br(this,void 0,void 0,(function(){return wr(this,(function(t){return[2,Promise.all(e.map((function(e){return e.buffer()})))]}))}))}function hi(e,t,n,r,i){var o=t[0],a=t[1],s=n[0],l=n[1],c=function(e,t,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),1===n&&1===t&&0===r&&0===i?e:e.map((function(e){return function(e,t,n,r,i){return void 0===r&&(r=0),void 0===i&&(i=0),{score:e.score,keypoints:e.keypoints.map((function(e){var o=e.score,a=e.part,s=e.position;return{score:o,part:a,position:{x:s.x*n+i,y:s.y*t+r}}}))}}(e,t,n,r,i)}))}(e,(o+r.top+r.bottom)/s,(a+r.left+r.right)/l,-r.top,-r.left);return i?function(e,t){return t<=0?e:e.map((function(e){return function(e,t){return{score:e.score,keypoints:e.keypoints.map((function(e){var n=e.score,r=e.part,i=e.position;return{score:n,part:r,position:{x:t-1-i.x,y:i.y}}}))}}(e,t)}))}(c,a):c}var mi=!0,gi=!1,vi={architecture:"MobileNetV1",outputStride:16,quantBytes:4,multiplier:.75},yi=["MobileNetV1","ResNet50"],bi={MobileNetV1:[8,16,32],ResNet50:[32,16]},wi={MobileNetV1:[.5,.75,1],ResNet50:[1]},xi=[1,2,4];var Si={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20},ki={flipHorizontal:!1,internalResolution:"medium",segmentationThreshold:.7,maxDetections:10,scoreThreshold:.4,nmsRadius:20,minKeypointScore:.3,refineSteps:10};function Ti(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,i=e.nmsRadius;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".")}function Ei(e){var t=e.segmentationThreshold,n=e.maxDetections,r=e.scoreThreshold,i=e.nmsRadius,o=e.minKeypointScore,a=e.refineSteps;if(t<0||t>1)throw new Error("segmentationThreshold "+t+". Should be in range [0.0, 1.0]");if(n<=0)throw new Error("Invalid maxDetections "+n+". Should be > 0");if(r<0||r>1)throw new Error("Invalid scoreThreshold "+r+". Should be in range [0.0, 1.0]");if(i<=0)throw new Error("Invalid nmsRadius "+i+".");if(o<0||o>1)throw new Error("Invalid minKeypointScore "+o+".Should be in range [0.0, 1.0]");if(a<=0||a>20)throw new Error("Invalid refineSteps "+a+".Should be in range [1, 20]")}var _i=function(){function e(e){this.baseModel=e}return e.prototype.predictForPersonSegmentation=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForPersonSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,partHeatmapLogits:t.partHeatmaps,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd}},e.prototype.predictForMultiPersonInstanceSegmentationAndPart=function(e){var t=this.baseModel.predict(e);return{segmentLogits:t.segmentation,longOffsets:t.longOffsets,heatmapScores:t.heatmapScores,offsets:t.offsets,displacementFwd:t.displacementFwd,displacementBwd:t.displacementBwd,partHeatmaps:t.partHeatmaps}},e.prototype.segmentPersonActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var i=ai(e),o=i[0],a=i[1],s=ui(t,this.baseModel.outputStride,[o,a]),l=pi(e,s),c=l.resized,u=l.padding,d=(0,S.tidy)((function(){var e=r.predictForPersonSegmentation(c),t=e.segmentLogits,i=e.heatmapScores,s=e.offsets,l=e.displacementFwd,d=e.displacementBwd,p=c.shape,f=p[0],h=p[1],m=di(t,[o,a],[f,h],[[u.top,u.bottom],[u.left,u.right]],mi);return{segmentation:Sr((0,S.squeeze)(m),n),heatmapScores:i,offsets:s,displacementFwd:l,displacementBwd:d}})),p=d.segmentation,f=d.heatmapScores,h=d.offsets,m=d.displacementFwd,g=d.displacementBwd;return c.dispose(),{segmentation:p,heatmapScores:f,offsets:h,displacementFwd:m,displacementBwd:g,padding:u,internalResolutionHeightAndWidth:s}},e.prototype.segmentPerson=function(e,t){return void 0===t&&(t=Si),br(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,u,d,p,f,h,m,g,v,y,b;return wr(this,(function(w){switch(w.label){case 0:return Ti(t=yr(yr({},Si),t)),n=this.segmentPersonActivation(e,t.internalResolution,t.segmentationThreshold),r=n.segmentation,i=n.heatmapScores,o=n.offsets,a=n.displacementFwd,s=n.displacementBwd,l=n.padding,c=n.internalResolutionHeightAndWidth,u=r.shape,d=u[0],p=u[1],[4,r.data()];case 1:return f=w.sent(),r.dispose(),[4,fi([i,o,a,s])];case 2:return h=w.sent(),m=h[0],g=h[1],v=h[2],y=h[3],b=hi(b=ei(m,g,v,y,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[d,p],c,l,gi),i.dispose(),o.dispose(),a.dispose(),s.dispose(),[2,{height:d,width:p,data:f,allPoses:b}]}}))}))},e.prototype.segmentMultiPerson=function(e,t){return void 0===t&&(t=ki),br(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,u,d,p,f,h,m,g,v,y,b,w,x,k,T=this;return wr(this,(function(E){switch(E.label){case 0:return Ei(t=yr(yr({},ki),t)),n=ai(e),r=n[0],i=n[1],o=ui(t.internalResolution,this.baseModel.outputStride,[r,i]),a=pi(e,o),s=a.resized,l=a.padding,c=(0,S.tidy)((function(){var e,n=T.predictForMultiPersonInstanceSegmentationAndPart(s),a=n.segmentLogits,c=n.longOffsets,u=n.heatmapScores,d=n.offsets,p=n.displacementFwd,f=n.displacementBwd,h=di(a,[r,i],o,[[l.top,l.bottom],[l.left,l.right]],mi);return e=c,{segmentation:Sr((0,S.squeeze)(h),t.segmentationThreshold),longOffsets:e,heatmapScoresRaw:u,offsetsRaw:d,displacementFwdRaw:p,displacementBwdRaw:f}})),u=c.segmentation,d=c.longOffsets,p=c.heatmapScoresRaw,f=c.offsetsRaw,h=c.displacementFwdRaw,m=c.displacementBwdRaw,[4,fi([p,f,h,m])];case 1:return g=E.sent(),v=g[0],y=g[1],b=g[2],w=g[3],x=hi(x=ei(v,y,b,w,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,i],o,l,gi),[4,$r(u,d,x,r,i,this.baseModel.outputStride,o,l,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return k=E.sent(),s.dispose(),u.dispose(),d.dispose(),p.dispose(),f.dispose(),h.dispose(),m.dispose(),[2,k]}}))}))},e.prototype.segmentPersonPartsActivation=function(e,t,n){var r=this;void 0===n&&(n=.5);var i=ai(e),o=i[0],a=i[1],s=ui(t,this.baseModel.outputStride,[o,a]),l=pi(e,s),c=l.resized,u=l.padding,d=(0,S.tidy)((function(){var e=r.predictForPersonSegmentationAndPart(c),t=e.segmentLogits,i=e.partHeatmapLogits,s=e.heatmapScores,l=e.offsets,d=e.displacementFwd,p=e.displacementBwd,f=c.shape,h=f[0],m=f[1],g=di(t,[o,a],[h,m],[[u.top,u.bottom],[u.left,u.right]],mi),v=di(i,[o,a],[h,m],[[u.top,u.bottom],[u.left,u.right]],mi);return{partSegmentation:kr(Sr((0,S.squeeze)(g),n),v),heatmapScores:s,offsets:l,displacementFwd:d,displacementBwd:p}})),p=d.partSegmentation,f=d.heatmapScores,h=d.offsets,m=d.displacementFwd,g=d.displacementBwd;return c.dispose(),{partSegmentation:p,heatmapScores:f,offsets:h,displacementFwd:m,displacementBwd:g,padding:u,internalResolutionHeightAndWidth:s}},e.prototype.segmentPersonParts=function(e,t){return void 0===t&&(t=Si),br(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,u,d,p,f,h,m,g,v,y,b;return wr(this,(function(w){switch(w.label){case 0:return Ti(t=yr(yr({},Si),t)),n=this.segmentPersonPartsActivation(e,t.internalResolution,t.segmentationThreshold),r=n.partSegmentation,i=n.heatmapScores,o=n.offsets,a=n.displacementFwd,s=n.displacementBwd,l=n.padding,c=n.internalResolutionHeightAndWidth,u=r.shape,d=u[0],p=u[1],[4,r.data()];case 1:return f=w.sent(),r.dispose(),[4,fi([i,o,a,s])];case 2:return h=w.sent(),m=h[0],g=h[1],v=h[2],y=h[3],b=hi(b=ei(m,g,v,y,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[d,p],c,l,gi),i.dispose(),o.dispose(),a.dispose(),s.dispose(),[2,{height:d,width:p,data:f,allPoses:b}]}}))}))},e.prototype.segmentMultiPersonParts=function(e,t){return void 0===t&&(t=ki),br(this,void 0,void 0,(function(){var n,r,i,o,a,s,l,c,u,d,p,f,h,m,g,v,y,b,w,x,k,T,E=this;return wr(this,(function(_){switch(_.label){case 0:return Ei(t=yr(yr({},ki),t)),n=ai(e),r=n[0],i=n[1],o=ui(t.internalResolution,this.baseModel.outputStride,[r,i]),a=pi(e,o),s=a.resized,l=a.padding,c=(0,S.tidy)((function(){var e=E.predictForMultiPersonInstanceSegmentationAndPart(s),n=e.segmentLogits,a=e.longOffsets,c=e.heatmapScores,u=e.offsets,d=e.displacementFwd,p=e.displacementBwd,f=e.partHeatmaps,h=di(n,[r,i],o,[[l.top,l.bottom],[l.left,l.right]],mi),m=di(f,[r,i],o,[[l.top,l.bottom],[l.left,l.right]],mi),g=a;return{segmentation:Sr((0,S.squeeze)(h),t.segmentationThreshold),longOffsets:g,heatmapScoresRaw:c,offsetsRaw:u,displacementFwdRaw:d,displacementBwdRaw:p,partSegmentation:Tr(m)}})),u=c.segmentation,d=c.longOffsets,p=c.heatmapScoresRaw,f=c.offsetsRaw,h=c.displacementFwdRaw,m=c.displacementBwdRaw,g=c.partSegmentation,[4,fi([p,f,h,m])];case 1:return v=_.sent(),y=v[0],b=v[1],w=v[2],x=v[3],k=hi(k=ei(y,b,w,x,this.baseModel.outputStride,t.maxDetections,t.scoreThreshold,t.nmsRadius),[r,i],o,l,gi),[4,Hr(u,d,g,k,r,i,this.baseModel.outputStride,o,l,t.scoreThreshold,t.refineSteps,t.minKeypointScore,t.maxDetections)];case 2:return T=_.sent(),s.dispose(),u.dispose(),d.dispose(),p.dispose(),f.dispose(),h.dispose(),m.dispose(),g.dispose(),[2,T]}}))}))},e.prototype.dispose=function(){this.baseModel.dispose()},e}();function Ci(e){return br(this,void 0,void 0,(function(){var t,n,r,i,o,a;return wr(this,(function(s){switch(s.label){case 0:if(t=e.outputStride,n=e.quantBytes,r=e.multiplier,null==S)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return i=function(e,t,n){var r={1:"100",.75:"075",.5:"050"},i="model-stride"+e+".json";return 4===n?oi+"float/"+r[t]+"/"+i:oi+"quant"+n+"/"+r[t]+"/"+i}(t,r,n),[4,mr(e.modelUrl||i)];case 1:return o=s.sent(),a=new _r(o,t),[2,new _i(a)]}}))}))}function Oi(e){return br(this,void 0,void 0,(function(){var t,n,r,i,o;return wr(this,(function(a){switch(a.label){case 0:if(t=e.outputStride,n=e.quantBytes,null==S)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this\n        model.");return r=function(e,t){var n="model-stride"+e+".json";return 4===t?ii+"float/"+n:ii+"quant"+t+"/"+n}(t,n),[4,mr(e.modelUrl||r)];case 1:return i=a.sent(),o=new ri(i,t),[2,new _i(o)]}}))}))}function Pi(e){return void 0===e&&(e=vi),br(this,void 0,void 0,(function(){return wr(this,(function(t){return"ResNet50"===(e=function(e){if(null==(e=e||vi).architecture&&(e.architecture="MobileNetV1"),yi.indexOf(e.architecture)<0)throw new Error("Invalid architecture "+e.architecture+". Should be one of "+yi);if(null==e.outputStride&&(e.outputStride=16),bi[e.architecture].indexOf(e.outputStride)<0)throw new Error("Invalid outputStride "+e.outputStride+". Should be one of "+bi[e.architecture]+" for architecture "+e.architecture+".");if(null==e.multiplier&&(e.multiplier=1),wi[e.architecture].indexOf(e.multiplier)<0)throw new Error("Invalid multiplier "+e.multiplier+". Should be one of "+wi[e.architecture]+" for architecture "+e.architecture+".");if(null==e.quantBytes&&(e.quantBytes=4),xi.indexOf(e.quantBytes)<0)throw new Error("Invalid quantBytes "+e.quantBytes+". Should be one of "+xi+" for architecture "+e.architecture+".");return e}(e)).architecture?[2,Oi(e)]:"MobileNetV1"===e.architecture?[2,Ci(e)]:[2,null]}))}))}},68607:(e,t,n)=>{"use strict";var r={};n.r(r),n.d(r,{addImpl:()=>De,bincountImpl:()=>je,bincountReduceImpl:()=>Be,ceilImpl:()=>He,concatImpl:()=>Ge,equalImpl:()=>Ve,expImpl:()=>ze,expm1Impl:()=>We,floorImpl:()=>Ke,gatherNdImpl:()=>qe,gatherV2Impl:()=>Xe,greaterEqualImpl:()=>Ye,greaterImpl:()=>Ze,lessEqualImpl:()=>Je,lessImpl:()=>Qe,linSpaceImpl:()=>et,logImpl:()=>tt,maxImpl:()=>nt,maximumImpl:()=>rt,minimumImpl:()=>it,multiplyImpl:()=>ot,negImpl:()=>st,notEqualImpl:()=>lt,prodImpl:()=>ut,rangeImpl:()=>dt,rsqrtImpl:()=>pt,sigmoidImpl:()=>ft,simpleAbsImpl:()=>_e,sliceImpl:()=>ht,sparseFillEmptyRowsImpl:()=>mt,sparseReshapeImpl:()=>gt,sparseSegmentReductionImpl:()=>vt,sqrtImpl:()=>yt,squaredDifferenceImpl:()=>bt,stridedSliceImpl:()=>wt,stringNGramsImpl:()=>St,stringSplitImpl:()=>Tt,stringToHashBucketFastImpl:()=>Et,subImpl:()=>_t,tileImpl:()=>Ot,topKImpl:()=>It,transposeImpl:()=>ct,uniqueImpl:()=>Mt});var i=n(77410);const o={},a={alpha:!1,antialias:!1,premultipliedAlpha:!1,preserveDrawingBuffer:!1,depth:!1,stencil:!1,failIfMajorPerformanceCaveat:!0};function s(e,t){if(!(e in o)||null!=t){const n=function(e,t){if(1!==e&&2!==e)throw new Error("Cannot get WebGL rendering context, WebGL is disabled.");const n=null==t?function(e){if("undefined"!==typeof OffscreenCanvas&&2===e)return new OffscreenCanvas(300,150);if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}(e):t;if(n.addEventListener("webglcontextlost",(t=>{t.preventDefault(),delete o[e]}),!1),1===e)return n.getContext("webgl",a)||n.getContext("experimental-webgl",a);return n.getContext("webgl2",a)}(e,t);if(null===n)return console.log("Could not get context for WebGL version",e),null;o[e]=n}const n=o[e];return null==n||n.isContextLost()?(delete o[e],s(e)):(n.disable(n.DEPTH_TEST),n.disable(n.STENCIL_TEST),n.disable(n.BLEND),n.disable(n.DITHER),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SAMPLE_COVERAGE),n.enable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.BACK),o[e])}var l,c,u;function d(e,t){return[t,e]}function p(e){const t=i.util.sizeFromShape(e),n=Math.ceil(t/4);return i.util.sizeToSquarishShape(n)}function f(e,t){return[Math.max(1,Math.ceil(t/2)),Math.max(1,Math.ceil(e/2))]}function h(e,t){const n=e;let r,o,a,s,l,c,u,d,p,f;return 2===(0,i.env)().getNumber("WEBGL_VERSION")?(r=n.R32F,o=n.R16F,a=n.RGBA16F,s=n.RGBA32F,l=n.RED,u=4,d=1,p=n.HALF_FLOAT,f=n.FLOAT,c=n.RGBA8):(r=e.RGBA,o=e.RGBA,a=e.RGBA,s=n.RGBA,l=e.RGBA,u=4,d=4,p=null!=t?t.HALF_FLOAT_OES:null,f=e.FLOAT,c=e.RGBA),{internalFormatFloat:r,internalFormatHalfFloat:o,internalFormatPackedHalfFloat:a,internalFormatPackedFloat:s,textureFormatFloat:l,downloadTextureFormat:c,downloadUnpackNumChannels:u,defaultNumChannels:d,textureTypeHalfFloat:p,textureTypeFloat:f}}function m(e,t){const n=t();return(0,i.env)().getBool("DEBUG")&&function(e){const t=e.getError();if(t!==e.NO_ERROR)throw new Error("WebGL Error: "+function(e,t){switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return`Unknown error code ${t}`}}(e,t))}(e),n}!function(e){e[e.DENSE=0]="DENSE",e[e.SHARED_BATCH=1]="SHARED_BATCH"}(l||(l={})),function(e){e[e.RENDER=0]="RENDER",e[e.UPLOAD=1]="UPLOAD",e[e.PIXELS=2]="PIXELS",e[e.DOWNLOAD=3]="DOWNLOAD"}(c||(c={})),function(e){e[e.UNPACKED_FLOAT16=0]="UNPACKED_FLOAT16",e[e.UNPACKED_FLOAT32=1]="UNPACKED_FLOAT32",e[e.PACKED_4X1_UNSIGNED_BYTE=2]="PACKED_4X1_UNSIGNED_BYTE",e[e.PACKED_2X2_FLOAT32=3]="PACKED_2X2_FLOAT32",e[e.PACKED_2X2_FLOAT16=4]="PACKED_2X2_FLOAT16"}(u||(u={}));function g(e){return!!((0,i.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")||0===e||5.96e-8<Math.abs(e)&&Math.abs(e)<65504)}function v(e,t){return _(e,(()=>e.getExtension(t)),'Extension "'+t+'" not supported on this browser.')}function y(e,t){const n=_(e,(()=>e.createShader(e.FRAGMENT_SHADER)),"Unable to create fragment WebGLShader.");if(m(e,(()=>e.shaderSource(n,t))),m(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw function(e,t){const n=b.exec(t);if(null==n)return console.log(`Couldn't parse line number in error: ${t}`),void console.log(e);const r=+n[1],o=e.split("\n"),a=o.length.toString().length+2,s=o.map(((e,t)=>i.util.rightPad((t+1).toString(),a)+e));let l=0;for(let i=0;i<s.length;i++)l=Math.max(s[i].length,l);const c=s.slice(0,r-1),u=s.slice(r-1,r),d=s.slice(r);console.log(c.join("\n")),console.log(t.split("\n")[0]),console.log(`%c ${i.util.rightPad(u[0],l)}`,"border:1px solid red; background-color:#e3d2d2; color:#a61717"),console.log(d.join("\n"))}(t,e.getShaderInfoLog(n)),new Error("Failed to compile fragment shader.");return n}const b=/ERROR: [0-9]+:([0-9]+):/g;function w(e,t){if(m(e,(()=>e.validateProgram(t))),!1===e.getProgramParameter(t,e.VALIDATE_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Shader program validation failed.")}function x(e,t,n,r,i,o,a){const s=e.getAttribLocation(t,n);return-1!==s&&(m(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,r))),m(e,(()=>e.vertexAttribPointer(s,i,e.FLOAT,!1,o,a))),m(e,(()=>e.enableVertexAttribArray(s))),!0)}function S(e,t,n,r){m(e,(()=>function(e,t,n){C(e,n),m(e,(()=>e.activeTexture(e.TEXTURE0+n))),m(e,(()=>e.bindTexture(e.TEXTURE_2D,t)))}(e,t,r))),m(e,(()=>e.uniform1i(n,r)))}function k(e,t,n){m(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,n))),m(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,t,0)))}function T(e,t){m(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,t))),m(e,(()=>e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,null,0)))}function E(e){const t=e.checkFramebufferStatus(e.FRAMEBUFFER);if(t!==e.FRAMEBUFFER_COMPLETE)throw new Error("Error binding framebuffer: "+function(e,t){switch(t){case e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:return"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT";case e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS:return"FRAMEBUFFER_INCOMPLETE_DIMENSIONS";case e.FRAMEBUFFER_UNSUPPORTED:return"FRAMEBUFFER_UNSUPPORTED";default:return`unknown error ${t}`}}(e,t))}function _(e,t,n){const r=m(e,(()=>t()));if(null==r)throw new Error(n);return r}function C(e,t){const n=e.MAX_COMBINED_TEXTURE_IMAGE_UNITS-1,r=t+e.TEXTURE0;if(r<e.TEXTURE0||r>n){throw new Error(`textureUnit must be in ${`[gl.TEXTURE0, gl.TEXTURE${n}]`}.`)}}function O(e,t=2){return i.util.sizeFromShape(e.slice(0,e.length-t))}function P(e){if(0===e.length)throw Error("Cannot get rows and columns of an empty shape array.");return[e.length>1?e[e.length-2]:1,e[e.length-1]]}function A(e){let t=[1,1,1];return 0===e.length||1===e.length&&1===e[0]||(t=[O(e),...P(e)]),t}function I(e){return e%2===0}let M,N;function R(e,t){return null!=e.getExtension(t)}function D(e){try{if(null!=s(e))return!0}catch(t){return console.log("Error when getting WebGL context: ",t),!1}return!1}function L(e){if(0===e)return!1;const t=s(e);if(1!==e){if(R(t,"EXT_color_buffer_float"))return j(t);const e="EXT_color_buffer_half_float";if(R(t,e)){const n=t.getExtension(e);return function(e,t){const n=h(e,t),r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const i=1,o=1;e.texImage2D(e.TEXTURE_2D,0,n.internalFormatHalfFloat,i,o,0,n.textureFormatFloat,n.textureTypeHalfFloat,null);const a=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,a),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0);const s=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(r),e.deleteFramebuffer(a),s}(t,n)}return!1}if(!R(t,"OES_texture_float"))return!1;if(!R(t,"WEBGL_color_buffer_float"))return!1;return j(t)}function j(e){const t=h(e),n=e.createTexture();e.bindTexture(e.TEXTURE_2D,n);e.texImage2D(e.TEXTURE_2D,0,t.internalFormatFloat,1,1,0,t.textureFormatFloat,t.textureTypeFloat,null);const r=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,r),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0);const i=e.checkFramebufferStatus(e.FRAMEBUFFER)===e.FRAMEBUFFER_COMPLETE;return e.bindTexture(e.TEXTURE_2D,null),e.bindFramebuffer(e.FRAMEBUFFER,null),e.deleteTexture(n),e.deleteFramebuffer(r),i}const B=(0,i.env)();function F(){let e,t,n,r,o,a,s,l,c,u;return 2===(0,i.env)().getNumber("WEBGL_VERSION")?(e="#version 300 es",t="in",n="out",r="in",o="texture",a="outputColor",s="out vec4 outputColor;",l="\n      bool isnan_custom(float val) {\n        uint floatToUint = floatBitsToUint(val);\n        return (floatToUint & 0x7fffffffu) > 0x7f800000u;\n      }\n\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan_custom(val.x),\n          isnan_custom(val.y), isnan_custom(val.z), isnan_custom(val.w));\n      }\n\n      #define isnan(value) isnan_custom(value)\n    ",c="",u="\n      #define round(value) newRound(value)\n      int newRound(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 newRound(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "):(e="",t="attribute",n="varying",r="varying",o="texture2D",a="gl_FragColor",s="",l="\n      #define isnan(value) isnan_custom(value)\n      bool isnan_custom(float val) {\n        return (val > 0. || val < 1. || val == 0.) ? false : true;\n      }\n      bvec4 isnan_custom(vec4 val) {\n        return bvec4(isnan(val.x), isnan(val.y), isnan(val.z), isnan(val.w));\n      }\n    ",c="\n      uniform float INFINITY;\n\n      bool isinf(float val) {\n        return abs(val) == INFINITY;\n      }\n      bvec4 isinf(vec4 val) {\n        return equal(abs(val), vec4(INFINITY));\n      }\n    ",u="\n      int round(float value) {\n        return int(floor(value + 0.5));\n      }\n\n      ivec4 round(vec4 value) {\n        return ivec4(floor(value + vec4(0.5)));\n      }\n    "),{version:e,attribute:t,varyingVs:n,varyingFs:r,texture2D:o,output:a,defineOutput:s,defineSpecialNaN:l,defineSpecialInf:c,defineRound:u}}function U(e,t,n="index"){const r=i.util.computeStrides(t);return r.map(((t,i)=>`${`int ${e[i]} = ${n} / ${t}`}; ${i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${t}`:`index -= ${e[i]} * ${t}`};`)).join("")}function $(e,t,n="index"){const r=i.util.computeStrides(t);return r.map(((t,i)=>`${`int ${e[i]} = ${n} / outShapeStrides[${i}]`}; ${i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * outShapeStrides[${i}]`:`index -= ${e[i]} * outShapeStrides[${i}]`};`)).join("")}function H(e,t,n="index"){const r=function(e,t){const n=e.length,r=e.map((e=>`${t}[${e}]`)),i=new Array(n-1);i[n-2]=r[n-1];for(let o=n-3;o>=0;--o)i[o]=`(${i[o+1]} * ${r[o+1]})`;return i}(e.map(((e,t)=>t)),t);return r.map(((t,i)=>`${`int ${e[i]} = ${n} / ${r[i]}`}; ${i===r.length-1?`int ${e[i+1]} = ${n} - ${e[i]} * ${r[i]}`:`index -= ${e[i]} * ${r[i]}`};`)).join("")}function G(e){const t=i.util.computeStrides(e).map((e=>e.toString()));return`\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * ${t[0]} + coords.y * ${t[1]} + coords.z;\n  }\n`}B.registerFlag("HAS_WEBGL",(()=>B.getNumber("WEBGL_VERSION")>0)),B.registerFlag("WEBGL_VERSION",(()=>D(2)?2:D(1)?1:0)),B.registerFlag("WEBGL_CHECK_NUMERICAL_PROBLEMS",(()=>!1)),B.registerFlag("WEBGL_BUFFER_SUPPORTED",(()=>2===B.get("WEBGL_VERSION"))),B.registerFlag("WEBGL_CPU_FORWARD",(()=>!0)),B.registerFlag("WEBGL_FORCE_F16_TEXTURES",(()=>!1)),B.registerFlag("WEBGL_PACK",(()=>B.getBool("HAS_WEBGL"))),B.registerFlag("WEBGL_PACK_NORMALIZATION",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_CLIP",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_DEPTHWISECONV",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_BINARY_OPERATIONS",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_UNARY_OPERATIONS",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_ARRAY_OPERATIONS",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_IMAGE_OPERATIONS",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_PACK_REDUCE",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_LAZILY_UNPACK",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_CONV_IM2COL",(()=>B.getBool("WEBGL_PACK"))),B.registerFlag("WEBGL_MAX_TEXTURE_SIZE",(()=>function(e){if(null==M){const t=s(e);M=t.getParameter(t.MAX_TEXTURE_SIZE)}return M}(B.getNumber("WEBGL_VERSION")))),B.registerFlag("WEBGL_MAX_TEXTURES_IN_SHADER",(()=>function(e){if(null==N){const t=s(e);N=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS)}return Math.min(16,N)}(B.getNumber("WEBGL_VERSION")))),B.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION",(()=>{const e=B.getNumber("WEBGL_VERSION");return 0===e?0:function(e){if(0===e)return 0;let t;const n=s(e);return t=R(n,"EXT_disjoint_timer_query_webgl2")&&2===e?2:R(n,"EXT_disjoint_timer_query")?1:0,t}(e)})),B.registerFlag("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE",(()=>B.getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0&&!i.device_util.isMobile())),B.registerFlag("WEBGL_RENDER_FLOAT32_CAPABLE",(()=>function(e){if(0===e)return!1;const t=s(e);if(1===e){if(!R(t,"OES_texture_float"))return!1}else if(!R(t,"EXT_color_buffer_float"))return!1;return j(t)}(B.getNumber("WEBGL_VERSION")))),B.registerFlag("WEBGL_RENDER_FLOAT32_ENABLED",(()=>!B.getBool("WEBGL_FORCE_F16_TEXTURES")&&B.getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))),B.registerFlag("WEBGL_DOWNLOAD_FLOAT_ENABLED",(()=>L(B.getNumber("WEBGL_VERSION")))),B.registerFlag("WEBGL_FENCE_API_ENABLED",(()=>{return 2===(e=B.getNumber("WEBGL_VERSION"))&&null!=s(e).fenceSync;var e})),B.registerFlag("WEBGL_SIZE_UPLOAD_UNIFORM",(()=>B.getBool("WEBGL_RENDER_FLOAT32_ENABLED")?4:0)),B.registerFlag("WEBGL_DELETE_TEXTURE_THRESHOLD",(()=>-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_DELETE_TEXTURE_THRESHOLD must be -1 (indicating never delete) or at least 0, but got ${e}.`)})),B.registerFlag("WEBGL_FLUSH_THRESHOLD",(()=>i.device_util.isMobile()?1:-1),(e=>{if(e<0&&-1!==e)throw new Error(`WEBGL_FLUSH_THRESHOLD must be -1 (indicating never manual flush) or at least 0, but got ${e}.`)})),B.registerFlag("CPU_HANDOFF_SIZE_THRESHOLD",(()=>128)),B.registerFlag("WEBGL_USE_SHAPES_UNIFORMS",(()=>!1)),B.registerFlag("TOPK_LAST_DIM_CPU_HANDOFF_SIZE_THRESHOLD",(()=>1e5)),B.registerFlag("TOPK_K_CPU_HANDOFF_THRESHOLD",(()=>128));const V="\n  const float FLOAT_MAX = 1.70141184e38;\n  const float FLOAT_MIN = 1.17549435e-38;\n\n  lowp vec4 encode_float(highp float v) {\n    if (isnan(v)) {\n      return vec4(255, 255, 255, 255);\n    }\n\n    highp float av = abs(v);\n\n    if(av < FLOAT_MIN) {\n      return vec4(0.0, 0.0, 0.0, 0.0);\n    } else if(v > FLOAT_MAX) {\n      return vec4(0.0, 0.0, 128.0, 127.0) / 255.0;\n    } else if(v < -FLOAT_MAX) {\n      return vec4(0.0, 0.0,  128.0, 255.0) / 255.0;\n    }\n\n    highp vec4 c = vec4(0,0,0,0);\n\n    highp float e = floor(log2(av));\n    highp float m = exp2(fract(log2(av))) - 1.0;\n\n    c[2] = floor(128.0 * m);\n    m -= c[2] / 128.0;\n    c[1] = floor(32768.0 * m);\n    m -= c[1] / 32768.0;\n    c[0] = floor(8388608.0 * m);\n\n    highp float ebias = e + 127.0;\n    c[3] = floor(ebias / 2.0);\n    ebias -= c[3] * 2.0;\n    c[2] += floor(ebias) * 128.0;\n\n    c[3] += 128.0 * step(0.0, -v);\n\n    return c / 255.0;\n  }\n",{getBroadcastDims:z}=i.backend_util;function W(e,t,n){const r=[];if(e.forEach((e=>{const t=i.util.sizeFromShape(e.shapeInfo.logicalShape);if(e.shapeInfo.isUniform?r.push(`uniform float ${e.name}${t>1?`[${t}]`:""};`):(r.push(`uniform sampler2D ${e.name};`),r.push(`uniform int offset${e.name};`)),n.enableShapeUniforms){const{uniformShape:t}=re(n.packedInputs,e.shapeInfo.logicalShape,e.shapeInfo.texShape);switch(t.length){case 1:r.push(`uniform int ${e.name}Shape;`);break;case 2:r.push(`uniform ivec2 ${e.name}Shape;`);break;case 3:r.push(`uniform ivec3 ${e.name}Shape;`);break;case 4:r.push(`uniform ivec4 ${e.name}Shape;`)}r.push(`uniform ivec2 ${e.name}TexShape;`)}})),n.enableShapeUniforms){switch(t.logicalShape.length){case 1:r.push("uniform int outShape;");break;case 2:r.push("uniform ivec2 outShape;"),r.push("uniform int outShapeStrides;");break;case 3:r.push("uniform ivec3 outShape;"),r.push("uniform ivec2 outShapeStrides;");break;case 4:r.push("uniform ivec4 outShape;"),r.push("uniform ivec3 outShapeStrides;")}r.push("uniform ivec2 outTexShape;")}n.customUniforms&&n.customUniforms.forEach((e=>{r.push(`uniform ${e.type} ${e.name}${e.arrayIndex?`[${e.arrayIndex}]`:""};`)}));const o=r.join("\n"),a=e.map((e=>function(e,t,n=!1,r){let o="";o+=n?q(e,r):K(e,r);const a=e.shapeInfo.logicalShape,s=t.logicalShape;a.length<=s.length&&(o+=n?function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",a=e.shapeInfo.logicalShape.length,s=t.logicalShape.length,l=z(e.shapeInfo.logicalShape,t.logicalShape),c=ne(s),u=s-a;let d;const p=["x","y","z","w","u","v"];d=0===a?"":s<2&&l.length>=1?"coords = 0;":l.map((e=>`coords.${p[e+u]} = 0;`)).join("\n");let f="";f=s<2&&a>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${p[t+u]}`)).join(", ");let h="return outputValue;";const m=1===i.util.sizeFromShape(e.shapeInfo.logicalShape),g=1===i.util.sizeFromShape(t.logicalShape);if(1!==a||m||g){if(m&&!g)h=1===s?"\n        return vec4(outputValue.x, outputValue.x, 0., 0.);\n      ":"\n        return vec4(outputValue.x);\n      ";else if(l.length){const e=a-2,t=a-1;l.indexOf(e)>-1&&l.indexOf(t)>-1?h="return vec4(outputValue.x);":l.indexOf(e)>-1?h="return vec4(outputValue.x, outputValue.y, outputValue.x, outputValue.y);":l.indexOf(t)>-1&&(h="return vec4(outputValue.xx, outputValue.zz);")}}else h="\n      return vec4(outputValue.xy, outputValue.xy);\n    ";return`\n    vec4 ${o}() {\n      ${c} coords = getOutputCoords();\n      ${d}\n      vec4 outputValue = get${r}(${f});\n      ${h}\n    }\n  `}(e,t):function(e,t){const n=e.name,r=n.charAt(0).toUpperCase()+n.slice(1),o="get"+r+"AtOutCoords",a=t.texShape,s=e.shapeInfo.texShape,l=e.shapeInfo.logicalShape.length,c=t.logicalShape.length;if(!e.shapeInfo.isUniform&&l===c&&null==e.shapeInfo.flatOffset&&i.util.arraysEqual(s,a))return`\n      float ${o}() {\n        return sampleTexture(${n}, resultUV);\n      }\n    `;const u=ne(c),d=z(e.shapeInfo.logicalShape,t.logicalShape),p=c-l;let f;const h=["x","y","z","w","u","v"];f=0===l?"":c<2&&d.length>=1?"coords = 0;":d.map((e=>`coords.${h[e+p]} = 0;`)).join("\n");let m="";m=c<2&&l>0?"coords":e.shapeInfo.logicalShape.map(((e,t)=>`coords.${h[t+p]}`)).join(", ");return`\n    float ${o}() {\n      ${u} coords = getOutputCoords();\n      ${f}\n      return get${r}(${m});\n    }\n  `}(e,t));return o}(e,t,n.packedInputs,n.enableShapeUniforms))).join("\n"),s=t.texShape,l=F(),c=function(e){return`\n    float sampleTexture(sampler2D textureSampler, vec2 uv) {\n      return ${e.texture2D}(textureSampler, uv).r;\n    }\n  `}(l);let u,d,p=function(e){return`${e.version}\n    precision highp float;\n    precision highp int;\n    precision highp sampler2D;\n    ${e.varyingFs} vec2 resultUV;\n    ${e.defineOutput}\n    const vec2 halfCR = vec2(0.5, 0.5);\n\n    struct ivec5\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n    };\n\n    struct ivec6\n    {\n      int x;\n      int y;\n      int z;\n      int w;\n      int u;\n      int v;\n    };\n\n    uniform float NAN;\n    ${e.defineSpecialNaN}\n    ${e.defineSpecialInf}\n    ${e.defineRound}\n\n    int imod(int x, int y) {\n      return x - y * (x / y);\n    }\n\n    int idiv(int a, int b, float sign) {\n      int res = a / b;\n      int mod = imod(a, b);\n      if (sign < 0. && mod != 0) {\n        res -= 1;\n      }\n      return res;\n    }\n\n    //Based on the work of Dave Hoskins\n    //https://www.shadertoy.com/view/4djSRW\n    #define HASHSCALE1 443.8975\n    float random(float seed){\n      vec2 p = resultUV * seed;\n      vec3 p3  = fract(vec3(p.xyx) * HASHSCALE1);\n      p3 += dot(p3, p3.yzx + 19.19);\n      return fract((p3.x + p3.y) * p3.z);\n    }\n\n    ${X}\n    ${Z}\n    ${Y}\n  `}(l);t.isPacked?(u=function(e,t,n){switch(e.length){case 0:return J();case 1:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(1===r[0])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ceil(float(outTexShape[1]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.x * ${r[1]}.0);\n      }\n    `;if(1===r[1])return n?"\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ceil(float(outTexShape[0]) / 2.0));\n      }\n    ":`\n      int getOutputCoords() {\n        return 2 * int(resultUV.y * ${r[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      return 2 * (resTexRC.x * packedTexShape[1] + resTexRC.y);\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      return 2 * (resTexRC.x * ${r[1]} + resTexRC.y);\n    }\n  `}(0,t,n);case 2:return function(e,t,n){const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)];if(i.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n        return 2 * ivec2(resultUV.yx * vec2(packedTexShape[0], packedTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return 2 * ivec2(resultUV.yx * vec2(${r[0]}, ${r[1]}));\n      }\n    `;const o=Math.ceil(e[1]/2);if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n      int r = 2 * (index / ${o});\n      int c = imod(index, ${o}) * 2;\n\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n)return"\n    ivec3 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      int texelsInLogicalRow = int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec3(b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[2]/2),o=i*Math.ceil(e[1]/2);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      int b = index / ${o};\n      index -= b * ${o};\n\n      int r = 2 * (index / ${i});\n      int c = imod(index, ${i}) * 2;\n\n      return ivec3(b, r, c);\n    }\n  `}(e,t,n);default:return function(e,t,n){if(n)return"\n    ivec4 getOutputCoords() {\n      ivec2 packedTexShape = ivec2(ceil(float(outTexShape[0]) / 2.0), ceil(float(outTexShape[1]) / 2.0));\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(packedTexShape[0], packedTexShape[1]));\n      int index = resTexRC.x * packedTexShape[1] + resTexRC.y;\n\n      int texelsInLogicalRow = int(ceil(float(outShape[3]) / 2.0));\n      int texelsInBatch = texelsInLogicalRow * int(ceil(float(outShape[2]) / 2.0));\n      int texelsInBatchN = texelsInBatch * outShape[1];\n\n      int b2 = index / texelsInBatchN;\n      index -= b2 * texelsInBatchN;\n\n      int b = index / texelsInBatch;\n      index -= b * texelsInBatch;\n\n      int r = 2 * (index / texelsInLogicalRow);\n      int c = imod(index, texelsInLogicalRow) * 2;\n\n      return ivec4(b2, b, r, c);\n    }\n  ";const r=[Math.ceil(t[0]/2),Math.ceil(t[1]/2)],i=Math.ceil(e[e.length-1]/2),o=i*Math.ceil(e[e.length-2]/2);let a=o,s="",l="b, r, c";for(let c=2;c<e.length-1;c++)a*=e[e.length-c-1],s=`\n      int b${c} = index / ${a};\n      index -= b${c} * ${a};\n    `+s,l=`b${c}, `+l;return`\n    ivec${e.length} getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${r[0]}, ${r[1]}));\n      int index = resTexRC.x * ${r[1]} + resTexRC.y;\n\n      ${s}\n\n      int b = index / ${o};\n      index -= b * ${o};\n\n      int r = 2 * (index / ${i});\n      int c = imod(index, ${i}) * 2;\n\n      return ivec${e.length}(${l});\n    }\n  `}(e,t,n)}}(t.logicalShape,s,n.enableShapeUniforms),d=function(e){return`\n    void setOutput(vec4 val) {\n      ${e.output} = val;\n    }\n  `}(l)):(u=function(e,t,n){switch(e.length){case 0:return J();case 1:return function(e,t,n){if(1===t[0])return n?"\n      int getOutputCoords() {\n        return int(resultUV.x * float(outTexShape[1]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.x * ${t[1]}.0);\n      }\n    `;if(1===t[1])return n?"\n      int getOutputCoords() {\n        return int(resultUV.y * float(outTexShape[0]));\n      }\n    ":`\n      int getOutputCoords() {\n        return int(resultUV.y * ${t[0]}.0);\n      }\n    `;if(n)return"\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      return resTexRC.x * outTexShape[1] + resTexRC.y;\n    }\n  ";return`\n    int getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      return resTexRC.x * ${t[1]} + resTexRC.y;\n    }\n  `}(0,t,n);case 2:return function(e,t,n){if(i.util.arraysEqual(e,t))return n?"\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(outTexShape[0], outTexShape[1]));\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        return ivec2(resultUV.yx * vec2(${t[0]}, ${t[1]}));\n      }\n    `;if(1===e[1])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(index, 0);\n      }\n    `;if(1===e[0])return n?"\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(outTexShape[0], outTexShape[1]));\n        int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n        return ivec2(0, index);\n      }\n    ":`\n      ivec2 getOutputCoords() {\n        ivec2 resTexRC = ivec2(resultUV.yx *\n                               vec2(${t[0]}, ${t[1]}));\n        int index = resTexRC.x * ${t[1]} + resTexRC.y;\n        return ivec2(0, index);\n      }\n    `;if(n)return"\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      int r = index / outShape[1];\n      int c = index - r * outShape[1];\n      return ivec2(r, c);\n    }\n  ";return`\n    ivec2 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      int r = index / ${e[1]};\n      int c = index - r * ${e[1]};\n      return ivec2(r, c);\n    }\n  `}(e,t,n);case 3:return function(e,t,n){if(n){return`\n  ivec3 getOutputCoords() {\n    ivec2 resTexRC = ivec2(resultUV.yx *\n                           vec2(outTexShape[0], outTexShape[1]));\n    int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n    ${$(["r","c","d"],e)}\n    return ivec3(r, c, d);\n  }\n`}const r=U(["r","c","d"],e);return`\n    ivec3 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n                             vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec3(r, c, d);\n    }\n  `}(e,t,n);case 4:return function(e,t,n){if(n){return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(outTexShape[0], outTexShape[1]));\n      int index = resTexRC.x * outTexShape[1] + resTexRC.y;\n      ${$(["r","c","d","d2"],e)}\n      return ivec4(r, c, d, d2);\n    }\n  `}const r=U(["r","c","d","d2"],e);return`\n    ivec4 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n      ${r}\n      return ivec4(r, c, d, d2);\n    }\n  `}(e,t,n);case 5:return function(e,t){const n=U(["r","c","d","d2","d3"],e);return`\n    ivec5 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx * vec2(${t[0]},\n                             ${t[1]}));\n\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec5 outShape = ivec5(r, c, d, d2, d3);\n      return outShape;\n    }\n  `}(e,t);case 6:return function(e,t){const n=U(["r","c","d","d2","d3","d4"],e);return`\n    ivec6 getOutputCoords() {\n      ivec2 resTexRC = ivec2(resultUV.yx *\n        vec2(${t[0]}, ${t[1]}));\n      int index = resTexRC.x * ${t[1]} + resTexRC.y;\n\n      ${n}\n\n      ivec6 result = ivec6(r, c, d, d2, d3, d4);\n      return result;\n    }\n  `}(e,t);default:throw new Error(`${e.length}-D output sampling is not yet supported`)}}(t.logicalShape,s,n.enableShapeUniforms),d=function(e){return`\n    void setOutput(float val) {\n      ${e.output} = vec4(val, 0, 0, 0);\n    }\n  `}(l)),n.packedInputs&&(p+=Q);return[p,c,d,o,u,a,n.userCode].join("\n")}function K(e,t=!1){const n=e.shapeInfo.logicalShape;switch(n.length){case 0:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`float ${r}() {return ${n};}`;const[i,o]=e.shapeInfo.texShape;if(1===i&&1===o)return`\n      float ${r}() {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const a=ee(n);if(t)return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], ${a});\n      return sampleTexture(${n}, uv);\n    }\n  `;const[s,l]=e.shapeInfo.texShape;return`\n    float ${r}() {\n      vec2 uv = uvFromFlat(${s}, ${l}, ${a});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1);if(e.shapeInfo.isUniform)return`\n      float ${r}(int index) {\n        ${te(e)}\n      }\n    `;const i=e.shapeInfo.texShape,o=i[0],a=i[1];if(1===a&&1===o)return`\n      float ${r}(int index) {\n        return sampleTexture(${n}, halfCR);\n      }\n    `;const s=ee(n);if(1===a)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / float(${n}TexShape[0]));\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2(0.5, (float(index + ${s}) + 0.5) / ${o}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(1===o)return t?`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / float(${n}TexShape[1]), 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `:`\n      float ${r}(int index) {\n        vec2 uv = vec2((float(index + ${s}) + 0.5) / ${a}.0, 0.5);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(t)return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${n}TexShape[0], ${n}TexShape[1], index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `;return`\n    float ${r}(int index) {\n      vec2 uv = uvFromFlat(${o}, ${a}, index + ${s});\n      return sampleTexture(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape;if(null!=a&&i.util.arraysEqual(n,a)){if(t)return`\n      float ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `;const e=a[0];return`\n    float ${o}(int row, int col) {\n      vec2 uv = (vec2(col, row) + halfCR) / vec2(${a[1]}.0, ${e}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `}const{newShape:s,keptDims:l}=i.util.squeezeShape(n),c=s;if(c.length<n.length){const n=["row","col"];return`\n      ${K(ie(e,c),t)}\n      float ${o}(int row, int col) {\n        return ${o}(${oe(n,l)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col) {\n        int index = round(dot(vec2(row, col), vec2(${n[1]}, 1)));\n        ${te(e)}\n      }\n    `;const u=a[0],d=a[1],p=ee(r);if(1===d)return t?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${p}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2(0.5, (index + 0.5) / float(${r}TexShape[0]));\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${p}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2(0.5, (index + 0.5) / ${u}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(1===u)return t?`\n      float ${o}(int row, int col) {\n        float index = dot(vec3(row, col, ${p}), vec3(${r}Shape[1], 1, 1));\n        vec2 uv = vec2((index + 0.5) / float(${r}TexShape[1]), 0.5);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col) {\n      float index = dot(vec3(row, col, ${p}), vec3(${n[1]}, 1, 1));\n      vec2 uv = vec2((index + 0.5) / ${d}.0, 0.5);\n      return sampleTexture(${r}, uv);\n    }\n  `;if(t)return`\n      float ${o}(int row, int col) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${r}Shape[1] + col + ${p};\n        vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n        return sampleTexture(${r}, uv);\n      }\n    `;return`\n  float ${o}(int row, int col) {\n    // Explicitly use integer operations as dot() only works on floats.\n    int index = row * ${n[1]} + col + ${p};\n    vec2 uv = uvFromFlat(${u}, ${d}, index);\n    return sampleTexture(${r}, uv);\n  }\n`}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[1]*n[2],s=n[2],{newShape:l,keptDims:c}=i.util.squeezeShape(n),u=l;if(u.length<n.length){const n=["row","col","depth"];return`\n        ${K(ie(e,u),t)}\n        float ${o}(int row, int col, int depth) {\n          return ${o}(${oe(n,c)});\n        }\n      `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth) {\n        int index = round(dot(vec3(row, col, depth),\n                          vec3(${a}, ${s}, 1)));\n        ${te(e)}\n      }\n    `;const d=e.shapeInfo.texShape,p=d[0],f=d[1],h=e.shapeInfo.flatOffset;if(f===a&&null==h)return t?`\n      float ${o}(int row, int col, int depth) {\n        int stride1 = ${r}Shape[2];\n        float texR = float(row);\n        float texC = dot(vec2(col, depth), vec2(stride1, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n        float ${o}(int row, int col, int depth) {\n          float texR = float(row);\n          float texC = dot(vec2(col, depth), vec2(${s}, 1));\n          vec2 uv = (vec2(texC, texR) + halfCR) /\n                     vec2(${f}.0, ${p}.0);\n          return sampleTexture(${r}, uv);\n        }\n      `;if(f===s&&null==h)return t?`\n      float ${o}(int row, int col, int depth) {\n        float texR = dot(vec2(row, col), vec2(${r}Shape[1], 1));\n        float texC = float(depth);\n        vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n    float ${o}(int row, int col, int depth) {\n      float texR = dot(vec2(row, col), vec2(${n[1]}, 1));\n      float texC = float(depth);\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${f}.0, ${p}.0);\n      return sampleTexture(${r}, uv);\n    }\n  `;const m=ee(r);if(t)return`\n    float ${o}(int row, int col, int depth) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int stride0 = ${r}Shape[1] * ${r}Shape[2];\n      int stride1 = ${r}Shape[2];\n      int index = row * ${a} + col * ${s} + depth + ${m};\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index);\n      return sampleTexture(${r}, uv);\n    }\n    `;return`\n      float ${o}(int row, int col, int depth) {\n        // Explicitly use integer operations as dot() only works on floats.\n        int index = row * ${a} + col * ${s} + depth + ${m};\n        vec2 uv = uvFromFlat(${p}, ${f}, index);\n        return sampleTexture(${r}, uv);\n      }\n  `}(e,t);case 4:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=n[3],s=n[2]*a,l=n[1]*s,{newShape:c,keptDims:u}=i.util.squeezeShape(n);if(c.length<n.length){const n=["row","col","depth","depth2"];return`\n      ${K(ie(e,c),t)}\n      float ${o}(int row, int col, int depth, int depth2) {\n        return ${o}(${oe(n,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${o}(int row, int col, int depth, int depth2) {\n        int index = round(dot(vec4(row, col, depth, depth2),\n                          vec4(${l}, ${s}, ${a}, 1)));\n        ${te(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,f=p[0],h=p[1],m=`int stride2 = ${r}Shape[3];`,g=`int stride1 = ${r}Shape[2] * stride2;`,v=`int stride0 = ${r}Shape[1] * stride1;`;if(h===l&&null==d)return t?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        ${m}\n        ${g}\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(stride1, stride2, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = float(row);\n        float texC =\n            dot(vec3(col, depth, depth2),\n                vec3(${s}, ${a}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${f}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;if(h===a&&null==d)return t?`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${r}Shape[1] * ${r}Shape[2], ${r}Shape[2], 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${r}TexShape[1], ${r}TexShape[0]);\n        return sampleTexture(${r}, uv);\n      }\n    `:`\n      float ${o}(int row, int col, int depth, int depth2) {\n        float texR = dot(vec3(row, col, depth),\n                         vec3(${n[1]*n[2]}, ${n[2]}, 1));\n        float texC = float(depth2);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${f}.0);\n        return sampleTexture(${r}, uv);\n      }\n    `;const y=ee(r);if(t)return`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      ${m}\n      ${g}\n      ${v}\n      int index = row * stride0 + col * stride1 +\n          depth * stride2 + depth2;\n      vec2 uv = uvFromFlat(${r}TexShape[0], ${r}TexShape[1], index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `;return`\n    float ${o}(int row, int col, int depth, int depth2) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${l} + col * ${s} +\n          depth * ${a} + depth2;\n      vec2 uv = uvFromFlat(${f}, ${h}, index + ${y});\n      return sampleTexture(${r}, uv);\n    }\n  `}(e,t);case 5:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),o=t[4],a=t[3]*o,s=t[2]*a,l=t[1]*s,{newShape:c,keptDims:u}=i.util.squeezeShape(t);if(c.length<t.length){const t=["row","col","depth","depth2","depth3"];return`\n      ${K(ie(e,c))}\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        return ${r}(${oe(t,u)});\n      }\n    `}if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float index = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${l}, ${s}, ${a}, ${o})) +\n          depth3;\n        ${te(e)}\n      }\n    `;const d=e.shapeInfo.flatOffset,p=e.shapeInfo.texShape,f=p[0],h=p[1];if(h===l&&null==d)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n                         vec4(${s}, ${a}, ${o}, 1));\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${h}.0, ${f}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(h===o&&null==d)return`\n      float ${r}(int row, int col, int depth, int depth2, int depth3) {\n        float texR = dot(\n          vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]},\n               ${t[2]*t[3]}, ${t[3]}, 1));\n        int texC = depth3;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${h}.0, ${f}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const m=ee(n);return`\n    float ${r}(int row, int col, int depth, int depth2, int depth3) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${l} + col * ${s} + depth * ${a} +\n          depth2 * ${o} + depth3 + ${m};\n      vec2 uv = uvFromFlat(${f}, ${h}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);case 6:return function(e){const t=e.shapeInfo.logicalShape,n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),{newShape:o,keptDims:a}=i.util.squeezeShape(t);if(o.length<t.length){const t=["row","col","depth","depth2","depth3","depth4"];return`\n      ${K(ie(e,o))}\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        return ${r}(${oe(t,a)});\n      }\n    `}const s=t[5],l=t[4]*s,c=t[3]*l,u=t[2]*c,d=t[1]*u;if(e.shapeInfo.isUniform)return`\n      float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n        int index = round(dot(\n          vec4(row, col, depth, depth2),\n          vec4(${d}, ${u}, ${c}, ${l})) +\n          dot(\n            vec2(depth3, depth4),\n            vec2(${s}, 1)));\n        ${te(e)}\n      }\n    `;const p=e.shapeInfo.flatOffset,f=e.shapeInfo.texShape,h=f[0],m=f[1];if(m===d&&null==p)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        int texR = row;\n        float texC = dot(vec4(col, depth, depth2, depth3),\n          vec4(${u}, ${c}, ${l}, ${s})) +\n               float(depth4);\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                   vec2(${m}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;if(m===s&&null==p)return`\n      float ${r}(int row, int col, int depth,\n                    int depth2, int depth3, int depth4) {\n        float texR = dot(vec4(row, col, depth, depth2),\n          vec4(${t[1]*t[2]*t[3]*t[4]},\n               ${t[2]*t[3]*t[4]},\n               ${t[3]*t[4]},\n               ${t[4]})) + float(depth3);\n        int texC = depth4;\n        vec2 uv = (vec2(texC, texR) + halfCR) /\n                  vec2(${m}.0, ${h}.0);\n        return sampleTexture(${n}, uv);\n      }\n    `;const g=ee(n);return`\n    float ${r}(int row, int col, int depth,\n                  int depth2, int depth3, int depth4) {\n      // Explicitly use integer operations as dot() only works on floats.\n      int index = row * ${d} + col * ${u} + depth * ${c} +\n          depth2 * ${l} + depth3 * ${s} + depth4 + ${g};\n      vec2 uv = uvFromFlat(${h}, ${m}, index);\n      return sampleTexture(${n}, uv);\n    }\n  `}(e);default:throw new Error(`${n.length}-D input sampling is not yet supported`)}}function q(e,t){switch(e.shapeInfo.logicalShape.length){case 0:return function(e){const t=e.name,n="get"+t.charAt(0).toUpperCase()+t.slice(1),r=F();return`\n    vec4 ${n}() {\n      return ${r.texture2D}(${t}, halfCR);\n    }\n  `}(e);case 1:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=e.shapeInfo.texShape,o=F();if(t)return`\n    vec4 ${r}(int index) {\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      vec2 uv = packedUVfrom1D(\n        packedTexShape[0], packedTexShape[1], index);\n      return ${o.texture2D}(${n}, uv);\n    }\n  `;const a=[Math.ceil(i[0]/2),Math.ceil(i[1]/2)];return`\n    vec4 ${r}(int index) {\n      vec2 uv = packedUVfrom1D(\n        ${a[0]}, ${a[1]}, index);\n      return ${o.texture2D}(${n}, uv);\n    }\n  `}(e,t);case 2:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,o="get"+r.charAt(0).toUpperCase()+r.slice(1),a=e.shapeInfo.texShape,s=a[0],l=a[1],c=F();if(null!=a&&i.util.arraysEqual(n,a))return t?`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${r}TexShape[1], ${r}TexShape[0]);\n\n        return ${c.texture2D}(${r}, uv);\n      }\n    `:`\n      vec4 ${o}(int row, int col) {\n        vec2 uv = (vec2(col, row) + halfCR) / vec2(${l}.0, ${s}.0);\n\n        return ${c.texture2D}(${r}, uv);\n      }\n    `;if(t)return`\n    vec4 ${o}(int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom2D(valuesPerRow, packedTexShape[0], packedTexShape[1], row, col);\n      return ${c.texture2D}(${r}, uv);\n    }\n  `;const u=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)],d=Math.ceil(n[1]/2);return`\n    vec4 ${o}(int row, int col) {\n      vec2 uv = packedUVfrom2D(${d}, ${u[0]}, ${u[1]}, row, col);\n      return ${c.texture2D}(${r}, uv);\n    }\n  `}(e,t);case 3:return function(e,t){const n=e.shapeInfo.logicalShape,r=e.name,i="get"+r.charAt(0).toUpperCase()+r.slice(1),o=e.shapeInfo.texShape,a=[Math.ceil(o[0]/2),Math.ceil(o[1]/2)];if(1===n[0]){const r=[1,2],o=["b","row","col"];return`\n        ${q(ie(e,n.slice(1)),t)}\n        vec4 ${i}(int b, int row, int col) {\n          return ${i}(${oe(o,r)});\n        }\n      `}const s=F();if(t)return`\n    vec4 ${i}(int b, int row, int col) {\n      ivec2 packedTexShape = ivec2(ceil(float(${r}TexShape[0]) / 2.0), ceil(float(${r}TexShape[1]) / 2.0));\n      int valuesPerRow = int(ceil(float(${r}Shape[2]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${r}Shape[1]) / 2.0));\n      vec2 uv = packedUVfrom3D(\n        packedTexShape[0], packedTexShape[1], texelsInBatch, valuesPerRow, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `;const l=a[0],c=a[1],u=Math.ceil(n[2]/2),d=u*Math.ceil(n[1]/2);return`\n    vec4 ${i}(int b, int row, int col) {\n      vec2 uv = packedUVfrom3D(\n        ${l}, ${c}, ${d}, ${u}, b, row, col);\n      return ${s.texture2D}(${r}, uv);\n    }\n  `}(e,t);default:return function(e,t){const n=e.name,r="get"+n.charAt(0).toUpperCase()+n.slice(1),i=F();if(t)return`\n    vec4 ${r}(int b2, int b, int row, int col) {\n      int valuesPerRow = int(ceil(float(${n}Shape[3]) / 2.0));\n      int texelsInBatch = valuesPerRow * int(ceil(float(${n}Shape[2]) / 2.0));\n      int index = b * texelsInBatch + (row / 2) * valuesPerRow + (col / 2);\n      texelsInBatch *= ${n}Shape[1];\n      index = b2 * texelsInBatch + index;\n      ivec2 packedTexShape = ivec2(ceil(float(${n}TexShape[0]) / 2.0), ceil(float(${n}TexShape[1]) / 2.0));\n      int texR = index / packedTexShape[1];\n      int texC = index - texR * packedTexShape[1];\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(packedTexShape[1], packedTexShape[0]); return ${i.texture2D}(${n}, uv);\n    }\n  `;const o=e.shapeInfo.logicalShape,a=o.length,s=e.shapeInfo.texShape,l=[Math.ceil(s[0]/2),Math.ceil(s[1]/2)],c=l[0],u=l[1],d=Math.ceil(o[a-1]/2);let p=d*Math.ceil(o[a-2]/2),f="int b, int row, int col",h=`b * ${p} + (row / 2) * ${d} + (col / 2)`;for(let m=2;m<a-1;m++)f=`int b${m}, `+f,p*=o[a-m-1],h=`b${m} * ${p} + `+h;return`\n    vec4 ${r}(${f}) {\n      int index = ${h};\n      int texR = index / ${u};\n      int texC = index - texR * ${u};\n      vec2 uv = (vec2(texC, texR) + halfCR) / vec2(${u}, ${c});\n      return ${i.texture2D}(${n}, uv);\n    }\n  `}(e,t)}}const X="\nvec2 uvFromFlat(int texNumR, int texNumC, int index) {\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\nvec2 packedUVfrom1D(int texNumR, int texNumC, int index) {\n  int texelIndex = index / 2;\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Z="\nvec2 packedUVfrom2D(int texelsInLogicalRow, int texNumR,\n  int texNumC, int row, int col) {\n  int texelIndex = (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = texelIndex / texNumC;\n  int texC = texelIndex - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Y="\nvec2 packedUVfrom3D(int texNumR, int texNumC,\n    int texelsInBatch, int texelsInLogicalRow, int b,\n    int row, int col) {\n  int index = b * texelsInBatch + (row / 2) * texelsInLogicalRow + (col / 2);\n  int texR = index / texNumC;\n  int texC = index - texR * texNumC;\n  return (vec2(texC, texR) + halfCR) / vec2(texNumC, texNumR);\n}\n",Q="\n  float getChannel(vec4 frag, vec2 innerDims) {\n    vec2 modCoord = mod(innerDims, 2.);\n    return modCoord.x == 0. ?\n      (modCoord.y == 0. ? frag.r : frag.g) :\n      (modCoord.y == 0. ? frag.b : frag.a);\n  }\n  float getChannel(vec4 frag, int dim) {\n    float modCoord = mod(float(dim), 2.);\n    return modCoord == 0. ? frag.r : frag.g;\n  }\n";function J(){return"\n    int getOutputCoords() {\n      return 0;\n    }\n  "}function ee(e){return`offset${e}`}function te(e){const t=e.name,n=i.util.sizeFromShape(e.shapeInfo.logicalShape);return n<2?`return ${t};`:`\n    for (int i = 0; i < ${n}; i++) {\n      if (i == index) {\n        return ${t}[i];\n      }\n    }\n  `}function ne(e){if(e<=1)return"int";if(2===e)return"ivec2";if(3===e)return"ivec3";if(4===e)return"ivec4";if(5===e)return"ivec5";if(6===e)return"ivec6";throw Error(`GPU for rank ${e} is not yet supported`)}function re(e,t,n){const{newShape:r,keptDims:o}=i.util.squeezeShape(t),a=t.length,s=e&&3===a&&1===t[0],l=s?t.slice(1):r,c=!e&&a>1&&!i.util.arraysEqual(t,n)&&r.length<a||s;return{useSqueezeShape:c,uniformShape:c?l:t,keptDims:o}}function ie(e,t){const n=JSON.parse(JSON.stringify(e));return n.shapeInfo.logicalShape=t,n}function oe(e,t){return t.map((t=>e[t])).join(", ")}function ae(e,t){if(e.length!==t.length)throw Error(`Binary was compiled with ${e.length} inputs, but was executed with ${t.length} inputs`);e.forEach(((e,n)=>{const r=e.logicalShape,o=t[n],a=o.shape;if(!i.util.arraysEqual(r,a))throw Error(`Binary was compiled with different shapes than the current args. Shapes ${r} and ${a} must match`);if(e.isUniform&&o.isUniform)return;const s=e.texShape,l=o.isUniform?null:o.texData.texShape;if(!i.util.arraysEqual(s,l))throw Error(`Binary was compiled with different texture shapes than the current args. Shape ${s} and ${l} must match`)}))}function se(e){return(0,i.env)().getBool("WEBGL_USE_SHAPES_UNIFORMS")&&e<=4}class le{constructor(e){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outPackingScheme=l.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=F();this.outputShape=e,this.enableShapeUniforms=se(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?$(["r","c","d"],e):U(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getA(rc.x, rc.y, rc.z);\n        }\n\n        ${t.output} = result;\n      }\n    `}}class ce{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outPackingScheme=l.DENSE,this.customUniforms=[{name:"texShape",type:"ivec2"}];const t=F();this.outputShape=e,this.enableShapeUniforms=se(this.outputShape.length),this.userCode=`\n      ivec3 outCoordsFromFlatIndex(int index) {\n        ${this.enableShapeUniforms?$(["r","c","d"],e):U(["r","c","d"],e)}\n        return ivec3(r, c, d);\n      }\n\n      void main() {\n        ivec2 resTexRC = ivec2(resultUV.yx * vec2(texShape[0], texShape[1]));\n        int index = 4 * (resTexRC.x * texShape[1] + resTexRC.y);\n\n        vec4 result = vec4(0.);\n\n        for (int i=0; i<4; i++) {\n          int flatIndex = index + i;\n          ivec3 rc = outCoordsFromFlatIndex(flatIndex);\n          result[i] = getChannel(getA(rc.x, rc.y, rc.z), vec2(rc.y, rc.z));\n        }\n\n        ${t.output} = result;\n      }\n    `}}class ue{constructor(e){this.variableNames=["A"],this.outTexUsage=c.DOWNLOAD;const t=F();this.outputShape=e,this.userCode=`\n      ${V}\n\n      void main() {\n        float x = getAAtOutCoords();\n        ${t.output} = encode_float(x);\n      }\n    `}}class de{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outTexUsage=c.DOWNLOAD;const t=F();this.outputShape=e,this.userCode=`\n      ${V}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n        float x = getChannel(getAAtOutCoords(), vec2(coords.y, coords.z));\n        ${t.output} = encode_float(x);\n      }\n    `}}class pe{constructor(e,t=!1){this.variableNames=["A"],this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=F();this.outputShape=e,this.enableShapeUniforms=se(this.outputShape.length);let r="result";t&&(r="floor(result * 255. + 0.5)"),this.userCode=`\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":G(e)}\n\n      void main() {\n        ivec3 coords = getOutputCoords();\n\n        int flatIndex = getFlatIndex(coords);\n        int offset = imod(flatIndex, 4);\n\n        flatIndex = idiv(flatIndex, 4, 1.);\n\n        int r = flatIndex / texShape[1];\n        int c = imod(flatIndex, texShape[1]);\n        vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n        vec4 values = ${n.texture2D}(A, uv);\n\n        float result;\n\n        if(offset == 0) {\n          result = values[0];\n        } else if(offset == 1) {\n          result = values[1];\n        } else if(offset == 2) {\n          result = values[2];\n        } else {\n          result = values[3];\n        }\n\n        ${n.output} = vec4(${r}, 0., 0., 0.);\n      }\n    `}}class fe{constructor(e,t=!1){this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.customUniforms=[{name:"texShape",type:"ivec2"}];const n=F();this.outputShape=e,this.enableShapeUniforms=se(this.outputShape.length);let r="",i="result";t&&(i="floor(result * 255. + 0.5)");for(let o=0;o<=1;o++)for(let t=0;t<=1;t++){const i=2*o+t;r+=`\n          localCoords = coords;\n          if(localCoords[2] + ${t} < ${this.enableShapeUniforms?"outShape[2]":`${e[2]}`}) {\n          localCoords[2] += ${t};\n          if (localCoords[1] + ${o} < ${this.enableShapeUniforms?"outShape[1]":`${e[1]}`}) {\n            localCoords[1] += ${o};\n\n            flatIndex = getFlatIndex(localCoords);\n            offset = imod(flatIndex, 4);\n\n            flatIndex = idiv(flatIndex, 4, 1.);\n\n            int r = flatIndex / texShape[1];\n            int c = imod(flatIndex, texShape[1]);\n            vec2 uv = (vec2(c, r) + halfCR) / vec2(texShape[1], texShape[0]);\n            values = ${n.texture2D}(A, uv);\n\n            if (offset == 0) {\n              result[${i}] = values[0];\n            } else if (offset == 1) {\n              result[${i}] = values[1];\n            } else if (offset == 2) {\n              result[${i}] = values[2];\n            } else {\n              result[${i}] = values[3];\n            }\n          }\n        }\n        `}this.userCode=`\n        ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":G(e)}\n\n        void main() {\n          ivec3 coords = getOutputCoords();\n\n          vec4 result = vec4(0.);\n          int flatIndex, r, c, offset;\n          ivec3 localCoords;\n          vec2 uv;\n          vec4 values;\n\n          ${r}\n\n          ${n.output} = ${i};\n        }\n    `}}function he(e){const t=F();return function(e,t){const n=_(e,(()=>e.createShader(e.VERTEX_SHADER)),"Unable to create vertex WebGLShader.");if(m(e,(()=>e.shaderSource(n,t))),m(e,(()=>e.compileShader(n))),!1===e.getShaderParameter(n,e.COMPILE_STATUS))throw console.log(e.getShaderInfoLog(n)),new Error("Failed to compile vertex shader.");return n}(e,`${t.version}\n    precision highp float;\n    ${t.attribute} vec3 clipSpacePos;\n    ${t.attribute} vec2 uv;\n    ${t.varyingVs} vec2 resultUV;\n\n    void main() {\n      gl_Position = vec4(clipSpacePos, 1);\n      resultUV = uv;\n    }`)}function me(e){return function(e,t){const n=_(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return m(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),m(e,(()=>e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Float32Array([-1,1,0,0,1,-1,-1,0,0,0,1,1,0,1,1,1,-1,0,1,0]))}function ge(e){return function(e,t){const n=_(e,(()=>e.createBuffer()),"Unable to create WebGLBuffer");return m(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,n))),m(e,(()=>e.bufferData(e.ELEMENT_ARRAY_BUFFER,t,e.STATIC_DRAW))),n}(e,new Uint16Array([0,1,2,2,1,3]))}function ve(e,t,n,r,o,a){!function(e,t){const n=(0,i.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(e<=0||t<=0)throw new Error(`Requested texture size [${e}x${t}] is invalid.`);if(e>n||t>n)throw new Error(`Requested texture size [${e}x${t}] greater than WebGL maximum on this browser / GPU [${n}x${n}].`)}(t,n);const s=function(e){return _(e,(()=>e.createTexture()),"Unable to create WebGLTexture.")}(e),l=e.TEXTURE_2D;return m(e,(()=>e.bindTexture(l,s))),m(e,(()=>e.texParameteri(l,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE))),m(e,(()=>e.texParameteri(l,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE))),m(e,(()=>e.texParameteri(l,e.TEXTURE_MIN_FILTER,e.NEAREST))),m(e,(()=>e.texParameteri(l,e.TEXTURE_MAG_FILTER,e.NEAREST))),1===(0,i.env)().getNumber("WEBGL_VERSION")?m(e,(()=>e.texImage2D(l,0,r,t,n,0,o,a,null))):m(e,(()=>e.texStorage2D(l,1,r,t,n))),m(e,(()=>e.bindTexture(e.TEXTURE_2D,null))),{texture:s,texShape:[n,t]}}function ye(e){return e.internalFormatFloat}function be(e){return e.internalFormatHalfFloat}function we(e){return e.downloadTextureFormat}function xe(e){return e.internalFormatPackedFloat}function Se(e){return e.internalFormatPackedHalfFloat}function ke(e,t,n,r,i,o,a,s){const l=e,c=new Float32Array(function(e,t){const[n,r]=f(e,t);return n*r*4}(o,a));return l.bindBuffer(l.PIXEL_PACK_BUFFER,t),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,c),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),c}class Te{constructor(e){this.outputTexture=null,this.program=null,this.disposed=!1,this.vertexAttrsAreBound=!1,this.itemsToPoll=[];const t=(0,i.env)().getNumber("WEBGL_VERSION");null!=e?(this.gl=e,function(e,t){o[e]=t}(t,e)):this.gl=s(t);let n="WEBGL_color_buffer_float";const r="EXT_color_buffer_half_float";if(1===(0,i.env)().getNumber("WEBGL_VERSION")){const e="OES_texture_float",t="OES_texture_half_float";if(this.textureFloatExtension=v(this.gl,e),R(this.gl,t))this.textureHalfFloatExtension=v(this.gl,t);else if((0,i.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support half float textures, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.");if(this.colorBufferFloatExtension=this.gl.getExtension(n),R(this.gl,r))this.colorBufferHalfFloatExtension=v(this.gl,r);else if((0,i.env)().get("WEBGL_FORCE_F16_TEXTURES"))throw new Error("GL context does not support color renderable half floats, yet the environment flag WEBGL_FORCE_F16_TEXTURES is set to true.")}else if(n="EXT_color_buffer_float",R(this.gl,n))this.colorBufferFloatExtension=this.gl.getExtension(n);else{if(!R(this.gl,r))throw new Error("GL context does not support color renderable floats");this.colorBufferHalfFloatExtension=this.gl.getExtension(r)}this.vertexBuffer=me(this.gl),this.indexBuffer=ge(this.gl),this.framebuffer=function(e){return _(e,(()=>e.createFramebuffer()),"Unable to create WebGLFramebuffer.")}(this.gl),this.textureConfig=h(this.gl,this.textureHalfFloatExtension)}get debug(){return(0,i.env)().getBool("DEBUG")}dispose(){if(this.disposed)return;null!=this.program&&console.warn("Disposing a GPGPUContext that still has a bound WebGLProgram. This is probably a resource leak, delete the program with GPGPUContext.deleteProgram before disposing."),null!=this.outputTexture&&console.warn("Disposing a GPGPUContext that still has a bound output matrix texture.  This is probably a resource leak, delete the output matrix texture with GPGPUContext.deleteMatrixTexture before disposing.");const e=this.gl;m(e,(()=>e.finish())),m(e,(()=>e.bindFramebuffer(e.FRAMEBUFFER,null))),m(e,(()=>e.deleteFramebuffer(this.framebuffer))),m(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,null))),m(e,(()=>e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null))),m(e,(()=>e.deleteBuffer(this.indexBuffer))),this.disposed=!0}createFloat32MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,o]=d(t,n);return ve(e,i,o,ye(r),r.textureFormatFloat,e.FLOAT)}(this.gl,e,t,this.textureConfig)}createFloat16MatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,o]=d(t,n);return ve(e,i,o,be(r),r.textureFormatFloat,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createUnsignedBytesMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,o]=d(t,n);return ve(e,i,o,we(r),e.RGBA,e.UNSIGNED_BYTE)}(this.gl,e,t,this.textureConfig)}uploadPixelDataToTexture(e,t){this.throwIfDisposed(),function(e,t,n){m(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),n.data instanceof Uint8Array?2===(0,i.env)().getNumber("WEBGL_VERSION")?m(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n.width,n.height,e.RGBA,e.UNSIGNED_BYTE,n.data))):m(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,n.width,n.height,0,e.RGBA,e.UNSIGNED_BYTE,n.data))):2===(0,i.env)().getNumber("WEBGL_VERSION")?m(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,e.RGBA,e.UNSIGNED_BYTE,n))):m(e,(()=>e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n))),m(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t)}uploadDenseMatrixToTexture(e,t,n,r){this.throwIfDisposed(),function(e,t,n,r,o,a){let s,l,c;m(e,(()=>e.bindTexture(e.TEXTURE_2D,t))),o instanceof Uint8Array?(s=new Uint8Array(n*r*4),l=e.UNSIGNED_BYTE,c=e.RGBA):(s=new Float32Array(n*r*4),l=e.FLOAT,c=a.internalFormatPackedFloat),s.set(o),2===(0,i.env)().getNumber("WEBGL_VERSION")?m(e,(()=>e.texSubImage2D(e.TEXTURE_2D,0,0,0,n,r,e.RGBA,l,s))):m(e,(()=>e.texImage2D(e.TEXTURE_2D,0,c,n,r,0,e.RGBA,l,s))),m(e,(()=>e.bindTexture(e.TEXTURE_2D,null)))}(this.gl,e,t,n,r,this.textureConfig)}createFloat16PackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,o]=f(t,n);return ve(e,i,o,Se(r),e.RGBA,r.textureTypeHalfFloat)}(this.gl,e,t,this.textureConfig)}createPackedMatrixTexture(e,t){return this.throwIfDisposed(),function(e,t,n,r){const[i,o]=f(t,n);return ve(e,i,o,xe(r),e.RGBA,e.FLOAT)}(this.gl,e,t,this.textureConfig)}deleteMatrixTexture(e){this.throwIfDisposed(),this.outputTexture===e&&(T(this.gl,this.framebuffer),this.outputTexture=null),m(this.gl,(()=>this.gl.deleteTexture(e)))}downloadByteEncodedFloatMatrixFromOutputTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n,r){const[i,o]=d(t,n),a=new Uint8Array(t*n*4);return m(e,(()=>e.readPixels(0,0,i,o,r.downloadTextureFormat,e.UNSIGNED_BYTE,a))),new Float32Array(a.buffer)}(this.gl,t,n,this.textureConfig)))}downloadPackedMatrixFromBuffer(e,t,n,r,i,o){return ke(this.gl,e,0,0,0,i,o,this.textureConfig)}downloadFloat32MatrixFromBuffer(e,t){return function(e,t,n){const r=e,i=new Float32Array(n);return r.bindBuffer(r.PIXEL_PACK_BUFFER,t),r.getBufferSubData(r.PIXEL_PACK_BUFFER,0,i),r.bindBuffer(r.PIXEL_PACK_BUFFER,null),i}(this.gl,e,t)}createBufferFromTexture(e,t,n){this.bindTextureToFrameBuffer(e);const r=function(e,t,n,r){const i=e.createBuffer();m(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,i)));const o=16*t*n;return m(e,(()=>e.bufferData(e.PIXEL_PACK_BUFFER,o,e.STREAM_READ))),m(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,0))),m(e,(()=>e.bindBuffer(e.PIXEL_PACK_BUFFER,null))),i}(this.gl,t,n,this.textureConfig);return this.unbindTextureToFrameBuffer(),r}createAndWaitForFence(){const e=this.createFence(this.gl);return this.pollFence(e)}createFence(e){let t,n;if((0,i.env)().getBool("WEBGL_FENCE_API_ENABLED")){const r=e,i=r.fenceSync(r.SYNC_GPU_COMMANDS_COMPLETE,0);e.flush(),n=()=>{const e=r.clientWaitSync(i,0,0);return e===r.ALREADY_SIGNALED||e===r.CONDITION_SATISFIED},t=i}else(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")>0?(t=this.beginQuery(),this.endQuery(),n=()=>this.isQueryAvailable(t,(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))):n=()=>!0;return{query:t,isFencePassed:n}}downloadMatrixFromPackedTexture(e,t,n){return this.downloadMatrixDriver(e,(()=>function(e,t,n){const r=new Float32Array(t*n*4);return m(e,(()=>e.readPixels(0,0,n,t,e.RGBA,e.FLOAT,r))),r}(this.gl,t,n)))}createProgram(e){this.throwIfDisposed();const t=this.gl;null==this.vertexShader&&(this.vertexShader=he(t));const n=function(e){return _(e,(()=>e.createProgram()),"Unable to create WebGLProgram.")}(t);return m(t,(()=>t.attachShader(n,this.vertexShader))),m(t,(()=>t.attachShader(n,e))),function(e,t){if(m(e,(()=>e.linkProgram(t))),!1===e.getProgramParameter(t,e.LINK_STATUS))throw console.log(e.getProgramInfoLog(t)),new Error("Failed to link vertex and fragment shaders.")}(t,n),this.debug&&w(t,n),this.vertexAttrsAreBound||(this.setProgram(n),this.vertexAttrsAreBound=function(e,t,n){return m(e,(()=>e.bindBuffer(e.ARRAY_BUFFER,n))),x(e,t,"clipSpacePos",n,3,20,0)&&x(e,t,"uv",n,2,20,12)}(t,this.program,this.vertexBuffer)),n}deleteProgram(e){this.throwIfDisposed(),e===this.program&&(this.program=null),null!=e&&m(this.gl,(()=>this.gl.deleteProgram(e)))}setProgram(e){this.throwIfDisposed(),this.program=e,null!=this.program&&this.debug&&w(this.gl,this.program),m(this.gl,(()=>this.gl.useProgram(e)))}getUniformLocation(e,t,n=!0){return this.throwIfDisposed(),n?function(e,t,n){return _(e,(()=>e.getUniformLocation(t,n)),'uniform "'+n+'" not present in program.')}(this.gl,e,t):function(e,t,n){return e.getUniformLocation(t,n)}(this.gl,e,t)}getAttributeLocation(e,t){return this.throwIfDisposed(),m(this.gl,(()=>this.gl.getAttribLocation(e,t)))}getUniformLocationNoThrow(e,t){return this.throwIfDisposed(),this.gl.getUniformLocation(e,t)}setInputMatrixTexture(e,t,n){this.throwIfDisposed(),this.throwIfNoProgram(),S(this.gl,e,t,n)}setOutputMatrixTexture(e,t,n){this.setOutputMatrixTextureDriver(e,n,t)}setOutputPackedMatrixTexture(e,t,n){this.throwIfDisposed();const[r,i]=f(t,n);this.setOutputMatrixTextureDriver(e,r,i)}setOutputMatrixWriteRegion(e,t,n,r){this.setOutputMatrixWriteRegionDriver(n,e,r,t)}setOutputPackedMatrixWriteRegion(e,t,n,r){throw new Error("setOutputPackedMatrixWriteRegion not implemented.")}debugValidate(){null!=this.program&&w(this.gl,this.program),E(this.gl)}executeProgram(){this.throwIfDisposed(),this.throwIfNoProgram();const e=this.gl;this.debug&&this.debugValidate(),m(e,(()=>e.drawElements(e.TRIANGLES,6,e.UNSIGNED_SHORT,0)))}blockUntilAllProgramsCompleted(){this.throwIfDisposed(),m(this.gl,(()=>this.gl.finish()))}getQueryTimerExtension(){return null==this.disjointQueryTimerExtension&&(this.disjointQueryTimerExtension=v(this.gl,2===(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")?"EXT_disjoint_timer_query_webgl2":"EXT_disjoint_timer_query")),this.disjointQueryTimerExtension}getQueryTimerExtensionWebGL2(){return this.getQueryTimerExtension()}getQueryTimerExtensionWebGL1(){return this.getQueryTimerExtension()}beginQuery(){if(2===(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2(),n=e.createQuery();return e.beginQuery(t.TIME_ELAPSED_EXT,n),n}const e=this.getQueryTimerExtensionWebGL1(),t=e.createQueryEXT();return e.beginQueryEXT(e.TIME_ELAPSED_EXT,t),t}endQuery(){if(2===(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")){const e=this.gl,t=this.getQueryTimerExtensionWebGL2();return void e.endQuery(t.TIME_ELAPSED_EXT)}const e=this.getQueryTimerExtensionWebGL1();e.endQueryEXT(e.TIME_ELAPSED_EXT)}async waitForQueryAndGetTime(e){return await i.util.repeatedTry((()=>this.disposed||this.isQueryAvailable(e,(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION")))),this.getQueryTime(e,(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_VERSION"))}getQueryTime(e,t){if(0===t)return null;if(2===t){const t=this.gl;return t.getQueryParameter(e,t.QUERY_RESULT)/1e6}{const t=this.getQueryTimerExtensionWebGL1();return t.getQueryObjectEXT(e,t.QUERY_RESULT_EXT)/1e6}}isQueryAvailable(e,t){if(0===t)return!0;if(2===t){const t=this.gl,n=this.getQueryTimerExtensionWebGL2(),r=t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(n.GPU_DISJOINT_EXT)),r&&!this.disjoint}{const t=this.getQueryTimerExtensionWebGL1(),n=t.getQueryObjectEXT(e,t.QUERY_RESULT_AVAILABLE_EXT);return null==this.disjoint&&(this.disjoint=this.gl.getParameter(t.GPU_DISJOINT_EXT)),n&&!this.disjoint}}pollFence(e){return new Promise((t=>{this.addItemToPoll((()=>e.isFencePassed()),(()=>t()))}))}pollItems(){const e=function(e){let t=0;for(;t<e.length;++t){if(!e[t]())break}return t-1}(this.itemsToPoll.map((e=>e.isDoneFn)));for(let t=0;t<=e;++t){const{resolveFn:e}=this.itemsToPoll[t];e()}this.itemsToPoll=this.itemsToPoll.slice(e+1)}addItemToPoll(e,t){this.itemsToPoll.push({isDoneFn:e,resolveFn:t}),this.itemsToPoll.length>1||i.util.repeatedTry((()=>(this.pollItems(),0===this.itemsToPoll.length)))}bindTextureToFrameBuffer(e){this.throwIfDisposed(),k(this.gl,e,this.framebuffer),this.debug&&E(this.gl)}unbindTextureToFrameBuffer(){null!=this.outputTexture?(k(this.gl,this.outputTexture,this.framebuffer),this.debug&&E(this.gl)):T(this.gl,this.framebuffer)}downloadMatrixDriver(e,t){this.bindTextureToFrameBuffer(e);const n=t();return this.unbindTextureToFrameBuffer(),n}setOutputMatrixTextureDriver(e,t,n){this.throwIfDisposed();const r=this.gl;k(r,e,this.framebuffer),this.debug&&E(r),this.outputTexture=e,m(r,(()=>r.viewport(0,0,t,n))),m(r,(()=>r.scissor(0,0,t,n)))}setOutputMatrixWriteRegionDriver(e,t,n,r){this.throwIfDisposed(),m(this.gl,(()=>this.gl.scissor(e,t,n,r)))}throwIfDisposed(){if(this.disposed)throw new Error("Attempted to use disposed GPGPUContext.")}throwIfNoProgram(){if(null==this.program)throw new Error("No GPU program is currently set.")}}function Ee(e,t){Array.isArray(e)||(e=[e]),e.forEach((e=>{null!=e&&i.util.assert("complex64"!==e.dtype,(()=>`${t} does not support complex64 tensors in the CPU backend.`))}))}function _e(e){const t=new Float32Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.abs(e[n]);return t}i.Abs;function Ce(e){return(t,n,r,o,a)=>{const s=i.backend_util.assertAndGetBroadcastShape(t,n),l=s.length,c=i.util.computeStrides(s),u=i.util.sizeFromShape(s),d=i.util.getTypedArrayFromDType(a,u),p=t.length,f=n.length,h=i.util.computeStrides(t),m=i.util.computeStrides(n),g=i.backend_util.getBroadcastDims(t,s),v=i.backend_util.getBroadcastDims(n,s);if(g.length+v.length===0)for(let i=0;i<d.length;++i)d[i]=e(r[i%r.length],o[i%o.length]);else for(let y=0;y<d.length;++y){const t=i.util.indexToLoc(y,l,c),n=t.slice(-p);g.forEach((e=>n[e]=0));const a=i.util.locToIndex(n,p,h),s=t.slice(-f);v.forEach((e=>s[e]=0));const u=i.util.locToIndex(s,f,m);d[y]=e(r[a],o[u])}return[d,s]}}function Oe(e){const{inputs:t,backend:n}=e,{real:r,imag:i}=t,o=n.data.get(r.dataId).values,a=n.data.get(i.dataId).values,s=n.makeTensorInfo(r.shape,"complex64");return n.data.get(s.dataId).complexTensorInfos={real:n.makeTensorInfo(r.shape,"float32",o),imag:n.makeTensorInfo(i.shape,"float32",a)},s}i.Complex;function Pe(e,t,n="float32"){if("complex64"===n){return Oe({inputs:{real:Pe(e,t,"float32"),imag:Pe(e,t,"float32")},backend:e})}const r=i.util.makeZerosTypedArray(i.util.sizeFromShape(t),n);return e.makeTensorInfo(t,n,r)}function Ae(e){const{inputs:t,backend:n}=e,{x:r}=t;return n.incRef(r.dataId),{dataId:r.dataId,shape:r.shape,dtype:r.dtype}}i.Identity;function Ie(e){const{inputs:t,backend:n}=e,{input:r}=t,i=n.data.get(r.dataId).complexTensorInfos.real,o=n.data.get(i.dataId).values;return n.makeTensorInfo(i.shape,i.dtype,o)}i.Real;function Me(e){const{inputs:t,backend:n,attrs:r}=e,{x:o}=t,{dtype:a}=r;if("complex64"===a){if("complex64"===o.dtype)return Ae({inputs:{x:o},backend:n});const e=Pe(n,o.shape,o.dtype),t=Me({inputs:{x:o},backend:n,attrs:{dtype:"float32"}}),r=Oe({inputs:{real:t,imag:e},backend:n});return n.disposeIntermediateTensorInfo(e),n.disposeIntermediateTensorInfo(t),r}if("complex64"===o.dtype){const e=Ie({inputs:{input:o},backend:n}),t=Me({inputs:{x:e},backend:n,attrs:{dtype:a}});return n.disposeIntermediateTensorInfo(e),t}if(!i.util.hasEncodingLoss(o.dtype,a)){const e=Ae({inputs:{x:o},backend:n});return{dataId:e.dataId,shape:e.shape,dtype:a}}if("int32"===a){const e=n.data.get(o.dataId).values,t=Int32Array.from(e);return n.makeTensorInfo(o.shape,"int32",t)}if("bool"===a){const e=n.data.get(o.dataId).values,t=i.util.toTypedArray([0],o.dtype),[r,a]=Ce(((e,t)=>e!==t?1:0))(o.shape,[],e,t,"bool");return n.makeTensorInfo(a,"bool",r)}throw new Error(`Error in Cast: failed to cast ${o.dtype} to ${a}`)}i.Cast;function Ne(e,t,n,r){return null==n?({inputs:n,backend:o})=>{const{a,b:s}=n,l=o;Ee([a,s],e);const c=l.data.get(a.dataId).values,u=l.data.get(s.dataId).values,d="string"===a.dtype?i.backend_util.fromUint8ToStringArray(c):c,p="string"===a.dtype?i.backend_util.fromUint8ToStringArray(u):u,f=r||a.dtype,[h,m]=t(a.shape,s.shape,d,p,f);return l.makeTensorInfo(m,f,h)}:({inputs:e,backend:i})=>{const{a:o,b:a}=e,s=i;if("complex64"===o.dtype||"complex64"===a.dtype){const e=Me({inputs:{x:o},backend:s,attrs:{dtype:"complex64"}}),t=s.data.get(e.dataId),r=t.complexTensorInfos.real,i=t.complexTensorInfos.imag,l=s.data.get(r.dataId).values,c=s.data.get(i.dataId).values,u=Me({inputs:{x:a},backend:s,attrs:{dtype:"complex64"}}),d=s.data.get(u.dataId),p=d.complexTensorInfos.real,f=d.complexTensorInfos.imag,h=s.data.get(p.dataId).values,m=s.data.get(f.dataId).values,[g,v,y]=n(o.shape,a.shape,l,c,h,m),b=s.makeTensorInfo(y,"float32",g),w=s.makeTensorInfo(y,"float32",v),x=Oe({inputs:{real:b,imag:w},backend:s});return s.disposeIntermediateTensorInfo(e),s.disposeIntermediateTensorInfo(u),s.disposeIntermediateTensorInfo(b),s.disposeIntermediateTensorInfo(w),x}{const e=s.data.get(o.dataId).values,n=s.data.get(a.dataId).values,i=r||o.dtype,[l,c]=t(o.shape,a.shape,e,n,i);return s.makeTensorInfo(c,i,l)}}}function Re(e){return(t,n,r,o,a,s)=>{const l=i.backend_util.assertAndGetBroadcastShape(t,n),c=i.util.sizeFromShape(l),u=l.length,d=i.util.computeStrides(l),p=i.util.getTypedArrayFromDType("float32",c),f=i.util.getTypedArrayFromDType("float32",c),h=i.backend_util.getBroadcastDims(t,l),m=i.backend_util.getBroadcastDims(n,l),g=i.backend_util.mergeRealAndImagArrays(r,o),v=i.backend_util.mergeRealAndImagArrays(a,s),y=t.length,b=i.util.computeStrides(t),w=n.length,x=i.util.computeStrides(n);if(h.length+m.length===0)for(let i=0;i<p.length;i++){const t=i%g.length,n=i%v.length,r=e(g[2*t],g[2*t+1],v[2*n],v[2*n+1]);p[i]=r.real,f[i]=r.imag}else for(let S=0;S<p.length;S++){const t=i.util.indexToLoc(S,u,d),n=t.slice(-y);h.forEach((e=>n[e]=0));const r=i.util.locToIndex(n,y,b),o=t.slice(-w);m.forEach((e=>o[e]=0));const a=i.util.locToIndex(o,w,x),s=e(g[2*r],g[2*r+1],v[2*a],v[2*a+1]);p[S]=s.real,f[S]=s.imag}return[p,f,l]}}const De=Ce(((e,t)=>e+t)),Le=Re(((e,t,n,r)=>({real:e+n,imag:t+r})));Ne(i.Add,De,Le),i.Add;function je(e,t,n,r,o){const a=i.util.sizeFromShape(r),s=i.util.makeZerosTypedArray(o,n);for(let i=0;i<e.length;i++){const n=e[i];if(n<0)throw new Error("Input x must be non-negative!");n>=o||(s[n]+=a>0?t[i]:1)}return s}function Be(e,t,n,r=!1){const o=e.shape[0],a=e.shape[1],s=(0,i.buffer)([o,n],t.dtype);for(let i=0;i<o;i++)for(let o=0;o<a;o++){const a=e.get(i,o);if(a<0)throw new Error("Input x must be non-negative!");a>=n||(r?s.set(1,i,a):t.size>0?s.set(s.get(i,a)+t.get(i,o),i,a):s.set(s.get(i,a)+1,i,a))}return s}function Fe(e){return(t,n,r)=>{const o=i.util.getTypedArrayFromDType(n,t.length);for(let i=0;i<t.length;++i)o[i]=e(t[i],r);return o}}function Ue(e,t,n){return({inputs:r,attrs:o,backend:a})=>{const{x:s}=r;if(Ee(s,e),"string"===s.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const l=a,c=l.data.get(s.dataId).values,u=i.util.sizeFromShape(s.shape),d=n||s.dtype,p=i.util.getArrayFromDType(d,u);for(let e=0;e<u;++e)p[e]=t(c[e],o);return l.makeTensorInfo(s.shape,d,p)}}function $e(e,t,n){return({inputs:r,attrs:i,backend:o})=>{const{x:a}=r;if(Ee(a,e),"string"===a.dtype||"string"===n)throw new Error("unaryKernelFunc does not support string input/output");const s=o,l=s.data.get(a.dataId).values,c=n||a.dtype,u=t(l,c,i);return s.makeTensorInfo(a.shape,c,u)}}const He=Fe((e=>Math.ceil(e)));$e(i.Ceil,He),i.Ceil;function Ge(e,t,n,r){const o=i.util.getArrayFromDType(n,i.util.sizeFromShape(t));if(r&&"string"!==n){let t=0;e.forEach((e=>{const n=i.util.sizeFromShape(e.shape);o.set(e.vals,t),t+=n}))}else{let r=0;e.forEach((e=>{const a="string"===n?i.backend_util.fromUint8ToStringArray(e.vals):e.vals;let s=0;for(let n=0;n<e.shape[0];++n){const i=n*t[1]+r;for(let t=0;t<e.shape[1];++t)o[i+t]=a[s++]}r+=e.shape[1]}))}return o}const Ve=Ce(((e,t)=>e===t?1:0)),ze=(Ne(i.Equal,Ve,null,"bool"),i.Equal,Fe((e=>Math.exp(e)))),We=($e(i.Exp,ze,"float32"),i.Exp,Fe((e=>Math.expm1(e)))),Ke=($e(i.Expm1,We),i.Expm1,Fe((e=>Math.floor(e))));$e(i.Floor,Ke),i.Floor;function qe(e,t,n,r,o,a,s,l,c){const u=(0,i.buffer)([r,a],n);for(let i=0;i<r;i++){const n=[];let r=0;for(let t=0;t<o;t++){const a=e[i*o+t];r+=a*s[t],n.push(a)}if(r<0||r>=c/a)throw new Error(`Invalid indices: ${n} does not index into ${l}`);for(let e=0;e<a;e++)u.values[i*a+e]=t.get(...t.indexToLoc(r*a+e))}return u}function Xe(e,t,n){const r=(0,i.buffer)(n,e.dtype);for(let i=0;i<r.size;++i){const n=r.indexToLoc(i).slice(),o=n[0],a=n[2],s=t.locToIndex([o,a]);n[2]=t.values[s];const l=e.locToIndex(n);0<=l&&l<e.values.length&&(r.values[i]=e.values[l])}return r}const Ze=Ce(((e,t)=>e>t?1:0)),Ye=(Ne(i.Greater,Ze,null,"bool"),i.Greater,Ce(((e,t)=>e>=t?1:0))),Qe=(Ne(i.GreaterEqual,Ye,null,"bool"),i.GreaterEqual,Ce(((e,t)=>e<t?1:0))),Je=(Ne(i.Less,Qe,null,"bool"),i.Less,Ce(((e,t)=>e<=t?1:0)));Ne(i.LessEqual,Je,null,"bool"),i.LessEqual;function et(e,t,n){const r=(t-e)/(n-1),o=i.util.makeZerosTypedArray(n,"float32");o[0]=e;for(let i=1;i<o.length;i++)o[i]=o[i-1]+r;return o}const tt=Fe((e=>Math.log(e)));$e(i.Log,tt),i.Log;function nt(e,t,n,r){const o=i.util.getTypedArrayFromDType(r,i.util.sizeFromShape(n));for(let i=0;i<o.length;++i){const n=i*t;let r=e[n];for(let i=0;i<t;++i){const t=e[n+i];(Number.isNaN(t)||t>r)&&(r=t)}o[i]=r}return o}const rt=Ce(((e,t)=>Math.max(e,t))),it=(Ne(i.Maximum,rt),i.Maximum,Ce(((e,t)=>Math.min(e,t)))),ot=(Ne(i.Minimum,it),i.Minimum,Ce(((e,t)=>e*t))),at=Re(((e,t,n,r)=>({real:e*n-t*r,imag:e*r+t*n})));Ne(i.Multiply,ot,at),i.Multiply;function st(e,t,n){const r=i.util.createScalarValue(-1,n);return ot([],t,r,e,n)}i.Neg;const lt=Ce(((e,t)=>e!==t?1:0));Ne(i.NotEqual,lt,null,"bool"),i.NotEqual;function ct(e,t,n,r,o){const a=t.length,s=i.util.sizeFromShape(t),l=i.util.computeStrides(t),c=i.util.computeStrides(o),u=i.util.getTypedArrayFromDType(n,i.util.sizeFromShape(o));for(let d=0;d<s;++d){const t=i.util.indexToLoc(d,a,l),n=new Array(t.length);for(let e=0;e<n.length;e++)n[e]=t[r[e]];u[i.util.locToIndex(n,a,c)]=e[d]}return u}i.Transpose;function ut(e,t,n,r){const[o,a]=i.backend_util.computeOutAndReduceShapes(e,r),s=(0,i.upcastType)(t,"int32"),l=i.util.makeZerosTypedArray(i.util.sizeFromShape(o),s),c=i.util.sizeFromShape(a);for(let i=0;i<l.length;++i){const e=i*c;let t=1;for(let r=0;r<c;++r)t*=n[e+r];l[i]=t}return{outVals:l,outShape:o,outDtype:s}}i.Prod;function dt(e,t,n,r){if(e===t||e<t&&n<0||t<e&&n>1)return i.util.makeZerosTypedArray(0,r);const o=Math.abs(Math.ceil((t-e)/n)),a=i.util.makeZerosTypedArray(o,r);t<e&&1===n&&(n=-1),a[0]=e;for(let i=1;i<a.length;i++)a[i]=a[i-1]+n;return a}const pt=Fe((e=>1/Math.sqrt(e))),ft=($e(i.Rsqrt,pt),i.Rsqrt,Fe((e=>1/(1+Math.exp(-e)))));Ue(i.Sigmoid,(e=>1/(1+Math.exp(-e)))),i.Sigmoid;function ht(e,t,n,r,o){const a=i.slice_util.isSliceContinous(r,t,n),s=i.util.sizeFromShape(n),l=i.util.computeStrides(r);if(a){const n=i.slice_util.computeFlatOffset(t,l);return"string"===o?e.slice(n,n+s):e.subarray(n,n+s)}const c="string"===o?i.backend_util.fromUint8ToStringArray(e):e,u=(0,i.buffer)(r,o,c),d=(0,i.buffer)(n,o);for(let i=0;i<d.size;++i){const e=d.indexToLoc(i),n=e.map(((e,n)=>e+t[n]));d.set(u.get(...n),...e)}return"string"===o?i.backend_util.fromStringArrayToUint8(d.values):d.values}i.Slice;function mt(e,t,n,r,o,a,s){const l=t[0],c=a[0],u=new Array(c),d=new Array(l),p=t[1];if(0===c){if(0!==l)throw new Error(i.backend_util.getSparseFillEmptyRowsIndicesDenseShapeMismatch(l));return[i.util.getArrayFromDType(n,0),[0,p],i.util.getArrayFromDType(o,0),u,d]}let f=!0,h=0;const m=new Array(c).fill(0);for(let v=0;v<l;++v){const t=e[v*p];if(t<0)throw new Error(i.backend_util.getSparseFillEmptyRowsNegativeIndexErrorMessage(v,t));if(t>=c)throw new Error(i.backend_util.getSparseFillEmptyRowsOutOfRangeIndexErrorMessage(v,t,c));++m[t],f=f&&t>=h,h=t}let g=!0;for(let i=0;i<c;++i){const e=0===m[i];u[i]=e,g=g&&!e,m[i]=Math.max(m[i],1),i>0&&(m[i]+=m[i-1])}if(g&&f){const t=e,n=r;for(let e=0;e<l;++e)d[e]=e;return[t,[l,p],n,u,d]}{const t=m[c-1],a=i.util.getArrayFromDType(n,t*p),f=i.util.getArrayFromDType(o,t),h=new Array(c).fill(0);for(let n=0;n<l;++n){const t=e[n*p],i=h[t],o=(0===t?0:m[t-1])+i;h[t]++;for(let r=0;r<p;++r)a[o*p+r]=e[n*p+r];f[o]=r[n],d[n]=o}for(let e=0;e<c;++e){if(0===h[e]){const t=0===e?0:m[e-1];a[t*p+0]=e;for(let e=1;e<p;++e)a[t*p+e]=0;f[t]=s}}return[a,[t,p],f,u,d]}}function gt(e,t,n,r,o){const a=i.util.sizeFromShape(r),s=t[0],l=o.length,c=[];let u=1,d=-1;for(let g=0;g<l;++g){const e=o[g];if(-1===e){if(-1!==d)throw new Error(i.backend_util.getSparseReshapeMultipleNegativeOneOutputDimErrorMessage(d,g));d=g,c.push(1)}else{if(e<0)throw new Error(i.backend_util.getSparseReshapeNegativeOutputDimErrorMessage(g,e));u*=e,c.push(e)}}if(-1!==d){if(u<=0)throw new Error(i.backend_util.getSparseReshapeEmptyTensorZeroOutputDimErrorMessage());const e=Math.trunc(a/u);if(u*e!==a)throw new Error(i.backend_util.getSparseReshapeInputOutputMultipleErrorMessage(r,c));c[d]=e}if(i.util.sizeFromShape(c)!==a)throw new Error(i.backend_util.getSparseReshapeInputOutputMismatchErrorMessage(r,c));const p=r.length,f=[];if(p>0){f[p-1]=1;for(let e=p-2;e>=0;--e)f[e]=f[e+1]*r[e+1]}const h=[];if(l>0){h[l-1]=1;for(let e=l-2;e>=0;--e)h[e]=h[e+1]*c[e+1]}const m=i.util.getArrayFromDType(n,s*l);for(let i=0;i<s;++i){let t=0;for(let n=0;n<p;++n)t+=e[i*p+n]*f[n];for(let e=0;e<l;++e)m[i*l+e]=Math.trunc(t/h[e]),t%=h[e]}return[m,[s,l],c]}function vt(e,t,n,r,o,a=!1,s=0){const l=r.length,c=[t[0],e.length/t[0]],u=c[1],d=l>0?o[l-1]+1:0;if(d<0)throw new Error(i.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());const p=t.slice();p[0]=d;const f=p.reduce(((e,t)=>e*t),1),h=i.util.getArrayFromDType(n,f);if(0===l)return d>0&&h.fill(s),[h,p];if(d<=0)throw new Error(i.backend_util.getSparseSegmentReductionNegativeSegmentIdsErrorMessage());let m=0,g=1,v=0,y=o[m];for(;;){let t=0;if(g<l){if(t=o[g],y===t){++g;continue}if(y>=t)throw new Error(i.backend_util.getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage())}if(y<0||y>=d)throw new Error(i.backend_util.getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage(y,d));y>v&&h.fill(s,v*u,y*u);for(let n=m;n<g;++n){const t=r[n];if(t<0||t>=c[0])throw new Error(i.backend_util.getSparseSegmentReductionIndicesOutOfRangeErrorMessage(n,r[n],c[0]));for(let n=0;n<u;n++)h[y*u+n]+=e[t*u+n]}if(a)for(let e=0;e<u;e++)h[y*u+e]/=g-m;if(m=g,++g,v=y+1,y=t,g>l)break}return v<d&&h.fill(s,v*u,d*u),[h,p]}const yt=Fe((e=>Math.sqrt(e))),bt=(Ue(i.Sqrt,(e=>Math.sqrt(e))),i.Sqrt,Ce(((e,t)=>{const n=e-t;return n*n})));Ne(i.SquaredDifference,bt),i.SquaredDifference;function wt(e,t,n,r){const o=(0,i.buffer)(e,t.dtype);for(let i=0;i<o.size;i++){const e=o.indexToLoc(i),a=new Array(e.length);for(let t=0;t<a.length;t++)a[t]=e[t]*n[t]+r[t];o.set(t.get(...a),...e)}return o}class xt{constructor(e,t,n,r,o,a){this.separator=i.util.encodeString(e),this.nGramWidths=t,this.leftPad=i.util.encodeString(n),this.rightPad=i.util.encodeString(r),this.padWidth=o,this.preserveShort=a}getPadWidth(e){return Math.min(this.padWidth<0?e-1:this.padWidth,e-1)}getNumNGrams(e,t){const n=this.getPadWidth(t);return Math.max(0,e+2*n-t+1)}createNGrams(e,t,n,r,i,o){for(let a=0;a<i;++a){const s=this.getPadWidth(o),l=Math.max(0,s-a),c=Math.max(0,s-(i-(a+1))),u=o-(l+c),d=t+(l>0?0:a-s);let p=0;p+=l*this.leftPad.length;for(let t=0;t<u;++t)p+=e[d+t].length;p+=c*this.rightPad.length;p+=(l+c+u-1)*this.separator.length,n[r+a]=new Uint8Array(p);const f=n[r+a];let h=0;const m=e=>e.forEach((e=>f[h++]=e));for(let e=0;e<l;++e)m(this.leftPad),m(this.separator);for(let t=0;t<u-1;++t)m(e[d+t]),m(this.separator);if(u>0){m(e[d+u-1]);for(let e=0;e<c;++e)m(this.separator),m(this.rightPad)}else{for(let e=0;e<c-1;++e)m(this.rightPad),m(this.separator);m(this.rightPad)}}}compute(e,t){const n=e.length,r=t.length;if(r>0){let e=t[0];if(0!==e)throw new Error(`First split value must be 0, got ${e}`);for(let i=1;i<r;++i){let r=t[i]>=e;if(r=r&&t[i]<=n,!r)throw new Error(`Invalid split value ${t[i]}, must be in [${e}, ${n}]`);e=t[i]}if(e!==n)throw new Error(`Last split value must be data size. Expected ${n}, got ${e}`)}const o=r-1,a=i.util.getArrayFromDType("int32",r);if(0===n||0===r){const e=new Array(n);for(let t=0;t<=o;++t)a[t]=0;return[e,a]}a[0]=0;for(let i=1;i<=o;++i){const e=t[i]-t[i-1];let n=0;this.nGramWidths.forEach((t=>{n+=this.getNumNGrams(e,t)})),this.preserveShort&&e>0&&0===n&&(n=1),a[i]=a[i-1]+n}const s=new Array(a[o]);for(let i=0;i<o;++i){const n=t[i];let r=a[i];if(this.nGramWidths.forEach((o=>{const a=t[i+1]-t[i],l=this.getNumNGrams(a,o);this.createNGrams(e,n,s,r,l,o),r+=l})),this.preserveShort&&r===a[i]){const o=t[i+1]-t[i];if(0===o)continue;const a=o+2*this.padWidth,l=1;this.createNGrams(e,n,s,r,l,a)}}return[s,a]}}function St(e,t,n,r,i,o,a,s){return new xt(n,r,i,o,a,s).compute(e,t)}function kt(e,t,n,r){if(!e.length)return;if(0===t.length){for(let t=0;t<e.length;++t)r.push(e.subarray(t,t+1));return}if(1===t.length){const i=t[0];let o=e.indexOf(i);for(;-1!==o;){const t=e.subarray(0,o);n&&0===t.length||r.push(t),o=(e=e.subarray(o+1)).indexOf(i)}return void(n&&0===e.length||r.push(e))}let i=0;for(let o=0;o<e.length+1;o++)if(o===e.length||-1!==t.indexOf(e[o])){const t=e.subarray(i,o);n&&0===t.length||r.push(t),i=o+1}}function Tt(e,t,n){const r=e.length,o=[];let a=0,s=0;const l=new Array(r);for(let i=0;i<r;++i){const r=o.length;kt(e[i],t,n,o);const c=o.length-r;l[i]=c,a+=c,s=Math.max(s,c)}const c=i.util.getArrayFromDType("int32",2*a),u=new Array(a),d=[r,s];let p=0;for(let i=0;i<r;++i)for(let e=0;e<l[i];++e)c[2*p]=i,c[2*p+1]=e,u[p]=o[p],++p;return[c,u,d]}function Et(e,t){const n=i.util.getArrayFromDType("int32",e.length);for(let r=0;r<e.length;++r)n[r]=i.util.fingerPrint64(e[r]).modulo(t).getLowBitsUnsigned();return n}const _t=Ce(((e,t)=>e-t)),Ct=Re(((e,t,n,r)=>({real:e-n,imag:t-r})));Ne(i.Sub,_t,Ct),i.Sub;function Ot(e,t){const n=new Array(e.rank);for(let i=0;i<n.length;i++)n[i]=e.shape[i]*t[i];const r=(0,i.buffer)(n,e.dtype);for(let i=0;i<r.values.length;++i){const t=r.indexToLoc(i),n=new Array(e.rank);for(let r=0;r<n.length;r++)n[r]=t[r]%e.shape[r];const o=e.locToIndex(n);r.values[i]=e.values[o]}return r}const Pt=(e,t)=>{const n=t.value-e.value;return 0===n?e.index-t.index:n};function At(e,t,n=0,r=e.length-1){for(;r>n;){if(r-n>600){const i=r-n+1,o=t-n+1,a=Math.log(i),s=.5*Math.exp(2*a/3),l=.5*Math.sqrt(a*s*(i-s)/i)*Math.sign(o-i/2);At(e,t,Math.max(n,Math.floor(t-o*s/i+l)),Math.min(r,Math.floor(t+(i-o)*s/i+l)))}const o=e[t];let a=n,s=r;for(i.util.swap(e,n,t),Pt(e[r],o)>0&&i.util.swap(e,n,r);a<s;){for(i.util.swap(e,a,s),a++,s--;Pt(e[a],o)<0;)a+=1;for(;Pt(e[s],o)>0;)s-=1}0===Pt(e[n],o)?i.util.swap(e,n,s):(s+=1,i.util.swap(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}}function It(e,t,n,r,o){const a=t[t.length-1],[s,l]=[e.length/a,a],c=i.util.getTypedArrayFromDType(n,s*r),u=i.util.getTypedArrayFromDType("int32",s*r);for(let i=0;i<s;i++){const t=i*l,n=e.subarray(t,t+l);let a=new Array(n.length);n.forEach(((e,t)=>a[t]={value:e,index:t})),r<a.length&&(At(a,r),a=a.slice(0,r)),o&&a.sort(Pt);const s=i*r,d=c.subarray(s,s+r),p=u.subarray(s,s+r);for(let e=0;e<r;e++)d[e]=a[e].value,p[e]=a[e].index}const d=t.slice();return d[d.length-1]=r,[(0,i.buffer)(d,n,c),(0,i.buffer)(d,"int32",u)]}function Mt(e,t,n,r){const o=i.util.parseAxisParam(t,n)[0],a=[1,n[0],1];for(let i=0;i<o;i++)a[0]*=n[i];a[1]=n[o];for(let i=o+1;i<n.length;i++)a[2]*=n[i];const s={},l=new Int32Array(n[o]),c=new i.TensorBuffer(a,r,e),u=[],d=1===a[0]&&1===a[2];for(let i=0;i<n[o];i++){let t;if(d)t=e[i].toString();else{const e=[];for(let t=0;t<a[0];t++)for(let n=0;n<a[2];n++)e.push(c.get(t,i,n));t=e.join(",")}if(void 0!==s[t])l[i]=s[t];else{const e=Object.keys(s).length;s[t]=e,l[i]=e,u.push(i)}}const p=a.slice();p[1]=Object.keys(s).length;const f=new i.TensorBuffer(p,r);u.forEach(((e,t)=>{for(let n=0;n<a[0];n++)for(let r=0;r<a[2];r++)f.set(c.get(n,e,r),n,t,r)}));const h=n.slice();return h[o]=p[1],{outputValues:f.values,outputShape:h,indices:l}}const{addImpl:Nt,bincountImpl:Rt,bincountReduceImpl:Dt,ceilImpl:Lt,concatImpl:jt,equalImpl:Bt,expImpl:Ft,expm1Impl:Ut,floorImpl:$t,gatherNdImpl:Ht,gatherV2Impl:Gt,greaterImpl:Vt,greaterEqualImpl:zt,lessImpl:Wt,lessEqualImpl:Kt,linSpaceImpl:qt,logImpl:Xt,maxImpl:Zt,maximumImpl:Yt,minimumImpl:Qt,multiplyImpl:Jt,negImpl:en,notEqualImpl:tn,prodImpl:nn,rangeImpl:rn,rsqrtImpl:on,sigmoidImpl:an,simpleAbsImpl:sn,sliceImpl:ln,sparseFillEmptyRowsImpl:cn,sparseReshapeImpl:un,sparseSegmentReductionImpl:dn,sqrtImpl:pn,stridedSliceImpl:fn,stringNGramsImpl:hn,stringSplitImpl:mn,stringToHashBucketFastImpl:gn,subImpl:vn,tileImpl:yn,topKImpl:bn,transposeImpl:wn,uniqueImpl:xn}=r;function Sn(e,t){return 1===t?[e]:function(e,t){return["x","y","z","w","u","v"].slice(0,t).map((t=>`${e}.${t}`))}(e,t)}class kn{constructor(e){if(this.variableNames=["A"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=e,this.rank=e.length,this.enableShapeUniforms=se(this.outputShape.length),0===this.rank)this.userCode="\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      ";else{const e=Sn("rc",this.rank),t=ne(this.rank),n=this.getOutOfBoundsCondition(e),r=this.getSetup(e),i=this.getOutput(e);this.userCode=`\n        void main() {\n          ${t} rc = getOutputCoords();\n\n          if(${n}) {\n            setOutput(vec4(0));\n          } else {\n            ${r}\n\n            setOutput(vec4(${i}));\n          }\n        }\n      `}}getSourceCoordsArr(e){const t=[];for(let n=0;n<=1;n++)for(let r=0;r<=1;r++){let i=`${0===n?"r":"rp1"}, ${0===r?"c":"cp1"}`;for(let t=2;t<this.rank;t++)i=`${e[e.length-1-t]},`+i;t.push(i)}return t}getOutOfBoundsCondition(e){if(1===this.rank)return`rc > ${this.enableShapeUniforms?"outShape":this.outputShape[0]}`;let t="";for(let n=this.rank-2;n<this.rank;n++)t+=`${e[n]} >= ${this.enableShapeUniforms?`outShape[${n}]`:this.outputShape[n]}`,n<this.rank-1&&(t+="||");return t}getSetup(e){if(1===this.rank)return"";const t=e.slice(-2),n=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],r=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\n      int r = ${t[0]};\n      int c = ${t[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${n};\n      bool rEdge = rp1 >= ${r};\n    `}getOutput(e){const t=this.getSourceCoordsArr(e);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?"outShape":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${t[0]}),\n            cEdge ? 0. : getA(${t[1]}),\n            rEdge ? 0. : getA(${t[2]}),\n            rEdge || cEdge ? 0. : getA(${t[3]})`}}class Tn{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.customUniforms=[{name:"inputShape",type:"ivec3"}],this.outputShape=e,this.enableShapeUniforms=se(this.outputShape.length);let n="";for(let o=0;o<4;o++){let e="thisRC = rc;";o%2===1&&(e+="thisRC.z += 1;"),o>1&&(e+="thisRC.y += 1;"),n+=`\n        ${e}\n        ${o>0?"if(thisRC.y < rows && thisRC.z < cols){":""}\n          int flatIndex = getFlatIndex(thisRC);\n\n          ivec3 inputRC = inputCoordsFromReshapedOutCoords(flatIndex);\n          vec2 inputRCInnerDims = vec2(float(inputRC.y),float(inputRC.z));\n\n          result[${o}] =\n            getChannel(getA(inputRC.x, inputRC.y, inputRC.z), inputRCInnerDims);\n        ${o>0?"}":""}\n      `}var r,i;this.userCode=`\n      ${r=t,i=this.enableShapeUniforms,`\n    ivec3 inputCoordsFromReshapedOutCoords(int index) {\n      ${i?H(["r","c","d"],"inputShape"):U(["r","c","d"],r)}\n      return ivec3(r, c, d);\n    }\n  `}\n      ${this.enableShapeUniforms?"\n  int getFlatIndex(ivec3 coords) {\n    return coords.x * outShapeStrides[0] + coords.y * outShapeStrides[1] + coords.z;\n  }\n":G(e)}\n\n      void main() {\n        ivec3 rc = getOutputCoords();\n\n        vec4 result = vec4(0.);\n\n        ivec3 thisRC;\n        int rows = ${this.enableShapeUniforms?"outShape[1]":e[1]};\n        int cols = ${this.enableShapeUniforms?"outShape[2]":e[2]};\n\n        ${n}\n\n        setOutput(result);\n      }\n    `}}class En{constructor(e){this.gpgpu=e,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0,this.freeTextures={},this.logEnabled=!1,this.usedTextures={}}acquireTexture(e,t,n){const r=Cn(t,n),i=On(e,r,n);i in this.freeTextures||(this.freeTextures[i]=[]),i in this.usedTextures||(this.usedTextures[i]=[]);const o=_n(e,r,this.gpgpu.gl,this.gpgpu.textureConfig,n);if(this.freeTextures[i].length>0){this.numFreeTextures--,this.numUsedTextures++,this._numBytesFree-=o,this.log();const e=this.freeTextures[i].shift();return this.usedTextures[i].push(e),e}let a;return r===u.PACKED_2X2_FLOAT32?a=this.gpgpu.createPackedMatrixTexture(e[0],e[1]):r===u.PACKED_2X2_FLOAT16?a=this.gpgpu.createFloat16PackedMatrixTexture(e[0],e[1]):r===u.UNPACKED_FLOAT32?a=this.gpgpu.createFloat32MatrixTexture(e[0],e[1]):r===u.UNPACKED_FLOAT16?a=this.gpgpu.createFloat16MatrixTexture(e[0],e[1]):r===u.PACKED_4X1_UNSIGNED_BYTE&&(a=this.gpgpu.createUnsignedBytesMatrixTexture(e[0],e[1])),this.usedTextures[i].push(a),this.numUsedTextures++,this._numBytesAllocated+=o,this.log(),a}releaseTexture(e,t,n,r){if(null==this.freeTextures)return;const o=Cn(n,r),a=On(t,o,r);a in this.freeTextures||(this.freeTextures[a]=[]);const s=_n(t,o,this.gpgpu.gl,this.gpgpu.textureConfig,r),l=(0,i.env)().get("WEBGL_DELETE_TEXTURE_THRESHOLD");-1!==l&&this._numBytesAllocated>l?(this.gpgpu.deleteMatrixTexture(e.texture),this._numBytesAllocated-=s):(this.freeTextures[a].push(e),this.numFreeTextures++,this._numBytesFree+=s),this.numUsedTextures--;const c=this.usedTextures[a],u=c.indexOf(e);if(u<0)throw new Error("Cannot release a texture that was never provided by this texture manager");c.splice(u,1),this.log()}log(){if(!this.logEnabled)return;const e=this.numFreeTextures+this.numUsedTextures;console.log("Free/Used",`${this.numFreeTextures} / ${this.numUsedTextures}`,`(${e})`);const t=this._numBytesFree/this._numBytesAllocated;console.log(`Bytes allocated: ${this._numBytesAllocated}`),console.log(`Bytes unused: ${this._numBytesFree} (${Math.round(100*t)}%)`)}get numBytesAllocated(){return this._numBytesAllocated}get numBytesFree(){return this._numBytesFree}getNumUsedTextures(){return this.numUsedTextures}getNumFreeTextures(){return this.numFreeTextures}dispose(){if(null!=this.freeTextures){for(const e in this.freeTextures)this.freeTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));for(const e in this.usedTextures)this.usedTextures[e].forEach((e=>{this.gpgpu.deleteMatrixTexture(e.texture)}));this.freeTextures=null,this.usedTextures=null,this.numUsedTextures=0,this.numFreeTextures=0,this._numBytesAllocated=0,this._numBytesFree=0}}}function _n(e,t,n,r,i){const o=function(e,t){switch(e){case u.PACKED_2X2_FLOAT32:return xe(t);case u.PACKED_2X2_FLOAT16:return Se(t);case u.UNPACKED_FLOAT32:return ye(t);case u.UNPACKED_FLOAT16:return be(t);case u.PACKED_4X1_UNSIGNED_BYTE:return we(t);default:throw new Error(`Unknown physical texture type ${e}`)}}(t,r);let a;if(i){const[t,n]=f(e[0],e[1]);a=t*n}else{const[t,n]=d(e[0],e[1]);a=t*n}const s=function(e,t){const n=e;if(t===n.R32F)return 4;if(t===n.R16F)return 2;if(t===n.RGBA32F)return 16;if(t===e.RGBA)return 16;if(t===n.RGBA16F)return 8;if(t===n.RGBA8)return 4;throw new Error(`Unknown internal format ${t}`)}(n,o);return a*s}function Cn(e,t){if(e===c.UPLOAD)return u.PACKED_2X2_FLOAT32;if(e===c.RENDER||null==e)return function(e){return(0,i.env)().getBool("WEBGL_RENDER_FLOAT32_ENABLED")?e?u.PACKED_2X2_FLOAT32:u.UNPACKED_FLOAT32:e?u.PACKED_2X2_FLOAT16:u.UNPACKED_FLOAT16}(t);if(e===c.DOWNLOAD||e===c.PIXELS)return u.PACKED_4X1_UNSIGNED_BYTE;throw new Error(`Unknown logical texture type ${e}`)}function On(e,t,n){return`${e[0]}_${e[1]}_${t}_${n}`}class Pn{constructor(e,t){this.variableNames=["A"],this.outputShape=e,this.enableShapeUniforms=se(this.outputShape.length),this.userCode=`\n      float unaryOperation(float x) {\n        ${t}\n      }\n\n      void main() {\n        float x = getAAtOutCoords();\n        float y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}const An="return abs(x);";const In="return x;";class Mn{constructor(e,t){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!0,this.outputShape=e,this.enableShapeUniforms=se(this.outputShape.length),this.userCode=`\n      vec4 unaryOperation(vec4 x) {\n        ${t}\n      }\n\n      void main() {\n        vec4 x = getAAtOutCoords();\n        vec4 y = unaryOperation(x);\n\n        setOutput(y);\n      }\n    `}}class Nn{constructor(e){this.variableNames=["A"],this.packedInputs=!0,this.packedOutput=!1,this.outputShape=e,this.enableShapeUniforms=se(this.outputShape.length);const t=e.length,n=Sn("rc",t),r=ne(t),i=function(e,t){if(1===e)return"rc";let n="";for(let r=0;r<e;r++)n+=t[r],r<e-1&&(n+=",");return n}(t,n),o=n.slice(-2),a=t<=1?"rc":`vec2(${o.join(",")})`;this.userCode=`\n      void main() {\n        ${r} rc = getOutputCoords();\n        vec4 packedInput = getA(${i});\n\n        setOutput(getChannel(packedInput, ${a}));\n      }\n    `}}const Rn=i.kernel_impls.whereImpl,Dn={};const Ln=(0,i.env)().getNumber("CPU_HANDOFF_SIZE_THRESHOLD");class jn extends i.KernelBackend{constructor(e){if(super(),this.pendingRead=new WeakMap,this.pendingDisposal=new WeakSet,this.dataRefCount=new WeakMap,this.numBytesInGPU=0,this.uploadWaitMs=0,this.downloadWaitMs=0,this.lastGlFlushTime=0,this.warnedAboutMemory=!1,this.pendingDeletes=0,this.disposed=!1,!(0,i.env)().getBool("HAS_WEBGL"))throw new Error("WebGL is not supported on this device");let t;if(null!=e){if(e instanceof Te)t=e;else{const n=s((0,i.env)().getNumber("WEBGL_VERSION"),e);t=new Te(n)}this.binaryCache={},this.gpgpuCreatedLocally=!1}else{const e=s((0,i.env)().getNumber("WEBGL_VERSION"));t=new Te(e),this.binaryCache=((n=(0,i.env)().getNumber("WEBGL_VERSION"))in Dn||(Dn[n]={}),Dn[n]),this.gpgpuCreatedLocally=!0}var n;this.gpgpu=t,this.canvas=this.gpgpu.gl.canvas,this.textureManager=new En(this.gpgpu),this.numMBBeforeWarning=null==(0,i.env)().global.screen?1024:(0,i.env)().global.screen.height*(0,i.env)().global.screen.width*window.devicePixelRatio*600/1024/1024,this.texData=new i.DataStorage(this,(0,i.engine)())}nextDataId(){return jn.nextDataId++}numDataIds(){return this.texData.numDataIds()-this.pendingDeletes}write(e,t,n){if(((0,i.env)().getBool("WEBGL_CHECK_NUMERICAL_PROBLEMS")||(0,i.env)().getBool("DEBUG"))&&this.checkNumericalProblems(e),"complex64"===n&&null!=e)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");const r={id:this.nextDataId()};return this.texData.set(r,{shape:t,dtype:n,values:e,usage:c.UPLOAD,refCount:1}),r}refCount(e){if(this.texData.has(e)){return this.texData.get(e).refCount}return 0}incRef(e){this.texData.get(e).refCount++}decRef(e){if(this.texData.has(e)){this.texData.get(e).refCount--}}move(e,t,n,r,o){if((0,i.env)().getBool("DEBUG")&&this.checkNumericalProblems(t),"complex64"===r)throw new Error("Cannot write to a complex64 dtype. Please use tf.complex(real, imag).");this.texData.set(e,{shape:n,dtype:r,values:t,usage:c.UPLOAD,refCount:o})}disposeIntermediateTensorInfo(e){this.disposeData(e.dataId)}readSync(e){const t=this.texData.get(e),{values:n,dtype:r,complexTensorInfos:o,slice:a,shape:s,isPacked:l}=t;if(null!=a){let t;t=l?new Mn(s,In):new Pn(s,In);const n=this.runWebGLProgram(t,[{dataId:e,shape:s,dtype:r}],r),i=this.readSync(n.dataId);return this.disposeIntermediateTensorInfo(n),i}if(null!=n)return this.convertAndCacheOnCPU(e);if("string"===r)return n;const c=null!=this.activeTimers;let u,d;if(c&&(u=i.util.now()),"complex64"===r){const e=this.readSync(o.real.dataId),t=this.readSync(o.imag.dataId);d=i.backend_util.mergeRealAndImagArrays(e,t)}else d=this.getValuesFromTexture(e);return c&&(this.downloadWaitMs+=i.util.now()-u),this.convertAndCacheOnCPU(e,d)}async read(e){if(this.pendingRead.has(e)){const t=this.pendingRead.get(e);return new Promise((e=>t.push(e)))}const t=this.texData.get(e),{values:n,shape:r,slice:o,dtype:a,complexTensorInfos:s,isPacked:l}=t;if(null!=o){let t;t=l?new Mn(r,In):new Pn(r,In);const n=this.runWebGLProgram(t,[{dataId:e,shape:r,dtype:a}],a),i=this.read(n.dataId);return this.disposeIntermediateTensorInfo(n),i}if(null!=n)return this.convertAndCacheOnCPU(e);if((0,i.env)().getBool("DEBUG")&&!(0,i.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")&&2===(0,i.env)().getNumber("WEBGL_VERSION"))throw new Error("tensor.data() with WEBGL_DOWNLOAD_FLOAT_ENABLED=false and WEBGL_VERSION=2 not yet supported.");let c,u,d=null;if("complex64"!==a&&(0,i.env)().get("WEBGL_BUFFER_SUPPORTED")){c=this.decode(e);const t=this.texData.get(c.dataId);d=this.gpgpu.createBufferFromTexture(t.texture.texture,...p(r))}if(this.pendingRead.set(e,[]),"complex64"!==a&&await this.gpgpu.createAndWaitForFence(),"complex64"===a){const e=await Promise.all([this.read(s.real.dataId),this.read(s.imag.dataId)]),t=e[0],n=e[1];u=i.backend_util.mergeRealAndImagArrays(t,n)}else if(null==d)u=this.getValuesFromTexture(e);else{const e=i.util.sizeFromShape(r);u=this.gpgpu.downloadFloat32MatrixFromBuffer(d,e)}if(null!=c&&this.disposeIntermediateTensorInfo(c),null!=d){const e=this.gpgpu.gl;m(e,(()=>e.deleteBuffer(d)))}const f=this.convertAndCacheOnCPU(e,u),h=this.pendingRead.get(e);return this.pendingRead.delete(e),h.forEach((e=>e(f))),this.pendingDisposal.has(e)&&(this.pendingDisposal.delete(e),this.disposeData(e)&&(0,i.engine)().removeDataId(e,this),this.pendingDeletes--),f}readToGPU(e,t={}){const n=this.texData.get(e),{values:r,shape:o,slice:a,dtype:s,isPacked:l,texture:c}=n;if("complex64"===s)throw new Error("Does not support reading texture for complex64 dtype.");if(null!=a){let n;n=l?new Mn(o,In):new Pn(o,In);const r=this.runWebGLProgram(n,[{dataId:e,shape:o,dtype:s}],s),i=this.readToGPU(r,t);return this.disposeIntermediateTensorInfo(r),i}if(null==c)throw null!=r?new Error("Data is not on GPU but on CPU."):new Error("There is no data on GPU or CPU.");const u=this.decode(e,t.customTexShape),d=(0,i.engine)().makeTensorFromDataId(u.dataId,u.shape,u.dtype),p=this.texData.get(u.dataId);return Object.assign({tensorRef:d},p.texture)}bufferSync(e){const t=this.readSync(e.dataId);let n=t;if("string"===e.dtype)try{n=t.map((e=>i.util.decodeString(e)))}catch(r){throw new Error("Failed to decode encoded string bytes into utf-8")}return(0,i.buffer)(e.shape,e.dtype,n)}checkNumericalProblems(e){if(null!=e)for(let t=0;t<e.length;t++){const n=e[t];if(!g(n)){if((0,i.env)().getBool("WEBGL_RENDER_FLOAT32_CAPABLE"))throw Error(`The value ${n} cannot be represented with your current settings. Consider enabling float32 rendering: 'tf.env().set('WEBGL_RENDER_FLOAT32_ENABLED', true);'`);throw Error(`The value ${n} cannot be represented on this device.`)}}}getValuesFromTexture(e){const{shape:t,dtype:n,isPacked:r}=this.texData.get(e),o=i.util.sizeFromShape(t);if((0,i.env)().getBool("WEBGL_DOWNLOAD_FLOAT_ENABLED")){const n=this.decode(e),r=this.texData.get(n.dataId),i=this.gpgpu.downloadMatrixFromPackedTexture(r.texture.texture,...p(t)).subarray(0,o);return this.disposeIntermediateTensorInfo(n),i}const a=(0,i.env)().getBool("WEBGL_PACK")&&!0===r,s=a?A(t):t,l=a?new de(s):new ue(s),c=this.runWebGLProgram(l,[{shape:s,dtype:n,dataId:e}],"float32"),u=this.texData.get(c.dataId),d=this.gpgpu.downloadByteEncodedFloatMatrixFromOutputTexture(u.texture.texture,u.texShape[0],u.texShape[1]).subarray(0,o);return this.disposeIntermediateTensorInfo(c),d}timerAvailable(){return(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0}time(e){const t=this.activeTimers,n=[];let r=!1;null==this.programTimersStack?(this.programTimersStack=n,r=!0):this.activeTimers.push(n),this.activeTimers=n,e();const o=i.util.flatten(this.activeTimers.map((e=>e.query))).filter((e=>null!=e)),a=i.util.flatten(this.activeTimers.map((e=>e.name))).filter((e=>null!=e));this.activeTimers=t,r&&(this.programTimersStack=null);const s={uploadWaitMs:this.uploadWaitMs,downloadWaitMs:this.downloadWaitMs,kernelMs:null,wallMs:null};return(async()=>{if((0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0){const e=await Promise.all(o);s.kernelMs=i.util.sum(e),s.getExtraProfileInfo=()=>e.map(((e,t)=>({name:a[t],ms:e}))).map((e=>`${e.name}: ${e.ms}`)).join(", ")}else s.kernelMs={error:"WebGL query timers are not supported in this environment."};return this.uploadWaitMs=0,this.downloadWaitMs=0,s})()}memory(){return{unreliable:!1,numBytesInGPU:this.numBytesInGPU,numBytesInGPUAllocated:this.textureManager.numBytesAllocated,numBytesInGPUFree:this.textureManager.numBytesFree}}startTimer(){return(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?this.gpgpu.beginQuery():{startMs:i.util.now(),endMs:null}}endTimer(e){return(0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0?(this.gpgpu.endQuery(),e):(e.endMs=i.util.now(),e)}async getQueryTime(e){if((0,i.env)().getNumber("WEBGL_DISJOINT_QUERY_TIMER_EXTENSION_RELIABLE")>0)return this.gpgpu.waitForQueryAndGetTime(e);const t=e;return t.endMs-t.startMs}disposeData(e,t=!1){if(this.pendingDisposal.has(e))return!1;if(!this.texData.has(e))return!0;if(t?this.texData.get(e).refCount=0:this.texData.get(e).refCount--,!t&&this.texData.get(e).refCount>0)return!1;if(this.pendingRead.has(e))return this.pendingDisposal.add(e),this.pendingDeletes++,!1;this.releaseGPUData(e);const{complexTensorInfos:n}=this.texData.get(e);return null!=n&&(this.disposeData(n.real.dataId,t),this.disposeData(n.imag.dataId,t)),this.texData.delete(e),!0}releaseGPUData(e){const{texture:t,dtype:n,texShape:r,usage:i,isPacked:o,slice:a}=this.texData.get(e),s=a&&a.origDataId||e,l=this.dataRefCount.get(s);l>1?this.dataRefCount.set(s,l-1):(this.dataRefCount.delete(s),null!=t&&(this.numBytesInGPU-=this.computeBytes(r,n),this.textureManager.releaseTexture(t,r,i,o)));const c=this.texData.get(e);c.texture=null,c.texShape=null,c.isPacked=!1,c.slice=null}getTexture(e){return this.uploadToGPU(e),this.texData.get(e).texture.texture}getDataInfo(e){return this.texData.get(e)}shouldExecuteOnCPU(e,t=Ln){return(0,i.env)().getBool("WEBGL_CPU_FORWARD")&&e.every((e=>null==this.texData.get(e.dataId).texture&&i.util.sizeFromShape(e.shape)<t))}getGPGPUContext(){return this.gpgpu}where(e){i.backend_util.warn("tf.where() in webgl locks the UI thread. Call tf.whereAsync() instead");const t=e.dataSync();return Rn(e.shape,t)}packedUnaryOp(e,t,n){const r=new Mn(e.shape,t),o=this.compileAndRun(r,[e],n);return(0,i.engine)().makeTensorFromDataId(o.dataId,o.shape,o.dtype)}abs(e){if(this.shouldExecuteOnCPU([e])&&"complex64"!==e.dtype){const t=sn(this.texData.get(e.dataId).values);return this.makeOutput(e.shape,e.dtype,t)}if((0,i.env)().getBool("WEBGL_PACK_UNARY_OPERATIONS"))return this.packedUnaryOp(e,An,e.dtype);const t=new Pn(e.shape,An),n=this.compileAndRun(t,[e]);return(0,i.engine)().makeTensorFromDataId(n.dataId,n.shape,n.dtype)}makeTensorInfo(e,t,n){let r;if("string"===t&&null!=n&&n.length>0&&i.util.isString(n[0])){const o=n.map((e=>i.util.encodeString(e)));r=this.write(o,e,t)}else r=this.write(n,e,t);return this.texData.get(r).usage=null,{dataId:r,shape:e,dtype:t}}makeOutput(e,t,n){const{dataId:r}=this.makeTensorInfo(e,t,n);return(0,i.engine)().makeTensorFromDataId(r,e,t,this)}unpackTensor(e){const t=new Nn(e.shape);return this.runWebGLProgram(t,[e],e.dtype)}packTensor(e){const t=new kn(e.shape);return this.runWebGLProgram(t,[e],e.dtype,null,!0)}packedReshape(e,t){const n=[O(e.shape),...P(e.shape)],r={dtype:e.dtype,shape:n,dataId:e.dataId},i=[O(t),...P(t)],o=new Tn(i,n),a=[n],s=this.runWebGLProgram(o,[r],e.dtype,a,!0);return{dataId:s.dataId,shape:t,dtype:s.dtype}}decode(e,t){const n=this.texData.get(e),{isPacked:r,shape:o,dtype:a}=n;if(null!=t){const e=i.util.sizeFromShape(o),n=t[0]*t[1]*4;i.util.assert(e<=n,(()=>"customTexShape is too small. Row * Column * 4 should be equal or larger than the size of the tensor data."))}const s=A(o);let l;l=r?new ce(s):new le(s);const c=[null!=t?t:p(s)];return{dtype:a,shape:o,dataId:this.runWebGLProgram(l,[{shape:s,dtype:a,dataId:e}],a,c,!0,t).dataId}}runWebGLProgram(e,t,n,r,o=!1,a){const s=this.makeTensorInfo(e.outputShape,n),c=this.texData.get(s.dataId);if(e.packedOutput&&(c.isPacked=!0),e.outPackingScheme===l.DENSE){const t=null!=a?a:p(e.outputShape);c.texShape=t.map((e=>2*e))}if(null!=e.outTexUsage&&(c.usage=e.outTexUsage),0===i.util.sizeFromShape(s.shape))return c.values=i.util.getTypedArrayFromDType(s.dtype,0),s;const u=[],d=t.map((t=>{if("complex64"===t.dtype)throw new Error("GPGPUProgram does not support complex64 input. For complex64 dtypes, please separate the program into real and imaginary parts.");let n=this.texData.get(t.dataId);if(null==n.texture){if(!e.packedInputs&&i.util.sizeFromShape(t.shape)<=(0,i.env)().getNumber("WEBGL_SIZE_UPLOAD_UNIFORM"))return{shape:t.shape,texData:null,isUniform:!0,uniformValues:n.values};e.packedInputs&&(n.isPacked=!0,n.shape=t.shape)}if(this.uploadToGPU(t.dataId),!!n.isPacked!==!!e.packedInputs)t=n.isPacked?this.unpackTensor(t):this.packTensor(t),u.push(t),n=this.texData.get(t.dataId);else if(n.isPacked&&!function(e,t){if(e=e.slice(-2),t=t.slice(-2),i.util.arraysEqual(e,t))return!0;if(!e.length||!t.length)return!0;if(0===e[0]||0===e[1]||0===t[0]||0===t[1])return!0;if(e.length!==t.length){const n=e.slice(-1)[0],r=t.slice(-1)[0];if(n===r)return!0;if(I(n)&&I(r)&&(1===e[0]||1===t[0]))return!0}return e[1]===t[1]&&I(e[0])&&I(t[0])}(n.shape,t.shape)){const e=t,r=t.shape;t.shape=n.shape,t=this.packedReshape(t,r),u.push(t),n=this.texData.get(t.dataId),e.shape=r}return{shape:t.shape,texData:n,isUniform:!1}}));this.uploadToGPU(s.dataId);const f={shape:s.shape,texData:c,isUniform:!1},h=function(e,t,n){let r="";t.concat(n).forEach((t=>{const o=null!=t.texData&&null!=t.texData.slice&&t.texData.slice.flatOffset>0;if(e.enableShapeUniforms&&!t.isUniform){const a=t.texData.texShape,{useSqueezeShape:s,uniformShape:l,keptDims:c}=re(e.packedInputs,t.shape,a);let u="",d="",p="";if(1===l.length&&e.packedInputs){const e=[Math.ceil(a[0]/2),Math.ceil(a[1]/2)];u=`${e[0]>1}_${e[1]>1}`}else if(2!==l.length||e.packedInputs){if(l.length>2&&!e.packedInputs){const e=i.util.computeStrides(l);p=`${e[0]===a[1]}_${e[e.length-1]===a[1]}`}}else d=`${l[0]>1}_${l[1]>1}`;const f=t.shape.length,h=2===l.length&&i.util.arraysEqual(t.shape,a),m=1===i.util.sizeFromShape(t.shape),g=i.backend_util.getBroadcastDims(t.shape,n.shape),v=!e.packedInputs&&f===n.shape.length&&i.util.arraysEqual(a,n.texData.texShape),y=e.packedInputs||l.length>2?"":`${a[0]>1}_${a[1]>1}`;r+=`${f}_${v}_${s?c:""}_${l.length}_${m}_${g}_${h}_${u}_${d}_${p}_${y}_${o}`}else{const e=t.isUniform?"uniform":t.texData.texShape;r+=`${t.shape}_${e}_${o}`}}));const o=e.userCode;let a=e.constructor.name;return a+="_"+r+"_"+o+`${(0,i.env)().getNumber("WEBGL_VERSION")}`,a}(e,d,f),m=this.getAndSaveBinary(h,(()=>function(e,t,n,r){const o=n.map(((e,n)=>{const r={logicalShape:e.shape,texShape:e.isUniform?null:e.texData.texShape,isUniform:e.isUniform,isPacked:!e.isUniform&&e.texData.isPacked,flatOffset:null};return null!=e.texData&&null!=e.texData.slice&&e.texData.slice.flatOffset>0&&(r.flatOffset=e.texData.slice.flatOffset),{name:t.variableNames[n],shapeInfo:r}})),a=o.map((e=>e.shapeInfo)),s={logicalShape:r.shape,texShape:r.texData.texShape,isUniform:!1,isPacked:r.texData.isPacked,flatOffset:null},l=W(o,s,t),c=y(e.gl,l),u=e.createProgram(c);let d=null;const p=e.getUniformLocation(u,"NAN",!1);1===(0,i.env)().getNumber("WEBGL_VERSION")&&(d=e.getUniformLocation(u,"INFINITY",!1));const f=!1,h={},m={},g={};for(let i=0;i<t.variableNames.length;i++){const n=t.variableNames[i];h[n]=e.getUniformLocation(u,n,f),h[`offset${n}`]=e.getUniformLocation(u,`offset${n}`,f),t.enableShapeUniforms&&(m[`${n}Shape`]=e.getUniformLocation(u,`${n}Shape`,f),g[`${n}TexShape`]=e.getUniformLocation(u,`${n}TexShape`,f))}let v,b,w;t.enableShapeUniforms&&(v=e.getUniformLocation(u,"outShape",f),w=e.getUniformLocation(u,"outShapeStrides",f),b=e.getUniformLocation(u,"outTexShape",f));const x=[];return t.customUniforms&&t.customUniforms.forEach(((t,n)=>{x[n]=e.getUniformLocation(u,t.name,f)})),{program:t,fragmentShader:c,source:l,webGLProgram:u,uniformLocations:h,customUniformLocations:x,inShapeInfos:a,outShapeInfo:s,infLoc:d,nanLoc:p,inShapesLocations:m,inTexShapesLocations:g,outShapeLocation:v,outShapeStridesLocation:w,outTexShapeLocation:b}}(this.gpgpu,e,d,f))),g=null!=this.activeTimers;let v;g&&(v=this.startTimer()),function(e,t,n,r,o){t.program.enableShapeUniforms||(ae(t.inShapeInfos,n),ae([t.outShapeInfo],[r]));const a=r.texData.texture,s=r.texData.texShape;r.texData.isPacked?e.setOutputPackedMatrixTexture(a.texture,s[0],s[1]):e.setOutputMatrixTexture(a.texture,s[0],s[1]),e.setProgram(t.webGLProgram),1===(0,i.env)().getNumber("WEBGL_VERSION")&&null!==t.infLoc&&e.gl.uniform1f(t.infLoc,1/0),null!==t.nanLoc&&e.gl.uniform1f(t.nanLoc,NaN),n.forEach(((n,r)=>{const o=t.program.variableNames[r],a=t.uniformLocations[o],s=t.uniformLocations[`offset${o}`],l=t.inShapesLocations[`${o}Shape`],c=t.inTexShapesLocations[`${o}TexShape`];if(l){const{uniformShape:r}=re(t.program.packedInputs,n.shape,n.texData.texShape);switch(r.length){case 1:e.gl.uniform1iv(l,new Int32Array(r));break;case 2:e.gl.uniform2iv(l,new Int32Array(r));break;case 3:e.gl.uniform3iv(l,new Int32Array(r));break;case 4:e.gl.uniform4iv(l,new Int32Array(r))}}if(c&&e.gl.uniform2i(c,n.texData.texShape[0],n.texData.texShape[1]),null!=a)if(n.isUniform)if(i.util.sizeFromShape(n.shape)<2)e.gl.uniform1f(a,n.uniformValues[0]);else{let t=n.uniformValues;t instanceof Float32Array||(t=new Float32Array(t)),e.gl.uniform1fv(a,t)}else null!=n.texData.slice&&null!=s&&e.gl.uniform1i(s,n.texData.slice.flatOffset),e.setInputMatrixTexture(n.texData.texture.texture,a,r)}));const l=t.outShapeLocation;if(l)switch(r.shape.length){case 1:e.gl.uniform1iv(l,new Int32Array(r.shape));break;case 2:e.gl.uniform2iv(l,new Int32Array(r.shape));break;case 3:e.gl.uniform3iv(l,new Int32Array(r.shape));break;case 4:e.gl.uniform4iv(l,new Int32Array(r.shape))}if(t.outShapeStridesLocation){const n=i.util.computeStrides(r.shape);switch(r.shape.length){case 2:e.gl.uniform1iv(t.outShapeStridesLocation,new Int32Array(n));break;case 3:e.gl.uniform2iv(t.outShapeStridesLocation,new Int32Array(n));break;case 4:e.gl.uniform3iv(t.outShapeStridesLocation,new Int32Array(n))}}t.outTexShapeLocation&&e.gl.uniform2i(t.outTexShapeLocation,r.texData.texShape[0],r.texData.texShape[1]),t.program.customUniforms&&o&&t.program.customUniforms.forEach(((n,r)=>{const i=t.customUniformLocations[r],a=o[r];if("float"===n.type)e.gl.uniform1fv(i,a);else if("vec2"===n.type)e.gl.uniform2fv(i,a);else if("vec3"===n.type)e.gl.uniform3fv(i,a);else if("vec4"===n.type)e.gl.uniform4fv(i,a);else if("int"===n.type)e.gl.uniform1iv(i,a);else if("ivec2"===n.type)e.gl.uniform2iv(i,a);else if("ivec3"===n.type)e.gl.uniform3iv(i,a);else{if("ivec4"!==n.type)throw Error(`uniform type ${n.type} is not supported yet.`);e.gl.uniform4iv(i,a)}})),e.executeProgram()}(this.gpgpu,m,d,f,r),u.forEach((e=>this.disposeIntermediateTensorInfo(e))),g&&(v=this.endTimer(v),this.activeTimers.push({name:e.constructor.name,query:this.getQueryTime(v)}));const b=(0,i.env)().get("WEBGL_FLUSH_THRESHOLD");if(b>0){const e=i.util.now();e-this.lastGlFlushTime>b&&(this.gpgpu.gl.flush(),this.lastGlFlushTime=e)}if(!(0,i.env)().getBool("WEBGL_LAZILY_UNPACK")&&c.isPacked&&!1===o){const e=this.unpackTensor(s);return this.disposeIntermediateTensorInfo(s),e}return s}compileAndRun(e,t,n,r,i=!1){n=n||t[0].dtype;return this.runWebGLProgram(e,t,n,r,i)}getAndSaveBinary(e,t){return e in this.binaryCache||(this.binaryCache[e]=t()),this.binaryCache[e]}getTextureManager(){return this.textureManager}dispose(){if(!this.disposed){if(!(0,i.env)().getBool("IS_TEST")){Object.keys(this.binaryCache).forEach((e=>{this.gpgpu.deleteProgram(this.binaryCache[e].webGLProgram),delete this.binaryCache[e]}))}this.textureManager.dispose(),null!=this.canvas&&"undefined"!==typeof HTMLCanvasElement&&this.canvas instanceof HTMLCanvasElement?this.canvas.remove():this.canvas=null,this.gpgpuCreatedLocally&&(this.gpgpu.program=null,this.gpgpu.dispose()),this.disposed=!0}}floatPrecision(){return null==this.floatPrecisionValue&&(this.floatPrecisionValue=(0,i.tidy)((()=>{if(!(0,i.env)().get("WEBGL_RENDER_FLOAT32_ENABLED")){const e=(0,i.env)().getBool("DEBUG");(0,i.env)().set("DEBUG",!1);const t=this.abs((0,i.scalar)(1e-8)).dataSync()[0];if((0,i.env)().set("DEBUG",e),t>0)return 32}return 16}))),this.floatPrecisionValue}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}uploadToGPU(e){const t=this.texData.get(e),{shape:n,dtype:r,values:o,texture:a,usage:s,isPacked:l}=t;if(null!=a)return;const u=null!=this.activeTimers;let d;u&&(d=i.util.now());let p=t.texShape;if(null==p&&(p=function(e,t=!1){let n=(0,i.env)().getNumber("WEBGL_MAX_TEXTURE_SIZE");if(t&&(n*=2,1===(e=e.map(((t,n)=>n>=e.length-2?i.util.nearestLargerEven(e[n]):e[n]))).length&&(e=[2,e[0]])),2!==e.length){const t=i.util.squeezeShape(e);e=t.newShape}let r=i.util.sizeFromShape(e);if(e.length<=1&&r<=n)return[1,r];if(2===e.length&&e[0]<=n&&e[1]<=n)return e;if(3===e.length&&e[0]*e[1]<=n&&e[2]<=n)return[e[0]*e[1],e[2]];if(3===e.length&&e[0]<=n&&e[1]*e[2]<=n)return[e[0],e[1]*e[2]];if(4===e.length&&e[0]*e[1]*e[2]<=n&&e[3]<=n)return[e[0]*e[1]*e[2],e[3]];if(4===e.length&&e[0]<=n&&e[1]*e[2]*e[3]<=n)return[e[0],e[1]*e[2]*e[3]];if(t){const t=O(e);let n=2,o=2;return e.length&&([n,o]=P(e)),r=t*(n/2)*(o/2),i.util.sizeToSquarishShape(r).map((e=>2*e))}return i.util.sizeToSquarishShape(r)}(n,l),t.texShape=p),null!=o){const e=A(n);let a,s=p[1],h=p[0];const m=o instanceof Uint8Array||o instanceof Uint8ClampedArray;!l&&m||([s,h]=f(p[0],p[1])),a=l?new fe(e,m):new pe(e,m);const g=m?[h,s]:p,v=this.makeTensorInfo(g,r),y=this.texData.get(v.dataId);y.usage=m?c.PIXELS:c.UPLOAD,y.texShape=g,this.gpgpu.uploadDenseMatrixToTexture(this.getTexture(v.dataId),s,h,o);const b=[[h,s]],w=!0,x=this.runWebGLProgram(a,[v],r,b,w),S=this.texData.get(x.dataId);t.texture=S.texture,t.texShape=S.texShape,t.isPacked=S.isPacked,t.usage=S.usage,this.disposeIntermediateTensorInfo(v),this.texData.delete(x.dataId),t.values=null,u&&(this.uploadWaitMs+=i.util.now()-d)}else{const e=this.acquireTexture(p,s,r,l);t.texture=e}}convertAndCacheOnCPU(e,t){const n=this.texData.get(e),{dtype:r}=n;return this.releaseGPUData(e),null!=t&&(n.values=function(e,t){if("float32"===t||"complex64"===t)return e;if("int32"===t||"bool"===t){const n="int32"===t?new Int32Array(e.length):new Uint8Array(e.length);for(let t=0;t<n.length;++t)n[t]=Math.round(e[t]);return n}throw new Error(`Unknown dtype ${t}`)}(t,r)),n.values}acquireTexture(e,t,n,r){if(this.numBytesInGPU+=this.computeBytes(e,n),!this.warnedAboutMemory&&this.numBytesInGPU>1024*this.numMBBeforeWarning*1024){const e=(this.numBytesInGPU/1024/1024).toFixed(2);this.warnedAboutMemory=!0,console.warn(`High memory usage in GPU: ${e} MB, most likely due to a memory leak`)}return this.textureManager.acquireTexture(e,t,r)}computeBytes(e,t){return e[0]*e[1]*i.util.bytesPerElement(t)}}jn.nextDataId=0,i.device_util.isBrowser()&&(0,i.registerBackend)("webgl",(()=>new jn),2)},68713:(e,t,n)=>{"use strict";n.d(t,{JL:()=>r,Zu:()=>i});class r{constructor(e,t){this.backend=e,this.dataMover=t,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,t){this.dataIdsCount++,this.data.set(e,t)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class i{refCount(e){return o("refCount")}incRef(e){return o("incRef")}timerAvailable(){return!0}time(e){return o("time")}read(e){return o("read")}readSync(e){return o("readSync")}readToGPU(e,t){return o("readToGPU")}numDataIds(){return o("numDataIds")}disposeData(e,t){return o("disposeData")}write(e,t,n){return o("write")}move(e,t,n,r,i){return o("move")}memory(){return o("memory")}floatPrecision(){return o("floatPrecision")}epsilon(){return 32===this.floatPrecision()?1e-7:1e-4}dispose(){return o("dispose")}}function o(e){throw new Error(`'${e}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}},83337:(e,t,n)=>{"use strict";function r(e,t,n){const r=function(e,t,n){return function(e,t,n){let r=0,i=e.length,o=0,a=!1;for(;r<i;){o=r+(i-r>>>1);const s=n(t,e[o]);s>0?r=o+1:(i=o,a=!s)}return a?r:-r-1}(e,t,n||i)}(e,t,n),o=r<0?-(r+1):r;e.splice(o,0,t)}function i(e,t){return e>t?1:e<t?-1:0}function o(e,t,n,r,i){return l(e,t,n,r,i,0)}function a(e,t,n,r,i,o){return l(e,t,n,r,i,0,!1,o,!0)}function s(e,t,n,r,i,o){return l(e,t,n,r,i,o,!0)}function l(e,t,n,i,o,a,s=!1,l=!1,p=!1){const f=[];for(let r=0;r<t.length;r++)t[r]>o&&f.push({score:t[r],boxIndex:r,suppressBeginIndex:0});f.sort(d);const h=a>0?-.5/a:0,m=[],g=[];for(;m.length<n&&f.length>0;){const t=f.pop(),{score:n,boxIndex:a,suppressBeginIndex:s}=t;if(n<o)break;let l=!1;for(let r=m.length-1;r>=s;--r){const n=c(e,a,m[r]);if(n>=i){l=!0;break}if(t.score=t.score*u(i,h,n),t.score<=o)break}t.suppressBeginIndex=m.length,l||(t.score===n?(m.push(a),g.push(t.score)):t.score>o&&r(f,t,d))}const v=m.length,y=n-v;l&&y>0&&(m.push(...new Array(y).fill(0)),g.push(...new Array(y).fill(0)));const b={selectedIndices:m};return s&&(b.selectedScores=g),p&&(b.validOutputs=v),b}function c(e,t,n){const r=e.subarray(4*t,4*t+4),i=e.subarray(4*n,4*n+4),o=Math.min(r[0],r[2]),a=Math.min(r[1],r[3]),s=Math.max(r[0],r[2]),l=Math.max(r[1],r[3]),c=Math.min(i[0],i[2]),u=Math.min(i[1],i[3]),d=Math.max(i[0],i[2]),p=Math.max(i[1],i[3]),f=(s-o)*(l-a),h=(d-c)*(p-u);if(f<=0||h<=0)return 0;const m=Math.max(o,c),g=Math.max(a,u),v=Math.min(s,d),y=Math.min(l,p),b=Math.max(v-m,0)*Math.max(y-g,0);return b/(f+h-b)}function u(e,t,n){const r=Math.exp(t*n*n);return n<=e?r:0}function d(e,t){return e.score-t.score||e.score===t.score&&t.boxIndex-e.boxIndex}n.d(t,{GP:()=>o,qP:()=>a,pA:()=>s})},48333:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(72657);function i(e,t){const n=[];for(let r=0;r<t.length;r++)t[r]&&n.push(r);const i=(0,r.f)(e,"int32"),o=(0,r.f)([n.length,e.length],"int32");for(let r=0;r<n.length;r++){const t=i.indexToLoc(n[r]),a=r*e.length;o.values.set(t,a)}return o.toTensor()}},86931:(e,t,n)=>{"use strict";n.d(t,{SYM:()=>z.SY,VGw:()=>z.VG,SpW:()=>z.Sp,zJI:()=>Ke,HeW:()=>Xe,a4z:()=>Qe,DBS:()=>tt,mm_:()=>z.mm,Xze:()=>z.Xz,oT6:()=>z.oT,IKK:()=>z.IK,sJF:()=>z.sJ,aJk:()=>z.aJ,M2y:()=>z.M2,qw7:()=>z.qw,jMg:()=>z.jM,QCc:()=>z.QC,Oyi:()=>z.Oy,JhU:()=>z.Jh,_k9:()=>z._k,IMb:()=>z.IM,ROF:()=>z.RO,XLW:()=>z.XL,zws:()=>z.zw,zvY:()=>z.zv,eEB:()=>z.eE,Ly9:()=>z.Ly,RFZ:()=>z.RF,gJX:()=>z.gJ,xnO:()=>z.xn,Zz9:()=>z.Zz,yj2:()=>z.yj,Eh3:()=>z.Eh,mhS:()=>z.mh,wUP:()=>z.wU,wm:()=>z.wm,x12:()=>z.x1,o2y:()=>z.o2,ik2:()=>z.ik,mc4:()=>z.mc,TR1:()=>z.TR,VcC:()=>z.Vc,iHb:()=>z.iH,JLz:()=>yn.JL,QRR:()=>z.QR,T0n:()=>z.T0,cie:()=>z.ci,sL$:()=>z.sL,y7R:()=>z.y7,$w:()=>z.$w,p4S:()=>z.p4,Vn9:()=>z.Vn,ekb:()=>z.ek,ViN:()=>f.Vi,$g6:()=>z.$g,SX0:()=>z.SX,HEU:()=>z.HE,qAh:()=>f.qA,hdR:()=>z.hd,Omj:()=>z.Om,NEP:()=>z.NE,YFo:()=>z.YF,Y0y:()=>z.Y0,vwp:()=>z.vw,deh:()=>z.de,Uyb:()=>z.Uy,OR:()=>z.OR,jeX:()=>z.je,eBW:()=>z.eB,sHE:()=>z.sH,_V0:()=>z._V,luS:()=>z.lu,q1x:()=>z.q1,qi_:()=>z.qi,iZT:()=>z.iZ,Acj:()=>z.Ac,Qg5:()=>z.Qg,iJz:()=>z.iJ,J_u:()=>z.J_,avt:()=>z.av,iWB:()=>z.iW,r7n:()=>z.r7,Zuw:()=>yn.Zu,eZ0:()=>z.eZ,Hhh:()=>z.Hh,J$2:()=>z.J$,vtC:()=>z.vt,CAk:()=>z.CA,e7N:()=>z.e7,ZbH:()=>z.Zb,kU:()=>z.kU,qCd:()=>z.qC,PYm:()=>z.PY,VfG:()=>z.Vf,MZg:()=>z.MZ,YoZ:()=>z.Yo,mTV:()=>z.mT,OAf:()=>z.OA,OU7:()=>z.OU,OV7:()=>z.OV,vFR:()=>z.vF,BMI:()=>z.BM,q2K:()=>z.q2,c17:()=>z.c1,q8u:()=>z.q8,jQs:()=>z.jQ,Vbg:()=>z.Vb,rIn:()=>rt,NZg:()=>z.NZ,wYn:()=>z.wY,kuV:()=>z.ku,uv1:()=>z.uv,cye:()=>z.cy,W0H:()=>z.W0,yQU:()=>z.yQ,zvA:()=>st.zvA,we_:()=>z.we,qWM:()=>z.qW,gaJ:()=>We,eEe:()=>ot,QiL:()=>z.Qi,lyA:()=>z.ly,Kgp:()=>z.Kg,pe_:()=>z.pe,o0g:()=>z.o0,DlI:()=>z.Dl,gVI:()=>it,e6w:()=>z.e6,yw1:()=>at.yw,xJR:()=>z.xJ,oHH:()=>z.oH,$HU:()=>z.$H,IH3:()=>lt.I,qkr:()=>z.qk,SbG:()=>z.Sb,HZH:()=>z.HZ,_Yw:()=>z._Y,zbQ:()=>z.zb,dpD:()=>z.dp,Hmb:()=>z.Hm,mKl:()=>z.mK,b9H:()=>z.b9,e07:()=>z.e0,bV0:()=>z.bV,DYp:()=>nt,xQA:()=>z.xQ,PhF:()=>z.Ph,oFR:()=>z.oF,a5O:()=>z.a5,i5y:()=>z.i5,RQH:()=>z.RQ,wYB:()=>z.w3,p2w:()=>z.p2,Gcp:()=>z.Gc,MRv:()=>z.MR,TQc:()=>z.TQ,O3z:()=>z.O3,nhH:()=>z.nh,w3H:()=>z.YW,ZjV:()=>z.Zj,D2d:()=>z.D2,L8s:()=>z.L8,FKq:()=>z.FK,bK0:()=>z.bK,_tC:()=>z._t,h8e:()=>z.h8,jQk:()=>z.m2,_JP:()=>z._J,s1s:()=>z.s1,XkS:()=>z.Xk,Tr8:()=>z.Tr,GBy:()=>z.GB,sEM:()=>z.sE,MIZ:()=>z.MI,esB:()=>K.es,YDk:()=>K.YD,n9L:()=>z.n9,cWu:()=>z.cW,wx7:()=>z.wx,G3Y:()=>z.G3,kpP:()=>z.kp,ToN:()=>z.To,Qvg:()=>z.Qv,_wD:()=>K._w,RuY:()=>z.Ru,usg:()=>z.us,WnP:()=>st.WnP,Khb:()=>st.Khb,__u:()=>st.__u,IHx:()=>st.IHx,QBD:()=>st.QBD,$6P:()=>st.$6P,YjB:()=>st.YjB,NqF:()=>st.NqF,vHJ:()=>st.vHJ,ZRM:()=>st.ZRM,VfV:()=>st.VfV,z4N:()=>st.z4N,fvJ:()=>st.fvJ,C80:()=>st.C80,wS1:()=>st.wS1,uR5:()=>st.uR5,y3$:()=>je.y3,Wap:()=>d,zEQ:()=>st.zEQ,tgs:()=>st.tgs,Dxk:()=>st.Dxk,JY5:()=>st.JY5,p3b:()=>st.p3b,E4h:()=>st.E4h,yE8:()=>st.yE8,anm:()=>st.anm,XsQ:()=>st.XsQ,UFq:()=>st.UFq,Jyw:()=>G,Xhn:()=>o,f3b:()=>st.f3b,pju:()=>st.pju,mDi:()=>st.mDi,iUl:()=>st.iUl,d9v:()=>st.d9v,PYB:()=>st.PYB,zoF:()=>st.zoF,gME:()=>st.gME,Izb:()=>st.Izb,MNy:()=>st.MNy,ZaL:()=>st.ZaL,PAt:()=>st.PAt,Tek:()=>st.Tek,bc:()=>st.bc,pdZ:()=>st.pdZ,$QV:()=>st.$QV,T3b:()=>W.T3,mCk:()=>st.mCk,f9Y:()=>st.f9Y,mew:()=>st.mew,zbp:()=>st.zbp,cbc:()=>Ve.cb,ppE:()=>st.ppE,MXe:()=>je.MX,nTT:()=>st.nTT,B10:()=>st.B10,C2$:()=>mn,Ka3:()=>st.Ka3,WmZ:()=>st.WmZ,cFr:()=>je.cF,B90:()=>je.B9,N8o:()=>je.N8,hiC:()=>st.hiC,NTj:()=>st.NTj,AKD:()=>st.AKD,rvX:()=>st.rvX,WYO:()=>st.WYO,pyx:()=>st.pyx,Ra$:()=>je.R,G48:()=>je.G4,GRh:()=>st.GRh,SRH:()=>je.SR,OBj:()=>f.OB,DgJ:()=>st.DgJ,qNN:()=>st.qNN,Qqt:()=>st.Qqt,dt4:()=>st.dt4,t$B:()=>st.t$B,iyy:()=>st.iyy,kp_:()=>st.kp_,hlL:()=>st.hlL,x3e:()=>je.x3,zel:()=>je.ze,GWj:()=>st.GWj,qPi:()=>st.qPi,imm:()=>st.imm,Iqj:()=>st.Iqj,dbB:()=>st.dbB,DaI:()=>a,N_N:()=>je.N_,ukX:()=>W.uk,pIF:()=>W.pI,trD:()=>W.tr,UQy:()=>Ve.UQ,tiA:()=>Ve.ti,pjt:()=>st.pjt,brS:()=>st.brS,Sxn:()=>st.Sxn,asL:()=>st.asL,BHj:()=>st.BHj,V3u:()=>st.V3u,io:()=>r,wx0:()=>st.wx0,xVT:()=>st.xVT,UWc:()=>st.UWc,i2d:()=>st.i2d,CnY:()=>je.Cn,GDt:()=>p,hi7:()=>st.hi7,d9m:()=>st.d9m,zN1:()=>st.zN1,$r2:()=>st.$r2,SX3:()=>st.SX3,G9k:()=>st.G9k,cM7:()=>st.cM7,Krr:()=>st.Krr,e_t:()=>st.e_t,CmS:()=>st.CmS,l_t:()=>st.l_t,HvI:()=>st.HvI,hJK:()=>st.hJK,K5V:()=>st.K5V,egP:()=>st.egP,MB5:()=>st.MB5,OI3:()=>st.OI3,mAU:()=>i,Fp7:()=>st.Fp7,_sB:()=>st._sB,YQQ:()=>st.YQQ,Ip$:()=>st.Ip$,gWQ:()=>st.gWQ,J69:()=>st.J69,sq6:()=>je.sq,ry_:()=>st.ry_,VV$:()=>st.VV$,LTh:()=>st.LTh,VdP:()=>st.VdP,wQq:()=>st.wQq,Gi7:()=>st.Gi7,p_:()=>st.p_,dC7:()=>st.dC7,rq4:()=>st.rq4,SJ_:()=>st.SJ_,W76:()=>st.W76,glt:()=>dt,KOy:()=>st.KOy,Quu:()=>st.Quu,lfX:()=>st.lfX,iUs:()=>st.iUs,JpU:()=>st.JpU,op:()=>st.op,N2O:()=>st.N2O,vku:()=>st.vku,pNR:()=>st.pNR,koy:()=>st.koy,t1L:()=>st.t1L,lGY:()=>st.lGY,d_R:()=>st.d_R,sQ3:()=>st.sQ3,AL3:()=>st.AL3,S0v:()=>st.S0v,WVs:()=>st.WVs,N5s:()=>je.N5,TN_:()=>st.TN_,wzB:()=>st.wzB,nGf:()=>st.nGf,LGj:()=>st.LGj,w6H:()=>st.w6H,Cd_:()=>je.Cd,kwC:()=>st.kwC,M25:()=>st.M25,jqO:()=>je.jq,LiG:()=>W.Li,wCN:()=>W.wC,UYe:()=>st.UYe,btT:()=>st.btT,cjG:()=>je.cj,XLQ:()=>st.XLQ,GYS:()=>st.GYS,SDf:()=>st.SDf,diP:()=>st.diP,sx7:()=>st.sx7,mG2:()=>st.mG2,QEs:()=>st.QEs,NMM:()=>st.NMM,bp0:()=>st.bp0,iD$:()=>st.iD$,snQ:()=>st.snQ,yV1:()=>ne,U8D:()=>st.U8D,U_I:()=>st.U_I,m7h:()=>l,CQI:()=>je.CQ,VYu:()=>je.VY,ODp:()=>st.ODp,XD2:()=>st.XD2,Xxe:()=>st.Xxe,tdS:()=>st.tdS,O$l:()=>st.O$l,R_K:()=>st.R_K,tPi:()=>st.tPi,jZU:()=>st.jZU,SmN:()=>st.SmN,CnO:()=>st.CnO,p0P:()=>st.p0P,kuN:()=>s,XAC:()=>st.XAC,Wvh:()=>st.Wvh,fBT:()=>st.fBT,rVs:()=>st.rVs,ers:()=>st.ers,uN7:()=>st.uN7,Vl2:()=>st.Vl2,_b3:()=>st._b3,h62:()=>st.h62,$i:()=>st.$i,L9e:()=>st.L9e,knu:()=>st.knu,Nbs:()=>st.Nbs,NXj:()=>st.NXj,Z_8:()=>st.Z_8,luU:()=>st.luU,Smz:()=>st.Smz,z4k:()=>at.z4,ORZ:()=>st.ORZ,AEp:()=>st.AEp,XeE:()=>st.XeE,RRF:()=>st.RRF,odF:()=>st.odF,wOQ:()=>st.wOQ,yXz:()=>st.yXz,Bfx:()=>st.Bfx,xZs:()=>st.xZs,piX:()=>ke,p3L:()=>c,lub:()=>je.lu,Gg6:()=>st.Gg6,XVJ:()=>je.XV,hg7:()=>st.hg7,p_j:()=>ct,p4s:()=>st.p4s,Xu6:()=>st.Xu6,Two:()=>st.Two,bt3:()=>W.bt,nEe:()=>W.nE,pUJ:()=>st.pUJ,HHK:()=>st.HHK,x8V:()=>at.x8,D5U:()=>Te,h76:()=>Ve.h7,fNQ:()=>Ve.fN,VD$:()=>st.VD$,pnJ:()=>Ve.pn,jTM:()=>Le,arb:()=>st.arb,itS:()=>st.itS,lls:()=>st.lls,P84:()=>st.P84});var r={};n.r(r),n.d(r,{browserFiles:()=>b,browserHTTPRequest:()=>A,concatenateArrayBuffers:()=>h.JY,copyModel:()=>D.ID,decodeWeights:()=>h.dI,encodeWeights:()=>h.yz,fromMemory:()=>N,getLoadHandlers:()=>m.rM,getModelArtifactsForJSON:()=>h.jN,getModelArtifactsInfoForJSON:()=>h.Q,getSaveHandlers:()=>m.yB,http:()=>P,isHTTPScheme:()=>C,listModels:()=>D.h1,loadWeights:()=>T,moveModel:()=>D.Ny,registerLoadRouter:()=>m.pS,registerSaveRouter:()=>m.tf,removeModel:()=>D.gw,weightsLoaderFactory:()=>E,withSaveHandler:()=>R});var i={};n.r(i),n.d(i,{confusionMatrix:()=>H});var o={};n.r(o),n.d(o,{fromPixels:()=>ee,fromPixelsAsync:()=>Q,toPixels:()=>J});var a={};n.r(a),n.d(a,{prepareAndValidate:()=>te});var s={};n.r(s),n.d(s,{assertParamsValid:()=>re,computeFlatOffset:()=>ge,computeOutShape:()=>oe,getNormalizedAxes:()=>ce,isSliceContinous:()=>me,maskToAxes:()=>ie,parseSliceParams:()=>ve,sliceInfo:()=>ye,startForAxis:()=>fe,startIndicesWithElidedDims:()=>ue,stopForAxis:()=>he,stopIndicesWithElidedDims:()=>de,stridesForAxis:()=>pe,stridesWithElidedDims:()=>ae});var l={};n.r(l),n.d(l,{Serializable:()=>we,SerializationMap:()=>xe,registerClass:()=>Se});var c={};n.r(c),n.d(c,{TEST_EPSILON_FLOAT16:()=>Ee,encodeStrings:()=>De,expectArrayBuffersEqual:()=>Re,expectArraysClose:()=>_e,expectArraysEqual:()=>Ae,expectNumbersClose:()=>Ie,expectPromiseToFail:()=>Pe,expectValuesInRange:()=>Ne,testEpsilon:()=>Ce});var u={};n.r(u),n.d(u,{collectGatherOpShapeInfo:()=>pn,computeOutShape:()=>dn,segOpComputeOptimalWindowSize:()=>un});var d={};n.r(d),n.d(d,{ERF_A1:()=>Ot,ERF_A2:()=>Pt,ERF_A3:()=>At,ERF_A4:()=>It,ERF_A5:()=>Mt,ERF_P:()=>Ct,PARALLELIZE_THRESHOLD:()=>vt,SELU_SCALE:()=>_t,SELU_SCALEALPHA:()=>Et,applyActivation:()=>gt.QH,assertAndGetBroadcastShape:()=>G.assertAndGetBroadcastShape,assertAxesAreInnerMostDims:()=>pt.lB,assertParamsConsistent:()=>ft,assignToTypedArray:()=>Ft,axesAreInnerMostDims:()=>pt.YB,calculateShapes:()=>ne.calculateShapes,checkEinsumDimSizes:()=>Wt,checkPadOnDimRoundingMode:()=>mt.m,combineLocations:()=>pt.Vh,complexWithEvenIndex:()=>Lt,complexWithOddIndex:()=>jt,computeConv2DInfo:()=>mt.Ix,computeConv3DInfo:()=>mt.jw,computeDefaultPad:()=>mt.aO,computeDilation2DInfo:()=>mt.Rf,computeOptimalWindowSize:()=>yt,computeOutAndReduceShapes:()=>pt.kz,computeOutShape:()=>ht,computePool2DInfo:()=>mt.Xw,computePool3DInfo:()=>mt.pl,convertConv2DDataFormat:()=>mt.sl,decodeEinsumEquation:()=>Vt,eitherStridesOrDilationsAreOne:()=>mt.jT,expandShapeToKeepDim:()=>pt.rv,exponent:()=>$t,exponents:()=>Ut,fromStringArrayToUint8:()=>hn,fromUint8ToStringArray:()=>fn,getAxesPermutation:()=>pt.Q3,getBroadcastDims:()=>G.getBroadcastDims,getComplexWithIndex:()=>Bt,getEinsumComputePath:()=>Kt,getEinsumPermutation:()=>zt,getFusedBiasGradient:()=>gt.pf,getFusedDyActivation:()=>gt.Fr,getImageCenter:()=>bt,getInnerMostAxes:()=>pt.sY,getPermuted:()=>xt,getReductionAxes:()=>G.getReductionAxes,getReshaped:()=>wt,getReshapedPermuted:()=>St,getSliceBeginCoords:()=>kt,getSliceSize:()=>Tt,getSparseFillEmptyRowsIndicesDenseShapeMismatch:()=>Yt,getSparseFillEmptyRowsNegativeIndexErrorMessage:()=>Qt,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:()=>Jt,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:()=>nn,getSparseReshapeInputOutputMismatchErrorMessage:()=>on,getSparseReshapeInputOutputMultipleErrorMessage:()=>rn,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:()=>en,getSparseReshapeNegativeOutputDimErrorMessage:()=>tn,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:()=>cn,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:()=>an,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:()=>sn,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:()=>ln,getUndoAxesPermutation:()=>pt.LJ,isIdentityPermutation:()=>qt,log:()=>Nt.c,mergeRealAndImagArrays:()=>Rt,prepareAndValidate:()=>te,prepareSplitSize:()=>Zt,segment_util:()=>u,shouldFuse:()=>gt.uy,slice_util:()=>s,splitRealAndImagArrays:()=>Dt,tupleValuesAreOne:()=>mt.I0,upcastType:()=>at.x8,validateInput:()=>ne.validateInput,validateUpdateShape:()=>ne.validateUpdateShape,warn:()=>Nt.Z});var p={};n.r(p),n.d(p,{nonMaxSuppressionV3Impl:()=>gn.GP,nonMaxSuppressionV4Impl:()=>gn.qP,nonMaxSuppressionV5Impl:()=>gn.pA,whereImpl:()=>vn.Z});n(61044),n(28209),n(79998);var f=n(22885),h=n(91989),m=n(36493);function g(e){return new Promise((e=>setTimeout(e))).then(e)}class v{constructor(e){if(!(0,f.OB)().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(v.URL_SCHEME)&&(e=e.slice(v.URL_SCHEME.length)),null!=e&&0!==e.length||(e="model"),this.modelJsonFileName=e+".json",this.weightDataFileName=e+".weights.bin"}async save(e){if("undefined"===typeof document)throw new Error("Browser downloads are not supported in this environment since `document` is not present");const t=window.URL.createObjectURL(new Blob([e.weightData],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const n=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],r=(0,h.Yd)(e,n),i=window.URL.createObjectURL(new Blob([JSON.stringify(r)],{type:"application/json"})),o=null==this.modelJsonAnchor?document.createElement("a"):this.modelJsonAnchor;if(o.download=this.modelJsonFileName,o.href=i,await g((()=>o.dispatchEvent(new MouseEvent("click")))),null!=e.weightData){const e=null==this.weightDataAnchor?document.createElement("a"):this.weightDataAnchor;e.download=this.weightDataFileName,e.href=t,await g((()=>e.dispatchEvent(new MouseEvent("click"))))}return{modelArtifactsInfo:(0,h.Q)(e)}}}}v.URL_SCHEME="downloads://";class y{constructor(e){if(null==e||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise(((e,t)=>{const n=new FileReader;n.onload=n=>{const r=JSON.parse(n.target.result),i=r.modelTopology;if(null==i)return void t(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));if(null==r.weightsManifest)return void t(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));if(0===this.weightsFiles.length)return void e({modelTopology:i});const o=(0,h.jN)(r,(e=>this.loadWeights(e)));e(o)},n.onerror=e=>t(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),n.readAsText(this.jsonFile)}))}loadWeights(e){const t=[],n=[];for(const o of e)t.push(...o.weights),n.push(...o.paths);const r=this.checkManifestAndWeightFiles(e),i=n.map((e=>this.loadWeightsFile(e,r[e])));return Promise.all(i).then((e=>[t,(0,h.JY)(e)]))}loadWeightsFile(e,t){return new Promise(((n,r)=>{const i=new FileReader;i.onload=e=>{const t=e.target.result;n(t)},i.onerror=t=>r(`Failed to weights data from file of path '${e}'.`),i.readAsArrayBuffer(t)}))}checkManifestAndWeightFiles(e){const t=[],n=this.weightsFiles.map((e=>(0,h.EZ)(e.name))),r={};for(const i of e)i.paths.forEach((e=>{const i=(0,h.EZ)(e);if(-1!==t.indexOf(i))throw new Error(`Duplicate file basename found in weights manifest: '${i}'`);if(t.push(i),-1===n.indexOf(i))throw new Error(`Weight file with basename '${i}' is not provided.`);r[e]=this.weightsFiles[n.indexOf(i)]}));if(t.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${t.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return r}}function b(e){return new y(e)}m.U3.registerSaveRouter((e=>(0,f.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(v.URL_SCHEME)?function(e="model"){return new v(e)}(e.slice(v.URL_SCHEME.length)):null));var w=n(20569);function x(e,t,n,r){!function(e){(0,w.hu)(null!=e&&Array.isArray(e)&&e.length>0,(()=>"promises must be a none empty array"))}(e),function(e,t){(0,w.hu)(e>=0&&e<=1,(()=>`Progress fraction must be in range [0, 1], but got startFraction ${e}`)),(0,w.hu)(t>=0&&t<=1,(()=>`Progress fraction must be in range [0, 1], but got endFraction ${t}`)),(0,w.hu)(t>=e,(()=>`startFraction must be no more than endFraction, but got startFraction ${e} and endFraction ${t}`))}(n=null==n?0:n,r=null==r?1:r);let i=0;return Promise.all(e.map((o=>(o.then((o=>{const a=n+ ++i/e.length*(r-n);return t(a),o})),o))))}var S=n(75771);async function k(e,t){null==t&&(t={});const n=null==t.fetchFunc?(0,f.OB)().platform.fetch:t.fetchFunc,r=e.map((e=>n(e,t.requestInit,{isBinary:!0}))),i=(null==t.onProgress?await Promise.all(r):await x(r,t.onProgress,0,.5)).map((e=>e.arrayBuffer()));return null==t.onProgress?await Promise.all(i):await x(i,t.onProgress,.5,1)}async function T(e,t="",n,r){return E((e=>k(e,{requestInit:r})))(e,t,n)}function E(e){return async(t,n="",r)=>{const i=t.map((()=>!1)),o={},a=null!=r?r.map((()=>!1)):[],s=[];if(t.forEach(((e,t)=>{let n=0;e.weights.forEach((e=>{const l="quantization"in e?e.quantization.dtype:e.dtype,c=S.J[l]*w.NA(e.shape),u=()=>{i[t]=!0,null==o[t]&&(o[t]=[]),o[t].push({manifestEntry:e,groupOffset:n,sizeBytes:c})};null!=r?r.forEach(((t,n)=>{t===e.name&&(u(),a[n]=!0)})):u(),s.push(e.name),n+=c}))})),!a.every((e=>e))){const e=r.filter(((e,t)=>!a[t]));throw new Error(`Could not find weights in manifest with names: ${e.join(", ")}. \nManifest JSON has weights with names: ${s.join(", ")}.`)}const l=i.reduce(((e,t,n)=>(t&&e.push(n),e)),[]),c=[];l.forEach((e=>{t[e].paths.forEach((e=>{const t=n+(n.endsWith("/")?"":"/")+e;c.push(t)}))}));const u=await e(c),d={};let p=0;return l.forEach((e=>{const n=t[e].paths.length;let r=0;for(let t=0;t<n;t++)r+=u[p+t].byteLength;const i=new ArrayBuffer(r),a=new Uint8Array(i);let s=0;for(let t=0;t<n;t++){const e=new Uint8Array(u[p+t]);a.set(e,s),s+=e.byteLength}o[e].forEach((e=>{const t=i.slice(e.groupOffset,e.groupOffset+e.sizeBytes),n=(0,h.dI)(t,[e.manifestEntry]);for(const r in n)d[r]=n[r]})),p+=n})),d}}class _{constructor(e,t){if(this.DEFAULT_METHOD="POST",null==t&&(t={}),this.weightPathPrefix=t.weightPathPrefix,this.onProgress=t.onProgress,this.weightUrlConverter=t.weightUrlConverter,null!=t.fetchFunc?((0,w.hu)("function"===typeof t.fetchFunc,(()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)")),this.fetch=t.fetchFunc):this.fetch=(0,f.OB)().platform.fetch,(0,w.hu)(null!=e&&e.length>0,(()=>"URL path for http must not be null, undefined or empty.")),Array.isArray(e)&&(0,w.hu)(2===e.length,(()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`)),this.path=e,null!=t.requestInit&&null!=t.requestInit.body)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=t.requestInit||{}}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const t=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);t.body=new FormData;const n=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],r=(0,h.Yd)(e,n);t.body.append("model.json",new Blob([JSON.stringify(r)],{type:"application/json"}),"model.json"),null!=e.weightData&&t.body.append("model.weights.bin",new Blob([e.weightData],{type:"application/octet-stream"}),"model.weights.bin");const i=await this.fetch(this.path,t);if(i.ok)return{modelArtifactsInfo:(0,h.Q)(e),responses:[i]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${i.status}.`)}async load(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let t;try{t=await e.json()}catch(i){let e=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?e+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":e+=" Please make sure the server is serving valid JSON for this request.",new Error(e)}const n=t.modelTopology,r=t.weightsManifest;if(null==n&&null==r)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return(0,h.jN)(t,(e=>this.loadWeights(e)))}async loadWeights(e){const t=Array.isArray(this.path)?this.path[1]:this.path,[n,r]=function(e){const t=e.lastIndexOf("/"),n=e.lastIndexOf("?"),r=e.substring(0,t),i=n>t?e.substring(n):"";return[r+"/",i]}(t),i=this.weightPathPrefix||n,o=[];for(const c of e)o.push(...c.weights);const a=[],s=[];for(const c of e)for(const e of c.paths)null!=this.weightUrlConverter?s.push(this.weightUrlConverter(e)):a.push(i+e+r);this.weightUrlConverter&&a.push(...await Promise.all(s));const l=await k(a,{requestInit:this.requestInit,fetchFunc:this.fetch,onProgress:this.onProgress});return[o,(0,h.JY)(l)]}}function C(e){return null!=e.match(_.URL_SCHEME_REGEX)}_.URL_SCHEME_REGEX=/^https?:\/\//;const O=(e,t)=>{if("undefined"===typeof fetch&&(null==t||null==t.fetchFunc))return null;{let n=!0;if(n=Array.isArray(e)?e.every((e=>C(e))):C(e),n)return P(e,t)}return null};function P(e,t){return new _(e,t)}function A(e,t){return P(e,t)}m.U3.registerSaveRouter(O),m.U3.registerLoadRouter(O);class I{constructor(e){this.modelArtifacts=e}async load(){return this.modelArtifacts}}class M{constructor(e){this.saveHandler=e}async save(e){return this.saveHandler(e)}}function N(e,t,n,r){if(1===arguments.length){return null!=e.modelTopology||null!=e.weightSpecs?new I(e):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new I({modelTopology:e}))}return console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new I({modelTopology:e,weightSpecs:t,weightData:n,trainingConfig:r})}function R(e){return new M(e)}var D=n(90780),L=n(43740),j=n(62271),B=n(28687),F=n(76708),U=n(2668),$=n(89065);const H=(0,U.op)({confusionMatrix_:function(e,t,n){const r=(0,L._1)(e,"labels","confusionMatrix"),i=(0,L._1)(t,"predictions","confusionMatrix");w.hu(null==n||n>0&&Number.isInteger(n),(()=>`If provided, numClasses must be a positive integer, but got ${n}`)),w.hu(1===r.rank,(()=>`Expected the rank of labels to be 1, but got ${r.rank}`)),w.hu(1===i.rank,(()=>`Expected the rank of predictions to be 1, but got ${i.rank}`)),w.hu(r.shape[0]===i.shape[0],(()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${i.shape[0]}. Labels and predictions should have the same number of elements.`)),w.hu(n>0&&Number.isInteger(n),(()=>`numClasses is required to be a positive integer, but got ${n}`));const o=(0,F.l)((0,j.p)(r,"int32"),n),a=(0,F.l)((0,j.p)(i,"int32"),n),s=(0,$.p)(o),l=(0,B.O)(s,a);return(0,j.p)(l,"int32")}});var G=n(72200),V=n(97097),z=n(29121),W=n(26151),K=n(4077),q=n(99906);let X;function Z(e,t=3){if(t>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(null==e)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let n=!1,r=!1,i=!1,o=!1,a=!1,s=!1;if(e.data instanceof Uint8Array)n=!0;else if("undefined"!==typeof ImageData&&e instanceof ImageData)r=!0;else if("undefined"!==typeof HTMLVideoElement&&e instanceof HTMLVideoElement)i=!0;else if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement)o=!0;else if(null!=e.getContext)a=!0;else{if(!("undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap))throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${e.constructor.name}`);s=!0}if(i){const t=2;if(i&&e.readyState<t)throw new Error("The video element has not loaded data yet. Please wait for `loadeddata` event on the <video> element.")}if(null!=(0,W.pI)(z.eB,V.BV.backendName)){const n={pixels:e},r={numChannels:t};return V.BV.runKernel(z.eB,n,r)}const[l,c]=i?[e.videoWidth,e.videoHeight]:[e.width,e.height];let u,d;if(a)u=e.getContext("2d").getImageData(0,0,l,c).data;else if(r||n)u=e.data;else if(o||i||s){if(null==X)if("undefined"===typeof document){if("undefined"===typeof OffscreenCanvas||"undefined"===typeof OffscreenCanvasRenderingContext2D)throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");X=new OffscreenCanvas(1,1).getContext("2d")}else X=document.createElement("canvas").getContext("2d");X.canvas.width=l,X.canvas.height=c,X.drawImage(e,0,0,l,c),u=X.getImageData(0,0,l,c).data}if(4===t)d=new Int32Array(u);else{const e=l*c;d=new Int32Array(e*t);for(let n=0;n<e;n++)for(let e=0;e<t;++e)d[n*t+e]=u[4*n+e]}const p=[c,l,t];return(0,q.w)(d,p,"int32")}function Y(e){return"undefined"!==typeof window&&"undefined"!==typeof ImageBitmap&&window.hasOwnProperty("createImageBitmap")&&!(e instanceof ImageBitmap)&&function(e){return null!=e&&0!==e.width&&0!==e.height}(e)&&!function(e){return null!=e&&e.data instanceof Uint8Array}(e)}async function Q(e,t=3){let n=null;if((0,f.OB)().getBool("WRAP_TO_IMAGEBITMAP")&&Y(e)){let t;try{t=await createImageBitmap(e,{premultiplyAlpha:"none"})}catch(r){t=null}n=null!=t&&t.width===e.width&&t.height===e.height?t:e}else n=e;return Z(n,t)}async function J(e,t){let n=(0,L._1)(e,"img","toPixels");if(!(e instanceof K.es)){const e=n;n=(0,j.p)(e,"int32"),e.dispose()}if(2!==n.rank&&3!==n.rank)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${n.rank}.`);const[r,i]=n.shape.slice(0,2),o=2===n.rank?1:n.shape[2];if(o>4||2===o)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${o}`);if("float32"!==n.dtype&&"int32"!==n.dtype)throw new Error(`Unsupported type for toPixels: ${n.dtype}. Please use float32 or int32 tensors.`);const a=await n.data(),s="float32"===n.dtype?255:1,l=new Uint8ClampedArray(i*r*4);for(let c=0;c<r*i;++c){const e=[0,0,0,255];for(let r=0;r<o;r++){const t=a[c*o+r];if("float32"===n.dtype){if(t<0||t>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${t}.`)}else if("int32"===n.dtype&&(t<0||t>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${t}.`);1===o?(e[0]=t*s,e[1]=t*s,e[2]=t*s):e[r]=t*s}const t=4*c;l[t+0]=Math.round(e[0]),l[t+1]=Math.round(e[1]),l[t+2]=Math.round(e[2]),l[t+3]=Math.round(e[3])}if(null!=t){t.width=i,t.height=r;const e=t.getContext("2d"),n=new ImageData(l,i,r);e.putImageData(n,0,0)}return n!==e&&n.dispose(),l}const ee=(0,U.op)({fromPixels_:Z});function te(e,t){const n=e.shape.length,r=t.shape.length;if(n<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${n}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if("int32"!==t.dtype)throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.shape[r-1]>n)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${t.shape[r-1]} vs. ${n}`);if(0===(0,w.NA)(e.shape))throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${e.shape}.`);const i=t.shape,o=i[i.length-1];let a=1;for(let d=0;d<i.length-1;++d)a*=i[d];const s=e.shape,l=i.slice();l.pop();let c=1;for(let d=o;d<n;++d)c*=s[d],l.push(s[d]);const u=[...(0,w.e3)(e.shape).map((e=>e/c)),1].slice(0,o);return[l,a,c,u]}var ne=n(33028);function re(e,t,n){const r=e.shape.length;w.hu(r===t.length,(()=>`Error in slice${r}D: Length of begin ${t} must match the rank of the array (${r}).`)),w.hu(r===n.length,(()=>`Error in slice${r}D: Length of size ${n} must match the rank of the array (${r}).`));for(let i=0;i<r;++i)w.hu(t[i]+n[i]<=e.shape[i],(()=>`Error in slice${r}D: begin[${i}] + size[${i}] (${t[i]+n[i]}) would overflow input.shape[${i}] (${e.shape[i]})`))}function ie(e){const t=[];let n=0;for(;e>0;)1&e&&t.push(n),e/=2,n++;return t}function oe(e,t,n){const r=[];for(let i=0;i<e.length;i++)r[i]=Math.ceil((t[i]-e[i])/n[i]);return r}function ae(e,t,n,r){const i=[...e];for(let o=i.length;o<r.length;o++)i.push(1);for(let o=0;o<n;o++)0===o?i[t]=1:(i.splice(t,0,1),i.pop());return i}function se(e,t,n){return n<=e?n:n-(t-1)}function le(e,t){const n=[];for(let r=0;r<e;r++)n.push(t+r);return n}function ce(e,t,n,r,i,o,a,s,l){const c=e.length;let u=new Array(c),d=new Array(c),p=new Array(c);if(t.length&&n>0){const l=t[0],c=n+1;u=ue(a,l,c,r,e),d=de(s,l,c,i,e),p=ae(o,l,c,e)}else for(let f=0;f<c;f++)u[f]=fe(a,r,o,e,f,l),d[f]=he(s,i,o,e,f,l),p[f]=pe(o,f,l);return{begin:u,end:d,strides:p}}function ue(e,t,n,r,i){const o=[...i],a=le(n,t);for(let s=0;s<o.length;s++)if(a.indexOf(s)>-1)o[s]=0;else{const i=se(t,n,s);let a=r[i];e&1<<i&&(a=0),o[s]=a}return o}function de(e,t,n,r,i){const o=[...i],a=le(n,t);for(let s=0;s<o.length;s++)if(a.indexOf(s)>-1)o[s]=Number.MAX_SAFE_INTEGER;else{const i=se(t,n,s);let a=r[i];e&1<<i&&(a=Number.MAX_SAFE_INTEGER),o[s]=a}for(let s=0;s<o.length;s++){const e=i[s];o[s]<0&&(o[s]+=e),o[s]=w.uZ(0,o[s],i[s])}return o}function pe(e,t,n){let r=e[t];return(n&1<<t||null==r)&&(r=1),r}function fe(e,t,n,r,i,o){let a=t[i];const s=n[i]||1;(e&1<<i||o&1<<i||null==a)&&(a=s>0?Number.MIN_SAFE_INTEGER:Number.MAX_SAFE_INTEGER);const l=r[i];return a<0&&(a+=l),a=w.uZ(0,a,l-1),a}function he(e,t,n,r,i,o){let a=t[i];const s=n[i]||1;(e&1<<i||o&1<<i||null==a)&&(a=s>0?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER);const l=r[i];return a<0&&(a+=l),a=s>0?w.uZ(0,a,l):w.uZ(-1,a,l-1),a}function me(e,t,n){let r=n.length;for(let i=0;i<n.length;i++)if(n[i]>1){r=i;break}for(let i=r+1;i<n.length;i++)if(t[i]>0||n[i]!==e[i])return!1;return!0}function ge(e,t){let n=e.length>0?e[e.length-1]:1;for(let r=0;r<e.length-1;r++)n+=e[r]*t[r];return n}function ve(e,t,n){let r;const i=e.shape.length;let o;return r="number"===typeof t?[t,...new Array(i-1).fill(0)]:t.length<i?t.concat(new Array(i-t.length).fill(0)):t.slice(),r.forEach((e=>{w.hu(-1!==e,(()=>"slice() does not support negative begin indexing."))})),o=null==n?new Array(i).fill(-1):"number"===typeof n?[n,...new Array(i-1).fill(-1)]:n.length<i?n.concat(new Array(i-n.length).fill(-1)):n,o=o.map(((t,n)=>t>=0?t:(w.hu(-1===t,(()=>`Negative size values should be exactly -1 but got ${t} for the slice() size at index ${n}.`)),e.shape[n]-r[n]))),[r,o]}function ye(e,t,n,r,i,o,a,s,l){let c;if(null==r?(c=new Array(t.length),c.fill(1)):c=r,null!=a&&0!==(a&a-1))throw new Error("Multiple ellipses in slice is not allowed.");let u=!1;const d={dims:c.length,numAddAxisAfterEllipsis:0,begin:t.slice(),end:n.slice(),strides:c.slice(),beginMask:i,endMask:o,ellipsisMask:a,newAxisMask:s,shrinkAxisMask:l};for(let y=0;y<d.dims;y++)u&&0!==(1<<y&s)&&d.numAddAxisAfterEllipsis++,1<<y&a&&(u=!0);u||(d.ellipsisMask|=1<<d.dims,d.dims++);const p={dims:e.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};!function(e,t){t.beginMask=0,t.endMask=0,t.shrinkAxisMask=0;let n=0;t.beginValid=null!=e.begin,t.endValid=null!=e.end,t.begin=new Array(t.dims),t.end=new Array(t.dims),t.strides=new Array(t.dims),t.finalShapeGatherIndices=[],t.finalShapeGatherIndicesSparse=[],t.inputShapeGatherIndicesSparse=new Array(t.dims);for(let r=0;r<e.dims;r++)if(1<<r&e.ellipsisMask){const i=Math.min(t.dims-(e.dims-r)+1+e.numAddAxisAfterEllipsis,t.dims);for(;n<i;n++)t.begin[n]=0,t.end[n]=0,t.strides[n]=1,t.beginMask|=1<<n,t.endMask|=1<<n,t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(-1),t.inputShapeGatherIndicesSparse[n]=r}else if(1<<r&e.newAxisMask)t.finalShapeGatherIndices.push(-2),t.finalShapeGatherIndicesSparse.push(-1);else{if(n===t.begin.length)throw Error(`Index out of range using input dim ${n}; input has only ${t.dims} dims, ${t.begin.length}.`);null!=e.begin&&(t.begin[n]=e.begin[r]),null!=e.end&&(t.end[n]=e.end[r]),t.strides[n]=e.strides[r],e.beginMask&1<<r&&(t.beginMask|=1<<n),e.endMask&1<<r&&(t.endMask|=1<<n),e.shrinkAxisMask&1<<r?(t.finalShapeGatherIndices.push(-1),t.finalShapeGatherIndicesSparse.push(-1),t.shrinkAxisMask|=1<<n):(t.finalShapeGatherIndices.push(n),t.finalShapeGatherIndicesSparse.push(r)),t.inputShapeGatherIndicesSparse[n]=r,n++}}(d,p);let f=!0,h=!0,m=!0;const g=[],v=[];for(let y=0;y<e.length;++y){if(0===p.strides[y])throw Error(`strides[${y}] must be non-zero`);const t=!!(p.shrinkAxisMask&1<<y),n=e[y];if(-1===n){g.push(t?1:-1);continue}const r=[p.beginMask&1<<y,p.endMask&1<<y],i=[p.strides[y]>0?0:-1,p.strides[y]>0?n:n-1];if(t&&p.strides[y]<=0)throw Error("only stride 1 allowed on non-range indexing.");m=m&&1===p.strides[y];const o=!!(p.beginMask&1<<y&&p.endMask&1<<y);if(p.beginValid&&p.endValid){if(t){const e=p.begin[y]<0?n+p.begin[y]:p.begin[y];if(p.begin[y]=e,p.end[y]=p.begin[y]+1,e<0||e>=n)throw Error(`slice index ${p.begin[y]} of dimension ${y} out of bounds.`)}else p.begin[y]=be(p.begin[y],0,p.strides[y],n,r,i),p.end[y]=be(p.end[y],1,p.strides[y],n,r,i);const e=1===p.strides[y]&&0===p.begin[y]&&p.end[y]===n;f=f&&e,h=h&&(0===y&&1===p.strides[y]||e)}else f=f&&1===p.strides[y]&&o,h=h&&(0===y&&1===p.strides[y]||o);let a,s=!1;if(p.beginValid&&p.endValid?(a=p.end[y]-p.begin[y],s=!0):t?(a=1,s=!0):o&&n>=0&&(a=p.strides[y]<0?-n:n,s=!0),s){let e;e=0===a||a<0!==p.strides[y]<0?0:Math.trunc(a/p.strides[y])+(a%p.strides[y]!==0?1:0),g.push(e)}else g.push(-1)}for(let y=0;y<p.finalShapeGatherIndices.length;++y){const e=p.finalShapeGatherIndices[y];e>=0?v.push(g[e]):-2===e&&v.push(1)}return{finalShapeSparse:v.filter(((e,t)=>-2!==p.finalShapeGatherIndices[t])),finalShape:v,isIdentity:f,sliceDim0:h,isSimpleSlice:m,begin:p.begin,end:p.end,strides:p.strides}}function be(e,t,n,r,i,o){if(i[t])return n>0?o[t]:o[t+1&1];{const t=e<0?r+e:e;return t<o[0]?o[0]:t>o[1]?o[1]:t}}class we{getClassName(){return this.constructor.className}static fromConfig(e,t){return new e(t)}}class xe{constructor(){this.classNameMap={}}static getMap(){return null==xe.instance&&(xe.instance=new xe),xe.instance}static register(e){xe.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function Se(e){(0,w.hu)(null!=e.className,(()=>"Class being registered does not have the static className property defined.")),(0,w.hu)("string"===typeof e.className,(()=>"className is required to be a string, but got type "+typeof e.className)),(0,w.hu)(e.className.length>0,(()=>"Class being registered has an empty-string as its className, which is disallowed.")),xe.register(e)}var ke=n(80747),Te=n(79122);const Ee=.1;function _e(e,t,n){return null==n&&(n=Ce()),Oe(e,t,((e,t)=>Me(e,t,n)))}function Ce(){return 32===V.BV.backend.floatPrecision()?.001:Ee}function Oe(e,t,n){let r=!0;if(((0,w.fU)(e)||(0,w.fU)(t))&&(r=!1),(0,w.fU)(e)&&(0,w.fU)(t)&&(r=!0),r){const n=e.constructor.name,r=t.constructor.name;if(n!==r)throw new Error(`Arrays are of different type. Actual: ${n}. Expected: ${r}`)}if(Array.isArray(e)&&Array.isArray(t)){const n=(0,L.C)(e),r=(0,L.C)(t);if(!(0,w.cO)(n,r))throw new Error(`Arrays have different shapes. Actual: [${n}]. Expected: [${r}]`)}const i=(0,w.fU)(e)?e:(0,w.xH)(e),o=(0,w.fU)(t)?t:(0,w.xH)(t);if(i.length!==o.length)throw new Error(`Arrays have different lengths actual: ${i.length} vs expected: ${o.length}.\nActual:   ${i}.\nExpected: ${o}.`);for(let a=0;a<o.length;++a){const e=i[a],t=o[a];if(!n(e,t))throw new Error(`Arrays differ: actual[${a}] = ${e}, expected[${a}] = ${t}.\nActual:   ${i}.\nExpected: ${o}.`)}}function Pe(e,t){e().then((()=>t.fail()),(()=>t()))}function Ae(e,t){const n="string"===typeof t||"number"===typeof t||"boolean"===typeof t?[t]:t;return(0,w.HD)(e)||(0,w.HD)(e[0])||(0,w.HD)(t)||(0,w.HD)(t[0])?Oe(e,n,((e,t)=>e==t)):Oe(e,t,((e,t)=>Me(e,t,0)))}function Ie(e,t,n){if(null==n&&(n=Ce()),!Me(e,t,n))throw new Error(`Numbers differ: actual === ${e}, expected === ${t}`)}function Me(e,t,n){return!isFinite(e)&&!isFinite(t)||!(isNaN(e)||isNaN(t)||Math.abs(e-t)>n)}function Ne(e,t,n){for(let r=0;r<e.length;r++)if(e[r]<t||e[r]>n)throw new Error(`Value out of range:${e[r]} low: ${t}, high: ${n}`)}function Re(e,t){const n=new Float32Array(e),r=new Float32Array(t);if(n.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${n.length}`);for(let i=0;i<r.length;i++)if(n[i]!==r[i])throw new Error(`Expected ArrayBuffer value at ${i} to be ${r[i]} but got ${n[i]} instead`)}function De(e){for(let t=0;t<e.length;t++){const n=e[t];Array.isArray(n)?De(n):e[t]=(0,Te.encodeString)(n)}return e}const Le="3.14.0";var je=n(4368),Be=n(56407),Fe=n(41274),Ue=n(24841),$e=n(13261),He=n(50248),Ge=n(6577),Ve=n(30633),ze=n(99494);class We extends we{minimize(e,t=!1,n){const{value:r,grads:i}=this.computeGradients(e,n);if(null!=n){const e=n.map((e=>({name:e.name,tensor:i[e.name]})));this.applyGradients(e)}else this.applyGradients(i);return(0,je.B9)(i),t?r:(r.dispose(),null)}get iterations(){return null==this.iterations_&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,t){return(0,Ve.pn)(e,t)}dispose(){null!=this.iterations_&&(0,je.B9)(this.iterations_)}async saveIterations(){return null==this.iterations_&&(this.iterations_=0),{name:"iter",tensor:(0,ze.i)(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(We,Symbol.hasInstance,{value:e=>null!=e.minimize&&null!=e.computeGradients&&null!=e.applyGradients});class Ke extends We{constructor(e,t,n=null){super(),this.learningRate=e,this.rho=t,this.epsilon=n,this.accumulatedGrads=[],this.accumulatedUpdates=[],null==n&&(this.epsilon=V.BV.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=V.BV.registeredVariables[t];null==this.accumulatedGrads[n]&&(this.accumulatedGrads[n]={originalName:`${t}/accum_grad`,variable:(0,je.lu)((()=>(0,Ge.P)(r).variable(false)))}),null==this.accumulatedUpdates[n]&&(this.accumulatedUpdates[n]={originalName:`${t}/accum_var`,variable:(0,je.lu)((()=>(0,Ge.P)(r).variable(false)))});const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const o=this.accumulatedGrads[n].variable,a=this.accumulatedUpdates[n].variable;(0,je.lu)((()=>{const e=(0,Be.I)((0,Ue.d)(o,this.rho),(0,Ue.d)((0,He.h)(i),1-this.rho)),t=(0,Ue.d)((0,Fe.h)((0,$e._)((0,Be.I)(a,this.epsilon)),(0,$e._)((0,Be.I)(o,this.epsilon))),i),n=(0,Be.I)((0,Ue.d)(a,this.rho),(0,Ue.d)((0,He.h)(t),1-this.rho));o.assign(e),a.assign(n);const s=(0,Be.I)((0,Ue.d)(t,-this.learningRate),r);r.assign(s)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedUpdates&&((0,je.B9)(this.accumulatedGrads.map((e=>e.variable))),(0,je.B9)(this.accumulatedUpdates.map((e=>e.variable))))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){const t=(e=await this.extractIterations(e)).length/2;this.accumulatedGrads=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedUpdates=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.rho,t.epsilon)}}Ke.className="Adadelta",Se(Ke);var qe=n(14006);class Xe extends We{constructor(e,t=.1){super(),this.learningRate=e,this.initialAccumulatorValue=t,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=V.BV.registeredVariables[t];if(null==this.accumulatedGrads[n]){const e=!1;this.accumulatedGrads[n]={originalName:`${t}/accumulator`,variable:(0,je.lu)((()=>(0,qe.h)(r.shape,this.initialAccumulatorValue).variable(e)))}}const i=Array.isArray(e)?e[n].tensor:e[t];if(null==i)return;const o=this.accumulatedGrads[n].variable;(0,je.lu)((()=>{const e=(0,Be.I)(o,(0,He.h)(i));o.assign(e);const t=(0,Be.I)((0,Ue.d)((0,Fe.h)(i,(0,$e._)((0,Be.I)(e,V.BV.backend.epsilon()))),-this.learningRate),r);r.assign(t)}))})),this.incrementIterations()}dispose(){null!=this.accumulatedGrads&&(0,je.B9)(this.accumulatedGrads.map((e=>e.variable)))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulatedGrads=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,t){return new e(t.learningRate,t.initialAccumulatorValue)}}Xe.className="Adagrad",Se(Xe);var Ze=n(33453),Ye=n(70827);class Qe extends We{constructor(e,t,n,r=null){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],(0,je.lu)((()=>{this.accBeta1=(0,ze.i)(t).variable(),this.accBeta2=(0,ze.i)(n).variable()})),null==r&&(this.epsilon=V.BV.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);(0,je.lu)((()=>{const n=(0,Ye.l)(1,this.accBeta1),r=(0,Ye.l)(1,this.accBeta2);t.forEach(((t,i)=>{const o=V.BV.registeredVariables[t];null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${t}/m`,variable:(0,je.lu)((()=>(0,Ge.P)(o).variable(false)))}),null==this.accumulatedSecondMoment[i]&&(this.accumulatedSecondMoment[i]={originalName:`${t}/v`,variable:(0,je.lu)((()=>(0,Ge.P)(o).variable(false)))});const a=Array.isArray(e)?e[i].tensor:e[t];if(null==a)return;const s=this.accumulatedFirstMoment[i].variable,l=this.accumulatedSecondMoment[i].variable,c=(0,Be.I)((0,Ue.d)(s,this.beta1),(0,Ue.d)(a,1-this.beta1)),u=(0,Be.I)((0,Ue.d)(l,this.beta2),(0,Ue.d)((0,He.h)(a),1-this.beta2)),d=(0,Fe.h)(c,n),p=(0,Fe.h)(u,r);s.assign(c),l.assign(u);const f=(0,Be.I)((0,Ue.d)((0,Fe.h)(d,(0,Be.I)((0,$e._)(p),this.epsilon)),-this.learningRate),o);o.assign(f)})),this.accBeta1.assign((0,Ue.d)(this.accBeta1,this.beta1)),this.accBeta2.assign((0,Ue.d)(this.accBeta2,this.beta2))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),null!=this.accumulatedFirstMoment&&(0,je.B9)(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedSecondMoment&&(0,je.B9)(this.accumulatedSecondMoment.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e),(0,je.lu)((()=>{this.accBeta1.assign((0,Ze.s)(this.beta1,this.iterations_+1)),this.accBeta2.assign((0,Ze.s)(this.beta2,this.iterations_+1))}));const t=e.length/2;this.accumulatedFirstMoment=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)}))),this.accumulatedSecondMoment=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon)}}Qe.className="Adam",Se(Qe);var Je=n(96235),et=n(80632);class tt extends We{constructor(e,t,n,r=null,i=0){super(),this.learningRate=e,this.beta1=t,this.beta2=n,this.epsilon=r,this.decay=i,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],(0,je.lu)((()=>{this.iteration=(0,ze.i)(0).variable(),this.accBeta1=(0,ze.i)(t).variable()})),null==r&&(this.epsilon=V.BV.backend.epsilon())}applyGradients(e){const t=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);(0,je.lu)((()=>{const n=(0,Ye.l)(1,this.accBeta1),r=(0,Fe.h)(-this.learningRate,(0,Be.I)((0,Ue.d)(this.iteration,this.decay),1));t.forEach(((t,i)=>{const o=V.BV.registeredVariables[t];null==this.accumulatedFirstMoment[i]&&(this.accumulatedFirstMoment[i]={originalName:`${t}/m`,variable:(0,Ge.P)(o).variable(false)}),null==this.accumulatedWeightedInfNorm[i]&&(this.accumulatedWeightedInfNorm[i]={originalName:`${t}/v`,variable:(0,Ge.P)(o).variable(false)});const a=Array.isArray(e)?e[i].tensor:e[t];if(null==a)return;const s=this.accumulatedFirstMoment[i].variable,l=this.accumulatedWeightedInfNorm[i].variable,c=(0,Be.I)((0,Ue.d)(s,this.beta1),(0,Ue.d)(a,1-this.beta1)),u=(0,Ue.d)(l,this.beta2),d=(0,Je.W)(a),p=(0,et.g)(u,d);s.assign(c),l.assign(p);const f=(0,Be.I)((0,Ue.d)((0,Fe.h)(r,n),(0,Fe.h)(c,(0,Be.I)(p,this.epsilon))),o);o.assign(f)})),this.iteration.assign((0,Be.I)(this.iteration,1)),this.accBeta1.assign((0,Ue.d)(this.accBeta1,this.beta1))})),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),null!=this.accumulatedFirstMoment&&(0,je.B9)(this.accumulatedFirstMoment.map((e=>e.variable))),null!=this.accumulatedWeightedInfNorm&&(0,je.B9)(this.accumulatedWeightedInfNorm.map((e=>e.variable)))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,t){return new e(t.learningRate,t.beta1,t.beta2,t.epsilon,t.decay)}}tt.className="Adamax",Se(tt);class nt extends We{constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=Array.isArray(e)?e[n].tensor:e[t];if(null==r)return;const i=V.BV.registeredVariables[t];(0,je.lu)((()=>{const e=(0,Be.I)((0,Ue.d)(this.c,r),i);i.assign(e)}))})),this.incrementIterations()}setLearningRate(e){this.learningRate=e,null!=this.c&&this.c.dispose(),this.c=(0,je.Cn)((0,ze.i)(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(0!==(e=await this.extractIterations(e)).length)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,t){return new e(t.learningRate)}}nt.className="SGD",Se(nt);class rt extends nt{constructor(e,t,n=!1){super(e),this.learningRate=e,this.momentum=t,this.useNesterov=n,this.accumulations=[],this.m=(0,ze.i)(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=V.BV.registeredVariables[t];if(null==this.accumulations[n]){const e=!1;this.accumulations[n]={originalName:`${t}/momentum`,variable:(0,je.lu)((()=>(0,Ge.P)(r).variable(e)))}}const i=this.accumulations[n].variable,o=Array.isArray(e)?e[n].tensor:e[t];null!=o&&(0,je.lu)((()=>{let e;const t=(0,Be.I)((0,Ue.d)(this.m,i),o);e=this.useNesterov?(0,Be.I)((0,Ue.d)(this.c,(0,Be.I)(o,(0,Ue.d)(t,this.m))),r):(0,Be.I)((0,Ue.d)(this.c,t),r),i.assign(t),r.assign(e)}))})),this.incrementIterations()}dispose(){this.m.dispose(),null!=this.accumulations&&(0,je.B9)(this.accumulations.map((e=>e.variable)))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);this.accumulations=e.map((e=>({originalName:e.name,variable:e.tensor.variable(false)})))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,t){return new e(t.learningRate,t.momentum,t.useNesterov)}}rt.className="Momentum",Se(rt);class it extends We{constructor(e,t=.9,n=0,r=null,i=!1){if(super(),this.learningRate=e,this.decay=t,this.momentum=n,this.epsilon=r,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=i,null==r&&(this.epsilon=V.BV.backend.epsilon()),null==e)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map((e=>e.name)):Object.keys(e)).forEach(((t,n)=>{const r=V.BV.registeredVariables[t],i=!1;null==this.accumulatedMeanSquares[n]&&(this.accumulatedMeanSquares[n]={originalName:`${t}/rms`,variable:(0,je.lu)((()=>(0,Ge.P)(r).variable(i)))}),null==this.accumulatedMoments[n]&&(this.accumulatedMoments[n]={originalName:`${t}/momentum`,variable:(0,je.lu)((()=>(0,Ge.P)(r).variable(i)))}),null==this.accumulatedMeanGrads[n]&&this.centered&&(this.accumulatedMeanGrads[n]={originalName:`${t}/mg`,variable:(0,je.lu)((()=>(0,Ge.P)(r).variable(i)))});const o=Array.isArray(e)?e[n].tensor:e[t];if(null==o)return;const a=this.accumulatedMeanSquares[n].variable,s=this.accumulatedMoments[n].variable;(0,je.lu)((()=>{const e=(0,Be.I)((0,Ue.d)(a,this.decay),(0,Ue.d)((0,He.h)(o),1-this.decay));if(this.centered){const t=this.accumulatedMeanGrads[n].variable,i=(0,Be.I)((0,Ue.d)(t,this.decay),(0,Ue.d)(o,1-this.decay)),l=(0,Fe.h)((0,Ue.d)(o,this.learningRate),(0,$e._)((0,Ye.l)(e,(0,Be.I)((0,He.h)(i),this.epsilon)))),c=(0,Be.I)((0,Ue.d)(s,this.momentum),l);a.assign(e),t.assign(i),s.assign(c);const u=(0,Ye.l)(r,c);r.assign(u)}else{const e=(0,Be.I)((0,Ue.d)(a,this.decay),(0,Ue.d)((0,He.h)(o),1-this.decay)),t=(0,Be.I)((0,Ue.d)(s,this.momentum),(0,Fe.h)((0,Ue.d)(o,this.learningRate),(0,$e._)((0,Be.I)(e,this.epsilon))));a.assign(e),s.assign(t);const n=(0,Ye.l)(r,t);r.assign(n)}}))})),this.incrementIterations()}dispose(){null!=this.accumulatedMeanSquares&&(0,je.B9)(this.accumulatedMeanSquares.map((e=>e.variable))),null!=this.accumulatedMeanGrads&&this.centered&&(0,je.B9)(this.accumulatedMeanGrads.map((e=>e.variable))),null!=this.accumulatedMoments&&(0,je.B9)(this.accumulatedMoments.map((e=>e.variable)))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map((e=>({name:e.originalName,tensor:e.variable}))))}async setWeights(e){e=await this.extractIterations(e);const t=this.centered?e.length/3:e.length/2,n=!1;this.accumulatedMeanSquares=e.slice(0,t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.accumulatedMoments=e.slice(t,2*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))),this.centered&&(this.accumulatedMeanGrads=e.slice(2*t,3*t).map((e=>({originalName:e.name,variable:e.tensor.variable(n)}))))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,t){return new e(t.learningRate,t.decay,t.momentum,t.epsilon,t.centered)}}it.className="RMSProp",Se(it);class ot{static sgd(e){return new nt(e)}static momentum(e,t,n=!1){return new rt(e,t,n)}static rmsprop(e,t=.9,n=0,r=null,i=!1){return new it(e,t,n,r,i)}static adam(e=.001,t=.9,n=.999,r=null){return new Qe(e,t,n,r)}static adadelta(e=.001,t=.95,n=null){return new Ke(e,t,n)}static adamax(e=.002,t=.9,n=.999,r=null,i=0){return new tt(e,t,n,r,i)}static adagrad(e,t=.1){return new Xe(e,t)}}var at=n(71221),st=n(94885),lt=n(49876);const ct={sgd:ot.sgd,momentum:ot.momentum,adadelta:ot.adadelta,adagrad:ot.adagrad,rmsprop:ot.rmsprop,adamax:ot.adamax,adam:ot.adam},ut="undefined"!==typeof requestAnimationFrame?requestAnimationFrame:"undefined"!==typeof setImmediate?setImmediate:e=>e();function dt(){return new Promise((e=>ut((()=>e()))))}var pt=n(83591);function ft(e,t){const n=e[0].length;e.forEach(((e,t)=>{w.hu(e.length===n,(()=>`Error in concat${n}D: rank of tensors[${t}] must be the same as the rank of the rest (${n})`))})),w.hu(t>=0&&t<n,(()=>`Error in concat${n}D: axis must be between 0 and ${n-1}.`));const r=e[0];e.forEach(((e,i)=>{for(let o=0;o<n;o++)w.hu(o===t||e[o]===r[o],(()=>`Error in concat${n}D: Shape of tensors[${i}] (${e}) does not match the shape of the rest (${r}) along the non-concatenated axis ${i}.`))}))}function ht(e,t){const n=e[0].slice();for(let r=1;r<e.length;r++)n[t]+=e[r][t];return n}var mt=n(2582),gt=n(19323);const vt=30;function yt(e){return e<=vt?e:(0,w.jP)(e,Math.floor(Math.sqrt(e)))}function bt(e,t,n){return[n*("number"===typeof e?e:e[0]),t*("number"===typeof e?e:e[1])]}function wt(e,t,n,r=!0){let i=[];if(r)i=i.concat(t.slice(0)),i.push(e[0]/n),i=i.concat(e.slice(1));else{i=i.concat(e[0]);const n=t.length;for(let r=0;r<n;++r)i=i.concat([e[r+1]/t[r],t[r]]);i=i.concat(e.slice(n+1))}return i}function xt(e,t,n=!0){const r=[];if(n){r.push(t);for(let n=t+1;n<e;++n)n<=2*t?(r.push(n),r.push(n-(t+1))):r.push(n)}else{const n=[],i=[];for(let r=1;r<e;++r)r>=2*t+1||r%2===1?i.push(r):n.push(r);r.push(...n),r.push(0),r.push(...i)}return r}function St(e,t,n,r=!0){const i=[];r?i.push(e[0]/n):i.push(e[0]*n);for(let o=1;o<e.length;++o)o<=t.length?r?i.push(t[o-1]*e[o]):i.push(e[o]/t[o-1]):i.push(e[o]);return i}function kt(e,t){const n=[0];for(let r=0;r<t;++r)n.push(e[r][0]);return n}function Tt(e,t,n){const r=e.slice(0,1);for(let i=0;i<n;++i)r.push(e[i+1]-t[i][0]-t[i][1]);return r}const Et=1.7580993408473768,_t=1.0507009873554805,Ct=.3275911,Ot=.254829592,Pt=-.284496736,At=1.421413741,It=-1.453152027,Mt=1.061405429;var Nt=n(64706);function Rt(e,t){if(e.length!==t.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${e.length}, imag: ${t.length}.`);const n=new Float32Array(2*e.length);for(let r=0;r<n.length;r+=2)n[r]=e[r/2],n[r+1]=t[r/2];return n}function Dt(e){const t=new Float32Array(e.length/2),n=new Float32Array(e.length/2);for(let r=0;r<e.length;r+=2)t[r/2]=e[r],n[r/2]=e[r+1];return{real:t,imag:n}}function Lt(e){const t=Math.ceil(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let i=0;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function jt(e){const t=Math.floor(e.length/4),n=new Float32Array(t),r=new Float32Array(t);for(let i=2;i<e.length;i+=4)n[Math.floor(i/4)]=e[i],r[Math.floor(i/4)]=e[i+1];return{real:n,imag:r}}function Bt(e,t){return{real:e[2*t],imag:e[2*t+1]}}function Ft(e,t,n,r){e[2*r]=t,e[2*r+1]=n}function Ut(e,t){const n=new Float32Array(e/2),r=new Float32Array(e/2);for(let i=0;i<Math.ceil(e/2);i++){const o=(t?2:-2)*Math.PI*(i/e);n[i]=Math.cos(o),r[i]=Math.sin(o)}return{real:n,imag:r}}function $t(e,t,n){const r=(n?2:-2)*Math.PI*(e/t);return{real:Math.cos(r),imag:Math.sin(r)}}const Ht="->",Gt=/->/g;function Vt(e,t){const n=((e=e.replace(/\s/g,"")).length-e.replace(Gt,"").length)/Ht.length;if(n<1)throw new Error("Equations without an arrow are not supported.");if(n>1)throw new Error('Equation must contain exactly one arrow ("->").');const[r,i]=e.split(Ht);(0,w.hu)(-1===r.indexOf("..."),(()=>'The ellipsis notation ("...") is not supported yet.'));const o=r.split(","),a=o.length;if(t!==a)throw new Error(`Expected ${a} input tensors, received ${t}`);if(a>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const s=[];for(let d=0;d<i.length;++d){const e=i[d];if(!o.some((t=>-1!==t.indexOf(e))))throw new Error(`Output subscripts contain the label ${e} not present in the input subscripts.`);-1===s.indexOf(e)&&s.push(e)}for(let d=0;d<r.length;++d){const e=r[d];-1===s.indexOf(e)&&","!==e&&s.push(e)}const l=new Array(o.length);for(let d=0;d<a;++d){if(new Set(o[d].split("")).size!==o[d].length)throw new Error(`Found duplicate axes in input component ${o[d]}. Support for duplicate axes in input is not implemented yet.`);l[d]=[];for(let e=0;e<o[d].length;++e)l[d].push(s.indexOf(o[d][e]))}const c=s.length,u=[];for(let d=i.length;d<c;++d)u.push(d);return{allDims:s,summedDims:u,idDims:l}}function zt(e,t){let n=new Array(e);n.fill(-1);for(let i=0;i<t.length;++i)n[t[i]]=i;const r=[];for(let i=0;i<e;++i)-1===n[i]&&r.push(i);return n=n.filter((e=>-1!==e)),{permutationIndices:n,expandDims:r}}function Wt(e,t,n){const r=new Array(e);for(let i=0;i<n.length;++i){const e=n[i].shape;for(let n=0;n<t[i].length;++n)void 0===r[t[i][n]]?r[t[i][n]]=e[n]:(0,w.hu)(r[t[i][n]]===e[n],(()=>`Expected dimension ${r[t[i][n]]} at axis ${n} of input shaped ${JSON.stringify(e)}, but got dimension ${e[n]}`))}}function Kt(e,t){const n=e,r=[];let i=0;0===e.length&&n.push(-1),i=e.length+1;for(let a=0;a<i;++a)r.push([]);const o=[];for(let a=0;a<n.length;++a){const e=Xt(t,n[a]);for(const t of e)-1===o.indexOf(t)&&(r[a].push(t),o.push(t))}return{path:n,steps:r}}function qt(e){return e.every(((e,t)=>e===t))}function Xt(e,t){const n=[];for(let r=0;r<e.length;++r)0!==e[r].length&&-1===e[r].indexOf(t)&&-1!==t||n.push(r);return n}function Zt(e,t,n=0){let r=[];if("number"===typeof t)(0,w.hu)(e.shape[n]%t===0,(()=>"Number of splits must evenly divide the axis.")),r=new Array(t).fill(e.shape[n]/t);else{const i=t.reduce(((e,t)=>(-1===t&&(e+=1),e)),0);(0,w.hu)(i<=1,(()=>"There should be only one negative value in split array."));const o=t.indexOf(-1);if(-1!==o){const r=t.reduce(((e,t)=>t>0?e+t:e));t[o]=e.shape[n]-r}(0,w.hu)(e.shape[n]===t.reduce(((e,t)=>e+t)),(()=>"The sum of sizes must match the size of the axis dimension.")),r=t}return r}function Yt(e){return`Received SparseTensor with denseShape[0] = 0 but\n  indices.shape[0] = ${e}`}function Qt(e,t){return`indices(${e}, 0) is invalid: ${t} < 0`}function Jt(e,t,n){return`indices(${e}, 0) is invalid: ${t} >= ${n}`}function en(e,t){return`only one output dimension may be -1, not both ${e} and ${t}`}function tn(e,t){return`size ${e} must be non-negative, not ${t}`}function nn(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function rn(e,t){return`Input to reshape is a SparseTensor with ${(0,w.NA)(e)}\n  dense values, but the requested shape requires a multiple of ${(0,w.NA)(t)}. inputShape=${e} outputShape= ${t}`}function on(e,t){return`Input to reshape is a tensor with ${(0,w.NA)(e)} dense values, but the requested shape has ${(0,w.NA)(t)}. inputShape=${e} outputShape=${t}`}function an(){return"segment ids must be >= 0"}function sn(){return"segment ids are not increasing"}function ln(e,t){return`Segment id ${e} out of range [0, ${t}), possibly because segmentIds input is not sorted.`}function cn(e,t,n){return`Bad: indices[${e}] == ${t} out of range [0, ${n})`}function un(e,t){let n,r=!1;for(e<=vt?(n=e,r=!0):n=(0,w.jP)(e,Math.floor(Math.sqrt(e)));!r;)n>t||n===e?r=!0:n=(0,w.jP)(e,n+1);return n}function dn(e,t,n){const r=[],i=e.length;for(let o=0;o<i;o++)o!==t?r.push(e[o]):r.push(n);return r}function pn(e,t,n,r){const i=t.shape.length,o=e.shape.length;if(0!==r&&(r<-i||r>i))throw new Error(`Expect batchDims in the range of [-${i}, ${i}], but got ${r}`);if(r<0&&(r+=i),r>o)throw new Error(`batchDims (${r}) must be less than rank(x) (\n    ${o}).`);if(n<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${n}).`);for(let d=0;d<r;++d)if(e.shape[d]!==t.shape[d])throw new Error(`x.shape[${d}]: ${e.shape[d]} should be equal to indices.shape[${d}]: ${t.shape[d]}.`);const a=e.shape[n],s=[];let l=1,c=1,u=1;for(let d=0;d<r;++d)s.push(e.shape[d]),l*=e.shape[d];for(let d=r;d<n;d++)s.push(e.shape[d]),c*=e.shape[d];for(let d=r;d<i;d++)s.push(t.shape[d]);for(let d=n+1;d<o;d++)s.push(e.shape[d]),u*=e.shape[d];return{batchSize:l,sliceSize:u,outerSize:c,dimSize:a,outputShape:s}}function fn(e){try{return e.map((e=>(0,Te.decodeString)(e)))}catch(t){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${t}`)}}function hn(e){return e.map((e=>(0,Te.encodeString)(e)))}var mn=n(85999),gn=n(83337),vn=n(48333),yn=n(68713)},85186:(e,t,n)=>{"use strict";var r=n(97097),i=(n(79998),n(22885)),o=n(61044),a=n(28209),s=n(90780);class l{fetch(e,t){return fetch(e,t)}now(){return performance.now()}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Browser's encoder only supports utf-8, but got ${t}`);return null==this.textEncoder&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,t){return new TextDecoder(t).decode(e)}}if((0,i.OB)().get("IS_BROWSER")){(0,i.OB)().setPlatform("browser",new l);try{s.xQ.registerManager(a.Ew.URL_SCHEME,new a.JL)}catch(y){}try{s.xQ.registerManager(o.ns.URL_SCHEME,new o.y$)}catch(y){}}const c=()=>n(75410);let u;class d{constructor(){this.util=n(48628),this.textEncoder=new this.util.TextEncoder}fetch(e,t){return null!=(0,i.OB)().global.fetch?(0,i.OB)().global.fetch(e,t):(null==u&&(u=c()),u(e,t))}now(){const e=process.hrtime();return 1e3*e[0]+e[1]/1e6}encode(e,t){if("utf-8"!==t&&"utf8"!==t)throw new Error(`Node built-in encoder only supports utf-8, but got ${t}`);return this.textEncoder.encode(e)}decode(e,t){return 0===e.length?"":new this.util.TextDecoder(t).decode(e)}}(0,i.OB)().get("IS_NODE")&&!(0,i.OB)().get("IS_BROWSER")&&(0,i.OB)().setPlatform("node",new d);var p=n(72657),f=n(62271),h=n(8723),m=n(29798),g=n(4077);(0,r.wv)();const v={buffer:p.f,cast:f.p,clone:h.d,print:m.S};(0,g.Vp)(v)},85999:(e,t,n)=>{"use strict";let r;function i(e){r=e}function o(e){if(void 0!==r)return r;if(e||"undefined"!==typeof navigator&&null!=navigator){if(e||(e=navigator),"ReactNative"===e.product)return!0;const t=e.userAgent||e.vendor||("undefined"!==typeof window?window.opera:"");if(!t){const t=e;return t.userAgentData&&t.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))}return!1}function a(){return"undefined"!==typeof window&&null!=window.document||"undefined"!==typeof WorkerGlobalScope}n.r(t),n.d(t,{isBrowser:()=>a,isMobile:()=>o,mockIsMobile:()=>i})},97097:(e,t,n)=>{"use strict";n.d(t,{BV:()=>w,wv:()=>b});var r=n(68713),i=n(22885),o=n(55938),a=n(29121),s=n(26151),l=n(64706),c=n(79122),u=n(20569);class d{constructor(e,t){this.backendTimer=e,this.logger=t,null==t&&(this.logger=new f)}profileKernel(e,t,n){let r;const o=()=>{r=n()};let a;const s=c.now();if(this.backendTimer.timerAvailable())a=this.backendTimer.time(o);else{o();for(const e of r)e.dataSync();a=Promise.resolve({kernelMs:c.now()-s})}if((0,i.OB)().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let i=0;i<r.length;i++){const t=r[i];t.data().then((n=>{p(n,t.dtype,e)}))}return{kernelName:e,outputs:r,inputs:t,timeMs:a.then((e=>e.kernelMs)),extraInfo:a.then((e=>null!=e.getExtraProfileInfo?e.getExtraProfileInfo():""))}}logKernelProfile(e){const{kernelName:t,outputs:n,timeMs:r,inputs:i,extraInfo:o}=e;n.forEach((e=>{Promise.all([e.data(),r,o]).then((n=>{this.logger.logKernelProfile(t,e,n[0],n[1],i,n[2])}))}))}}function p(e,t,n){if("float32"!==t)return!1;for(let r=0;r<e.length;r++){const t=e[r];if(isNaN(t)||!isFinite(t))return console.warn(`Found ${t} in the result of '${n}'`),!0}return!1}class f{logKernelProfile(e,t,n,r,i,o){const a="number"===typeof r?u.oj(`${r}ms`,9):r.error,s=u.oj(e,25),l=t.rank,c=t.size,d=u.oj(t.shape.toString(),14);let p="";for(const u in i){const e=i[u];if(null!=e){const n=e.shape||t.shape,r=n.length;p+=`${u}: ${r}D ${r>0?n:""} `}}console.log(`%c${s}\t%c${a}\t%c${l}D ${d}\t%c${c}\t%c${p}\t%c${o}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}var h=n(4077),m=n(80747);function g(e){return null!=e.kernelName}class v{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map((e=>e.name))))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class y{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new v}async ready(){if(null!=this.pendingBackendInit)return this.pendingBackendInit.then((()=>{}));if(null!=this.backendInstance)return;const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t];if(await this.initializeBackend(n).success)return void await this.setBackend(n)}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(null!=this.pendingBackendInit)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(null==this.backendInstance){const{name:e,asyncInit:t}=this.initializeBackendsAndReturnBest();if(t)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry)){if(!(e in this.registryFactory))return null;{const{asyncInit:t}=this.initializeBackend(e);if(t)return null}}return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,t,n=1){return e in this.registryFactory?(l.Z(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:t,priority:n},!0)}async setBackend(e){if(null==this.registryFactory[e])throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,null==this.registry[e]){this.backendInstance=null;const{success:t,asyncInit:n}=this.initializeBackend(e);if(!(n?await t:t))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new d(this.backendInstance),!0}setupRegisteredKernels(){(0,s.tr)(this.backendName).forEach((e=>{null!=e.setupFunc&&e.setupFunc(this.backendInstance)}))}disposeRegisteredKernels(e){(0,s.tr)(e).forEach((t=>{null!=t.disposeFunc&&t.disposeFunc(this.registry[e])}))}initializeBackend(e){const t=this.registryFactory[e];if(null==t)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const n=t.factory();if(!n||n instanceof r.Zu||"function"!==typeof n.then)return this.registry[e]=n,{success:!0,asyncInit:!1};{const t=++this.pendingBackendInitId,r=n.then((n=>!(t<this.pendingBackendInitId)&&(this.registry[e]=n,this.pendingBackendInit=null,!0))).catch((n=>(t<this.pendingBackendInitId||(this.pendingBackendInit=null,l.Z(`Initialization of backend ${e} failed`),l.Z(n.stack||n.message)),!1)));return this.pendingBackendInit=r,{success:r,asyncInit:!0}}}catch(n){return l.Z(`Initialization of backend ${e} failed`),l.Z(n.stack||n.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&null!=this.pendingBackendInit&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(0===Object.keys(this.registryFactory).length)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort(((e,t)=>this.registryFactory[t].priority-this.registryFactory[e].priority))}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let t=0;t<e.length;t++){const n=e[t],{success:r,asyncInit:i}=this.initializeBackend(n);if(i||r)return{name:n,asyncInit:i}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,t){const n=this.state.tensorInfo.get(t),r=n.backend,i=this.readSync(t),o=r.refCount(t);r.disposeData(t,!0),n.backend=e,e.move(t,i,n.shape,n.dtype,o),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,t){let n,r=null;if(null==t){if("function"!==typeof e)throw new Error("Please provide a function to tidy()");t=e}else{if("string"!==typeof e&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if("function"!==typeof t)throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}return this.scopedRun((()=>this.startScope(r)),(()=>this.endScope(n)),(()=>(n=t(),n instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),n)))}scopedRun(e,t,n){e();try{const e=n();return t(),e}catch(r){throw t(),r}}nextTensorId(){return y.nextTensorId++}nextVariableId(){return y.nextVariableId++}clone(e){const t=w.runKernel(a.iJ,{x:e}),n={x:e};return this.addTapeNode(this.state.activeScope.name,n,[t],(e=>({x:()=>{const t={x:e},n={dtype:"float32"};return w.runKernel(a.RF,t,n)}})),[],{}),t}runKernel(e,t,n){null==this.backendName&&this.backend;if(!(null!=(0,s.pI)(e,this.backendName)))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:t,attrs:n})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,t,n){const r=this.backend.numDataIds();let i=0;n.forEach((e=>{i+="complex64"===e.dtype?3:1}));const o=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],a=r-t-i-o;if(a>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${a} data ids) after running '${e}'`)}runKernelFunc(e){let t,n=[];const r=this.isTapeOn(),i=this.state.numBytes,o=this.state.numTensors;let a,l;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0),null==this.backendName&&this.backend;const c=g(e)?e.kernelName:null!=this.state.activeScope?this.state.activeScope.name:"";if(g(e)){const{kernelName:t,inputs:i,attrs:o}=e;null==this.backendName&&this.backend;const c=(0,s.pI)(t,this.backendName);u.hu(null!=c,(()=>`Cannot find registered kernel '${t}' for backend '${this.backendName}'`)),a=()=>{const e=this.backend.numDataIds();l=c.kernelFunc({inputs:i,attrs:o,backend:this.backend});const a=Array.isArray(l)?l:[l];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(t,e,a);const s=a.map((e=>{if(null!=e.rank)return e;const{dataId:t,shape:n,dtype:r}=e;return this.makeTensorFromDataId(t,n,r)}));if(r){const e=this.getTensorsForGradient(t,i,s);n=this.saveTensorsForBackwardMode(e)}return s}}else{const{forwardFunc:t}=e,i=e=>{r&&(n=e.map((e=>this.keep(this.clone(e)))))};a=()=>{const e=this.backend.numDataIds();l=this.tidy((()=>t(this.backend,i)));const n=Array.isArray(l)?l:[l];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(c,e,n),n}}const{inputs:d,attrs:p}=e,f=g(e)?null:e.backwardsFunc;let h;return this.scopedRun((()=>this.state.kernelDepth++),(()=>this.state.kernelDepth--),(()=>{this.ENV.getBool("DEBUG")||this.state.profiling?(h=this.profiler.profileKernel(c,d,(()=>a())),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(h),t=h.outputs):t=a()})),r&&this.addTapeNode(c,d,t,f,n,p),this.state.profiling&&this.state.activeProfile.kernels.push({name:c,bytesAdded:this.state.numBytes-i,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-o,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(d).map((e=>null!=d[e]?d[e].shape:null)),outputShapes:t.map((e=>e.shape)),kernelTimeMs:h.timeMs,extraInfo:h.extraInfo}),Array.isArray(l)?t:t[0]}saveTensorsForBackwardMode(e){const t=e.map((e=>this.keep(this.clone(e))));return t}getTensorsForGradient(e,t,n){const r=(0,s.uk)(e);if(null!=r){const e=r.inputsToSave||[],i=r.outputsToSave||[];let o;r.saveAllInputs?(u.hu(Array.isArray(t),(()=>"saveAllInputs is true, expected inputs to be an array.")),o=Object.keys(t).map((e=>t[e]))):o=e.map((e=>t[e]));const a=n.filter(((e,t)=>i[t]));return o.concat(a)}return[]}makeTensor(e,t,n,r){if(null==e)throw new Error("Values passed to engine.makeTensor() are null");n=n||"float32",r=r||this.backend;let i=e;"string"===n&&u.HD(e[0])&&(i=e.map((e=>c.encodeString(e))));const o=r.write(i,t,n),a=new h.es(t,n,o,this.nextTensorId());if(this.trackTensor(a,r),"string"===n){const e=this.state.tensorInfo.get(o),t=(0,u.Ub)(i);this.state.numBytes+=t-e.bytes,e.bytes=t}return a}makeTensorFromDataId(e,t,n,r){n=n||"float32";const i=new h.es(t,n,e,this.nextTensorId());return this.trackTensor(i,r),i}makeVariable(e,t=!0,n,r){n=n||this.nextVariableId().toString(),null!=r&&r!==e.dtype&&(e=e.cast(r));const i=new h._w(e,t,n,this.nextTensorId());if(null!=this.state.registeredVariables[i.name])throw new Error(`Variable with name ${i.name} was already registered`);return this.state.registeredVariables[i.name]=i,this.incRef(i,this.backend),i}trackTensor(e,t){this.state.numTensors++,"string"===e.dtype&&this.state.numStringTensors++;let n=0;"complex64"!==e.dtype&&"string"!==e.dtype&&(n=e.size*u.bT(e.dtype)),this.state.numBytes+=n,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:t||this.backend,dtype:e.dtype,shape:e.shape,bytes:n})),e instanceof h._w||this.track(e)}incRef(e,t){this.trackTensor(e,t),this.backend.incRef(e.dataId)}removeDataId(e,t){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===t&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const t=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,"string"===e.dtype&&(this.state.numStringTensors--,this.state.numBytes-=t.bytes),"complex64"!==e.dtype&&"string"!==e.dtype){const t=e.size*u.bT(e.dtype);this.state.numBytes-=t}t.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,t.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const t=this.state.registeredVariables[e];this.disposeVariable(t)}}disposeVariable(e){this.disposeTensor(e),null!=this.state.registeredVariables[e.name]&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,null==e.reasons&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const t=this.state.numBytes,n=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map((e=>e.totalBytesSnapshot))),this.state.activeProfile.newBytes=this.state.numBytes-t,this.state.activeProfile.newTensors=this.state.numTensors-n;for(const r of this.state.activeProfile.kernels)r.kernelTimeMs=await r.kernelTimeMs,r.extraInfo=await r.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&0===this.state.kernelDepth}addTapeNode(e,t,n,r,i,o){const a={id:this.state.nextTapeNodeId++,kernelName:e,inputs:t,outputs:n,saved:i},l=(0,s.uk)(e);null!=l&&(r=l.gradFunc),null!=r&&(a.gradient=e=>(e=e.map(((e,t)=>{if(null==e){const e=n[t],r=u.wT(e.size,e.dtype);return this.makeTensor(r,e.shape,e.dtype)}return e})),r(e.length>1?e:e[0],i,o))),this.state.activeTape.push(a)}keep(e){return e.kept=!0,e}startTape(){0===this.state.gradientDepth&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const t={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(t.name=e),this.state.scopeStack.push(t),this.state.activeScope=t}endScope(e){const t=(0,m.getTensorsInContainer)(e),n=new Set(t.map((e=>e.id)));for(let i=0;i<this.state.activeScope.track.length;i++){const e=this.state.activeScope.track[i];e.kept||n.has(e.id)||e.dispose()}const r=this.state.scopeStack.pop();this.state.activeScope=0===this.state.scopeStack.length?null:this.state.scopeStack[this.state.scopeStack.length-1],t.forEach((e=>{e.kept||e.scopeId!==r.id||this.track(e)}))}gradients(e,t,n,r=!1){if(u.hu(t.length>0,(()=>"gradients() received an empty list of xs.")),null!=n&&"float32"!==n.dtype)throw new Error(`dy must have 'float32' dtype, but has '${n.dtype}'`);const i=this.scopedRun((()=>this.startTape()),(()=>this.endTape()),(()=>this.tidy("forward",e)));u.hu(i instanceof h.es,(()=>"The result y returned by f() must be a tensor."));const o=function(e,t,n){const r={},i={};for(let l=0;l<t.length;l++)r[t[l].id]=!0;for(let l=0;l<e.length;l++){const n=e[l],o=n.inputs;for(const e in o){const a=o[e];let s=!1;for(let e=0;e<t.length;e++)if(r[a.id]){n.outputs.forEach((e=>r[e.id]=!0)),s=!0,i[n.id]=!0;break}if(s)break}}const o={};o[n.id]=!0;const a={};for(let l=e.length-1;l>=0;l--){const t=e[l],n=t.inputs;for(let e=0;e<t.outputs.length;e++)if(o[t.outputs[e].id]){for(const e in n)o[n[e].id]=!0,a[t.id]=!0;break}}const s=[];for(let l=0;l<e.length;l++){const t=e[l];if(i[t.id]&&a[t.id]){const e={};for(const i in t.inputs){const n=t.inputs[i];r[n.id]&&(e[i]=n)}const n=Object.assign({},t);n.inputs=e,n.outputs=t.outputs,s.push(n)}}return s}(this.state.activeTape,t,i);if(!r&&0===o.length&&t.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",(()=>{const e={};e[i.id]=null==n?function(e){const t=(0,u.p8)((0,u.NA)(e),"float32");return w.makeTensor(t,e,"float32")}(i.shape):n,function(e,t,n,r){for(let i=t.length-1;i>=0;i--){const o=t[i],a=[];if(o.outputs.forEach((t=>{const n=e[t.id];null!=n?a.push(n):a.push(null)})),null==o.gradient)throw new Error(`Cannot compute gradient: gradient function not found for ${o.kernelName}.`);const s=o.gradient(a);for(const t in o.inputs){if(!(t in s))throw new Error(`Cannot backprop through input ${t}. Available gradients found: ${Object.keys(s)}.`);const i=n((()=>s[t]()));if("float32"!==i.dtype)throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input ${t} must have 'float32' dtype, but has '${i.dtype}'`);const a=o.inputs[t];if(!u.cO(i.shape,a.shape))throw new Error(`Error in gradient for op ${o.kernelName}. The gradient of input '${t}' has shape '${i.shape}', which does not match the shape of the input '${a.shape}'`);if(null==e[a.id])e[a.id]=i;else{const t=e[a.id];e[a.id]=r(t,i),t.dispose()}}}}(e,o,(e=>this.tidy(e)),x);const r=t.map((t=>e[t.id]));return 0===this.state.gradientDepth&&(this.state.activeTape.forEach((e=>{for(const t of e.saved)t.dispose()})),this.state.activeTape=null),{value:i,grads:r}}))}customGrad(e){return u.hu(u.mf(e),(()=>"The f passed in customGrad(f) must be a function.")),(...t)=>{let n;u.hu(t.every((e=>e instanceof h.es)),(()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors"));const r={};t.forEach(((e,t)=>{r[t]=e}));return this.runKernelFunc({forwardFunc:(r,i)=>(n=e(...t,i),u.hu(n.value instanceof h.es,(()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor")),u.hu(u.mf(n.gradFunc),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function.")),n.value),backwardsFunc:(e,r)=>{const i=n.gradFunc(e,r),o=Array.isArray(i)?i:[i];u.hu(o.length===t.length,(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...).")),u.hu(o.every((e=>e instanceof h.es)),(()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors."));const a={};return o.forEach(((e,t)=>{a[t]=()=>e})),a},inputs:r})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,t){return this.state.tensorInfo.get(e).backend.readToGPU(e,t)}async time(e){const t=(0,c.now)(),n=await this.backend.time(e);return n.wallMs=(0,c.now)()-t,n}track(e){return null!=this.state.activeScope&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new v;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}function b(){const e=(0,o.D)();if(null==e._tfengine){const t=new i.qA(e);e._tfengine=new y(t)}return(0,i.iG)(e._tfengine.ENV),(0,h.Vi)((()=>e._tfengine)),e._tfengine}y.nextTensorId=0,y.nextVariableId=0;const w=b();function x(e,t){const n={a:e,b:t};return w.runKernel(a.mm,n)}},22885:(e,t,n)=>{"use strict";n.d(t,{OB:()=>s,Vi:()=>l,iG:()=>c,qA:()=>o});var r=n(20569);const i="tfjsflags";class o{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=a,this.populateURLFlags()}setPlatform(e,t){null!=this.platform&&(s().getBool("IS_TEST")||s().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=t}registerFlag(e,t,n){if(this.flagRegistry[e]={evaluationFn:t,setHook:n},null!=this.urlFlags[e]){const t=this.urlFlags[e];s().getBool("IS_TEST")||s().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${t}.`),this.set(e,t)}}async getAsync(e){return e in this.flags||(this.flags[e]=await this.evaluateFlag(e)),this.flags[e]}get(e){if(e in this.flags)return this.flags[e];const t=this.evaluateFlag(e);if((0,r.tI)(t))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=t,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,t){if(null==this.flagRegistry[e])throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=t,null!=this.flagRegistry[e].setHook&&this.flagRegistry[e].setHook(t)}evaluateFlag(e){if(null==this.flagRegistry[e])throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if("undefined"===typeof this.global||"undefined"===typeof this.global.location||"undefined"===typeof this.global.location.search)return;const e=this.getQueryParams(this.global.location.search);if(i in e){e.tfjsflags.split(",").forEach((e=>{const[t,n]=e.split(":");this.urlFlags[t]=function(e,t){if("true"===(t=t.toLowerCase())||"false"===t)return"true"===t;if(""+ +t===t)return+t;throw new Error(`Could not parse value flag value ${t} for flag ${e}.`)}(t,n)}))}}}function a(e){const t={};return e.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,((e,...n)=>(function(e,t,n){e[decodeURIComponent(t)]=decodeURIComponent(n||"")}(t,n[0],n[1]),n.join("=")))),t}function s(){return l}let l=null;function c(e){l=e}},79998:(e,t,n)=>{"use strict";n(97097);var r=n(85999);const i=(0,n(22885).OB)();i.registerFlag("DEBUG",(()=>!1),(e=>{e&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")})),i.registerFlag("IS_BROWSER",(()=>r.isBrowser())),i.registerFlag("IS_NODE",(()=>"undefined"!==typeof process&&"undefined"!==typeof process.versions&&"undefined"!==typeof process.versions.node)),i.registerFlag("IS_CHROME",(()=>"undefined"!==typeof navigator&&null!=navigator&&null!=navigator.userAgent&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))),i.registerFlag("PROD",(()=>!1)),i.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",(()=>i.getBool("DEBUG"))),i.registerFlag("DEPRECATION_WARNINGS_ENABLED",(()=>!0)),i.registerFlag("IS_TEST",(()=>!1)),i.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",(()=>!0)),i.registerFlag("WRAP_TO_IMAGEBITMAP",(()=>!1))},55938:(e,t,n)=>{"use strict";let r;function i(){if(null==r){let e;if("undefined"!==typeof window)e=window;else if("undefined"!==typeof n.g)e=n.g;else if("undefined"!==typeof process)e=process;else{if("undefined"===typeof self)throw new Error("Could not find a global object");e=self}r=e}return r}function o(e,t){const n=function(){const e=i();return null==e._tfGlobals&&(e._tfGlobals=new Map),e._tfGlobals}();if(n.has(e))return n.get(e);{const r=t();return n.set(e,r),n.get(e)}}n.d(t,{D:()=>i,R:()=>o})},4368:(e,t,n)=>{"use strict";n.d(t,{B9:()=>g,CQ:()=>b,Cd:()=>w,Cn:()=>v,G4:()=>s,MX:()=>u,N5:()=>h,N8:()=>d,N_:()=>x,R:()=>l,SR:()=>p,VY:()=>C,XV:()=>y,cF:()=>c,cj:()=>S,jq:()=>E,lu:()=>m,sq:()=>f,x3:()=>k,y3:()=>_,ze:()=>T});var r=n(97097),i=n(22885),o=n(4077),a=n(80747);function s(){(0,i.OB)().set("PROD",!0)}function l(){(0,i.OB)().set("DEBUG",!0)}function c(){(0,i.OB)().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function u(e){(0,i.OB)().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(e+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function d(){r.BV.disposeVariables()}function p(){return r.BV}function f(){return r.BV.memory()}function h(e){return r.BV.profile(e)}function m(e,t){return r.BV.tidy(e,t)}function g(e){(0,a.getTensorsInContainer)(e).forEach((e=>e.dispose()))}function v(e){return r.BV.keep(e)}function y(e){return r.BV.time(e)}function b(e){return r.BV.setBackend(e)}function w(){return r.BV.ready()}function x(){return r.BV.backendName}function S(e){r.BV.removeBackend(e)}function k(e){return r.BV.findBackend(e)}function T(e){return r.BV.findBackendFactory(e)}function E(e,t,n=1){return r.BV.registerBackend(e,t,n)}function _(){return r.BV.backend}function C(e,t){(0,i.OB)().setPlatform(e,t)}(0,o.FZ)(u)},30633:(e,t,n)=>{"use strict";n.d(t,{UQ:()=>s,cb:()=>p,fN:()=>u,h7:()=>c,pn:()=>d,ti:()=>l});var r=n(97097),i=n(4077),o=n(43740),a=n(20569);function s(e){return a.hu(a.mf(e),(()=>"The f passed in grad(f) must be a function")),(t,n)=>{const i=(0,o._1)(t,"x","tf.grad","string_or_numeric"),s=null!=n?(0,o._1)(n,"dy","tf.grad"):null;return r.BV.tidy((()=>{const{value:t,grads:n}=r.BV.gradients((()=>e(i)),[i],s);return null!=s&&a.k5(t.shape,s.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),f(n),n[0]}))}}function l(e){return a.hu(a.mf(e),(()=>"The f passed in grads(f) must be a function")),(t,n)=>{a.hu(Array.isArray(t),(()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s"));const i=(0,o.sI)(t,"args","tf.grads","string_or_numeric"),s=null!=n?(0,o._1)(n,"dy","tf.grads"):null;return r.BV.tidy((()=>{const{value:t,grads:n}=r.BV.gradients((()=>e(...i)),i,s);return null!=s&&a.k5(t.shape,s.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),f(n),n}))}}function c(e){return a.hu(a.mf(e),(()=>"The f passed in valueAndGrad(f) must be a function")),(t,n)=>{a.hu(t instanceof i.es,(()=>"The x passed in valueAndGrad(f)(x) must be a tensor")),a.hu(null==n||n instanceof i.es,(()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor"));const{grads:o,value:s}=r.BV.gradients((()=>e(t)),[t],n);return f(o),{grad:o[0],value:s}}}function u(e){return a.hu(a.mf(e),(()=>"The f passed in valueAndGrads(f) must be a function")),(t,n)=>{a.hu(Array.isArray(t)&&t.every((e=>e instanceof i.es)),(()=>"The args passed in valueAndGrads(f)(args) must be array of tensors")),a.hu(null==n||n instanceof i.es,(()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor"));const o=r.BV.gradients((()=>e(...t)),t,n);return null!=n&&a.k5(o.value.shape,n.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),f(o.grads),o}}function d(e,t){a.hu(a.mf(e),(()=>"The f passed in variableGrads(f) must be a function")),a.hu(null==t||Array.isArray(t)&&t.every((e=>e instanceof i._w)),(()=>"The varList passed in variableGrads(f, varList) must be an array of variables"));const n=null!=t;if(!n){t=[];for(const e in r.BV.registeredVariables)t.push(r.BV.registeredVariables[e])}const o=n?t.filter((e=>!e.trainable)):null,s=t.length;t=t.filter((e=>e.trainable)),a.hu(t.length>0,(()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${s} variables is trainable.`));const{value:l,grads:c}=r.BV.gradients(e,t,null,!0);a.hu(c.some((e=>null!=e)),(()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize().")),a.hu(0===l.rank,(()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${l.rank} tensor`));const u={};return t.forEach(((e,t)=>{null!=c[t]&&(u[e.name]=c[t])})),null!=o&&o.forEach((e=>u[e.name]=null)),{value:l,grads:u}}function p(e){return r.BV.customGrad(e)}function f(e){if(e.filter((e=>null==e)).length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that\n    the f you passed encloses all operations that lead from x to y.")}},61044:(e,t,n)=>{"use strict";n.d(t,{ns:()=>d,y$:()=>f});n(79998);var r=n(22885),i=n(91989),o=n(36493);const a="tensorflowjs",s="models_store",l="model_info_store";function c(){if(!(0,r.OB)().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const e="undefined"===typeof window?self:window,t=e.indexedDB||e.mozIndexedDB||e.webkitIndexedDB||e.msIndexedDB||e.shimIndexedDB;if(null==t)throw new Error("The current browser does not appear to support IndexedDB.");return t}function u(e){const t=e.result;t.createObjectStore(s,{keyPath:"modelPath"}),t.createObjectStore(l,{keyPath:"modelPath"})}class d{constructor(e){if(this.indexedDB=c(),null==e||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,t){return new Promise(((e,n)=>{const r=this.indexedDB.open(a,1);r.onupgradeneeded=()=>u(r),r.onsuccess=()=>{const o=r.result;if(null==t){const t=o.transaction(s,"readonly"),r=t.objectStore(s).get(this.modelPath);r.onsuccess=()=>{if(null==r.result)return o.close(),n(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));e(r.result.modelArtifacts)},r.onerror=e=>(o.close(),n(r.error)),t.oncomplete=()=>o.close()}else{const r=(0,i.Q)(t),a=o.transaction(l,"readwrite");let c=a.objectStore(l);const u=c.put({modelPath:this.modelPath,modelArtifactsInfo:r});let d;u.onsuccess=()=>{d=o.transaction(s,"readwrite");const i=d.objectStore(s).put({modelPath:this.modelPath,modelArtifacts:t,modelArtifactsInfo:r});i.onsuccess=()=>e({modelArtifactsInfo:r}),i.onerror=e=>{c=a.objectStore(l);const t=c.delete(this.modelPath);t.onsuccess=()=>(o.close(),n(i.error)),t.onerror=e=>(o.close(),n(i.error))}},u.onerror=e=>(o.close(),n(u.error)),a.oncomplete=()=>{null==d?o.close():d.oncomplete=()=>o.close()}}},r.onerror=e=>n(r.error)}))}}d.URL_SCHEME="indexeddb://";const p=e=>{return(0,r.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(d.URL_SCHEME)?(t=e.slice(d.URL_SCHEME.length),new d(t)):null;var t};o.U3.registerSaveRouter(p),o.U3.registerLoadRouter(p);class f{constructor(){this.indexedDB=c()}async listModels(){return new Promise(((e,t)=>{const n=this.indexedDB.open(a,1);n.onupgradeneeded=()=>u(n),n.onsuccess=()=>{const r=n.result,i=r.transaction(l,"readonly"),o=i.objectStore(l).getAll();o.onsuccess=()=>{const t={};for(const e of o.result)t[e.modelPath]=e.modelArtifactsInfo;e(t)},o.onerror=e=>(r.close(),t(o.error)),i.oncomplete=()=>r.close()},n.onerror=e=>t(n.error)}))}async removeModel(e){var t;return e=(t=e).startsWith(d.URL_SCHEME)?t.slice(d.URL_SCHEME.length):t,new Promise(((t,n)=>{const r=this.indexedDB.open(a,1);r.onupgradeneeded=()=>u(r),r.onsuccess=()=>{const i=r.result,o=i.transaction(l,"readwrite"),a=o.objectStore(l),c=a.get(e);let u;c.onsuccess=()=>{if(null==c.result)return i.close(),n(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const r=a.delete(e),o=()=>{u=i.transaction(s,"readwrite");const r=u.objectStore(s).delete(e);r.onsuccess=()=>t(c.result.modelArtifactsInfo),r.onerror=e=>n(c.error)};r.onsuccess=o,r.onerror=e=>(o(),i.close(),n(c.error))}},c.onerror=e=>(i.close(),n(c.error)),o.oncomplete=()=>{null==u?i.close():u.oncomplete=()=>i.close()}},r.onerror=e=>n(r.error)}))}}},91989:(e,t,n)=>{"use strict";n.d(t,{EZ:()=>m,JY:()=>h,Q:()=>y,Yd:()=>g,_n:()=>p,dI:()=>l,jN:()=>v,n7:()=>f,yz:()=>s});var r=n(61661),i=n(10701),o=n(20569),a=n(75771);async function s(e,t){const n=[],r=[],i=Array.isArray(e)?e.map((e=>e.name)):Object.keys(e);for(let o=0;o<i.length;++o){const a=i[o],s=Array.isArray(e)?e[o].tensor:e[a];if("float32"!==s.dtype&&"int32"!==s.dtype&&"bool"!==s.dtype&&"string"!==s.dtype&&"complex64"!==s.dtype)throw new Error(`Unsupported dtype in weight '${a}': ${s.dtype}`);const l={name:a,shape:s.shape,dtype:s.dtype};if("string"===s.dtype){const e=new Promise((async e=>{const t=await s.bytes(),n=t.reduce(((e,t)=>e+t.length),0)+4*t.length,r=new Uint8Array(n);let i=0;for(let o=0;o<t.length;o++){const e=t[o],n=new Uint8Array(new Uint32Array([e.length]).buffer);r.set(n,i),i+=4,r.set(e,i),i+=e.length}e(r)}));r.push(e)}else r.push(s.data());null!=t&&(l.group=t),n.push(l)}return{data:c(await Promise.all(r)),specs:n}}function l(e,t){const n={};let s,l=0;for(const c of t){const t=c.name,u=c.dtype,d=c.shape,p=(0,o.NA)(d);let f;if("quantization"in c){const n=c.quantization;if("uint8"===n.dtype||"uint16"===n.dtype){if(!("min"in n)||!("scale"in n))throw new Error(`Weight ${c.name} with quantization ${n.dtype} doesn't have corresponding metadata min and scale.`)}else{if("float16"!==n.dtype)throw new Error(`Weight ${c.name} has unknown quantization dtype ${n.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);if("float32"!==u)throw new Error(`Weight ${c.name} is quantized with ${n.dtype} which only supports weights of type float32 not ${u}.`)}const r=a.J[n.dtype],i=e.slice(l,l+p*r),o="uint8"===n.dtype?new Uint8Array(i):new Uint16Array(i);if("float32"===u)if("uint8"===n.dtype||"uint16"===n.dtype){f=new Float32Array(o.length);for(let e=0;e<o.length;e++){const t=o[e];f[e]=t*n.scale+n.min}}else{if("float16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type float32.`);void 0===s&&(s=b()),f=s(o)}else{if("int32"!==u)throw new Error(`Unsupported dtype in weight '${t}': ${u}`);if("uint8"!==n.dtype&&"uint16"!==n.dtype)throw new Error(`Unsupported quantization type ${n.dtype} for weight type int32.`);f=new Int32Array(o.length);for(let e=0;e<o.length;e++){const t=o[e];f[e]=Math.round(t*n.scale+n.min)}}l+=p*r}else if("string"===u){const t=(0,o.NA)(c.shape);f=[];for(let n=0;n<t;n++){const t=new Uint32Array(e.slice(l,l+4))[0];l+=4;const n=new Uint8Array(e.slice(l,l+t));f.push(n),l+=t}}else{const o=a.J[u],s=e.slice(l,l+p*o);if("float32"===u)f=new Float32Array(s);else if("int32"===u)f=new Int32Array(s);else if("bool"===u)f=new Uint8Array(s);else{if("complex64"!==u)throw new Error(`Unsupported dtype in weight '${t}': ${u}`);{f=new Float32Array(s);const e=new Float32Array(f.length/2),o=new Float32Array(f.length/2);for(let t=0;t<e.length;t++)e[t]=f[2*t],o[t]=f[2*t+1];const a=(0,i.X)(e,d,"float32"),l=(0,i.X)(o,d,"float32");n[t]=(0,r.P)(a,l),a.dispose(),l.dispose()}}l+=p*o}"complex64"!==u&&(n[t]=(0,i.X)(f,d,u))}return n}function c(e){if(null===e)throw new Error(`Invalid input value: ${JSON.stringify(e)}`);let t=0;const n=[];e.forEach((e=>{if(t+=e.byteLength,n.push(e.byteLength===e.buffer.byteLength?e:new e.constructor(e)),!(e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${e.constructor.name}`)}));const r=new Uint8Array(t);let i=0;return n.forEach((e=>{r.set(new Uint8Array(e.buffer),i),i+=e.byteLength})),r.buffer}const u="undefined"!==typeof Buffer&&("undefined"===typeof Blob||"undefined"===typeof atob||"undefined"===typeof btoa);function d(e){return u?Buffer.byteLength(e):new Blob([e]).size}function p(e){if(u)return Buffer.from(e).toString("base64");const t=new Uint8Array(e);let n="";for(let r=0,i=t.length;r<i;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function f(e){if(u){const t=Buffer.from(e,"base64");return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n.set([t.charCodeAt(r)],r);return n.buffer}function h(e){if(1===e.length)return e[0];let t=0;e.forEach((e=>{t+=e.byteLength}));const n=new Uint8Array(t);let r=0;return e.forEach((e=>{n.set(new Uint8Array(e),r),r+=e.byteLength})),n.buffer}function m(e){for(e=e.trim();e.endsWith("/");)e=e.slice(0,e.length-1);const t=e.split("/");return t[t.length-1]}function g(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,weightsManifest:t};return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),n}async function v(e,t){const n={modelTopology:e.modelTopology,format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy};if(null!=e.trainingConfig&&(n.trainingConfig=e.trainingConfig),null!=e.weightsManifest){const[r,i]=await t(e.weightsManifest);n.weightSpecs=r,n.weightData=i}return null!=e.signature&&(n.signature=e.signature),null!=e.userDefinedMetadata&&(n.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(n.modelInitializer=e.modelInitializer),n}function y(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:null==e.modelTopology?0:d(JSON.stringify(e.modelTopology)),weightSpecsBytes:null==e.weightSpecs?0:d(JSON.stringify(e.weightSpecs)),weightDataBytes:null==e.weightData?0:e.weightData.byteLength}}function b(){const e=function(){const e=e=>{let t=e<<13,n=0;for(;0===(8388608&t);)n-=8388608,t<<=1;return t&=-8388609,n+=947912704,t|n},t=new Uint32Array(2048);t[0]=0;for(let n=1;n<1024;n++)t[n]=e(n);for(let n=1024;n<2048;n++)t[n]=939524096+(n-1024<<13);return t}(),t=function(){const e=new Uint32Array(64);e[0]=0,e[31]=1199570944,e[32]=2147483648,e[63]=3347054592;for(let t=1;t<31;t++)e[t]=t<<23;for(let t=33;t<63;t++)e[t]=2147483648+(t-32<<23);return e}(),n=function(){const e=new Uint32Array(64);for(let t=0;t<64;t++)e[t]=1024;return e[0]=e[32]=0,e}();return r=>{const i=new ArrayBuffer(4*r.length),o=new Uint32Array(i);for(let a=0;a<r.length;a++){const i=r[a],s=e[n[i>>10]+(1023&i)]+t[i>>10];o[a]=s}return new Float32Array(i)}}},28209:(e,t,n)=>{"use strict";n.d(t,{Ew:()=>v,JL:()=>b});n(79998);var r=n(22885),i=n(20569),o=n(91989),a=n(36493);const s="/",l="tensorflowjs_models",c="info",u="model_topology",d="weight_specs",p="weight_data",f="model_metadata";function h(e){return{info:[l,e,c].join(s),topology:[l,e,u].join(s),weightSpecs:[l,e,d].join(s),weightData:[l,e,p].join(s),modelMetadata:[l,e,f].join(s)}}function m(e){for(const t of Object.values(e))window.localStorage.removeItem(t)}function g(e){const t=e.split(s);if(t.length<3)throw new Error(`Invalid key format: ${e}`);return t.slice(1,t.length-1).join(s)}class v{constructor(e){if(!(0,r.OB)().getBool("IS_BROWSER")||"undefined"===typeof window||"undefined"===typeof window.localStorage)throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,null==e||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=h(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const n=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),i=(0,o.Q)(e);try{this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,n),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,(0,o._n)(e.weightData));const t={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:null!=e.signature?e.signature:void 0,userDefinedMetadata:null!=e.userDefinedMetadata?e.userDefinedMetadata:void 0,modelInitializer:null!=e.modelInitializer?e.modelInitializer:void 0,trainingConfig:null!=e.trainingConfig?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(t)),{modelArtifactsInfo:i}}catch(t){throw m(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${i.modelTopologyBytes}, weightSpecsBytes=${i.weightSpecsBytes}, weightDataBytes=${i.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(null==e)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if("JSON"!==e.modelTopologyType)throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const t={},n=JSON.parse(this.LS.getItem(this.keys.topology));if(null==n)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);t.modelTopology=n;const r=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(null==r)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);t.weightSpecs=r;const i=this.LS.getItem(this.keys.modelMetadata);if(null!=i){const e=JSON.parse(i);t.format=e.format,t.generatedBy=e.generatedBy,t.convertedBy=e.convertedBy,null!=e.signature&&(t.signature=e.signature),null!=e.userDefinedMetadata&&(t.userDefinedMetadata=e.userDefinedMetadata),null!=e.modelInitializer&&(t.modelInitializer=e.modelInitializer),null!=e.trainingConfig&&(t.trainingConfig=e.trainingConfig)}const a=this.LS.getItem(this.keys.weightData);if(null==a)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return t.weightData=(0,o.n7)(a),t}}v.URL_SCHEME="localstorage://";const y=e=>{return(0,r.OB)().getBool("IS_BROWSER")&&!Array.isArray(e)&&e.startsWith(v.URL_SCHEME)?(t=e.slice(v.URL_SCHEME.length),new v(t)):null;var t};a.U3.registerSaveRouter(y),a.U3.registerLoadRouter(y);class b{constructor(){(0,i.hu)((0,r.OB)().getBool("IS_BROWSER"),(()=>"Current environment is not a web browser")),(0,i.hu)("undefined"===typeof window||"undefined"!==typeof window.localStorage,(()=>"Current browser does not appear to support localStorage")),this.LS=window.localStorage}async listModels(){const e={},t=l+s,n=s+c;for(let r=0;r<this.LS.length;++r){const i=this.LS.key(r);if(i.startsWith(t)&&i.endsWith(n)){e[g(i)]=JSON.parse(this.LS.getItem(i))}}return e}async removeModel(e){var t;const n=h(e=(t=e).startsWith(v.URL_SCHEME)?t.slice(v.URL_SCHEME.length):t);if(null==this.LS.getItem(n.info))throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(n.info));return m(n),r}}},90780:(e,t,n)=>{"use strict";n.d(t,{ID:()=>d,Ny:()=>p,gw:()=>u,h1:()=>c,xQ:()=>a});var r=n(20569),i=n(36493);const o="://";class a{constructor(){this.managers={}}static getInstance(){return null==a.instance&&(a.instance=new a),a.instance}static registerManager(e,t){(0,r.hu)(null!=e,(()=>"scheme must not be undefined or null.")),e.endsWith(o)&&(e=e.slice(0,e.indexOf(o))),(0,r.hu)(e.length>0,(()=>"scheme must not be an empty string."));const n=a.getInstance();(0,r.hu)(null==n.managers[e],(()=>`A model store manager is already registered for scheme '${e}'.`)),n.managers[e]=t}static getManager(e){const t=this.getInstance().managers[e];if(null==t)throw new Error(`Cannot find model manager for scheme '${e}'`);return t}static getSchemes(){return Object.keys(this.getInstance().managers)}}function s(e){if(-1===e.indexOf(o))throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${a.getSchemes().join(",")}`);return{scheme:e.split(o)[0],path:e.split(o)[1]}}async function l(e,t,n=!1){(0,r.hu)(e!==t,(()=>`Old path and new path are the same: '${e}'`));const o=i.U3.getLoadHandlers(e);(0,r.hu)(o.length>0,(()=>`Copying failed because no load handler is found for source URL ${e}.`)),(0,r.hu)(o.length<2,(()=>`Copying failed because more than one (${o.length}) load handlers for source URL ${e}.`));const l=o[0],c=i.U3.getSaveHandlers(t);(0,r.hu)(c.length>0,(()=>`Copying failed because no save handler is found for destination URL ${t}.`)),(0,r.hu)(c.length<2,(()=>`Copying failed because more than one (${o.length}) save handlers for destination URL ${t}.`));const u=c[0],d=s(e).scheme,p=s(e).path,f=d===s(e).scheme,h=await l.load();n&&f&&await a.getManager(d).removeModel(p);const m=await u.save(h);return n&&!f&&await a.getManager(d).removeModel(p),m.modelArtifactsInfo}async function c(){const e=a.getSchemes(),t={};for(const n of e){const e=await a.getManager(n).listModels();for(const r in e){t[n+o+r]=e[r]}}return t}async function u(e){const t=s(e);return a.getManager(t.scheme).removeModel(t.path)}async function d(e,t){return l(e,t,!1)}async function p(e,t){return l(e,t,!0)}},36493:(e,t,n)=>{"use strict";n.d(t,{U3:()=>r,pS:()=>o,rM:()=>s,tf:()=>i,yB:()=>a});class r{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return null==r.instance&&(r.instance=new r),r.instance}static registerSaveRouter(e){r.getInstance().saveRouters.push(e)}static registerLoadRouter(e){r.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return r.getHandlers(e,"save")}static getLoadHandlers(e,t){return r.getHandlers(e,"load",t)}static getHandlers(e,t,n){const i=[];return("load"===t?r.getInstance().loadRouters:r.getInstance().saveRouters).forEach((t=>{const r=t(e,n);null!==r&&i.push(r)})),i}}const i=e=>r.registerSaveRouter(e),o=e=>r.registerLoadRouter(e),a=e=>r.getSaveHandlers(e),s=(e,t)=>r.getLoadHandlers(e,t)},75771:(e,t,n)=>{"use strict";n.d(t,{J:()=>r});const r={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8}},29121:(e,t,n)=>{"use strict";n.d(t,{$H:()=>ct,$g:()=>Q,$w:()=>K,Ac:()=>me,BM:()=>De,CA:()=>Te,D2:()=>Bt,Dl:()=>at,Eh:()=>I,FK:()=>Pt,G3:()=>Yt,GB:()=>At,Gc:()=>Nt,HE:()=>ee,HZ:()=>dt,Hh:()=>Ne,Hm:()=>ft,IK:()=>c,IM:()=>w,J$:()=>Se,J_:()=>ye,Jh:()=>v,Kg:()=>rt,L8:()=>Mt,Ly:()=>T,M2:()=>p,MI:()=>Kt,MR:()=>Ot,MZ:()=>Ae,NE:()=>re,NZ:()=>We,O3:()=>Rt,OA:()=>Be,OR:()=>ce,OU:()=>Fe,OV:()=>je,Om:()=>te,Oy:()=>m,PY:()=>Oe,Ph:()=>xt,QC:()=>g,QR:()=>H,Qg:()=>ve,Qi:()=>tt,Qv:()=>en,RF:()=>_,RO:()=>y,RQ:()=>Tt,Ru:()=>tn,SX:()=>J,SY:()=>r,Sb:()=>gt,Sp:()=>o,T0:()=>G,TQ:()=>It,TR:()=>F,To:()=>Jt,Tr:()=>zt,Uy:()=>le,VG:()=>i,Vb:()=>ze,Vc:()=>$,Vf:()=>Pe,Vn:()=>Z,W0:()=>Qe,XL:()=>x,Xk:()=>Vt,Xz:()=>s,Y0:()=>oe,YF:()=>ie,YW:()=>Lt,Yo:()=>Re,Zb:()=>_e,Zj:()=>jt,Zz:()=>P,_J:()=>Ht,_V:()=>sn,_Y:()=>ht,_k:()=>b,_t:()=>Ft,a5:()=>Ct,aJ:()=>d,av:()=>be,b9:()=>on,bK:()=>Ut,bV:()=>bt,c1:()=>He,cW:()=>Xt,ci:()=>V,cy:()=>Ye,de:()=>se,dp:()=>pt,e0:()=>yt,e6:()=>st,e7:()=>Ee,eB:()=>rn,eE:()=>E,eZ:()=>Me,ek:()=>X,gJ:()=>C,h8:()=>nn,hd:()=>ne,i5:()=>_t,iH:()=>U,iJ:()=>ge,iW:()=>we,iZ:()=>he,ik:()=>j,jM:()=>h,jQ:()=>Ve,je:()=>ue,kU:()=>Ce,kp:()=>Qt,ku:()=>qe,lu:()=>ln,ly:()=>nt,m2:()=>$t,mK:()=>vt,mT:()=>Le,mc:()=>B,mh:()=>M,mm:()=>a,n9:()=>qt,nh:()=>Dt,o0:()=>ot,o2:()=>L,oF:()=>St,oH:()=>Y,oT:()=>l,p2:()=>kt,p4:()=>q,pe:()=>it,q1:()=>fe,q2:()=>$e,q8:()=>Ge,qC:()=>Ie,qW:()=>Je,qi:()=>pe,qk:()=>ut,qw:()=>f,r7:()=>xe,s1:()=>Gt,sE:()=>Wt,sH:()=>de,sJ:()=>u,sL:()=>z,us:()=>an,uv:()=>Ze,vF:()=>Ue,vt:()=>ke,vw:()=>ae,w3:()=>Et,wU:()=>N,wY:()=>Ke,we:()=>et,wm:()=>R,wx:()=>Zt,x1:()=>D,xJ:()=>lt,xQ:()=>wt,xn:()=>O,y7:()=>W,yQ:()=>Xe,yj:()=>A,zb:()=>mt,zv:()=>k,zw:()=>S});const r="Abs",i="Acos",o="Acosh",a="Add",s="AddN",l="All",c="Any",u="ArgMax",d="ArgMin",p="Asin",f="Asinh",h="Atan",m="Atanh",g="Atan2",v="AvgPool",y="AvgPoolGrad",b="AvgPool3D",w="AvgPool3DGrad",x="BatchMatMul",S="BatchToSpaceND",k="Bincount",T="BroadcastTo",E="BroadcastArgs",_="Cast",C="Ceil",O="ClipByValue",P="Complex",A="ComplexAbs",I="Concat",M="Conv2D",N="Conv2DBackpropFilter",R="Conv2DBackpropInput",D="Conv3D",L="Conv3DBackpropFilterV2",j="Conv3DBackpropInputV2",B="Cos",F="Cosh",U="Cumsum",$="CropAndResize",H="DenseBincount",G="DepthToSpace",V="DepthwiseConv2dNative",z="DepthwiseConv2dNativeBackpropFilter",W="DepthwiseConv2dNativeBackpropInput",K="Diag",q="Dilation2D",X="Dilation2DBackpropInput",Z="Dilation2DBackpropFilter",Y="RealDiv",Q="Einsum",J="Elu",ee="EluGrad",te="Erf",ne="Equal",re="Exp",ie="ExpandDims",oe="Expm1",ae="FFT",se="Fill",le="FlipLeftRight",ce="Floor",ue="FloorDiv",de="FusedBatchNorm",pe="GatherV2",fe="GatherNd",he="Greater",me="GreaterEqual",ge="Identity",ve="IFFT",ye="Imag",be="IsFinite",we="IsInf",xe="IsNan",Se="LeakyRelu",ke="Less",Te="LessEqual",Ee="LinSpace",_e="Log",Ce="Log1p",Oe="LogicalAnd",Pe="LogicalNot",Ae="LogicalOr",Ie="LogSoftmax",Me="LRN",Ne="LRNGrad",Re="Max",De="Maximum",Le="MaxPool",je="MaxPoolGrad",Be="MaxPool3D",Fe="MaxPool3DGrad",Ue="MaxPoolWithArgmax",$e="Mean",He="Min",Ge="Minimum",Ve="MirrorPad",ze="Mod",We="Multinomial",Ke="Multiply",qe="Neg",Xe="NotEqual",Ze="NonMaxSuppressionV3",Ye="NonMaxSuppressionV4",Qe="NonMaxSuppressionV5",Je="OnesLike",et="OneHot",tt="Pack",nt="PadV2",rt="Pool",it="Pow",ot="Prelu",at="Prod",st="Range",lt="Real",ct="Reciprocal",ut="Relu",dt="Reshape",pt="ResizeNearestNeighbor",ft="ResizeNearestNeighborGrad",ht="ResizeBilinear",mt="ResizeBilinearGrad",gt="Relu6",vt="Reverse",yt="Round",bt="Rsqrt",wt="ScatterNd",xt="Select",St="Selu",kt="Slice",Tt="Sin",Et="Sinh",_t="Sign",Ct="Sigmoid",Ot="Softplus",Pt="Sqrt",At="Sum",It="SpaceToBatchND",Mt="SplitV",Nt="Softmax",Rt="SparseFillEmptyRows",Dt="SparseReshape",Lt="SparseSegmentMean",jt="SparseSegmentSum",Bt="SparseToDense",Ft="SquaredDifference",Ut="Square",$t="StridedSlice",Ht="StringNGrams",Gt="StringSplit",Vt="StringToHashBucketFast",zt="Sub",Wt="Tan",Kt="Tanh",qt="Tile",Xt="TopK",Zt="Transform",Yt="Transpose",Qt="Unique",Jt="Unpack",en="UnsortedSegmentSum",tn="ZerosLike",nn="Step",rn="FromPixels",on="RotateWithOffset",an="_FusedMatMul",sn="FusedConv2D",ln="FusedDepthwiseConv2D"},26151:(e,t,n)=>{"use strict";n.d(t,{Li:()=>p,T3:()=>m,bt:()=>h,nE:()=>f,pI:()=>l,tr:()=>u,uk:()=>c,wC:()=>d});var r=n(22885),i=n(55938),o=n(64706);const a=(0,i.R)("kernelRegistry",(()=>new Map)),s=(0,i.R)("gradRegistry",(()=>new Map));function l(e,t){const n=g(e,t);return a.get(n)}function c(e){return s.get(e)}function u(e){const t=a.entries(),n=[];for(;;){const{done:r,value:i}=t.next();if(r)break;const[o,a]=i,[s]=o.split("_");s===e&&n.push(a)}return n}function d(e){const{kernelName:t,backendName:n}=e,r=g(t,n);a.has(r)&&o.Z(`The kernel '${t}' for backend '${n}' is already registered`),a.set(r,e)}function p(e){const{kernelName:t}=e;s.has(t)&&(0,r.OB)().getBool("DEBUG")&&o.Z(`Overriding the gradient for '${t}'`),s.set(t,e)}function f(e,t){const n=g(e,t);if(!a.has(n))throw new Error(`The kernel '${e}' for backend '${t}' is not registered`);a.delete(n)}function h(e){if(!s.has(e))throw new Error(`The gradient '${e}' for backend is not registered`);s.delete(e)}function m(e,t){u(e).forEach((e=>{d(Object.assign({},e,{backendName:t}))}))}function g(e,t){return`${t}_${e}`}},64706:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i,c:()=>o});var r=n(22885);function i(...e){(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||console.warn(...e)}function o(...e){(0,r.OB)().getBool("IS_TEST")||(0,r.OB)().getBool("PROD")||console.log(...e)}},96235:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({abs_:function(e){const t=(0,o._1)(e,"x","abs");if("complex64"===t.dtype){const e={x:t};return r.BV.runKernel(i.yj,e)}{const e={x:t};return r.BV.runKernel(i.SY,e)}}})},17839:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({acos_:function(e){const t={x:(0,o._1)(e,"x","acos")};return r.BV.runKernel(i.VG,t)}})},91470:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({acosh_:function(e){const t={x:(0,o._1)(e,"x","acosh")};return r.BV.runKernel(i.Sp,t)}})},56407:(e,t,n)=>{"use strict";n.d(t,{I:()=>s});var r=n(97097),i=n(29121),o=n(80747),a=n(43740);const s=(0,n(2668).op)({add_:function(e,t){let n=(0,a._1)(e,"a","add"),s=(0,a._1)(t,"b","add");[n,s]=(0,o.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.mm,l)}})},13135:(e,t,n)=>{"use strict";n.d(t,{Q:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({addN_:function(e){a.hu(Array.isArray(e),(()=>"The argument passed to tf.addN() must be a list of tensors")),a.hu(e.length>=1,(()=>`Must pass at least one tensor to tf.addN(), but got ${e.length}`));const t=e.map(((e,t)=>(0,o._1)(e,`tensors${t}`,"addN"))),n=t[0];t.forEach((e=>{if(e.dtype!==n.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")})),t.forEach((e=>{if(!a.cO(e.shape,n.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")}));const s=t;return r.BV.runKernel(i.Xz,s)}})},90781:(e,t,n)=>{"use strict";n.d(t,{$:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({all_:function(e,t=null,n=!1){const a={x:(0,o._1)(e,"x","all","bool")},s={axis:t,keepDims:n};return r.BV.runKernel(i.oT,a,s)}})},92998:(e,t,n)=>{"use strict";n.d(t,{Y:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({any_:function(e,t=null,n=!1){const a={x:(0,o._1)(e,"x","any","bool")},s={axis:t,keepDims:n};return r.BV.runKernel(i.IK,a,s)}})},40047:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({argMax_:function(e,t=0){const n={x:(0,o._1)(e,"x","argMax")},a={axis:t};return r.BV.runKernel(i.sJ,n,a)}})},27394:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({argMin_:function(e,t=0){const n={x:(0,o._1)(e,"x","argMin")},a={axis:t};return r.BV.runKernel(i.aJ,n,a)}})},72421:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({asin_:function(e){const t={x:(0,o._1)(e,"x","asin")};return r.BV.runKernel(i.M2,t)}})},21891:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({asinh_:function(e){const t={x:(0,o._1)(e,"x","asinh")};return r.BV.runKernel(i.qw,t)}})},77037:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({atan_:function(e){const t={x:(0,o._1)(e,"x","atan")};return r.BV.runKernel(i.jM,t)}})},29812:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var r=n(97097),i=n(29121),o=n(80747),a=n(43740);const s=(0,n(2668).op)({atan2_:function(e,t){let n=(0,a._1)(e,"a","atan2"),s=(0,a._1)(t,"b","atan2");[n,s]=(0,o.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.QC,l)}})},80369:(e,t,n)=>{"use strict";n.d(t,{C:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({atanh_:function(e){const t={x:(0,o._1)(e,"x","atanh")};return r.BV.runKernel(i.Oy,t)}})},15176:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(62271),l=n(2582),c=n(2668),u=n(4968);const d=(0,c.op)({avgPool_:function(e,t,n,c,d){const p=(0,o._1)(e,"x","avgPool","float32");a.hu(l.jT(n,1),(()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`));let f=p,h=!1;3===p.rank&&(h=!0,f=(0,u.X)(p,[1,p.shape[0],p.shape[1],p.shape[2]])),a.hu(4===f.rank,(()=>`Error in avgPool: x must be rank 4 but got rank ${f.rank}.`)),l.m("avgPool",c,d);const m={x:f},g={filterSize:t,strides:n,pad:c,dimRoundingMode:d};let v=r.BV.runKernel(i.Jh,m,g);return v=(0,s.p)(v,p.dtype),h?(0,u.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},61749:(e,t,n)=>{"use strict";n.d(t,{u:()=>d});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(2582),l=n(62271),c=n(2668),u=n(4968);const d=(0,c.op)({avgPool3d_:function(e,t,n,c,d,p="NDHWC"){const f=(0,o._1)(e,"x","avgPool3d","float32");let h=f,m=!1;4===f.rank&&(m=!0,h=(0,u.X)(f,[1,f.shape[0],f.shape[1],f.shape[2],f.shape[3]])),a.hu(5===h.rank,(()=>`Error in avgPool3d: x must be rank 5 but got rank ${h.rank}.`)),a.hu("NDHWC"===p,(()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${p}`)),(0,s.m)("avgPool3d",c,d);const g={x:h},v={filterSize:t,strides:n,pad:c,dimRoundingMode:d,dataFormat:p};let y=r.BV.runKernel(i._k,g,v);return y=(0,l.p)(y,h.dtype),m?(0,u.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},83591:(e,t,n)=>{"use strict";n.d(t,{LJ:()=>u,Q3:()=>c,Vh:()=>o,YB:()=>i,kz:()=>a,lB:()=>l,rv:()=>s,sY:()=>d});var r=n(20569);function i(e,t){for(let n=0;n<e.length;++n)if(e[e.length-n-1]!==t-1-n)return!1;return!0}function o(e,t,n){const r=e.length+t.length,i=[];let o=0,a=0;for(let s=0;s<r;s++)-1===n.indexOf(s)?i.push(e[o++]):i.push(t[a++]);return i}function a(e,t){const n=[],r=e.length;for(let i=0;i<r;i++)-1===t.indexOf(i)&&n.push(e[i]);return[n,t.map((t=>e[t]))]}function s(e,t){return o(e,t.map((e=>1)),t)}function l(e,t,n){r.hu(i(t,n),(()=>`${e} supports only inner-most axes for now. Got axes ${t} and rank-${n} input.`))}function c(e,t){if(i(e,t))return null;const n=[];for(let r=0;r<t;++r)-1===e.indexOf(r)&&n.push(r);return e.forEach((e=>n.push(e))),n}function u(e){return e.map(((e,t)=>[t,e])).sort(((e,t)=>e[1]-t[1])).map((e=>e[0]))}function d(e,t){const n=[];for(let r=t-e;r<t;++r)n.push(r);return n}},28441:(e,t,n)=>{"use strict";n.d(t,{E:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({batchToSpaceND_:function(e,t,n){const s=(0,o._1)(e,"x","batchToSpaceND"),l=t.reduce(((e,t)=>e*t));a.hu(s.rank>=1+t.length,(()=>`input rank is ${s.rank} but should be > than blockShape.length ${t.length}`)),a.hu(n.length===t.length,(()=>`crops.length is ${n.length} but should be equal to blockShape.length  ${t.length}`)),a.hu(s.shape[0]%l===0,(()=>`input tensor batch is ${s.shape[0]} but is not divisible by the product of the elements of blockShape ${t.join(" * ")} === ${l}`));const c={x:s},u={blockShape:t,crops:n};return r.BV.runKernel(i.zw,c,u)}})},27505:(e,t,n)=>{"use strict";n.d(t,{t:()=>l});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(4968);const l=(0,n(2668).op)({batchNorm_:function(e,t,n,l,c,u){null==u&&(u=.001);const d=(0,o._1)(e,"x","batchNorm"),p=(0,o._1)(t,"mean","batchNorm"),f=(0,o._1)(n,"variance","batchNorm");let h,m;null!=c&&(h=(0,o._1)(c,"scale","batchNorm")),null!=l&&(m=(0,o._1)(l,"offset","batchNorm")),a.hu(p.rank===f.rank,(()=>"Batch normalization gradient requires mean and variance to have equal ranks.")),a.hu(null==m||p.rank===m.rank,(()=>"Batch normalization gradient requires mean and offset to have equal ranks.")),a.hu(null==h||p.rank===h.rank,(()=>"Batch normalization gradient requires mean and scale to have equal ranks."));const g=function(e){let t;return t=0===e.rank||1===e.rank?(0,s.X)(e,[1,1,1,e.size]):2===e.rank?(0,s.X)(e,[1,1,e.shape[0],e.shape[1]]):3===e.rank?(0,s.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]):e,t}(d),v={x:g,scale:h,offset:m,mean:p,variance:f},y={varianceEpsilon:u},b=r.BV.runKernel(i.sH,v,y);return(0,s.X)(b,d.shape)}})},93865:(e,t,n)=>{"use strict";n.d(t,{y:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({bincount_:function(e,t,n){const s=(0,o._1)(e,"x","bincount"),l=(0,o._1)(t,"weights","bincount");a.hu("int32"===s.dtype,(()=>`Error in bincount: input dtype must be int32, but got ${s.dtype}`)),a.hu(n>=0,(()=>`size must be non-negative, but got ${n}.`)),a.hu(l.size===s.size||0===l.size,(()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${s.shape}, weights shape: ${l.shape}.`));const c={x:s,weights:l},u={size:n};return r.BV.runKernel(i.zv,c,u)}})},88194:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({broadcastArgs_:function(e,t){const n=(0,o._1)(e,"s0","broadcastArgs","int32"),a=(0,o._1)(t,"s1","broadcastArgs","int32");if(1!==n.rank)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${n.rank}`);if(1!==a.rank)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${a.rank}`);const s={s0:n,s1:a};return r.BV.runKernel(i.eE,s)}})},68247:(e,t,n)=>{"use strict";n.d(t,{U:()=>c});var r=n(97097),i=n(29121),o=n(43740),a=n(8723),s=n(2668),l=n(4968);const c=(0,s.op)({broadcastTo_:function(e,t){let n=(0,o._1)(e,"broadcastTo","x");const s=n.shape;if(t.some((e=>!(e>0)||e%1!==0)))throw new Error(`broadcastTo(): Invalid broadcast shape [${t}].`);if(t.length<n.rank)throw new Error(`broadcastTo(): shape.length=${t.length} < input.rank=${n.rank}.`);if(t.length>n.rank){const e=n.shape.slice();for(;e.length<t.length;)e.unshift(1);n=(0,l.X)(n,e)}const c=n.shape,u=Array.from(t);for(let r=t.length-1;r>=0;r--)if(c[r]===t[r])u[r]=1;else if(1!==n.shape[r])throw new Error(`broadcastTo(): [${s}] cannot be broadcast to [${t}].`);if(0===u.map(((e,t)=>e>1?t:-1)).filter((e=>e>=0)).length)return(0,a.d)(n);const d={x:n},p={reps:u};return r.BV.runKernel(i.n9,d,p)}})},72200:(e,t,n)=>{"use strict";function r(e,t){const n=e.length,r=[];for(let i=0;i<n;i++){const o=n-1-i,a=e[o]||1;(t[t.length-1-i]||1)>1&&1===a&&r.unshift(o)}return r}function i(e,t){const n=[];for(let r=0;r<t.length;r++){const i=e[e.length-r-1],o=t.length-r-1,a=t[o];(null==i||1===i&&a>1)&&n.unshift(o)}return n}function o(e,t){const n=[],r=Math.max(e.length,t.length);for(let i=0;i<r;i++){let r=e[e.length-i-1];null==r&&(r=1);let o=t[t.length-i-1];if(null==o&&(o=1),1===r)n.unshift(o);else if(1===o)n.unshift(r);else{if(r!==o){throw Error(`Operands could not be broadcast together with shapes ${e} and ${t}.`)}n.unshift(r)}}return n}n.r(t),n.d(t,{assertAndGetBroadcastShape:()=>o,getBroadcastDims:()=>r,getReductionAxes:()=>i})},72657:(e,t,n)=>{"use strict";n.d(t,{f:()=>o});var r=n(4077),i=n(20569);function o(e,t="float32",n){return t=t||"float32",i.Mu(e),new r.YD(e,t,n)}},62271:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({cast_:function(e,t){const n=(0,o._1)(e,"x","cast");if(!a.LP(t))throw new Error(`Failed to cast to unknown dtype ${t}`);if("string"===t&&"string"!==n.dtype||"string"!==t&&"string"===n.dtype)throw new Error("Only strings can be casted to strings");const s={x:n},l={dtype:t};return r.BV.runKernel(i.RF,s,l)}})},6825:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({ceil_:function(e){const t={x:(0,o._1)(e,"x","ceil","float32")};return r.BV.runKernel(i.gJ,t)}})},42279:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({clipByValue_:function(e,t,n){const s=(0,o._1)(e,"x","clipByValue");a.hu(t<=n,(()=>`Error in clip: min (${t}) must be less than or equal to max (${n}).`));const l={x:s},c={clipValueMin:t,clipValueMax:n};return r.BV.runKernel(i.xn,l,c)}})},8723:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({clone_:function(e){const t={x:(0,o._1)(e,"x","clone","string_or_numeric")};return r.BV.runKernel(i.iJ,t)}})},61661:(e,t,n)=>{"use strict";n.d(t,{P:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({complex_:function(e,t){const n=(0,o._1)(e,"real","complex"),s=(0,o._1)(t,"imag","complex");a.k5(n.shape,s.shape,`real and imag shapes, ${n.shape} and ${s.shape}, must match in call to tf.complex().`);const l={real:n,imag:s};return r.BV.runKernel(i.Zz,l)}})},46884:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(8723);const l=(0,n(2668).op)({concat_:function(e,t=0){(0,a.hu)(e.length>=1,(()=>"Pass at least one tensor to concat"));const n=(0,o.sI)(e,"tensors","concat","string_or_numeric");if("complex64"===n[0].dtype&&n.forEach((e=>{if("complex64"!==e.dtype)throw new Error(`Cannot concatenate complex64 tensors with a tensor\n          with dtype ${e.dtype}. `)})),1===n.length)return(0,s.d)(n[0]);const l=n,c={axis:t};return r.BV.runKernel(i.Eh,l,c)}})},11355:(e,t,n)=>{"use strict";n.d(t,{P:()=>c});var r=n(43740),i=n(20569),o=n(64794),a=n(2582),s=n(2668),l=n(4968);const c=(0,s.op)({conv1d_:function(e,t,n,s,c="NWC",u=1,d){const p=(0,r._1)(e,"x","conv1d"),f=(0,r._1)(t,"filter","conv1d");let h=p,m=!1;2===p.rank&&(m=!0,h=(0,l.X)(p,[1,p.shape[0],p.shape[1]])),i.hu(3===h.rank,(()=>`Error in conv1d: input must be rank 3, but got rank ${h.rank}.`)),i.hu(3===f.rank,(()=>`Error in conv1d: filter must be rank 3, but got rank ${f.rank}.`)),a.m("conv1d",s,d),i.hu(h.shape[2]===f.shape[1],(()=>`Error in conv1d: depth of input (${h.shape[2]}) must match input depth for filter ${f.shape[1]}.`)),i.hu(a.jT(n,u),(()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${n} and dilation '${u}'`)),i.hu("NWC"===c,(()=>`Error in conv1d: got dataFormat of ${c} but only NWC is currently supported.`));const g=(0,l.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]]),v=(0,l.X)(h,[h.shape[0],1,h.shape[1],h.shape[2]]),y=[1,n],b=[1,u],w=(0,o.T)(v,g,y,s,"NHWC",b,d);return m?(0,l.X)(w,[w.shape[2],w.shape[3]]):(0,l.X)(w,[w.shape[0],w.shape[2],w.shape[3]])}})},64794:(e,t,n)=>{"use strict";n.d(t,{T:()=>u});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(2582),l=n(2668),c=n(4968);const u=(0,l.op)({conv2d_:function(e,t,n,l,u="NHWC",d=[1,1],p){const f=(0,o._1)(e,"x","conv2d","float32"),h=(0,o._1)(t,"filter","conv2d","float32");let m=f,g=!1;3===f.rank&&(g=!0,m=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),a.hu(4===m.rank,(()=>`Error in conv2d: input must be rank 4, but got rank ${m.rank}.`)),a.hu(4===h.rank,(()=>`Error in conv2d: filter must be rank 4, but got rank ${h.rank}.`)),s.m("conv2d",l,p);const v="NHWC"===u?m.shape[3]:m.shape[1];a.hu(v===h.shape[2],(()=>`Error in conv2d: depth of input (${v}) must match input depth for filter ${h.shape[2]}.`)),a.hu(s.jT(n,d),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${d}'`));const y={x:m,filter:h},b={strides:n,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p},w=r.BV.runKernel(i.mh,y,b);return g?(0,c.X)(w,[w.shape[1],w.shape[2],w.shape[3]]):w}})},39832:(e,t,n)=>{"use strict";n.d(t,{_:()=>c});var r=n(97097),i=n(29121),o=n(20569),a=n(2582),s=n(2668),l=n(4968);const c=(0,s.op)({conv2DBackpropInput_:function(e,t,n,s,c,u="NHWC",d){o.hu(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let p=e,f=t,h=!1;3===t.rank&&(h=!0,f=(0,l.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]),p=[1,e[0],e[1],e[2]]),o.hu(4===p.length,(()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${p.length}.`)),o.hu(4===f.rank,(()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${f.rank}`)),o.hu(4===n.rank,(()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${n.rank}`));const m="NHWC"===u?p[3]:p[1],g="NHWC"===u?f.shape[3]:f.shape[1];o.hu(m===n.shape[2],(()=>`Error in conv2dDerInput: depth of input (${m}) must match input depth for filter ${n.shape[2]}.`)),o.hu(g===n.shape[3],(()=>`Error in conv2dDerInput: depth of output (${g}) must match output depth for filter ${n.shape[3]}.`)),a.m("conv2dDerInput",c,d);const v={dy:f,filter:n},y={strides:s,pad:c,dataFormat:u,dimRoundingMode:d,inputShape:p},b=r.BV.runKernel(i.wm,v,y);return h?(0,l.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},71405:(e,t,n)=>{"use strict";n.d(t,{b:()=>o});var r=n(43740),i=n(39832);const o=(0,n(2668).op)({conv2dTranspose_:function(e,t,n,o,a,s){const l=(0,r._1)(e,"x","conv2dTranspose"),c=(0,r._1)(t,"filter","conv2dTranspose");return(0,i._)(n,l,c,o,a,"NHWC",s)}})},70473:(e,t,n)=>{"use strict";n.d(t,{p:()=>u});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(2582),l=n(2668),c=n(4968);const u=(0,l.op)({conv3d_:function(e,t,n,l,u="NDHWC",d=[1,1,1]){const p=(0,o._1)(e,"x","conv3d"),f=(0,o._1)(t,"filter","conv3d");let h=p,m=!1;4===p.rank&&(m=!0,h=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),a.hu(5===h.rank,(()=>`Error in conv3d: input must be rank 5, but got rank ${h.rank}.`)),a.hu(5===f.rank,(()=>`Error in conv3d: filter must be rank 5, but got rank ${f.rank}.`)),a.hu(h.shape[4]===f.shape[3],(()=>`Error in conv3d: depth of input (${h.shape[4]}) must match input depth for filter ${f.shape[3]}.`)),a.hu((0,s.jT)(n,d),(()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${n} and dilations '${d}'`)),a.hu("NDHWC"===u,(()=>`Error in conv3d: got dataFormat of ${u} but only NDHWC is currently supported.`));const g={x:h,filter:f},v={strides:n,pad:l,dataFormat:u,dilations:d},y=r.BV.runKernel(i.x1,g,v);return m?(0,c.X)(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}})},2582:(e,t,n)=>{"use strict";n.d(t,{I0:()=>h,Ix:()=>s,Rf:()=>i,Xw:()=>o,aO:()=>c,jT:()=>m,jw:()=>l,m:()=>v,pl:()=>a,sl:()=>g});var r=n(20569);function i(e,t,n,r,i="NHWC",o){return s(e,[...t,e[3]],n,o,r,null,null,g(i))}function o(e,t,n,r,i,o,a="channelsLast"){const[l,c]=u(t);let d;if("channelsLast"===a)d=[l,c,e[3],e[3]];else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);d=[l,c,e[1],e[1]]}return s(e,d,n,r,i,o,!1,a)}function a(e,t,n,r,i,o,a="NDHWC"){const[s,c,u]=d(t);let p,f;if("NDHWC"===a)f="channelsLast",p=[s,c,u,e[4],e[4]];else{if("NCDHW"!==a)throw new Error(`Unknown dataFormat ${a}`);f="channelsFirst",p=[s,c,u,e[1],e[1]]}return l(e,p,n,r,i,!1,f,o)}function s(e,t,n,r,i,o,a=!1,s="channelsLast"){let[l,d,h,m]=[-1,-1,-1,-1];if("channelsLast"===s)[l,d,h,m]=e;else{if("channelsFirst"!==s)throw new Error(`Unknown dataFormat ${s}`);[l,m,d,h]=e}const[g,v,,y]=t,[b,w]=u(n),[x,S]=u(r),k=p(g,x),T=p(v,S),{padInfo:E,outHeight:_,outWidth:C}=function(e,t,n,r,i,o,a,s,l){let u,d,p;if("number"===typeof e){u={top:e,bottom:e,left:e,right:e,type:0===e?"VALID":"NUMBER"};const i=function(e,t,n,r,i){null==r&&(r=c(e,t,n));const o=e[0],a=e[1],s=f((o-t+2*r)/n+1,i),l=f((a-t+2*r)/n+1,i);return[s,l]}([t,n],o,r,e,s);d=i[0],p=i[1]}else if("same"===e){d=Math.ceil(t/r),p=Math.ceil(n/i);const e=Math.max(0,(d-1)*r+o-t),s=Math.max(0,(p-1)*i+a-n),l=Math.floor(e/2),c=e-l,f=Math.floor(s/2);u={top:l,bottom:c,left:f,right:s-f,type:"SAME"}}else if("valid"===e)u={top:0,bottom:0,left:0,right:0,type:"VALID"},d=Math.ceil((t-o+1)/r),p=Math.ceil((n-a+1)/i);else{if("object"!==typeof e)throw Error(`Unknown padding parameter: ${e}`);{const c="channelsLast"===l?e[1][0]:e[2][0],h="channelsLast"===l?e[1][1]:e[2][1],m="channelsLast"===l?e[2][0]:e[3][0],g="channelsLast"===l?e[2][1]:e[3][1];u={top:c,bottom:h,left:m,right:g,type:0===c&&0===h&&0===m&&0===g?"VALID":"EXPLICIT"},d=f((t-o+c+h)/r+1,s),p=f((n-a+m+g)/i+1,s)}}return{padInfo:u,outHeight:d,outWidth:p}}(i,d,h,b,w,k,T,o,s),O=a?y*m:y;let P;return"channelsFirst"===s?P=[l,O,_,C]:"channelsLast"===s&&(P=[l,_,C,O]),{batchSize:l,dataFormat:s,inHeight:d,inWidth:h,inChannels:m,outHeight:_,outWidth:C,outChannels:O,padInfo:E,strideHeight:b,strideWidth:w,filterHeight:g,filterWidth:v,effectiveFilterHeight:k,effectiveFilterWidth:T,dilationHeight:x,dilationWidth:S,inShape:e,outShape:P,filterShape:t}}function l(e,t,n,r,i,o=!1,a="channelsLast",s){let[l,u,h,m,g]=[-1,-1,-1,-1,-1];if("channelsLast"===a)[l,u,h,m,g]=e;else{if("channelsFirst"!==a)throw new Error(`Unknown dataFormat ${a}`);[l,g,u,h,m]=e}const[v,y,b,,w]=t,[x,S,k]=d(n),[T,E,_]=d(r),C=p(v,T),O=p(y,E),P=p(b,_),{padInfo:A,outDepth:I,outHeight:M,outWidth:N}=function(e,t,n,r,i,o,a,s,l,u,d){let p,h,m,g;if("number"===typeof e){p={top:e,bottom:e,left:e,right:e,front:e,back:e,type:0===e?"VALID":"NUMBER"};const o=function(e,t,n,r,i,o){null==i&&(i=c(e,t,r));const a=e[0],s=e[1],l=e[2],u=f((a-t+2*i)/r+1,o),d=f((s-t+2*i)/r+1,o),p=f((l-t+2*i)/r+1,o);return[u,d,p,n]}([t,n,r,1],s,1,i,e,d);h=o[0],m=o[1],g=o[2]}else if("same"===e){h=Math.ceil(t/i),m=Math.ceil(n/o),g=Math.ceil(r/a);const e=(h-1)*i+s-t,c=(m-1)*o+l-n,d=(g-1)*a+u-r,f=Math.floor(e/2),v=e-f,y=Math.floor(c/2),b=c-y,w=Math.floor(d/2);p={top:y,bottom:b,left:w,right:d-w,front:f,back:v,type:"SAME"}}else{if("valid"!==e)throw Error(`Unknown padding parameter: ${e}`);p={top:0,bottom:0,left:0,right:0,front:0,back:0,type:"VALID"},h=Math.ceil((t-s+1)/i),m=Math.ceil((n-l+1)/o),g=Math.ceil((r-u+1)/a)}return{padInfo:p,outDepth:h,outHeight:m,outWidth:g}}(i,u,h,m,x,S,k,C,O,P,s),R=o?w*g:w;let D;return"channelsFirst"===a?D=[l,R,I,M,N]:"channelsLast"===a&&(D=[l,I,M,N,R]),{batchSize:l,dataFormat:a,inDepth:u,inHeight:h,inWidth:m,inChannels:g,outDepth:I,outHeight:M,outWidth:N,outChannels:R,padInfo:A,strideDepth:x,strideHeight:S,strideWidth:k,filterDepth:v,filterHeight:y,filterWidth:b,effectiveFilterDepth:C,effectiveFilterHeight:O,effectiveFilterWidth:P,dilationDepth:T,dilationHeight:E,dilationWidth:_,inShape:e,outShape:D,filterShape:t}}function c(e,t,n,r=1){const i=p(t,r);return Math.floor((e[0]*(n-1)-n+i)/2)}function u(e){return"number"===typeof e?[e,e,e]:2===e.length?[e[0],e[1],1]:e}function d(e){return"number"===typeof e?[e,e,e]:e}function p(e,t){return t<=1?e:e+(e-1)*(t-1)}function f(e,t){if(!t)return Math.trunc(e);switch(t){case"round":return Math.round(e);case"ceil":return Math.ceil(e);case"floor":return Math.floor(e);default:throw new Error(`Unknown roundingMode ${t}`)}}function h(e){const[t,n,r]=u(e);return 1===t&&1===n&&1===r}function m(e,t){return h(e)||h(t)}function g(e){if("NHWC"===e)return"channelsLast";if("NCHW"===e)return"channelsFirst";throw new Error(`Unknown dataFormat ${e}`)}function v(e,t,n){if(null!=n){if("string"===typeof t)throw Error(`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`);if("number"===typeof t)r.hu(r.GN(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`));else{if("object"!==typeof t)throw Error(`Error in ${e}: Unknown padding parameter: ${t}`);t.forEach((t=>{t.forEach((t=>{r.hu(r.GN(t),(()=>`Error in ${e}: pad must be an integer when using dimRoundingMode ${n} but got pad ${t}.`))}))}))}}}},70173:(e,t,n)=>{"use strict";n.d(t,{m:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({cos_:function(e){const t={x:(0,o._1)(e,"x","cos","float32")};return r.BV.runKernel(i.mc,t)}})},2699:(e,t,n)=>{"use strict";n.d(t,{f:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({cosh_:function(e){const t={x:(0,o._1)(e,"x","cosh","float32")};return r.BV.runKernel(i.TR,t)}})},37405:(e,t,n)=>{"use strict";n.d(t,{z:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({cumsum_:function(e,t=0,n=!1,a=!1){const s={x:(0,o._1)(e,"x","cumsum")},l={axis:t,exclusive:n,reverse:a};return r.BV.runKernel(i.iH,s,l)}})},75746:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({denseBincount_:function(e,t,n,s=!1){const l=(0,o._1)(e,"x","denseBincount"),c=(0,o._1)(t,"weights","denseBincount");a.hu("int32"===l.dtype,(()=>`Error in denseBincount: input dtype must be int32, but got ${l.dtype}`)),a.hu(l.rank<=2,(()=>`Error in denseBincount: input must be at most rank 2, but got rank ${l.rank}.`)),a.hu(n>=0,(()=>`size must be non-negative, but got ${n}.`)),a.hu(c.size===l.size||0===c.size,(()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${l.shape}, weights shape: ${c.shape}.`));const u={x:l,weights:c},d={size:n,binaryOutput:s};return r.BV.runKernel(i.QR,u,d)}})},89112:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({depthToSpace_:function(e,t,n="NHWC"){const s=(0,o._1)(e,"x","depthToSpace","float32"),l="NHWC"===n?s.shape[1]:s.shape[2],c="NHWC"===n?s.shape[2]:s.shape[3],u="NHWC"===n?s.shape[3]:s.shape[1];a.hu(t>1,(()=>`blockSize should be > 1 for depthToSpace, but was: ${t}`)),a.hu(l*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${l} and ${t}  for depthToSpace with input shape\n    ${s.shape}`)),a.hu(c*t>=0,(()=>`Negative dimension size caused by overflow when multiplying\n    ${c} and ${t} for depthToSpace with input shape\n        ${s.shape}`)),a.hu(u%(t*t)===0,(()=>`Dimension size must be evenly divisible by ${t*t} but is ${u} for depthToSpace with input shape ${s.shape}`));const d={x:s},p={blockSize:t,dataFormat:n};return r.BV.runKernel(i.T0,d,p)}})},64718:(e,t,n)=>{"use strict";n.d(t,{B:()=>u});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(2582),l=n(2668),c=n(4968);const u=(0,l.op)({depthwiseConv2d_:function(e,t,n,l,u="NHWC",d=[1,1],p){const f=(0,o._1)(e,"x","depthwiseConv2d","float32"),h=(0,o._1)(t,"filter","depthwiseConv2d","float32");let m=f,g=!1;3===f.rank&&(g=!0,m=(0,c.X)(f,[1,f.shape[0],f.shape[1],f.shape[2]])),a.hu(4===m.rank,(()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`)),a.hu(4===h.rank,(()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`)),a.hu(m.shape[3]===h.shape[2],(()=>`Error in depthwiseConv2d: number of input channels (${m.shape[3]}) must match the inChannels dimension in filter ${h.shape[2]}.`)),s.m("depthwiseConv2d",l,p);const v={x:m,filter:h},y={strides:n,pad:l,dataFormat:u,dilations:d,dimRoundingMode:p},b=r.BV.runKernel(i.ci,v,y);return g?(0,c.X)(b,[b.shape[1],b.shape[2],b.shape[3]]):b}})},70557:(e,t,n)=>{"use strict";n.d(t,{W:()=>c});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(2668),l=n(4968);const c=(0,s.op)({dilation2d_:function(e,t,n,s,c=[1,1],u="NHWC"){const d=(0,o._1)(e,"x","dilation2d"),p=(0,o._1)(t,"filter","dilation2d");a.hu(3===d.rank||4===d.rank,(()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${d.rank}.`)),a.hu(3===p.rank,(()=>`Error in dilation2d: filter must be rank 3, but got rank ${p.rank}.`)),a.hu("NHWC"===u,(()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${u}`));let f=d,h=!1;3===d.rank&&(f=(0,l.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]]),h=!0);const m={x:f,filter:p},g={strides:n,pad:s,dilations:c},v=r.BV.runKernel(i.p4,m,g);return h?(0,l.X)(v,[v.shape[1],v.shape[2],v.shape[3]]):v}})},41274:(e,t,n)=>{"use strict";n.d(t,{h:()=>l});var r=n(97097),i=n(29121),o=n(80747),a=n(43740),s=n(9165);const l=(0,n(2668).op)({div_:function(e,t){let n=(0,a._1)(e,"a","div"),l=(0,a._1)(t,"b","div");if([n,l]=(0,o.makeTypesMatch)(n,l),"int32"===n.dtype&&"int32"===l.dtype)return(0,s.q)(n,l);const c={a:n,b:l};return r.BV.runKernel(i.oH,c,{})}})},49322:(e,t,n)=>{"use strict";n.d(t,{N:()=>u});var r=n(80747),i=n(43740),o=n(41274),a=n(26477),s=n(2668),l=n(95912),c=n(6577);const u=(0,s.op)({divNoNan_:function(e,t){let n=(0,i._1)(e,"a","div"),s=(0,i._1)(t,"b","div");[n,s]=(0,r.makeTypesMatch)(n,s);const u=(0,o.h)(n,s),d=(0,c.P)(u),p=(0,a.D)(s,d);return(0,l.a)(p,d,u)}})},94653:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({einsum_:function(e,...t){const n=t.map(((e,t)=>(0,o._1)(e,`tensors${t}`,"einsum"))),a={equation:e};return r.BV.runKernel(i.$g,n,a)}})},83233:(e,t,n)=>{"use strict";n.d(t,{p:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({elu_:function(e){const t={x:(0,o._1)(e,"x","elu","float32")};return r.BV.runKernel(i.SX,t)}})},26477:(e,t,n)=>{"use strict";n.d(t,{D:()=>l});var r=n(97097),i=n(29121),o=n(80747),a=n(43740),s=n(72200);const l=(0,n(2668).op)({equal_:function(e,t){let n=(0,a._1)(e,"a","equal","string_or_numeric"),l=(0,a._1)(t,"b","equal","string_or_numeric");[n,l]=(0,o.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return r.BV.runKernel(i.hd,c)}})},34650:(e,t,n)=>{"use strict";n.d(t,{q:()=>l});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(62271);const l=(0,n(2668).op)({erf_:function(e){let t=(0,o._1)(e,"x","erf");a.hu("int32"===t.dtype||"float32"===t.dtype,(()=>"Input dtype must be `int32` or `float32`.")),"int32"===t.dtype&&(t=(0,s.p)(t,"float32"));const n={x:t};return r.BV.runKernel(i.Om,n)}})},44842:(e,t,n)=>{"use strict";n.d(t,{Q:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({exp_:function(e){const t={x:(0,o._1)(e,"x","exp")};return r.BV.runKernel(i.NE,t)}})},81300:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({expandDims_:function(e,t=0){const n=(0,o._1)(e,"x","expandDims","string_or_numeric");a.hu(t<=n.rank,(()=>"Axis must be <= rank of the tensor"));const s={input:n},l={dim:t};return r.BV.runKernel(i.YF,s,l)}})},53426:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({expm1_:function(e){const t={x:(0,o._1)(e,"x","expm1")};return r.BV.runKernel(i.Y0,t)}})},14006:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(97097),i=n(29121);function o(e,t,n){const o={shape:e,value:t,dtype:n};return r.BV.runKernel(i.de,{},o)}},26943:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({floor_:function(e){const t={x:(0,o._1)(e,"x","floor","float32")};return r.BV.runKernel(i.OR,t)}})},9165:(e,t,n)=>{"use strict";n.d(t,{q:()=>s});var r=n(97097),i=n(29121),o=n(80747),a=n(43740);const s=(0,n(2668).op)({floorDiv_:function(e,t){let n=(0,a._1)(e,"a","floorDiv"),s=(0,a._1)(t,"b","floorDiv");[n,s]=(0,o.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.je,l)}})},32277:(e,t,n)=>{"use strict";n.r(t),n.d(t,{conv2d:()=>y,depthwiseConv2d:()=>S,matMul:()=>T});var r=n(97097),i=n(30633),o=n(29121),a=n(80747),s=n(43740),l=n(20569),c=n(56407),u=n(72200),d=n(64794),p=n(2582),f=n(2668),h=n(4968);const m=(0,f.op)({conv2DBackpropFilter_:function(e,t,n,i,a,s="NHWC",c){let u=e;3===e.rank&&(u=(0,h.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let d=t;3===d.rank&&(d=(0,h.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]])),l.hu(4===u.rank,(()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${u.shape}.`)),l.hu(4===d.rank,(()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${d.shape}.`)),l.hu(4===n.length,(()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${n}.`));const f="NHWC"===s?u.shape[3]:u.shape[1],m="NHWC"===s?d.shape[3]:d.shape[1];l.hu(f===n[2],(()=>`Error in conv2dDerFilter: depth of input ${f}) must match input depth in filter (${n[2]}.`)),l.hu(m===n[3],(()=>`Error in conv2dDerFilter: depth of dy (${m}) must match output depth for filter (${n[3]}).`)),p.m("conv2dDerFilter",a,c);const g={x:u,dy:d},v={strides:i,pad:a,dataFormat:s,dimRoundingMode:c,filterShape:n};return r.BV.runKernel(o.wU,g,v)}});var g=n(39832),v=n(19323);const y=(0,f.op)({fusedConv2d_:function({x:e,filter:t,strides:n,pad:f,dataFormat:y="NHWC",dilations:b=[1,1],dimRoundingMode:w,bias:x,activation:S="linear",preluActivationWeights:k,leakyreluAlpha:T}){if(S=S||"linear",!1===(0,v.uy)(r.BV.state.gradientDepth,S)){let r=(0,d.T)(e,t,n,f,y,b,w);return null!=x&&(r=(0,c.I)(r,x)),(0,v.QH)(r,S,k,T)}const E=(0,s._1)(e,"x","conv2d","float32"),_=(0,s._1)(t,"filter","conv2d","float32");let C=E,O=!1;3===E.rank&&(O=!0,C=(0,h.X)(E,[1,E.shape[0],E.shape[1],E.shape[2]])),l.hu(4===C.rank,(()=>`Error in fused conv2d: input must be rank 4, but got rank ${C.rank}.`)),l.hu(4===_.rank,(()=>`Error in fused conv2d: filter must be rank 4, but got rank ${_.rank}.`)),p.m("fused conv2d",f,w),l.hu(C.shape[3]===_.shape[2],(()=>`Error in conv2d: depth of input (${C.shape[3]}) must match input depth for filter ${_.shape[2]}.`)),l.hu(p.jT(n,b),(()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${n} and dilations '${b}'`)),l.hu("NHWC"===y,(()=>`Error in conv2d: got dataFormat of ${y} but only NHWC is currently supported.`));const P=p.Ix(C.shape,_.shape,n,b,f,w);let A,I;null!=x&&(A=(0,s._1)(x,"bias","fused conv2d"),[A]=(0,a.makeTypesMatch)(A,E),u.assertAndGetBroadcastShape(P.outShape,A.shape)),null!=k&&(I=(0,s._1)(k,"prelu weights","fused conv2d"));const M=(e,t)=>{const[r,i,o,a]=t,s=(0,v.Fr)(e,o,S);l.hu(p.I0(b),(()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${b}'`));const c=[(0,g._)(i.shape,s,r,n,f),m(i,s,r.shape,n,f)];if(null!=a){const e=(0,v.pf)(a,s);c.push(e)}return c},N={x:C,filter:_,bias:A,preluActivationWeights:I},R={strides:n,pad:f,dataFormat:y,dilations:b,dimRoundingMode:w,activation:S,leakyreluAlpha:T};if(null==x){const e=(0,i.cb)(((e,t,n)=>{let i=r.BV.runKernel(o._V,N,R);return n([t,e,i]),O&&(i=(0,h.X)(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:M}}));return e(C,_)}{const e=(0,i.cb)(((e,t,n,i)=>{let a=r.BV.runKernel(o._V,N,R);return i([t,e,a,n]),O&&(a=(0,h.X)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:M}}));return e(C,_,A)}}});var b=n(64718);const w=(0,f.op)({depthwiseConv2dNativeBackpropFilter_:function(e,t,n,i,a,s=[1,1],l){let c=e;3===e.rank&&(c=(0,h.X)(e,[1,e.shape[0],e.shape[1],e.shape[2]]));let u=t;3===u.rank&&(u=(0,h.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const d={x:c,dy:u},p={strides:i,pad:a,dimRoundingMode:l,dilations:s,filterShape:n};return r.BV.runKernel(o.sL,d,p)}});const x=(0,f.op)({depthwiseConv2dNativeBackpropInput_:function(e,t,n,i,a,s=[1,1],l){let c=t,u=!1;3===t.rank&&(u=!0,c=(0,h.X)(t,[1,t.shape[0],t.shape[1],t.shape[2]]));const d={dy:c,filter:n},p={strides:i,pad:a,dimRoundingMode:l,dilations:s,inputShape:e},f=r.BV.runKernel(o.y7,d,p);return u?(0,h.X)(f,[f.shape[1],f.shape[2],f.shape[3]]):f}});const S=(0,f.op)({fusedDepthwiseConv2d_:function({x:e,filter:t,strides:n,pad:d,dataFormat:f="NHWC",dilations:m=[1,1],dimRoundingMode:g,bias:y,activation:S="linear",preluActivationWeights:k,leakyreluAlpha:T}){if(!1===(0,v.uy)(r.BV.state.gradientDepth,S)){let r=(0,b.B)(e,t,n,d,f,m,g);return null!=y&&(r=(0,c.I)(r,y)),(0,v.QH)(r,S,k,T)}const E=(0,s._1)(e,"x","depthwiseConv2d","float32"),_=(0,s._1)(t,"filter","depthwiseConv2d","float32");let C=E,O=!1;3===E.rank&&(O=!0,C=(0,h.X)(E,[1,E.shape[0],E.shape[1],E.shape[2]])),l.hu(4===C.rank,(()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${C.rank}.`)),l.hu(4===_.rank,(()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${_.rank}.`)),l.hu(C.shape[3]===_.shape[2],(()=>`Error in fused depthwiseConv2d: number of input channels (${C.shape[3]}) must match the inChannels dimension in filter ${_.shape[2]}.`)),null==m&&(m=[1,1]),l.hu(p.jT(n,m),(()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${n} and dilations '${m}'`)),p.m("fused depthwiseConv2d",d,g);const P=p.Ix(C.shape,_.shape,n,m,d,g,!0);let A,I;null!=y&&(A=(0,s._1)(y,"bias","fused conv2d"),[A]=(0,a.makeTypesMatch)(A,E),u.assertAndGetBroadcastShape(P.outShape,A.shape)),null!=k&&(I=(0,s._1)(k,"prelu weights","fused depthwiseConv2d"));const M=(e,t)=>{l.hu(p.I0(m),(()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${m}'`));const[r,i,o,a]=t,s=(0,v.Fr)(e,o,S),c=x(i.shape,s,r,n,d,m,g),u=w(i,s,r.shape,n,d,m,g);if(null!=a){return[c,u,(0,v.pf)(A,s)]}return[c,u]},N={x:C,filter:_,bias:A,preluActivationWeights:I},R={strides:n,pad:d,dataFormat:f,dilations:m,dimRoundingMode:g,activation:S,leakyreluAlpha:T};if(null==y){const e=(0,i.cb)(((e,t,n)=>{let i=r.BV.runKernel(o.lu,N,R);return n([t,e,i]),O&&(i=(0,h.X)(i,[i.shape[1],i.shape[2],i.shape[3]])),{value:i,gradFunc:M}}));return e(C,_)}{const e=(0,i.cb)(((e,t,n,i)=>{let a=r.BV.runKernel(o.lu,N,R);return i([t,e,a,n]),O&&(a=(0,h.X)(a,[a.shape[1],a.shape[2],a.shape[3]])),{value:a,gradFunc:M}}));return e(C,_,A)}}});var k=n(28687);const T=(0,f.op)({fusedMatMul_:function({a:e,b:t,transposeA:n=!1,transposeB:d=!1,bias:p,activation:f="linear",preluActivationWeights:m,leakyreluAlpha:g}){if(!1===(0,v.uy)(r.BV.state.gradientDepth,f)){let r=(0,k.O)(e,t,n,d);return null!=p&&(r=(0,c.I)(r,p)),(0,v.QH)(r,f,m,g)}let y=(0,s._1)(e,"a","fused matMul"),b=(0,s._1)(t,"b","fused matMul");[y,b]=(0,a.makeTypesMatch)(y,b);const w=n?y.shape[y.rank-2]:y.shape[y.rank-1],x=d?b.shape[b.rank-1]:b.shape[b.rank-2],S=n?y.shape[y.rank-1]:y.shape[y.rank-2],T=d?b.shape[b.rank-2]:b.shape[b.rank-1],E=y.shape.slice(0,-2),_=b.shape.slice(0,-2),C=l.NA(E),O=l.NA(_);l.hu(w===x,(()=>`Error in fused matMul: inner shapes (${w}) and (${x}) of Tensors with shapes ${y.shape} and ${b.shape} and transposeA=${n} and transposeB=${d} must match.`));const P=u.assertAndGetBroadcastShape(y.shape.slice(0,-2),b.shape.slice(0,-2)).concat([S,T]),A=n?(0,h.X)(y,[C,w,S]):(0,h.X)(y,[C,S,w]),I=d?(0,h.X)(b,[O,T,x]):(0,h.X)(b,[O,x,T]);let M,N;null!=p&&(M=(0,s._1)(p,"bias","fused matMul"),[M]=(0,a.makeTypesMatch)(M,y),u.assertAndGetBroadcastShape(P,M.shape)),null!=m&&(N=(0,s._1)(m,"prelu weights","fused matMul"));const R=(e,t)=>{const[r,i,o,a]=t,s=(0,v.Fr)((0,h.X)(e,o.shape),o,f);let l,c;if(n||d?!n&&d?(l=(0,k.O)(s,i,!1,!1),c=(0,k.O)(s,r,!0,!1)):n&&!d?(l=(0,k.O)(i,s,!1,!0),c=(0,k.O)(r,s,!1,!1)):(l=(0,k.O)(i,s,!0,!0),c=(0,k.O)(s,r,!0,!0)):(l=(0,k.O)(s,i,!1,!0),c=(0,k.O)(r,s,!0,!1)),null!=p){return[l,c,(0,v.pf)(a,s)]}return[l,c]},D={a:A,b:I,bias:M,preluActivationWeights:N},L={transposeA:n,transposeB:d,activation:f,leakyreluAlpha:g};if(null==p){const e=(0,i.cb)(((e,t,n)=>{const i=r.BV.runKernel(o.us,D,L);return n([e,t,i]),{value:(0,h.X)(i,P),gradFunc:R}}));return e(A,I)}{const e=(0,i.cb)(((e,t,n,i)=>{const a=r.BV.runKernel(o.us,D,L);return i([e,t,a,n]),{value:(0,h.X)(a,P),gradFunc:R}}));return e(A,I,M)}}})},19323:(e,t,n)=>{"use strict";n.d(t,{Fr:()=>h,QH:()=>g,pf:()=>m,uy:()=>v});var r=n(72200),i=n(83233),o=n(99133),a=n(24841),s=n(98151),l=n(7409),c=n(83582),u=n(4968),d=n(30625),p=n(71901),f=n(15475);function h(e,t,n){if(null==n||"linear"===n)return e;if("relu"===n)return(0,a.d)(e,(0,p.N)(t));throw new Error(`Cannot compute gradient for fused activation ${n}.`)}function m(e,t){let n=t;const i=r.getReductionAxes(e.shape,t.shape);return i.length>0&&(n=(0,f.S)(n,i)),(0,u.X)(n,e.shape)}function g(e,t,n,r){if("linear"===t)return e;if("relu"===t)return(0,l.U)(e);if("elu"===t)return(0,i.p)(e);if("relu6"===t)return(0,c.b)(e);if("prelu"===t)return(0,s.A)(e,n);if("leakyrelu"===t)return(0,o.h)(e,r);if("sigmoid"===t)return(0,d.X)(e);throw new Error(`Unknown fused activation ${t}.`)}const v=(e,t)=>!(e>0)||"linear"===t},24926:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({gather_:function(e,t,n=0,a=0){const s={x:(0,o._1)(e,"x","gather"),indices:(0,o._1)(t,"indices","gather","int32")},l={axis:n,batchDims:a};return r.BV.runKernel(i.qi,s,l)}})},87494:(e,t,n)=>{"use strict";n.d(t,{d:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({gatherND_:function(e,t){const n=(0,o._1)(t,"indices","gatherND","int32"),a={params:(0,o._1)(e,"x","gatherND","string_or_numeric"),indices:n};return r.BV.runKernel(i.q1,a)}})},20636:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var r=n(97097),i=n(29121),o=n(80747),a=n(43740),s=n(72200);const l=(0,n(2668).op)({greater_:function(e,t){let n=(0,a._1)(e,"a","greater","string_or_numeric"),l=(0,a._1)(t,"b","greater","string_or_numeric");[n,l]=(0,o.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return r.BV.runKernel(i.iZ,c)}})},17630:(e,t,n)=>{"use strict";n.d(t,{b:()=>l});var r=n(97097),i=n(29121),o=n(80747),a=n(43740),s=n(72200);const l=(0,n(2668).op)({greaterEqual_:function(e,t){let n=(0,a._1)(e,"a","greaterEqual","string_or_numeric"),l=(0,a._1)(t,"b","greaterEqual","string_or_numeric");[n,l]=(0,o.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return r.BV.runKernel(i.Ac,c)}})},64386:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({imag_:function(e){const t={input:(0,o._1)(e,"input","imag")};return r.BV.runKernel(i.J_,t)}})},96230:(e,t,n)=>{"use strict";n.d(t,{i:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({isNaN_:function(e){const t={x:(0,o._1)(e,"x","isNaN")};return r.BV.runKernel(i.r7,t)}})},99133:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({leakyRelu_:function(e,t=.2){const n={x:(0,o._1)(e,"x","leakyRelu")},a={alpha:t};return r.BV.runKernel(i.J$,n,a)}})},86573:(e,t,n)=>{"use strict";n.d(t,{d:()=>l});var r=n(97097),i=n(29121),o=n(80747),a=n(43740),s=n(72200);const l=(0,n(2668).op)({less_:function(e,t){let n=(0,a._1)(e,"a","less","string_or_numeric"),l=(0,a._1)(t,"b","less","string_or_numeric");[n,l]=(0,o.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return r.BV.runKernel(i.vt,c)}})},50624:(e,t,n)=>{"use strict";n.d(t,{z:()=>l});var r=n(97097),i=n(29121),o=n(80747),a=n(43740),s=n(72200);const l=(0,n(2668).op)({lessEqual_:function(e,t){let n=(0,a._1)(e,"a","lessEqual","string_or_numeric"),l=(0,a._1)(t,"b","lessEqual","string_or_numeric");[n,l]=(0,o.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return r.BV.runKernel(i.CA,c)}})},14135:(e,t,n)=>{"use strict";n.d(t,{S:()=>o});var r=n(97097),i=n(29121);function o(e,t,n){if(n<=0)throw new Error("The number of values should be positive.");const o={start:e,stop:t,num:n};return r.BV.runKernel(i.e7,{},o)}},79648:(e,t,n)=>{"use strict";n.d(t,{G:()=>c});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(2668),l=n(4968);const c=(0,s.op)({localResponseNormalization_:function(e,t=5,n=1,s=1,c=.5){const u=(0,o._1)(e,"x","localResponseNormalization");a.hu(4===u.rank||3===u.rank,(()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got\n               rank ${u.rank}.`)),a.hu(a.GN(t),(()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${t}.`));let d=u,p=!1;3===u.rank&&(p=!0,d=(0,l.X)(u,[1,u.shape[0],u.shape[1],u.shape[2]]));const f={x:d},h={depthRadius:t,bias:n,alpha:s,beta:c},m=r.BV.runKernel(i.eZ,f,h);return p?(0,l.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}})},82597:(e,t,n)=>{"use strict";n.d(t,{c:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({log_:function(e){const t={x:(0,o._1)(e,"x","log","float32")};return r.BV.runKernel(i.Zb,t)}})},17474:(e,t,n)=>{"use strict";n.d(t,{K:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({log1p_:function(e){const t={x:(0,o._1)(e,"x","log1p")};return r.BV.runKernel(i.kU,t)}})},31510:(e,t,n)=>{"use strict";n.d(t,{C:()=>f});var r=n(30633),i=n(43740),o=n(62271),a=n(44842),s=n(82597),l=n(83307),c=n(24841),u=n(2668),d=n(70827),p=n(15475);const f=(0,u.op)({logSoftmax_:function(e,t=-1){const n=(0,i._1)(e,"logits","logSoftmax");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and axis was ${t}`);const u=(0,r.cb)(((e,n)=>{const r=(0,l.F)(e,t,!0),i=(0,d.l)(e,r),u=(0,d.l)((0,o.p)(i,"float32"),(0,s.c)((0,p.S)((0,a.Q)(i),t,!0)));n([u]);return{value:u,gradFunc:(e,n)=>{const[r]=n,i=(0,a.Q)(r);return(0,d.l)(e,(0,c.d)((0,p.S)(e,t,!0),i))}}}));return u(n)}})},2856:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(72200);const s=(0,n(2668).op)({logicalAnd_:function(e,t){const n=(0,o._1)(e,"a","logicalAnd","bool"),s=(0,o._1)(t,"b","logicalAnd","bool");(0,a.assertAndGetBroadcastShape)(n.shape,s.shape);const l={a:n,b:s};return r.BV.runKernel(i.PY,l)}})},38651:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({logicalNot_:function(e){const t={x:(0,o._1)(e,"x","logicalNot","bool")};return r.BV.runKernel(i.Vf,t)}})},15750:(e,t,n)=>{"use strict";n.d(t,{K:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(72200);const s=(0,n(2668).op)({logicalOr_:function(e,t){const n=(0,o._1)(e,"a","logicalOr","bool"),s=(0,o._1)(t,"b","logicalOr","bool");(0,a.assertAndGetBroadcastShape)(n.shape,s.shape);const l={a:n,b:s};return r.BV.runKernel(i.MZ,l)}})},49876:(e,t,n)=>{"use strict";var r;n.d(t,{I:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.MEAN=1]="MEAN",e[e.SUM=2]="SUM",e[e.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"}(r||(r={}))},28687:(e,t,n)=>{"use strict";n.d(t,{O:()=>s});var r=n(97097),i=n(29121),o=n(80747),a=n(43740);const s=(0,n(2668).op)({matMul_:function(e,t,n=!1,s=!1){let l=(0,a._1)(e,"a","matMul"),c=(0,a._1)(t,"b","matMul");[l,c]=(0,o.makeTypesMatch)(l,c);const u={a:l,b:c},d={transposeA:n,transposeB:s};return r.BV.runKernel(i.XL,u,d)}})},83307:(e,t,n)=>{"use strict";n.d(t,{F:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({max_:function(e,t=null,n=!1){const a={x:(0,o._1)(e,"x","max")},s={reductionIndices:t,keepDims:n};return r.BV.runKernel(i.Yo,a,s)}})},21174:(e,t,n)=>{"use strict";n.d(t,{_:()=>u});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(2582),l=n(2668),c=n(4968);const u=(0,l.op)({maxPool_:function(e,t,n,l,u){const d=(0,o._1)(e,"x","maxPool");let p=d,f=!1;3===d.rank&&(f=!0,p=(0,c.X)(d,[1,d.shape[0],d.shape[1],d.shape[2]])),a.hu(4===p.rank,(()=>`Error in maxPool: input must be rank 4 but got rank ${p.rank}.`)),a.hu(s.jT(n,1),(()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${n} and dilations '1'`)),s.m("maxPool",l,u);const h={x:p},m={filterSize:t,strides:n,pad:l,dimRoundingMode:u},g=r.BV.runKernel(i.mT,h,m);return f?(0,c.X)(g,[g.shape[1],g.shape[2],g.shape[3]]):g}})},25020:(e,t,n)=>{"use strict";n.d(t,{Y:()=>u});var r=n(97097),i=n(29121),o=n(43740),a=n(20569),s=n(2582),l=n(2668),c=n(4968);const u=(0,l.op)({maxPool3d_:function(e,t=[1,1,1],n,l,u,d="NDHWC"){const p=(0,o._1)(e,"x","maxPool3d");let f=p,h=!1;4===p.rank&&(h=!0,f=(0,c.X)(p,[1,p.shape[0],p.shape[1],p.shape[2],p.shape[3]])),a.hu(5===f.rank,(()=>`Error in maxPool3d: x must be rank 5 but got rank ${f.rank}.`)),a.hu("NDHWC"===d,(()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${d}`)),(0,s.m)("maxPool3d",l,u);const m={x:f},g={filterSize:t,strides:n,pad:l,dimRoundingMode:u,dataFormat:d},v=r.BV.runKernel(i.OA,m,g);return h?(0,c.X)(v,[v.shape[1],v.shape[2],v.shape[3],v.shape[4]]):v}})},96877:(e,t,n)=>{"use strict";n.d(t,{I:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({maxPoolWithArgmax_:function(e,t,n,a,s=!1){const l={x:(0,o._1)(e,"x","maxPoolWithArgmax")},c={filterSize:t,strides:n,pad:a,includeBatchInIndex:s},u=r.BV.runKernel(i.vF,l,c);return{result:u[0],indexes:u[1]}}})},80632:(e,t,n)=>{"use strict";n.d(t,{g:()=>c});var r=n(97097),i=n(29121),o=n(80747),a=n(43740),s=n(72200),l=n(62271);const c=(0,n(2668).op)({maximum_:function(e,t){let n=(0,a._1)(e,"a","maximum"),c=(0,a._1)(t,"b","maximum");[n,c]=(0,o.makeTypesMatch)(n,c),"bool"===n.dtype&&(n=(0,l.p)(n,"int32"),c=(0,l.p)(c,"int32")),(0,s.assertAndGetBroadcastShape)(n.shape,c.shape);const u={a:n,b:c};return r.BV.runKernel(i.BM,u)}})},75130:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({mean_:function(e,t=null,n=!1){const a={x:(0,o._1)(e,"x","mean")},s={axis:t,keepDims:n};return r.BV.runKernel(i.q2,a,s)}})},25735:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({min_:function(e,t=null,n=!1){const a={x:(0,o._1)(e,"x","min")},s={axis:t,keepDims:n};return r.BV.runKernel(i.c1,a,s)}})},24513:(e,t,n)=>{"use strict";n.d(t,{L:()=>c});var r=n(97097),i=n(29121),o=n(80747),a=n(43740),s=n(72200),l=n(62271);const c=(0,n(2668).op)({minimum_:function(e,t){let n=(0,a._1)(e,"a","minimum"),c=(0,a._1)(t,"b","minimum");[n,c]=(0,o.makeTypesMatch)(n,c),"bool"===n.dtype&&(n=(0,l.p)(n,"int32"),c=(0,l.p)(c,"int32")),(0,s.assertAndGetBroadcastShape)(n.shape,c.shape);const u={a:n,b:c};return r.BV.runKernel(i.q8,u)}})},71483:(e,t,n)=>{"use strict";n.d(t,{V:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({mirrorPad_:function(e,t,n){a.hu("reflect"===n||"symmetric"===n,(()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${n}.`));const s=(0,o._1)(e,"x","mirrorPad");if(0===s.rank)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");a.hu(t.length===s.rank,(()=>`Padding doesn't match input. Must be ${s.rank}. Got ${t.length}.`));const l="reflect"===n?1:0;for(let r=0;r<s.rank;r++)a.hu(2===t[r].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),a.hu(t[r][0]>=0&&t[r][0]<=s.shape[r]-l&&t[r][1]>=0&&t[r][1]<=s.shape[r]-l,(()=>`Padding in dimension ${r} cannot be greater than or equal to ${s.shape[r]-l} or less than 0 for input of shape ${s.shape}`));const c={paddings:t,mode:n},u={x:s};return r.BV.runKernel(i.jQ,u,c)}})},85228:(e,t,n)=>{"use strict";n.d(t,{w:()=>s});var r=n(97097),i=n(29121),o=n(80747),a=n(43740);const s=(0,n(2668).op)({mod_:function(e,t){let n=(0,a._1)(e,"a","mod"),s=(0,a._1)(t,"b","mod");[n,s]=(0,o.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.Vb,l)}})},24841:(e,t,n)=>{"use strict";n.d(t,{d:()=>s});var r=n(97097),i=n(29121),o=n(80747),a=n(43740);const s=(0,n(2668).op)({mul_:function(e,t){let n=(0,a._1)(e,"a","mul"),s=(0,a._1)(t,"b","mul");[n,s]=(0,o.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.wY,l)}})},90686:(e,t,n)=>{"use strict";n.d(t,{S:()=>l});var r=n(97097),i=n(29121),o=n(43740),a=n(2668),s=n(4968);const l=(0,a.op)({multinomial_:function(e,t,n,a=!1){const l=(0,o._1)(e,"logits","multinomial"),c=l.size,u=l.rank;if(c<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${c}.`);if(u>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${u}`);n=n||Math.random();const d={logits:1===u?(0,s.X)(l,[1,-1]):l},p={numSamples:t,seed:n,normalized:a},f=r.BV.runKernel(i.NZ,d,p);return 1===u?(0,s.X)(f,[f.size]):f}})},17370:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({neg_:function(e){const t={x:(0,o._1)(e,"x","neg")};return r.BV.runKernel(i.ku,t)}})},16500:(e,t,n)=>{"use strict";n.d(t,{Q:()=>l});var r=n(97097),i=n(29121),o=n(80747),a=n(43740),s=n(72200);const l=(0,n(2668).op)({notEqual_:function(e,t){let n=(0,a._1)(e,"a","notEqual","string_or_numeric"),l=(0,a._1)(t,"b","notEqual","string_or_numeric");[n,l]=(0,o.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return r.BV.runKernel(i.yQ,c)}})},76708:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({oneHot_:function(e,t,n=1,a=0){if(t<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${t}`);const s={indices:(0,o._1)(e,"indices","oneHot","int32")},l={depth:t,onValue:n,offValue:a};return r.BV.runKernel(i.we,s,l)}})},44917:(e,t,n)=>{"use strict";n.d(t,{i:()=>s});var r=n(97097),i=n(20569),o=n(61661),a=n(59640);function s(e,t="float32"){if("complex64"===t){const t=s(e,"float32"),n=(0,a.l)(e,"float32");return(0,o.P)(t,n)}const n=(0,i.p8)((0,i.NA)(e),t);return r.BV.makeTensor(n,e,t)}},7846:(e,t,n)=>{"use strict";n.d(t,{J:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({onesLike_:function(e){const t={x:(0,o._1)(e,"x","onesLike")};return r.BV.runKernel(i.qW,t)}})},2668:(e,t,n)=>{"use strict";n.d(t,{op:()=>a,z:()=>o});var r=n(97097),i=n(20569);const o="__op";function a(e){const t=Object.keys(e);if(1!==t.length)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${t.length} keys.`);let n=t[0];const a=e[n];n.endsWith("_")&&(n=n.substring(0,n.length-1)),n+=o;const s=(...e)=>{r.BV.startScope(n);try{const t=a(...e);return(0,i.tI)(t)&&console.error("Cannot return a Promise inside of tidy."),r.BV.endScope(t),t}catch(t){throw r.BV.endScope(null),t}};return Object.defineProperty(s,"name",{value:n,configurable:!0}),s}},94885:(e,t,n)=>{"use strict";n.d(t,{zvA:()=>k.z,WnP:()=>r.W,Khb:()=>i.K,__u:()=>o._,IHx:()=>a.I,QBD:()=>s.Q,$6P:()=>l.$,YjB:()=>c.Y,NqF:()=>u.N,vHJ:()=>d.v,ZRM:()=>p.Z,VfV:()=>f.V,z4N:()=>h.z,fvJ:()=>m.f,C80:()=>g.C,wS1:()=>v.w,uR5:()=>y.u,zEQ:()=>C,tgs:()=>P.t,Dxk:()=>I,JY5:()=>M,p3b:()=>N,E4h:()=>O.E,yE8:()=>R.y,anm:()=>Bn,XsQ:()=>D.X,UFq:()=>L.U,f3b:()=>j.f,pju:()=>B.p,mDi:()=>F.m,iUl:()=>U.i,d9v:()=>$.d,PYB:()=>H.P,zoF:()=>w.z,gME:()=>G,Izb:()=>V,MNy:()=>z,ZaL:()=>W,PAt:()=>K.P,Tek:()=>q.T,bc:()=>X.b,pdZ:()=>Z.p,$QV:()=>te,mCk:()=>ne.m,f9Y:()=>re.f,mew:()=>Xn,zbp:()=>ie.z,ppE:()=>oe.p,nTT:()=>ae.n,B10:()=>se.B,Ka3:()=>le,WmZ:()=>ce.W,hiC:()=>ue.h,NTj:()=>de.N,AKD:()=>pe,rvX:()=>Kn,WYO:()=>fe.W,pyx:()=>he.p,GRh:()=>qn,DgJ:()=>me.D,qNN:()=>ge.q,Qqt:()=>ve.Q,dt4:()=>ye.d,t$B:()=>be.t,iyy:()=>xe,kp_:()=>ln.k,hlL:()=>Se.h,GWj:()=>ke.G,qPi:()=>Te.q,imm:()=>Yn,Iqj:()=>Ee.I,dbB:()=>Wn.d,pjt:()=>_e.p,brS:()=>Ce.b,Sxn:()=>cn.S,asL:()=>Oe.a,BHj:()=>Hr,V3u:()=>Zn,wx0:()=>un.w,xVT:()=>Pe,UWc:()=>Ae,i2d:()=>Ie.i,hi7:()=>Me.h,d9m:()=>Ne.d,zN1:()=>Re.z,$r2:()=>Gr,SX3:()=>De.S,G9k:()=>Le.G,cM7:()=>je.c,Krr:()=>Be.K,e_t:()=>He,CmS:()=>Ge.C,l_t:()=>qe,HvI:()=>Xe.H,hJK:()=>Ze.h,K5V:()=>Ye.K,egP:()=>Je,MB5:()=>Vr,OI3:()=>x.O,Fp7:()=>ze.F,_sB:()=>et._,YQQ:()=>tt.Y,Ip$:()=>nt.I,gWQ:()=>rt.g,J69:()=>it.J,ry_:()=>st,VV$:()=>lt.V,LTh:()=>ct.L,VdP:()=>ut.V,wQq:()=>dt.w,Gi7:()=>ft,p_:()=>Gn,dC7:()=>S.d,rq4:()=>ht,SJ_:()=>mt.S,W76:()=>Ue.W,KOy:()=>$n,Quu:()=>gt.Q,lfX:()=>vt.l,iUs:()=>ot.i,JpU:()=>yt.J,op:()=>k.op,N2O:()=>bt,vku:()=>wt.v,pNR:()=>xt,koy:()=>St,t1L:()=>kt,lGY:()=>Tt,d_R:()=>Ct,sQ3:()=>Ot.s,AL3:()=>Pt.A,S0v:()=>At.S,WVs:()=>It.W,TN_:()=>Mt,wzB:()=>Rt,nGf:()=>Dt,LGj:()=>Lt.L,w6H:()=>jt.w,kwC:()=>Bt.k,M25:()=>Ft.M,UYe:()=>Ut.U,btT:()=>$t.b,XLQ:()=>J.X,GYS:()=>Ht.G,SDf:()=>Gt,diP:()=>Vt,sx7:()=>zt,mG2:()=>Wt,QEs:()=>dn.Q,NMM:()=>Kt.N,bp0:()=>qt.b,iD$:()=>Xt.i,snQ:()=>Vn.s,U8D:()=>Zt.U,U_I:()=>Yt,ODp:()=>Qt.O,XD2:()=>T.X,Xxe:()=>Jt.X,tdS:()=>$r,O$l:()=>en.O,R_K:()=>tn.R,tPi:()=>E.t,jZU:()=>nn,SmN:()=>rn,CnO:()=>on,p0P:()=>an,XAC:()=>sn.X,Wvh:()=>$e.W,fBT:()=>_t.f,rVs:()=>zr,ers:()=>zn.e,uN7:()=>Ur,Vl2:()=>pn.V,_b3:()=>fn._,h62:()=>pt.h,$i:()=>hn.$,L9e:()=>mn.L,knu:()=>gn.k,Nbs:()=>vn.N,NXj:()=>yn.N,Z_8:()=>Wr,luU:()=>We.l,Smz:()=>Ke.S,ORZ:()=>bn.O,AEp:()=>_.A,XeE:()=>wn.X,RRF:()=>xn.R,odF:()=>kn,wOQ:()=>Tn.w,yXz:()=>En,Bfx:()=>_n,xZs:()=>Cn,Gg6:()=>we.G,hg7:()=>On.h,p4s:()=>Fn.p,Xu6:()=>Pn.X,Two:()=>An.T,pUJ:()=>In,HHK:()=>Mn.H,VD$:()=>Nn,arb:()=>Rn.a,itS:()=>Dn.i,lls:()=>Ln.l,P84:()=>jn.P});var r=n(96235),i=n(17839),o=n(91470),a=n(56407),s=n(13135),l=n(90781),c=n(92998),u=n(40047),d=n(27394),p=n(72421),f=n(21891),h=n(77037),m=n(29812),g=n(80369),v=n(15176),y=n(61749),b=n(43740),w=n(46884),x=n(28687),S=n(24841),k=n(2668),T=n(30625),E=n(22676),_=n(21869);const C=(0,k.op)({basicLSTMCell_:function(e,t,n,r,i,o){const s=(0,b._1)(e,"forgetBias","basicLSTMCell"),l=(0,b._1)(t,"lstmKernel","basicLSTMCell"),c=(0,b._1)(n,"lstmBias","basicLSTMCell"),u=(0,b._1)(r,"data","basicLSTMCell"),d=(0,b._1)(i,"c","basicLSTMCell"),p=(0,b._1)(o,"h","basicLSTMCell"),f=(0,w.z)([u,p],1),h=(0,x.O)(f,l),m=(0,a.I)(h,c),g=m.shape[0],v=m.shape[1]/4,y=[g,v],k=(0,E.t)(m,[0,0],y),C=(0,E.t)(m,[0,v],y),O=(0,E.t)(m,[0,2*v],y),P=(0,E.t)(m,[0,3*v],y),A=(0,a.I)((0,S.d)((0,T.X)(k),(0,_.A)(C)),(0,S.d)(d,(0,T.X)((0,a.I)(s,O))));return[A,(0,S.d)((0,_.A)(A),(0,T.X)(P))]}});var O=n(28441),P=n(27505),A=n(20569);const I=(0,k.op)({batchNorm2d_:function(e,t,n,r,i,o){const a=(0,b._1)(e,"x","batchNorm"),s=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");let c,u;return null!=i&&(c=(0,b._1)(i,"scale","batchNorm")),null!=r&&(u=(0,b._1)(r,"offset","batchNorm")),A.hu(2===a.rank,(()=>`Error in batchNorm2D: x must be rank 2 but got rank ${a.rank}.`)),A.hu(2===s.rank||1===s.rank,(()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${s.rank}.`)),A.hu(2===l.rank||1===l.rank,(()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${l.rank}.`)),null!=c&&A.hu(2===c.rank||1===c.rank,(()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${c.rank}.`)),null!=u&&A.hu(2===u.rank||1===u.rank,(()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${u.rank}.`)),(0,P.t)(a,s,l,u,c,o)}});const M=(0,k.op)({batchNorm3d_:function(e,t,n,r,i,o){const a=(0,b._1)(e,"x","batchNorm"),s=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");let c,u;return null!=i&&(c=(0,b._1)(i,"scale","batchNorm")),null!=r&&(u=(0,b._1)(r,"offset","batchNorm")),A.hu(3===a.rank,(()=>`Error in batchNorm3D: x must be rank 3 but got rank ${a.rank}.`)),A.hu(3===s.rank||1===s.rank,(()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${s.rank}.`)),A.hu(3===l.rank||1===l.rank,(()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${l.rank}.`)),null!=c&&A.hu(3===c.rank||1===c.rank,(()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${c.rank}.`)),null!=u&&A.hu(3===u.rank||1===u.rank,(()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${u.rank}.`)),(0,P.t)(a,s,l,u,c,o)}});const N=(0,k.op)({batchNorm4d_:function(e,t,n,r,i,o){const a=(0,b._1)(e,"x","batchNorm"),s=(0,b._1)(t,"mean","batchNorm"),l=(0,b._1)(n,"variance","batchNorm");let c,u;return null!=i&&(c=(0,b._1)(i,"scale","batchNorm")),null!=r&&(u=(0,b._1)(r,"offset","batchNorm")),A.hu(4===a.rank,(()=>`Error in batchNorm4D: x must be rank 4 but got rank ${a.rank}.`)),A.hu(4===s.rank||1===s.rank,(()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${s.rank}.`)),A.hu(4===l.rank||1===l.rank,(()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${l.rank}.`)),null!=c&&A.hu(4===c.rank||1===c.rank,(()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${c.rank}.`)),null!=u&&A.hu(4===u.rank||1===u.rank,(()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${u.rank}.`)),(0,P.t)(a,s,l,u,c,o)}});var R=n(93865),D=n(88194),L=n(68247),j=n(72657),B=n(62271),F=n(6825),U=n(42279),$=n(8723),H=n(61661);const G=(0,k.op)({concat1d_:function(e){return(0,w.z)(e,0)}});const V=(0,k.op)({concat2d_:function(e,t){return(0,w.z)(e,t)}});const z=(0,k.op)({concat3d_:function(e,t){return(0,w.z)(e,t)}});const W=(0,k.op)({concat4d_:function(e,t){return(0,w.z)(e,t)}});var K=n(11355),q=n(64794),X=n(71405),Z=n(70473),Y=n(97097),Q=n(29121),J=n(4968);const ee=(0,k.op)({conv3DBackpropInput_:function(e,t,n,r,i){A.hu(e.length===t.rank,(()=>`Length of inShape (${e.length}) and rank of dy (${t.rank}) must match`));let o=e,a=t,s=!1;4===t.rank&&(s=!0,a=(0,J.X)(t,[1,t.shape[0],t.shape[1],t.shape[2],t.shape[3]]),o=[1,e[0],e[1],e[2],e[3]]);const l=o[4],c=a.shape[4];A.hu(5===o.length,(()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${o.length}.`)),A.hu(5===a.rank,(()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${a.rank}`)),A.hu(5===n.rank,(()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${n.rank}`)),A.hu(l===n.shape[3],(()=>`Error in conv3dDerInput: depth of input (${l}) must match input depth for filter ${n.shape[3]}.`)),A.hu(c===n.shape[4],(()=>`Error in conv3dDerInput: depth of output (${c}) must match output depth for filter ${n.shape[4]}.`));const u={dy:a,filter:n},d={pad:i,strides:r,inputShape:o},p=Y.BV.runKernel(Q.ik,u,d);return s?(0,J.X)(p,[p.shape[1],p.shape[2],p.shape[3],p.shape[4]]):p}});const te=(0,k.op)({conv3dTranspose_:function(e,t,n,r,i){const o=(0,b._1)(e,"x","conv3dTranspose"),a=(0,b._1)(t,"filter","conv3dTranspose");return ee(n,o,a,r,i)}});var ne=n(70173),re=n(2699),ie=n(37405),oe=n(75746),ae=n(89112),se=n(64718);const le=(0,k.op)({diag_:function(e){const t={x:(0,b._1)(e,"x","diag")};return Y.BV.runKernel(Q.$w,t)}});var ce=n(70557),ue=n(41274),de=n(49322);const pe=(0,k.op)({dot_:function(e,t){const n=(0,b._1)(e,"t1","dot"),r=(0,b._1)(t,"t2","dot");A.hu((1===n.rank||2===n.rank)&&(1===r.rank||2===r.rank),(()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${n.rank} and ${r.rank}.`));const i=1===n.rank?n.size:n.shape[1],o=1===r.rank?r.size:r.shape[0];if(A.hu(i===o,(()=>`Error in dot: inner dimensions of inputs must match, but got ${i} and ${o}.`)),1===n.rank&&1===r.rank){const e=(0,J.X)(n,[1,-1]),t=(0,J.X)(r,[-1,1]),i=(0,x.O)(e,t);return(0,J.X)(i,[])}if(1===n.rank&&2===r.rank){const e=(0,J.X)(n,[1,-1]),t=(0,J.X)(r,[r.shape[0],r.shape[1]]),i=(0,x.O)(e,t);return(0,J.X)(i,[i.size])}if(2===n.rank&&1===r.rank){const e=(0,J.X)(r,[-1,1]),t=(0,x.O)(n,e);return(0,J.X)(t,[t.size])}{const e=(0,J.X)(r,[r.shape[0],r.shape[1]]);return(0,x.O)(n,e)}}});var fe=n(94653),he=n(83233),me=n(26477),ge=n(34650),ve=n(44842),ye=n(81300),be=n(53426),we=n(47501);const xe=(0,k.op)({eye_:function(e,t,n,r="float32"){null==t&&(t=e);const i=(0,j.f)([e,t],r),o=e<=t?e:t;for(let s=0;s<o;++s)i.set(1,s,s);const a=(0,J.X)(i.toTensor(),[e,t]);if(null==n)return a;if(1===n.length)return(0,we.G)((0,ye.d)(a,0),[n[0],1,1]);if(2===n.length)return(0,we.G)((0,ye.d)((0,ye.d)(a,0),0),[n[0],n[1],1,1]);if(3===n.length)return(0,we.G)((0,ye.d)((0,ye.d)((0,ye.d)(a,0),0),0),[n[0],n[1],n[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${n.length}D.`)}});var Se=n(14006),ke=n(26943),Te=n(9165),Ee=n(24926),_e=n(20636),Ce=n(17630),Oe=n(64386);const Pe=(0,k.op)({isFinite_:function(e){const t={x:(0,b._1)(e,"x","isFinite")};return Y.BV.runKernel(Q.av,t)}});const Ae=(0,k.op)({isInf_:function(e){const t={x:(0,b._1)(e,"x","isInf")};return Y.BV.runKernel(Q.iW,t)}});var Ie=n(96230),Me=n(99133),Ne=n(86573),Re=n(50624),De=n(14135),Le=n(79648),je=n(82597),Be=n(17474),Fe=n(30633),Ue=n(17370),$e=n(3694);const He=(0,k.op)({logSigmoid_:function(e){const t=(0,b._1)(e,"x","logSigmoid"),n=(0,Fe.cb)((e=>({value:(0,Ue.W)((0,$e.W)((0,Ue.W)(e))),gradFunc:t=>(0,S.d)(t,(0,T.X)((0,Ue.W)(e)))})));return n(t)}});var Ge=n(31510),Ve=n(83591),ze=n(83307),We=n(70827),Ke=n(15475);const qe=(0,k.op)({logSumExp_:function(e,t=null,n=!1){const r=(0,b._1)(e,"x","logSumExp"),i=(0,A.EC)(t,r.shape),o=(0,ze.F)(r,i,!0),s=(0,We.l)(r,o),l=(0,ve.Q)(s),c=(0,Ke.S)(l,i),u=(0,je.c)(c),d=(0,a.I)((0,J.X)(o,u.shape),u);if(n){const e=(0,Ve.rv)(d.shape,i);return(0,J.X)(d,e)}return d}});var Xe=n(2856),Ze=n(38651),Ye=n(15750),Qe=n(72200);const Je=(0,k.op)({logicalXor_:function(e,t){const n=(0,b._1)(e,"a","logicalXor","bool"),r=(0,b._1)(t,"b","logicalXor","bool");return(0,Qe.assertAndGetBroadcastShape)(n.shape,r.shape),(0,Xe.H)((0,Ye.K)(e,t),(0,Ze.h)((0,Xe.H)(e,t)))}});var et=n(21174),tt=n(25020),nt=n(96877),rt=n(80632),it=n(75130),ot=n(44917),at=n(4077);function st(e,t,{indexing:n="xy"}={}){if("xy"!==n&&"ij"!==n)throw new TypeError(`${n} is not a valid third argument to meshgrid`);if(void 0===e)return[];let r=(0,b._1)(e,"x","meshgrid",e instanceof at.es?e.dtype:"float32");if(void 0===t)return[r];let i=(0,b._1)(t,"y","meshgrid",t instanceof at.es?t.dtype:"float32");const o=(0,A.NA)(r.shape),a=(0,A.NA)(i.shape);return"xy"===n?(r=(0,J.X)(r,[1,-1]),i=(0,J.X)(i,[-1,1]),[(0,x.O)((0,ot.i)([a,1],r.dtype),r),(0,x.O)(i,(0,ot.i)([1,o],i.dtype))]):(r=(0,J.X)(r,[-1,1]),i=(0,J.X)(i,[1,-1]),[(0,x.O)(r,(0,ot.i)([1,a],r.dtype)),(0,x.O)((0,ot.i)([o,1],i.dtype),i)])}var lt=n(25735),ct=n(24513),ut=n(71483),dt=n(85228),pt=n(50248);const ft=(0,k.op)({moments_:function(e,t=null,n=!1){e=(0,b._1)(e,"x","moments");const r=(0,A.EC)(t,e.shape),i=(0,it.J)(e,r,n);let o=i.shape;n||(o=(0,Ve.rv)(i.shape,r));const a=(0,pt.h)((0,We.l)((0,B.p)(e,"float32"),(0,J.X)(i,o)));return{mean:i,variance:(0,it.J)(a,r,n)}}});const ht=(0,k.op)({multiRNNCell_:function(e,t,n,r){const i=(0,b._1)(t,"data","multiRNNCell"),o=(0,b.sI)(n,"c","multiRNNCell"),a=(0,b.sI)(r,"h","multiRNNCell");let s=i;const l=[];for(let d=0;d<e.length;d++){const t=e[d](s,o[d],a[d]);l.push(t[0]),l.push(t[1]),s=t[1]}const c=[],u=[];for(let d=0;d<l.length;d+=2)c.push(l[d]),u.push(l[d+1]);return[c,u]}});var mt=n(90686),gt=n(16500),vt=n(76708),yt=n(7846);const bt=(0,k.op)({outerProduct_:function(e,t){const n=(0,b._1)(e,"v1","outerProduct"),r=(0,b._1)(t,"v2","outerProduct");A.hu(1===n.rank&&1===r.rank,(()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${n.rank} and ${r.rank}.`));const i=(0,J.X)(n,[-1,1]),o=(0,J.X)(r,[1,-1]);return(0,x.O)(i,o)}});var wt=n(39682);const xt=(0,k.op)({pad1d_:function(e,t,n=0){return(0,A.hu)(2===t.length,(()=>"Invalid number of paddings. Must be length of 2.")),(0,wt.v)(e,[t],n)}});const St=(0,k.op)({pad2d_:function(e,t,n=0){return(0,A.hu)(2===t.length&&2===t[0].length&&2===t[1].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,wt.v)(e,t,n)}});const kt=(0,k.op)({pad3d_:function(e,t,n=0){return(0,A.hu)(3===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,wt.v)(e,t,n)}});const Tt=(0,k.op)({pad4d_:function(e,t,n=0){return(0,A.hu)(4===t.length&&2===t[0].length&&2===t[1].length&&2===t[2].length&&2===t[3].length,(()=>"Invalid number of paddings. Must be length of 2 each.")),(0,wt.v)(e,t,n)}});var Et=n(2582),_t=n(27918);const Ct=(0,k.op)({pool_:function(e,t,n,r,i,o,a){null==i&&(i=[1,1]),null==o&&(o=1),0===r&&(r="valid");const s=(0,b._1)(e,"x","maxPool");let l=s,c=!1;3===s.rank&&(c=!0,l=(0,J.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),A.hu(Et.jT(o,i),(()=>`Error in pool: Either strides or dilations must be 1. Got strides ${o} and dilations '${i}'`));const u=Et.Xw(l.shape,t,o,i,r),d=[u.dilationHeight,u.dilationWidth];let p;p="same"===r?function(e,t){const n=e.map(((e,n)=>e+(e-1)*(t[n]-1))).map((e=>e-1)),r=n.map((e=>Math.floor(e/2))),i=n.map(((e,t)=>e-r[t]));return n.map(((e,t)=>[r[t],i[t]]))}([u.filterHeight,u.filterWidth],d):[[0,0],[0,0]];const f=1===d[0]&&1===d[1],[h,m]=function(e,t,n){const r=n.map((e=>e[0])),i=n.map((e=>e[1])),o=e.concat(r,i),a=t.map(((e,t)=>(e-o[t]%e)%e)),s=i.map(((e,t)=>e+a[t])),l=t.map(((e,t)=>[r[t],s[t]])),c=t.map(((e,t)=>[0,a[t]]));return[l,c]}([u.inHeight,u.inWidth],d,p),g=f?r:"valid",y=f?l:(0,_t.f)(l,d,h),w=("avg"===n?()=>(0,v.w)(y,t,o,g,a):()=>(0,et._)(y,t,o,g,a))(),x=f?w:(0,O.E)(w,d,m);return c?(0,J.X)(x,[x.shape[1],x.shape[2],x.shape[3]]):x}});var Ot=n(33453),Pt=n(98151),At=n(29798),It=n(49451);const Mt=(0,k.op)({rand_:function(e,t,n){const r=(0,A.NA)(e);let i=null;if(null==n||"float32"===n)i=new Float32Array(r);else if("int32"===n)i=new Int32Array(r);else{if("bool"!==n)throw new Error(`Unknown data type ${n}`);i=new Uint8Array(r)}for(let o=0;o<r;o++)i[o]=t();return Y.BV.makeTensor(i,e,n)}});var Nt=n(56845);const Rt=(0,k.op)({randomGamma_:function(e,t,n=1,r="float32",i){if(null==n&&(n=1),null==r&&(r="float32"),"float32"!==r&&"int32"!==r)throw new Error(`Unsupported data type ${r}`);const o=new Nt.T9(t,n,r,i),a=(0,j.f)(e,r);for(let s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}});const Dt=(0,k.op)({randomNormal_:function(e,t=0,n=1,r,i){if(null!=r&&"bool"===r)throw new Error(`Unsupported data type ${r}`);const o=new Nt.Yi(t,n,r,!1,i),a=(0,j.f)(e,r);for(let s=0;s<a.values.length;s++)a.values[s]=o.nextValue();return a.toTensor()}});var Lt=n(75002),jt=n(47245),Bt=n(60766),Ft=n(19036),Ut=n(7409),$t=n(83582),Ht=n(57486);const Gt=(0,k.op)({reverse1d_:function(e){const t=(0,b._1)(e,"x","reverse");return A.hu(1===t.rank,(()=>`Error in reverse1D: x must be rank 1 but got rank ${t.rank}.`)),(0,Ht.G)(t,0)}});const Vt=(0,k.op)({reverse2d_:function(e,t){const n=(0,b._1)(e,"x","reverse");return A.hu(2===n.rank,(()=>`Error in reverse2D: x must be rank 2 but got rank ${n.rank}.`)),(0,Ht.G)(n,t)}});const zt=(0,k.op)({reverse3d_:function(e,t){const n=(0,b._1)(e,"x","reverse");return A.hu(3===n.rank,(()=>`Error in reverse3D: x must be rank 3 but got rank ${n.rank}.`)),(0,Ht.G)(n,t)}});const Wt=(0,k.op)({reverse4d_:function(e,t){const n=(0,b._1)(e,"x","reverse");return A.hu(4===n.rank,(()=>`Error in reverse4D: x must be rank 4 but got rank ${n.rank}.`)),(0,Ht.G)(n,t)}});var Kt=n(97809),qt=n(32634),Xt=n(99494),Zt=n(55503);const Yt=(0,k.op)({separableConv2d_:function(e,t,n,r,i,o=[1,1],a="NHWC"){const s=(0,b._1)(e,"x","separableConv2d"),l=(0,b._1)(t,"depthwiseFilter","separableConv2d"),c=(0,b._1)(n,"pointwiseFilter","separableConv2d");let u=s,d=!1;if(3===s.rank&&(d=!0,u=(0,J.X)(s,[1,s.shape[0],s.shape[1],s.shape[2]])),"NCHW"===a)throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");A.hu(4===u.rank,(()=>`Error in separableConv2d: input must be rank 4, but got rank ${u.rank}.`)),A.hu(4===l.rank,(()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${l.rank}.`)),A.hu(4===c.rank,(()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${l.rank}.`)),A.hu(1===c.shape[0],(()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${c.shape[0]}.`)),A.hu(1===c.shape[1],(()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${c.shape[1]}.`));const p=l.shape[2],f=l.shape[3];A.hu(c.shape[2]===p*f,(()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${p*f}, but got ${c.shape[2]}.`));const h=(0,se.B)(u,l,r,i,a,o),m=(0,q.T)(h,c,1,"valid",a);return d?(0,J.X)(m,[m.shape[1],m.shape[2],m.shape[3]]):m}});var Qt=n(36567),Jt=n(34434),en=n(99331),tn=n(83254);const nn=(0,k.op)({slice1d_:function(e,t,n){const r=(0,b._1)(e,"x","slice1d");return A.hu(1===r.rank,(()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`)),(0,E.t)(r,[t],[n])}});const rn=(0,k.op)({slice2d_:function(e,t,n){const r=(0,b._1)(e,"x","slice2d");return A.hu(2===r.rank,(()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`)),(0,E.t)(r,t,n)}});const on=(0,k.op)({slice3d_:function(e,t,n){const r=(0,b._1)(e,"x","slice3d");return A.hu(3===r.rank,(()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`)),(0,E.t)(r,t,n)}});const an=(0,k.op)({slice4d_:function(e,t,n){const r=(0,b._1)(e,"x","slice4d");return A.hu(4===r.rank,(()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`)),(0,E.t)(r,t,n)}});var sn=n(80682),ln=n(7020),cn=n(88447),un=n(84415),dn=n(13710),pn=n(28644),fn=n(13261),hn=n(15265),mn=n(79590),gn=n(82991),vn=n(71901),yn=n(55158),bn=n(61173),wn=n(10701),xn=n(46092),Sn=n(57852);function kn(e,t,n){if((0,A.Cq)(e),null!=t&&2!==t.length)throw new Error("tensor2d() requires shape to have two numbers");const r=(0,b.C)(e,n);if(2!==r.length&&1!==r.length)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return(0,Sn.H)(e,t,r,n)}var Tn=n(99906);function En(e,t,n){if((0,A.Cq)(e),null!=t&&4!==t.length)throw new Error("tensor4d() requires shape to have four numbers");const r=(0,b.C)(e,n);if(4!==r.length&&1!==r.length)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return(0,Sn.H)(e,t,r,n)}function _n(e,t,n){if((0,A.Cq)(e),null!=t&&5!==t.length)throw new Error("tensor5d() requires shape to have five numbers");const r=(0,b.C)(e,n);if(5!==r.length&&1!==r.length)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return(0,Sn.H)(e,t,r,n)}function Cn(e,t,n){if((0,A.Cq)(e),null!=t&&6!==t.length)throw new Error("tensor6d() requires shape to have six numbers");const r=(0,b.C)(e,n);if(6!==r.length&&1!==r.length)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(1===r.length&&null==t)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return t=t||r,(0,Sn.H)(e,t,r,n)}var On=n(43243),Pn=n(43596),An=n(49608);const In=(0,k.op)({unsortedSegmentSum_:function(e,t,n){const r=(0,b._1)(e,"x","unsortedSegmentSum"),i=(0,b._1)(t,"segmentIds","unsortedSegmentSum","int32");(0,A.hu)((0,A.GN)(n),(()=>"numSegments must be of dtype int"));const o={x:r,segmentIds:i},a={numSegments:n};return Y.BV.runKernel(Q.Qv,o,a)}});var Mn=n(24136);function Nn(e,t=!0,n,r){return Y.BV.makeVariable(e,t,n,r)}var Rn=n(95912),Dn=n(66380),Ln=n(59640),jn=n(6577);const Bn=async function(e,t,n){const r=(0,b._1)(e,"tensor","boolMask"),i=(0,b._1)(t,"mask","boolMask","bool"),o=null==n?0:n,a=i.rank,s=r.shape;A.hu(a>0,(()=>"mask cannot be scalar")),A.k5(s.slice(o,o+a),i.shape,"mask's shape must match the first K dimensions of tensor's shape,");let l=1;for(let m=o;m<o+a;m++)l*=s[m];const c=s.slice(0,o).concat([l],s.slice(o+a)),u=(0,J.X)(r,c),d=(0,J.X)(i,[-1]),p=await(0,Dn.i)(d),f=(0,mn.L)(p,[1]),h=(0,Ee.I)(u,f,o);return e!==r&&r.dispose(),t!==i&&i.dispose(),f.dispose(),u.dispose(),d.dispose(),p.dispose(),h};var Fn=n(89065);function Un(e,t,n=null){if(0===e.rank)return(0,r.W)(e);if(1!==e.rank&&null===n)return Un((0,J.X)(e,[-1]),t,n);if(1===e.rank||"number"===typeof n||Array.isArray(n)&&1===n.length){if(1===t)return(0,Ke.S)((0,r.W)(e),n);if(t===1/0)return(0,ze.F)((0,r.W)(e),n);if(t===-1/0)return(0,lt.V)((0,r.W)(e),n);if("euclidean"===t||2===t)return(0,fn._)((0,Ke.S)((0,Ot.s)((0,r.W)(e),(0,Xt.i)(2,"int32")),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}if(Array.isArray(n)&&2===n.length){if(1===t)return(0,ze.F)((0,Ke.S)((0,r.W)(e),n[0]),n[1]-1);if(t===1/0)return(0,ze.F)((0,Ke.S)((0,r.W)(e),n[1]),n[0]);if(t===-1/0)return(0,lt.V)((0,Ke.S)((0,r.W)(e),n[1]),n[0]);if("fro"===t||"euclidean"===t)return(0,fn._)((0,Ke.S)((0,pt.h)(e),n));throw new Error(`Error in norm: invalid ord value: ${t}`)}throw new Error(`Error in norm: invalid axis: ${n}`)}const $n=(0,k.op)({norm_:function(e,t="euclidean",n=null,r=!1){const i=Un(e=(0,b._1)(e,"x","norm"),t,n);let o=i.shape;if(r){const t=(0,A.EC)(n,e.shape);o=Ve.rv(i.shape,t)}return(0,J.X)(i,o)}});var Hn=n(80747);const Gn=(0,k.op)({movingAverage_:function(e,t,n,r,i=!0){const o=(0,b._1)(e,"v","movingAverage"),s=(0,b._1)(t,"x","movingAverage"),l=(0,b._1)(n,"decay","movingAverage");(0,Hn.assertTypesMatch)(o,s),A.hu(A.cO(o.shape,s.shape),(()=>"Shape mismatch in v and x"));const c=(0,Xt.i)(1),u=(0,We.l)(c,l);let d=(0,S.d)((0,We.l)(s,o),u);if(i){A.hu(null!=r,(()=>"When using zeroDebias: true, step is required."));const e=(0,b._1)(r,"step","movingAverage");d=(0,ue.h)(d,(0,We.l)(c,(0,Ot.s)(l,e)))}return(0,a.I)(o,d)}});var Vn=n(63100),zn=n(39758),Wn=n(87494);const Kn=(0,k.op)({dropout_:function(e,t,n,r){const i=(0,b._1)(e,"x","dropout");if(A.hu("float32"===i.dtype,(()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${i.dtype} tensor instead.`)),A.hu(t>=0&&t<1,(()=>`rate must be a float in the range [0, 1), but got ${t}.`)),0===t)return e instanceof at.es?i.clone():i;const o=function(e,t){if(null==t)return e.shape.slice();if(A.cO(e.shape,t))return t;if(e.shape.length===t.length){const n=[];for(let r=0;r<e.shape.length;r++)null==t[r]&&null!=e.shape[r]?n.push(e.shape[r]):n.push(t[r]);return n}return t}(i,n),s=1-t,l=(0,ue.h)((0,ke.G)((0,a.I)((0,Lt.L)(o,0,1,"float32",r),s)),s);return(0,S.d)(i,l)}});function qn(e){return Math.floor(Math.pow(2,Math.ceil(Math.log(e)/Math.log(2))))}function Xn(e,t,n){const r=1-e%2,i=new Float32Array(e);for(let o=0;o<e;++o){const a=2*Math.PI*o/(e+r-1);i[o]=t-n*Math.cos(a)}return(0,xn.R)(i,"float32")}const Zn=async function(e,t,n=1){const r=(0,b._1)(e,"predictions","inTopK"),i=(0,b._1)(t,"targets","inTopK");(0,A.hu)(r.rank>1,(()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`)),(0,A.hu)(r.rank-1===i.rank,(()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${i.rank}`)),(0,A.k5)(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const o=r.shape[r.shape.length-1];(0,A.hu)(n>0&&n<=o,(()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${o}), but got ${n}`));const a=await r.data(),s=await i.data(),[l,c]=[a.length/o,o],u=(0,A.WP)("bool",l);for(let d=0;d<l;d++){const e=d*c,t=a.subarray(e,e+c),r=[];for(let n=0;n<t.length;n++)r.push({value:t[n],index:n});r.sort(((e,t)=>t.value-e.value)),u[d]=0;for(let i=0;i<n;i++)if(r[i].index===s[d]){u[d]=1;break}}return e!==r&&r.dispose(),t!==i&&i.dispose(),(0,wn.X)(u,i.shape,"bool")};var Yn=n(32277);const Qn=(0,k.op)({hammingWindow_:function(e){return Xn(e,.54,.46)}});const Jn=(0,k.op)({hannWindow_:function(e){return Xn(e,.5,.5)}});const er=(0,k.op)({frame_:function(e,t,n,r=!1,i=0){let o=0;const a=[];for(;o+t<=e.size;)a.push((0,E.t)(e,o,t)),o+=n;if(r)for(;o<e.size;){const r=o+t-e.size,s=(0,w.z)([(0,E.t)(e,o,t-r),(0,Se.h)([r],i)]);a.push(s),o+=n}return 0===a.length?kn([],[0,t]):(0,J.X)((0,w.z)(a),[a.length,t])}});const tr=(0,k.op)({stft_:function(e,t,n,r,i=Jn){null==r&&(r=qn(t));const o=er(e,t,n),a=(0,S.d)(o,i(t));return(0,dn.Q)(a,r)}});const nr=(0,k.op)({cropAndResize_:function(e,t,n,r,i="bilinear",o=0){const a=(0,b._1)(e,"image","cropAndResize"),s=(0,b._1)(t,"boxes","cropAndResize","float32"),l=(0,b._1)(n,"boxInd","cropAndResize","int32"),c=s.shape[0];A.hu(4===a.rank,(()=>`Error in cropAndResize: image must be rank 4,but got rank ${a.rank}.`)),A.hu(2===s.rank&&4===s.shape[1],(()=>`Error in cropAndResize: boxes must be have size [${c},4] but had shape ${s.shape}.`)),A.hu(1===l.rank&&l.shape[0]===c,(()=>`Error in cropAndResize: boxInd must be have size [${c}] but had shape ${s.shape}.`)),A.hu(2===r.length,(()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`)),A.hu(r[0]>=1&&r[1]>=1,(()=>`cropSize must be atleast [1,1], but was ${r}`)),A.hu("bilinear"===i||"nearest"===i,(()=>`method must be bilinear or nearest, but was ${i}`));const u={image:a,boxes:s,boxInd:l},d={method:i,extrapolationValue:o,cropSize:r};return Y.BV.runKernel(Q.Vc,u,d)}});const rr=(0,k.op)({flipLeftRight_:function(e){const t=(0,b._1)(e,"image","flipLeftRight","float32");A.hu(4===t.rank,(()=>`Error in flipLeftRight: image must be rank 4,but got rank ${t.rank}.`));const n={image:t};return Y.BV.runKernel(Q.Uy,n,{})}});const ir=(0,k.op)({grayscaleToRGB_:function(e){const t=(0,b._1)(e,"image","grayscaleToRGB"),n=t.rank-1,r=t.shape[n];A.hu(t.rank>=2,(()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${t.rank}.`)),A.hu(1===r,(()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`));const i=new Array(t.rank);return i.fill(1,0,n),i[n]=3,(0,we.G)(t,i)}});const or=(0,k.op)({rotateWithOffset_:function(e,t,n=0,r=.5){const i=(0,b._1)(e,"image","rotateWithOffset","float32");A.hu(4===i.rank,(()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${i.rank}.`));const o={image:i},a={radians:t,fillValue:n,center:r};return Y.BV.runKernel(Q.b9,o,a)}});function ar(e,t,n,r,i,o){null==r&&(r=.5),null==i&&(i=Number.NEGATIVE_INFINITY),null==o&&(o=0);const a=e.shape[0];return n=Math.min(n,a),A.hu(0<=r&&r<=1,(()=>`iouThreshold must be in [0, 1], but was '${r}'`)),A.hu(2===e.rank,(()=>`boxes must be a 2D tensor, but was of rank '${e.rank}'`)),A.hu(4===e.shape[1],(()=>`boxes must have 4 columns, but 2nd dimension was ${e.shape[1]}`)),A.hu(1===t.rank,(()=>"scores must be a 1D tensor")),A.hu(t.shape[0]===a,(()=>`scores has incompatible shape with boxes. Expected ${a}, but was ${t.shape[0]}`)),A.hu(0<=o&&o<=1,(()=>`softNmsSigma must be in [0, 1], but was '${o}'`)),{maxOutputSize:n,iouThreshold:r,scoreThreshold:i,softNmsSigma:o}}const sr=(0,k.op)({nonMaxSuppression_:function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY){const o=(0,b._1)(e,"boxes","nonMaxSuppression","float32"),a=(0,b._1)(t,"scores","nonMaxSuppression","float32"),s=ar(o,a,n,r,i),l={maxOutputSize:n=s.maxOutputSize,iouThreshold:r=s.iouThreshold,scoreThreshold:i=s.scoreThreshold};return Y.BV.runKernel(Q.uv,{boxes:o,scores:a},l)}});var lr=n(83337);const cr=async function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY){const o=(0,b._1)(e,"boxes","nonMaxSuppressionAsync"),a=(0,b._1)(t,"scores","nonMaxSuppressionAsync"),s=ar(o,a,n,r,i);n=s.maxOutputSize,r=s.iouThreshold,i=s.scoreThreshold;const l=await Promise.all([o.data(),a.data()]),c=l[0],u=l[1],{selectedIndices:d}=(0,lr.GP)(c,u,n,r,i);return o!==e&&o.dispose(),a!==t&&a.dispose(),(0,xn.R)(d,"int32")};const ur=(0,k.op)({nonMaxSuppressionWithScore_:function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY,o=0){const a=(0,b._1)(e,"boxes","nonMaxSuppression"),s=(0,b._1)(t,"scores","nonMaxSuppression"),l=ar(a,s,n,r,i,o),c={boxes:a,scores:s},u={maxOutputSize:n=l.maxOutputSize,iouThreshold:r=l.iouThreshold,scoreThreshold:i=l.scoreThreshold,softNmsSigma:o=l.softNmsSigma},d=Y.BV.runKernel(Q.W0,c,u);return{selectedIndices:d[0],selectedScores:d[1]}}});const dr=async function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY,o=0){const a=(0,b._1)(e,"boxes","nonMaxSuppressionAsync"),s=(0,b._1)(t,"scores","nonMaxSuppressionAsync"),l=ar(a,s,n,r,i,o);n=l.maxOutputSize,r=l.iouThreshold,i=l.scoreThreshold,o=l.softNmsSigma;const c=await Promise.all([a.data(),s.data()]),u=c[0],d=c[1],{selectedIndices:p,selectedScores:f}=(0,lr.pA)(u,d,n,r,i,o);return a!==e&&a.dispose(),s!==t&&s.dispose(),{selectedIndices:(0,xn.R)(p,"int32"),selectedScores:(0,xn.R)(f)}};const pr=(0,k.op)({nonMaxSuppressionPadded_:function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY,o=!1){const a=(0,b._1)(e,"boxes","nonMaxSuppression"),s=(0,b._1)(t,"scores","nonMaxSuppression"),l=ar(a,s,n,r,i,null),c={boxes:a,scores:s},u={maxOutputSize:l.maxOutputSize,iouThreshold:l.iouThreshold,scoreThreshold:l.scoreThreshold,padToMaxOutputSize:o},d=Y.BV.runKernel(Q.cy,c,u);return{selectedIndices:d[0],validOutputs:d[1]}}});const fr=async function(e,t,n,r=.5,i=Number.NEGATIVE_INFINITY,o=!1){const a=(0,b._1)(e,"boxes","nonMaxSuppressionAsync"),s=(0,b._1)(t,"scores","nonMaxSuppressionAsync"),l=ar(a,s,n,r,i,null),c=l.maxOutputSize,u=l.iouThreshold,d=l.scoreThreshold,[p,f]=await Promise.all([a.data(),s.data()]),{selectedIndices:h,validOutputs:m}=(0,lr.qP)(p,f,c,u,d,o);return a!==e&&a.dispose(),s!==t&&s.dispose(),{selectedIndices:(0,xn.R)(h,"int32"),validOutputs:(0,Xt.i)(m,"int32")}};const hr=(0,k.op)({resizeBilinear_:function(e,t,n=!1,r=!1){const i=(0,b._1)(e,"images","resizeBilinear");A.hu(3===i.rank||4===i.rank,(()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${i.rank}.`)),A.hu(2===t.length,(()=>`Error in resizeBilinear: new shape must 2D, but got shape ${t}.`)),A.hu(!1===r||!1===n,(()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false."));let o=i,a=!1;3===i.rank&&(a=!0,o=(0,J.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const[]=t,s={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},c=Y.BV.runKernel(Q._Y,s,l);return a?(0,J.X)(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const mr=(0,k.op)({resizeNearestNeighbor_:function(e,t,n=!1,r=!1){const i=(0,b._1)(e,"images","resizeNearestNeighbor");A.hu(3===i.rank||4===i.rank,(()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${i.rank}.`)),A.hu(2===t.length,(()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${t}.`)),A.hu("float32"===i.dtype||"int32"===i.dtype,(()=>"`images` must have `int32` or `float32` as dtype")),A.hu(!1===r||!1===n,(()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false."));let o=i,a=!1;3===i.rank&&(a=!0,o=(0,J.X)(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const[]=t,s={images:o},l={alignCorners:n,halfPixelCenters:r,size:t},c=Y.BV.runKernel(Q.dp,s,l);return a?(0,J.X)(c,[c.shape[1],c.shape[2],c.shape[3]]):c}});const gr=(0,k.op)({threshold_:function(e,t="binary",n=!1,r=.5){const i=(0,b._1)(e,"image","threshold"),o=i.shape[0]*i.shape[1];let s,l,c,u,d=(0,S.d)((0,xn.R)([r]),255);if(A.hu(3===i.rank,(()=>`Error in threshold: image must be rank 3,but got rank ${i.rank}.`)),A.hu(3===i.shape[2]||1===i.shape[2],(()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${i.shape[2]}.`)),A.hu("int32"===i.dtype||"float32"===i.dtype,(()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${i.dtype}.`)),A.hu("otsu"===t||"binary"===t,(()=>`Method must be binary or otsu, but was ${t}`)),3===i.shape[2]){[s,l,c]=(0,pn.V)(i,[1,1,1],-1);const e=(0,S.d)(s,.2989),t=(0,S.d)(l,.587),n=(0,S.d)(c,.114);u=(0,a.I)((0,a.I)(e,t),n)}else u=e;if("otsu"===t){d=function(e,t){let n,r,i,o,s,l,c=(0,xn.R)([-1]),u=(0,xn.R)([0]),d=(0,xn.R)([0]);for(let p=0;p<e.size-1;p++){n=(0,E.t)(e,0,p+1),r=(0,E.t)(e,p+1),s=(0,ue.h)((0,Ke.S)(n),t),l=(0,ue.h)((0,Ke.S)(r),t);const f=(0,Ke.S)((0,S.d)(n,(0,jt.w)(0,n.size)));i=(0,ue.h)(f,(0,Ke.S)(n));const h=(0,Se.h)(r.shape,n.size),m=(0,a.I)((0,jt.w)(0,r.size),h),g=(0,S.d)(r,m);o=(0,ue.h)((0,Ke.S)(g),(0,Ke.S)(r));const v=(0,We.l)(i,o),y=(0,We.l)(i,o),b=(0,S.d)(s,l);d=(0,S.d)((0,S.d)(b,v),y);const w=(0,_e.p)(d,u);u=(0,Rn.a)(w,d,u),c=(0,Rn.a)(w,(0,xn.R)([p]),c)}return c}((0,R.y)((0,B.p)((0,Kt.N)(u),"int32"),(0,wn.X)([]),256),o)}const p=n?(0,Re.z)(u,d):(0,_e.p)(u,d);return(0,B.p)((0,S.d)(p,255),"int32")}});const vr=(0,k.op)({transform_:function(e,t,n="nearest",r="constant",i=0,o){const a=(0,b._1)(e,"image","transform","float32"),s=(0,b._1)(t,"transforms","transform","float32");A.hu(4===a.rank,(()=>`Error in transform: image must be rank 4,but got rank ${a.rank}.`)),A.hu(2===s.rank&&(s.shape[0]===a.shape[0]||1===s.shape[0])&&8===s.shape[1],(()=>"Error in transform: Input transform should be batch x 8 or 1 x 8")),A.hu(null==o||2===o.length,(()=>`Error in transform: outputShape must be [height, width] or null, but got ${o}.`));const l={image:a,transforms:s},c={interpolation:n,fillMode:r,fillValue:i,outputShape:o};return Y.BV.runKernel(Q.wx,l,c)}});const yr=(0,k.op)({bandPart_:function(e,t,n){(0,A.hu)(t%1===0,(()=>`bandPart(): numLower must be an integer, got ${t}.`)),(0,A.hu)(n%1===0,(()=>`bandPart(): numUpper must be an integer, got ${n}.`));const r=(0,b._1)(e,"a","bandPart");(0,A.hu)(r.rank>=2,(()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`));const i=r.shape,[o,a]=r.shape.slice(-2);if(!(t<=o))throw new Error(`bandPart(): numLower (${t}) must not be greater than the number of rows (${o}).`);if(!(n<=a))throw new Error(`bandPart(): numUpper (${n}) must not be greater than the number of columns (${a}).`);t<0&&(t=o),n<0&&(n=a);const s=(0,J.X)((0,jt.w)(0,o,1,"int32"),[-1,1]),l=(0,jt.w)(0,a,1,"int32"),c=(0,We.l)(s,l),u=(0,Xe.H)((0,Re.z)(c,(0,Xt.i)(+t,"int32")),(0,Ce.b)(c,(0,Xt.i)(-n,"int32"))),d=(0,Ln.l)([o,a],r.dtype);return(0,J.X)((0,gn.k)((0,Mn.H)((0,J.X)(r,[-1,o,a])).map((e=>(0,Rn.a)(u,e,d)))),i)}});const br=(0,k.op)({gramSchmidt_:function(e){let t;if(Array.isArray(e)){t=!1,(0,A.hu)(null!=e&&e.length>0,(()=>"Gram-Schmidt process: input must not be null, undefined, or empty"));const n=e[0].shape[0];for(let t=1;t<e.length;++t)(0,A.hu)(e[t].shape[0]===n,(()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${e[t].shape[0]} vs. ${n})`))}else t=!0,e=(0,pn.V)(e,e.shape[0],0).map((e=>(0,mn.L)(e,[0])));(0,A.hu)(e.length<=e[0].shape[0],(()=>`Gram-Schmidt: Number of vectors (${e.length}) exceeds number of dimensions (${e[0].shape[0]}).`));const n=[],r=e;for(let i=0;i<e.length;++i)n.push(Y.BV.tidy((()=>{let e=r[i];if(i>0)for(let t=0;t<i;++t){const r=(0,S.d)((0,Ke.S)((0,S.d)(n[t],e)),n[t]);e=(0,We.l)(e,r)}return(0,ue.h)(e,$n(e,"euclidean"))})));return t?(0,gn.k)(n,0):n}});var wr=n(4368);function xr(e,t=!1){return Y.BV.tidy((()=>{(0,A.hu)(2===e.shape.length,(()=>`qr2d() requires a 2D Tensor, but got a ${e.shape.length}D Tensor.`));const n=e.shape[0],r=e.shape[1];let i=xe(n),o=(0,$.d)(e);const a=kn([[1]],[1,1]);let s=(0,$.d)(a);const l=n>=r?r:n;for(let e=0;e<l;++e){const t=o,l=s,c=i;[s,o,i]=Y.BV.tidy((()=>{const t=(0,E.t)(o,[e,e],[n-e,1]),l=$n(t),c=(0,E.t)(o,[e,e],[1,1]),u=(0,Rn.a)((0,_e.p)(c,0),kn([[-1]]),kn([[1]])),d=(0,We.l)(c,(0,S.d)(u,l)),p=(0,ue.h)(t,d);s=1===p.shape[0]?(0,$.d)(a):(0,w.z)([a,(0,E.t)(p,[1,0],[p.shape[0]-1,p.shape[1]])],0);const f=(0,Ue.W)((0,ue.h)((0,x.O)(u,d),l)),h=(0,E.t)(o,[e,0],[n-e,r]),m=(0,S.d)(f,s),g=(0,Fn.p)(s);if(0===e)o=(0,We.l)(h,(0,x.O)(m,(0,x.O)(g,h)));else{const t=(0,We.l)(h,(0,x.O)(m,(0,x.O)(g,h)));o=(0,w.z)([(0,E.t)(o,[0,0],[e,r]),t],0)}const v=(0,Fn.p)(m),y=(0,E.t)(i,[0,e],[n,i.shape[1]-e]);if(0===e)i=(0,We.l)(y,(0,x.O)((0,x.O)(y,s),v));else{const t=(0,We.l)(y,(0,x.O)((0,x.O)(y,s),v));i=(0,w.z)([(0,E.t)(i,[0,0],[n,e]),t],1)}return[s,o,i]})),(0,wr.B9)([t,l,c])}return!t&&n>r&&(i=(0,E.t)(i,[0,0],[n,r]),o=(0,E.t)(o,[0,0],[r,r])),[i,o]}))}const Sr=(0,k.op)({qr_:function(e,t=!1){if((0,A.hu)(e.rank>=2,(()=>`qr() requires input tensor to have a rank >= 2, but got rank ${e.rank}`)),2===e.rank)return xr(e,t);{const n=e.shape.slice(0,e.shape.length-2).reduce(((e,t)=>e*t)),r=(0,Mn.H)((0,J.X)(e,[n,e.shape[e.shape.length-2],e.shape[e.shape.length-1]]),0),i=[],o=[];r.forEach((e=>{const[n,r]=xr(e,t);i.push(n),o.push(r)}));return[(0,J.X)((0,gn.k)(i,0),e.shape),(0,J.X)((0,gn.k)(o,0),e.shape)]}}});var kr=n(49876);const Tr=(0,k.op)({computeWeightedLoss_:function(e,t,n=kr.I.SUM_BY_NONZERO_WEIGHTS){const r=(0,b._1)(e,"losses","computeWeightedLoss");let i=null;null!=t&&(i=(0,b._1)(t,"weights","computeWeightedLoss"));const o=null==i?r:(0,S.d)(r,i);if(n===kr.I.NONE)return o;if(n===kr.I.SUM)return(0,Ke.S)(o);if(n===kr.I.MEAN){if(null==i)return(0,it.J)(o);{const e=r.size/i.size,t=(0,ue.h)((0,Ke.S)(o),(0,Ke.S)(i));return e>1?(0,ue.h)(t,(0,Xt.i)(e)):t}}if(n===kr.I.SUM_BY_NONZERO_WEIGHTS){if(null==i)return(0,ue.h)((0,Ke.S)(o),(0,Xt.i)(r.size));{const e=(0,S.d)(i,(0,ot.i)(r.shape)),t=(0,B.p)((0,Ke.S)((0,gt.Q)(e,(0,Xt.i)(0))),"float32");return(0,ue.h)((0,Ke.S)(o),t)}}throw Error(`Unknown reduction: ${n}`)}});const Er=(0,k.op)({absoluteDifference_:function(e,t,n,i=kr.I.SUM_BY_NONZERO_WEIGHTS){const o=(0,b._1)(e,"labels","absoluteDifference"),a=(0,b._1)(t,"predictions","absoluteDifference");let s=null;null!=n&&(s=(0,b._1)(n,"weights","absoluteDifference")),(0,A.k5)(o.shape,a.shape,"Error in absoluteDifference: ");const l=(0,r.W)((0,We.l)(o,a));return Tr(l,s,i)}});const _r=(0,k.op)({cosineDistance_:function(e,t,n,r,i=kr.I.SUM_BY_NONZERO_WEIGHTS){const o=(0,b._1)(e,"labels","cosineDistance"),a=(0,b._1)(t,"predictions","cosineDistance");let s=null;null!=r&&(s=(0,b._1)(r,"weights","cosineDistance")),(0,A.k5)(o.shape,a.shape,"Error in cosineDistance: ");const l=(0,Xt.i)(1),c=(0,We.l)(l,(0,Ke.S)((0,S.d)(o,a),n,!0));return Tr(c,s,i)}});const Cr=(0,k.op)({hingeLoss_:function(e,t,n,r=kr.I.SUM_BY_NONZERO_WEIGHTS){let i=(0,b._1)(e,"labels","hingeLoss");const o=(0,b._1)(t,"predictions","hingeLoss");let a=null;null!=n&&(a=(0,b._1)(n,"weights","hingeLoss")),(0,A.k5)(i.shape,o.shape,"Error in hingeLoss: ");const s=(0,Xt.i)(1);i=(0,We.l)((0,S.d)((0,Xt.i)(2),i),s);const l=(0,Ut.U)((0,We.l)(s,(0,S.d)(i,o)));return Tr(l,a,r)}});const Or=(0,k.op)({huberLoss_:function(e,t,n,i=1,o=kr.I.SUM_BY_NONZERO_WEIGHTS){const s=(0,b._1)(e,"labels","huberLoss"),l=(0,b._1)(t,"predictions","huberLoss");let c=null;null!=n&&(c=(0,b._1)(n,"weights","huberLoss")),(0,A.k5)(s.shape,l.shape,"Error in huberLoss: ");const u=(0,Xt.i)(i),d=(0,r.W)((0,We.l)(l,s)),p=(0,ct.L)(d,u),f=(0,We.l)(d,p),h=(0,a.I)((0,S.d)((0,Xt.i)(.5),(0,pt.h)(p)),(0,S.d)(u,f));return Tr(h,c,o)}});const Pr=(0,k.op)({logLoss_:function(e,t,n,r=1e-7,i=kr.I.SUM_BY_NONZERO_WEIGHTS){const o=(0,b._1)(e,"labels","logLoss"),s=(0,b._1)(t,"predictions","logLoss");let l=null;null!=n&&(l=(0,b._1)(n,"weights","logLoss")),(0,A.k5)(o.shape,s.shape,"Error in logLoss: ");const c=(0,Xt.i)(1),u=(0,Xt.i)(r),d=(0,Ue.W)((0,S.d)(o,(0,je.c)((0,a.I)(s,u)))),p=(0,S.d)((0,We.l)(c,o),(0,je.c)((0,a.I)((0,We.l)(c,s),u))),f=(0,We.l)(d,p);return Tr(f,l,i)}});const Ar=(0,k.op)({meanSquaredError_:function(e,t,n,r=kr.I.SUM_BY_NONZERO_WEIGHTS){const i=(0,b._1)(e,"labels","meanSquaredError"),o=(0,b._1)(t,"predictions","meanSquaredError");let a=null;null!=n&&(a=(0,b._1)(n,"weights","meanSquaredError")),(0,A.k5)(i.shape,o.shape,"Error in meanSquaredError: ");const s=(0,hn.$)(i,o);return Tr(s,a,r)}});const Ir=(0,k.op)({sigmoidCrossEntropy_:function(e,t,n,i=0,o=kr.I.SUM_BY_NONZERO_WEIGHTS){let s=(0,b._1)(e,"multiClassLabels","sigmoidCrossEntropy");const l=(0,b._1)(t,"logits","sigmoidCrossEntropy");let c=null;if(null!=n&&(c=(0,b._1)(n,"weights","sigmoidCrossEntropy")),(0,A.k5)(s.shape,l.shape,"Error in sigmoidCrossEntropy: "),i>0){const e=(0,Xt.i)(i),t=(0,Xt.i)(1),n=(0,Xt.i)(.5);s=(0,a.I)((0,S.d)(s,(0,We.l)(t,e)),(0,S.d)(n,e))}const u=function(e,t){const n=(0,b._1)(e,"labels","sigmoidCrossEntropyWithLogits"),i=(0,b._1)(t,"logits","sigmoidCrossEntropyWithLogits");(0,A.k5)(n.shape,i.shape,"Error in sigmoidCrossEntropyWithLogits: ");const o=(0,Ut.U)(i),s=(0,S.d)(i,n),l=(0,Be.K)((0,ve.Q)((0,Ue.W)((0,r.W)(i))));return(0,a.I)((0,We.l)(o,s),l)}(s,l);return Tr(u,c,o)}});const Mr=(0,k.op)({softmaxCrossEntropy_:function(e,t,n,r=0,i=kr.I.SUM_BY_NONZERO_WEIGHTS){let o=(0,b._1)(e,"onehotLabels","softmaxCrossEntropy");const s=(0,b._1)(t,"logits","softmaxCrossEntropy");let l=null;if(null!=n&&(l=(0,b._1)(n,"weights","softmaxCrossEntropy")),(0,A.k5)(o.shape,s.shape,"Error in softmaxCrossEntropy: "),r>0){const e=(0,Xt.i)(r),t=(0,Xt.i)(1),n=(0,Xt.i)(o.shape[1]);o=(0,a.I)((0,S.d)(o,(0,We.l)(t,e)),(0,ue.h)(e,n))}const c=function(e,t,n=-1){if(-1===n&&(n=t.rank-1),n!==t.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${t.rank} and dim was ${n}`);const r=(0,Fe.cb)(((e,t,r)=>{const i=qe(t,[n],!0),o=(0,We.l)((0,B.p)(t,"float32"),i);r([e,o]);const a=(0,Ue.W)((0,S.d)(o,e));return{value:(0,Ke.S)(a,[n]),gradFunc:(e,t)=>{const[r,i]=t,o=(0,Ve.rv)(e.shape,[n]);return[(0,S.d)((0,J.X)(e,o),(0,We.l)((0,B.p)(r,"float32"),(0,ve.Q)(i))),(0,S.d)((0,J.X)(e,o),(0,We.l)((0,ve.Q)(i),(0,B.p)(r,"float32")))]}}}));return r(e,t)}(o,s);return Tr(c,l,i)}});const Nr=(0,k.op)({sparseFillEmptyRows_:function(e,t,n,r){const i=(0,b._1)(e,"indices","sparseFillEmptyRows","int32"),o=(0,b._1)(t,"values","sparseFillEmptyRows"),a=(0,b._1)(n,"denseShape","sparseFillEmptyRows","int32"),s=(0,b._1)(r,"defaultValue","sparseFillEmptyRows",o.dtype);if(2!==i.rank)throw new Error(`Indices should be Tensor2D but received shape\n        ${i.shape}`);if(1!==o.rank)throw new Error(`Values should be Tensor1D but received shape ${o.shape}`);if(1!==a.rank)throw new Error(`Dense shape should be Tensor1D but received shape ${a.shape}`);if(0!==s.rank)throw new Error(`Default value should be a scalar but received shape ${s.shape}`);const l={indices:i,values:o,denseShape:a,defaultValue:s},c=Y.BV.runKernel(Q.O3,l);return{outputIndices:c[0],outputValues:c[1],emptyRowIndicator:c[2],reverseIndexMap:c[3]}}});const Rr=(0,k.op)({sparseReshape_:function(e,t,n){const r=(0,b._1)(e,"inputIndices","sparseReshape","int32"),i=(0,b._1)(t,"inputShape","sparseReshape","int32"),o=(0,b._1)(n,"newShape","sparseReshape","int32");if(2!==r.rank)throw new Error(`Input indices should be Tensor2D but received shape\n        ${r.shape}`);if(1!==i.rank)throw new Error(`Input shape should be Tensor1D but received shape ${i.shape}`);if(1!==o.rank)throw new Error(`New shape should be Tensor1D but received shape ${o.shape}`);const a={inputIndices:r,inputShape:i,newShape:o},s=Y.BV.runKernel(Q.nh,a);return{outputIndices:s[0],outputShape:s[1]}}});const Dr=(0,k.op)({sparseSegmentMean_:function(e,t,n){const r=(0,b._1)(e,"data","sparseSegmentMean"),i=(0,b._1)(t,"indices","sparseSegmentMean","int32"),o=(0,b._1)(n,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error(`Indices should be Tensor1D but received shape\n          ${i.shape}`);if(1!==o.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n          ${o.shape}`);const a={data:r,indices:i,segmentIds:o};return Y.BV.runKernel(Q.YW,a)}});const Lr=(0,k.op)({sparseSegmentSum_:function(e,t,n){const r=(0,b._1)(e,"data","sparseSegmentSum"),i=(0,b._1)(t,"indices","sparseSegmentSum","int32"),o=(0,b._1)(n,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(1!==i.rank)throw new Error(`Indices should be Tensor1D but received shape\n         ${i.shape}`);if(1!==o.rank)throw new Error(`Segment ids should be Tensor1D but received shape\n         ${o.shape}`);const a={data:r,indices:i,segmentIds:o};return Y.BV.runKernel(Q.Zj,a)}});const jr=(0,k.op)({stringNGrams_:function(e,t,n,r,i,o,a,s){const l=(0,b._1)(e,"data","stringNGrams","string");if("string"!==l.dtype)throw new Error("Data must be of datatype string");if(1!==l.shape.length)throw new Error(`Data must be a vector, saw: ${l.shape}`);const c=(0,b._1)(t,"dataSplits","stringNGrams");if("int32"!==c.dtype)throw new Error("Data splits must be of datatype int32");const u={separator:n,nGramWidths:r,leftPad:i,rightPad:o,padWidth:a,preserveShortSequences:s},d={data:l,dataSplits:c},p=Y.BV.runKernel(Q._J,d,u);return{nGrams:p[0],nGramsSplits:p[1]}}});const Br=(0,k.op)({stringSplit_:function(e,t,n=!0){const r=(0,b._1)(e,"input","stringSplit","string"),i=(0,b._1)(t,"delimiter","stringSplit","string");if(1!==r.rank)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(0!==i.rank)throw new Error(`Delimiter should be a scalar but received shape ${i.shape}`);const o={skipEmpty:n},a={input:r,delimiter:i},s=Y.BV.runKernel(Q.s1,a,o);return{indices:s[0],values:s[1],shape:s[2]}}});const Fr=(0,k.op)({stringToHashBucketFast_:function(e,t){const n=(0,b._1)(e,"input","stringToHashBucketFast","string"),r={numBuckets:t};if(t<=0)throw new Error("Number of buckets must be at least 1");const i={input:n};return Y.BV.runKernel(Q.Xk,i,r)}}),Ur={fft:ln.k,ifft:cn.S,rfft:dn.Q,irfft:un.w},$r={hammingWindow:Qn,hannWindow:Jn,frame:er,stft:tr},Hr={flipLeftRight:rr,grayscaleToRGB:ir,resizeNearestNeighbor:mr,resizeBilinear:hr,rotateWithOffset:or,cropAndResize:nr,nonMaxSuppression:sr,nonMaxSuppressionAsync:cr,nonMaxSuppressionWithScore:ur,nonMaxSuppressionWithScoreAsync:dr,nonMaxSuppressionPadded:pr,nonMaxSuppressionPaddedAsync:fr,threshold:gr,transform:vr},Gr={bandPart:yr,gramSchmidt:br,qr:Sr},Vr={absoluteDifference:Er,computeWeightedLoss:Tr,cosineDistance:_r,hingeLoss:Cr,huberLoss:Or,logLoss:Pr,meanSquaredError:Ar,sigmoidCrossEntropy:Ir,softmaxCrossEntropy:Mr},zr={sparseFillEmptyRows:Nr,sparseReshape:Rr,sparseSegmentMean:Dr,sparseSegmentSum:Lr},Wr={stringNGrams:jr,stringSplit:Br,stringToHashBucketFast:Fr}},39682:(e,t,n)=>{"use strict";n.d(t,{v:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({pad_:function(e,t,n=0){const a=(0,o._1)(e,"x","pad");if(0===a.rank)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const s={paddings:t,constantValue:n},l={x:a};return r.BV.runKernel(i.ly,l,s)}})},33453:(e,t,n)=>{"use strict";n.d(t,{s:()=>s});var r=n(97097),i=n(29121),o=n(80747),a=n(43740);const s=(0,n(2668).op)({pow_:function(e,t){let n=(0,a._1)(e,"base","pow"),s=(0,a._1)(t,"exp","pow");[n,s]=(0,o.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.pe,l)}})},98151:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({prelu_:function(e,t){const n={x:(0,o._1)(e,"x","prelu"),alpha:(0,o._1)(t,"alpha","prelu")};return r.BV.runKernel(i.o0,n)}})},29798:(e,t,n)=>{"use strict";function r(e,t=!1){console.log(e.toString(t))}n.d(t,{S:()=>r})},49451:(e,t,n)=>{"use strict";n.d(t,{W:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(62271);const s=(0,n(2668).op)({prod_:function(e,t=null,n=!1){let s=(0,o._1)(e,"x","prod");"bool"===s.dtype&&(s=(0,a.p)(s,"int32"));const l={x:s},c={axis:t,keepDims:n};return r.BV.runKernel(i.Dl,l,c)}})},56845:(e,t,n)=>{"use strict";n.d(t,{T9:()=>o,Yi:()=>i,wv:()=>a});var r=n(63129);class i{constructor(e,t,n,i,o){this.mean=e,this.stdDev=t,this.dtype=n,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+2*this.stdDev,this.lower=this.mean-2*this.stdDev);const a=o||Math.random();this.random=r.alea(a.toString())}nextValue(){if(!isNaN(this.nextVal)){const e=this.nextVal;return this.nextVal=NaN,e}let e,t,n=!1;for(;!n;){let r,i,o;do{r=2*this.random()-1,i=2*this.random()-1,o=r*r+i*i}while(o>=1||0===o);const a=Math.sqrt(-2*Math.log(o)/o);e=this.mean+this.stdDev*r*a,t=this.mean+this.stdDev*i*a,this.truncated&&!this.isValidTruncated(e)||(n=!0)}return this.truncated&&!this.isValidTruncated(t)||(this.nextVal=this.convertValue(t)),this.convertValue(e)}convertValue(e){return null==this.dtype||"float32"===this.dtype?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class o{constructor(e,t,n,o){this.alpha=e,this.beta=1/t,this.dtype=n;const a=o||Math.random();this.randu=r.alea(a.toString()),this.randn=new i(0,1,n,!1,this.randu()),this.d=e<1?e+2/3:e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,t,n,r,i,o;for(;;){do{r=this.randn.nextValue(),o=1+this.c*r}while(o<=0);if(o*=o*o,e=r*r,t=1-.331*e*e,n=.5*e+this.d*(1-o+Math.log(o)),i=this.randu(),i<t||Math.log(i)<n)break}return o=1/this.beta*this.d*o,this.alpha<1&&(o*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(o)}convertValue(e){return"float32"===this.dtype?e:Math.round(e)}}class a{constructor(e=0,t=1,n,i){if(this.canReturnFloat=()=>null==this.dtype||"float32"===this.dtype,this.min=e,this.range=t-e,this.dtype=n,null==i&&(i=Math.random()),"number"===typeof i&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${t} <= 1 and dtype is not float`);this.random=r.alea(i)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}},75002:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var r=n(72657),i=n(2668),o=n(56845);const a=(0,i.op)({randomUniform_:function(e,t=0,n=1,i="float32",a){const s=(0,r.f)(e,i),l=new o.wv(t,n,null,a);for(let r=0;r<s.values.length;r++)s.values[r]=l.nextValue();return s.toTensor()}})},47245:(e,t,n)=>{"use strict";n.d(t,{w:()=>o});var r=n(97097),i=n(29121);function o(e,t,n=1,o="float32"){if(0===n)throw new Error("Cannot have a step of zero");const a={start:e,stop:t,step:n,dtype:o};return r.BV.runKernel(i.e6,{},a)}},60766:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({real_:function(e){const t={input:(0,o._1)(e,"input","real")};return r.BV.runKernel(i.xJ,t)}})},19036:(e,t,n)=>{"use strict";n.d(t,{M:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({reciprocal_:function(e){const t={x:(0,o._1)(e,"x","reciprocal")};return r.BV.runKernel(i.$H,t)}})},7409:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({relu_:function(e){const t={x:(0,o._1)(e,"x","relu")};return r.BV.runKernel(i.qk,t)}})},83582:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({relu6_:function(e){const t={x:(0,o._1)(e,"x","relu6")};return r.BV.runKernel(i.Sb,t)}})},4968:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({reshape_:function(e,t){const n={x:(0,o._1)(e,"x","reshape","string_or_numeric")},a={shape:t};return r.BV.runKernel(i.HZ,n,a)}})},57486:(e,t,n)=>{"use strict";n.d(t,{G:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({reverse_:function(e,t){const n={x:(0,o._1)(e,"x","reverse")},a={dims:t};return r.BV.runKernel(i.mK,n,a)}})},97809:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({round_:function(e){const t={x:(0,o._1)(e,"x","round")};return r.BV.runKernel(i.e0,t)}})},32634:(e,t,n)=>{"use strict";n.d(t,{b:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({rsqrt_:function(e){const t={x:(0,o._1)(e,"x","rsqrt","float32")};return r.BV.runKernel(i.bV,t)}})},99494:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(20569),i=n(57852);function o(e,t){if(((0,r.fU)(e)&&"string"!==t||Array.isArray(e))&&"complex64"!==t)throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if("string"===t&&(0,r.fU)(e)&&!(e instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return(0,i.H)(e,[],[],t)}},63100:(e,t,n)=>{"use strict";n.d(t,{s:()=>l});var r=n(97097),i=n(29121),o=n(43740),a=n(2668),s=n(33028);const l=(0,a.op)({scatterND_:function(e,t,n){const a=(0,o._1)(e,"indices","scatterND","int32"),l=(0,o._1)(t,"updates","scatterND");s.validateInput(l,a,n);const c={indices:a,updates:l},u={shape:n};return r.BV.runKernel(i.xQ,c,u)}})},33028:(e,t,n)=>{"use strict";n.r(t),n.d(t,{calculateShapes:()=>a,validateInput:()=>o,validateUpdateShape:()=>i});var r=n(20569);function i(e,t,n){const r=t.rank>1?t.shape[t.rank-1]:1,i=t.rank>1?t.rank-1:1,o=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${n.shape}, indices.shape: ${t.shape}, shape: ${e}, sliceDim: ${r}, and batchDim: ${i}.`;if(n.rank<i)throw new Error(o+` update.rank < ${i}. `);if(e.length<r+(n.rank-i))throw new Error(o+` Output shape length < ${r+(n.rank-i)}`);if(n.rank!==i+e.length-r)throw new Error(o+" update.rank != "+(i+e.length-r));for(let a=0;a<i;++a)if(n.shape[a]!==t.shape[a])throw new Error(o+` updates.shape[${a}] (${n.shape[a]}) != indices.shape[${a}] (${t.shape[a]}).`);for(let a=0;a<n.rank-i;++a)if(n.shape[a+i]!==e[a+r])throw new Error(o+` updates.shape[${a+i}] (${n.shape[a+i]}) != shape[${a+i}] (${e[a+i]})`)}function o(e,t,n){if(t.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${e.rank}.`);if("int32"!==t.dtype)throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${t.dtype}`);if(n.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${n}`);if(0===n.length){if(0===t.size)throw new Error(`Indices specified for empty output. indices shape: ${t.shape}`);if(0===e.size)throw new Error(`Updates specified for empty output. updates shape: ${e.shape}`)}i(n,t,e)}function a(e,t,n){const i=t.shape.length,o=i>1?t.shape[i-1]:1,a=n.length;let s=1;for(let r=o;r<a;++r)s*=n[r];const l=o<1?1:o;return{sliceRank:o,numUpdates:(0,r.NA)(t.shape)/l,sliceSize:s,strides:[...(0,r.e3)(n.slice(0,o)),1],outputSize:(0,r.NA)(n)}}},55503:(e,t,n)=>{"use strict";n.d(t,{U:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({selu_:function(e){const t={x:(0,o._1)(e,"x","selu")};return r.BV.runKernel(i.oF,t)}})},36567:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(4077),i=n(43740),o=n(20569);const a=async function(e,t){const n=(0,i._1)(e,"x","setdiff1d"),a=(0,i._1)(t,"y","setdiff1d");o.hu(n.dtype===a.dtype,(()=>`x and y should have the same dtype, but got x (${n.dtype}) and y (${a.dtype}).`)),o.hu(1===n.rank,(()=>`x should be 1D tensor, but got x (${n.shape}).`)),o.hu(1===a.rank,(()=>`y should be 1D tensor, but got y (${a.shape}).`));const s=await n.data(),l=await a.data(),c=new Set(l);let u=0;for(let r=0;r<s.length;r++)c.has(s[r])||u++;const d=new r.YD([u],n.dtype),p=new r.YD([u],"int32");for(let r=0,i=0;r<s.length;r++)c.has(s[r])||(d.values[i]=s[r],p.values[i]=r,i++);return[d.toTensor(),p.toTensor()]}},30625:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({sigmoid_:function(e){const t={x:(0,o._1)(e,"x","sigmoid","float32")};return r.BV.runKernel(i.a5,t)}})},34434:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({sign_:function(e){const t={x:(0,o._1)(e,"x","sign")};return r.BV.runKernel(i.i5,t)}})},99331:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({sin_:function(e){const t={x:(0,o._1)(e,"x","sin","float32")};return r.BV.runKernel(i.RQ,t)}})},83254:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({sinh_:function(e){const t={x:(0,o._1)(e,"x","sinh")};return r.BV.runKernel(i.w3,t)}})},22676:(e,t,n)=>{"use strict";n.d(t,{t:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({slice_:function(e,t,n){const a=(0,o._1)(e,"x","slice","string_or_numeric");if(0===a.rank)throw new Error("Slicing scalar is not possible");const s={x:a},l={begin:t,size:n};return r.BV.runKernel(i.p2,s,l)}})},80682:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({softmax_:function(e,t=-1){const n=(0,o._1)(e,"logits","softmax","float32");if(-1===t&&(t=n.rank-1),t!==n.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${n.rank} and dim was ${t}`);const a={logits:n},s={dim:t};return r.BV.runKernel(i.Gc,a,s)}})},3694:(e,t,n)=>{"use strict";n.d(t,{W:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({softplus_:function(e){const t={x:(0,o._1)(e,"x","softplus")};return r.BV.runKernel(i.MR,t)}})},27918:(e,t,n)=>{"use strict";n.d(t,{f:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({spaceToBatchND_:function(e,t,n){const s=(0,o._1)(e,"x","spaceToBatchND");a.hu(s.rank>=1+t.length,(()=>`input rank ${s.rank} should be > than [blockShape] ${t.length}`)),a.hu(n.length===t.length,(()=>`paddings.shape[0] ${n.length} must be equal to [blockShape] ${t.length}`)),a.hu(s.shape.reduce(((e,r,i)=>i>0&&i<=t.length?e&&(r+n[i-1][0]+n[i-1][1])%t[i-1]===0:e),!0),(()=>`input spatial dimensions ${s.shape.slice(1)} with paddings ${n.toString()} must be divisible by blockShapes ${t.toString()}`));const l={x:s},c={blockShape:t,paddings:n};return r.BV.runKernel(i.TQ,l,c)}})},39758:(e,t,n)=>{"use strict";n.d(t,{e:()=>a});var r=n(97097),i=n(29121);var o=n(43740);const a=(0,n(2668).op)({sparseToDense_:function(e,t,n,a=0){const s=(0,o._1)(e,"sparseIndices","sparseToDense","int32"),l=(0,o._1)(t,"sparseValues","sparseToDense"),c=(0,o._1)(a,"defaultValue","sparseToDense",l.dtype);!function(e,t,n,r){if("int32"!==e.dtype)throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${e.shape}.`);const i=e.rank>0?e.shape[0]:1,o=e.rank>1?e.shape[1]:1;if(n.length!==o)throw new Error(`outputShape has incorrect number of elements:, ${n.length}, should be: ${o}.`);const a=t.size;if(0!==t.rank&&(1!==t.rank||a!==i))throw new Error(`sparseValues has incorrect shape ${t.shape}, should be [] or [${i}]`);if(t.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}(s,l,n,c);const u={sparseIndices:s,sparseValues:l,defaultValue:c},d={outputShape:n};return r.BV.runKernel(i.D2,u,d)}})},7020:(e,t,n)=>{"use strict";n.d(t,{k:()=>a});var r=n(97097),i=n(29121),o=n(20569);const a=(0,n(2668).op)({fft_:function(e){(0,o.hu)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.fft() must be complex64 but got ${e.dtype}.`));const t={input:e};return r.BV.runKernel(i.vw,t)}})},88447:(e,t,n)=>{"use strict";n.d(t,{S:()=>a});var r=n(97097),i=n(29121),o=n(20569);const a=(0,n(2668).op)({ifft_:function(e){(0,o.hu)("complex64"===e.dtype,(()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${e.dtype}.`));const t={input:e};return r.BV.runKernel(i.Qg,t)}})},84415:(e,t,n)=>{"use strict";n.d(t,{w:()=>h});var r=n(61661),i=n(46884),o=n(64386),a=n(24841),s=n(2668),l=n(60766),c=n(4968),u=n(57486),d=n(99494),p=n(22676),f=n(88447);const h=(0,s.op)({irfft_:function(e){const t=e.shape[e.shape.length-1],n=e.size/t;let s;if(t<=2){const r=(0,c.X)(e,[n,t]);s=(0,f.S)(r)}else{const h=[n,2*(t-1)],m=(0,c.X)((0,l.k)(e),[n,t]),g=(0,c.X)((0,o.a)(e),[n,t]),v=(0,u.G)((0,p.t)(m,[0,1],[n,t-2]),1),y=(0,a.d)((0,u.G)((0,p.t)(g,[0,1],[n,t-2]),1),(0,d.i)(-1)),b=(0,i.z)([m,v],1),w=(0,i.z)([g,y],1),x=(0,c.X)((0,r.P)(b,w),[h[0],h[1]]);s=(0,f.S)(x)}if(s=(0,l.k)(s),3===e.rank&&0!==e.shape[0]){const t=s,n=e.shape[0];s=(0,c.X)(s,[n,s.shape[0]/n,s.shape[1]]),t.dispose()}return s}})},13710:(e,t,n)=>{"use strict";n.d(t,{Q:()=>m});var r=n(20569),i=n(61661),o=n(46884),a=n(64386),s=n(2668),l=n(60766),c=n(4968),u=n(22676),d=n(28644),p=n(59640),f=n(6577),h=n(7020);const m=(0,s.op)({rfft_:function(e,t){(0,r.hu)("float32"===e.dtype,(()=>`The dtype for rfft() must be real value but got ${e.dtype}`));let n=e.shape[e.shape.length-1];const s=e.size/n;let m;if(null!=t&&t<n){const r=e.shape.map((e=>0)),i=e.shape.map((e=>e));i[e.shape.length-1]=t,m=(0,u.t)(e,r,i),n=t}else if(null!=t&&t>n){const r=e.shape.map((e=>e));r[e.shape.length-1]=t-n,m=(0,o.z)([e,(0,p.l)(r)],e.shape.length-1),n=t}else m=e;const g=(0,f.P)(m),v=(0,c.X)((0,i.P)(m,g),[s,n]),y=(0,h.k)(v),b=Math.floor(n/2)+1,w=(0,l.k)(y),x=(0,a.a)(y),S=(0,d.V)(w,[b,n-b],w.shape.length-1),k=(0,d.V)(x,[b,n-b],x.shape.length-1),T=m.shape.slice();return T[m.shape.length-1]=b,(0,c.X)((0,i.P)(S[0],k[0]),T)}})},28644:(e,t,n)=>{"use strict";n.d(t,{V:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({split_:function(e,t,n=0){const a={x:(0,o._1)(e,"x","split")},s={numOrSizeSplits:t,axis:n};return r.BV.runKernel(i.L8,a,s)}})},13261:(e,t,n)=>{"use strict";n.d(t,{_:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({sqrt_:function(e){const t={x:(0,o._1)(e,"x","sqrt","float32")};return r.BV.runKernel(i.FK,t)}})},50248:(e,t,n)=>{"use strict";n.d(t,{h:()=>o});var r=n(97097),i=n(43740);const o=(0,n(2668).op)({square_:function(e){const t=(0,i._1)(e,"x","square");return r.BV.runKernel("Square",{x:t},{})}})},15265:(e,t,n)=>{"use strict";n.d(t,{$:()=>l});var r=n(97097),i=n(29121),o=n(80747),a=n(43740),s=n(72200);const l=(0,n(2668).op)({squaredDifference_:function(e,t){let n=(0,a._1)(e,"a","squaredDifference"),l=(0,a._1)(t,"b","squaredDifference");[n,l]=(0,o.makeTypesMatch)(n,l),(0,s.assertAndGetBroadcastShape)(n.shape,l.shape);const c={a:n,b:l};return r.BV.runKernel(i._t,c,{})}})},79590:(e,t,n)=>{"use strict";n.d(t,{L:()=>s});var r=n(43740),i=n(20569),o=n(2668),a=n(4968);const s=(0,o.op)({squeeze_:function(e,t){const n=(0,r._1)(e,"x","squeeze");return(0,a.X)(n,(0,i.bp)(n.shape,t).newShape)}})},82991:(e,t,n)=>{"use strict";n.d(t,{k:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({stack_:function(e,t=0){const n=(0,o.sI)(e,"tensors","stack","string_or_numeric");a.hu(n.length>=1,(()=>"Pass at least one tensor to tf.stack")),n.length>0&&a.hu(t<=n[0].rank,(()=>"Axis must be <= rank of the tensor"));const s=n,l={axis:t};return r.BV.runKernel(i.Qi,s,l)}})},71901:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({step_:function(e,t=0){const n={x:(0,o._1)(e,"x","step")},a={alpha:t};return r.BV.runKernel(i.h8,n,a)}})},55158:(e,t,n)=>{"use strict";n.d(t,{N:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({stridedSlice_:function(e,t,n,a,s=0,l=0,c=0,u=0,d=0){const p={x:(0,o._1)(e,"x","stridedSlice","string_or_numeric")},f={begin:t,end:n,strides:a,beginMask:s,endMask:l,ellipsisMask:c,newAxisMask:u,shrinkAxisMask:d};return r.BV.runKernel(i.m2,p,f)}})},70827:(e,t,n)=>{"use strict";n.d(t,{l:()=>s});var r=n(97097),i=n(29121),o=n(80747),a=n(43740);const s=(0,n(2668).op)({sub_:function(e,t){let n=(0,a._1)(e,"a","sub"),s=(0,a._1)(t,"b","sub");[n,s]=(0,o.makeTypesMatch)(n,s);const l={a:n,b:s};return r.BV.runKernel(i.Tr,l)}})},15475:(e,t,n)=>{"use strict";n.d(t,{S:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(62271);const s=(0,n(2668).op)({sum_:function(e,t=null,n=!1){let s=(0,o._1)(e,"x","sum");"bool"===s.dtype&&(s=(0,a.p)(s,"int32"));const l={x:s},c={axis:t,keepDims:n};return r.BV.runKernel(i.GB,l,c)}})},61173:(e,t,n)=>{"use strict";n.d(t,{O:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({tan_:function(e){const t={x:(0,o._1)(e,"x","tan","float32")};return r.BV.runKernel(i.sE,t)}})},21869:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({tanh_:function(e){const t={x:(0,o._1)(e,"x","tanh","float32")};return r.BV.runKernel(i.MI,t)}})},10701:(e,t,n)=>{"use strict";n.d(t,{X:()=>o});var r=n(43740),i=n(57852);function o(e,t,n){const o=(0,r.C)(e,n);return(0,i.H)(e,t,o,n)}},46092:(e,t,n)=>{"use strict";n.d(t,{R:()=>a});var r=n(43740),i=n(20569),o=n(57852);function a(e,t){(0,i.Cq)(e);const n=(0,r.C)(e,t);if(1!==n.length)throw new Error("tensor1d() requires values to be a flat/TypedArray");return(0,o.H)(e,null,n,t)}},99906:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(43740),i=n(20569),o=n(57852);function a(e,t,n){if((0,i.Cq)(e),null!=t&&3!==t.length)throw new Error("tensor3d() requires shape to have three numbers");const a=(0,r.C)(e,n);if(3!==a.length&&1!==a.length)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(1===a.length&&null==t)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return(0,o.H)(e,t,a,n)}},57852:(e,t,n)=>{"use strict";n.d(t,{H:()=>a});var r=n(97097),i=n(20569),o=n(79122);function a(e,t,n,a){if(null==a&&(a=(0,i.D2)(e)),"complex64"===a)throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(!(0,i.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e)throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(null!=t){(0,i.Mu)(t);const e=(0,i.NA)(t),r=(0,i.NA)(n);(0,i.hu)(e===r,(()=>`Based on the provided shape, [${t}], the tensor should have ${e} values but has ${r}`));for(let o=0;o<n.length;++o){const e=n[o],r=o!==n.length-1||e!==(0,i.NA)(t.slice(o));(0,i.hu)(n[o]===t[o]||!r,(()=>`Error creating a new Tensor. Inferred shape (${n}) does not match the provided shape (${t}). `))}}return(0,i.fU)(e)||Array.isArray(e)||(e=[e]),t=t||n,e="string"!==a?(0,o.toTypedArray)(e,a):(0,i.xH)(e,[],!0),r.BV.makeTensor(e,t,a)}},47501:(e,t,n)=>{"use strict";n.d(t,{G:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({tile_:function(e,t){const n=(0,o._1)(e,"x","tile","string_or_numeric");a.hu(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of reps ${t}.`));const s={x:n},l={reps:t};return r.BV.runKernel(i.n9,s,l)}})},43243:(e,t,n)=>{"use strict";n.d(t,{h:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({topk_:function(e,t=1,n=!0){const a=(0,o._1)(e,"x","topk");if(0===a.rank)throw new Error("topk() expects the input to be of rank 1 or higher");const s=a.shape[a.shape.length-1];if(t<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${t}`);if(t>s)throw new Error(`'k' passed to topk() must be <= the last dimension (${s}) but got ${t}`);const l={x:a},c={k:t,sorted:n},[u,d]=r.BV.runKernel(i.cW,l,c);return{values:u,indices:d}}})},89065:(e,t,n)=>{"use strict";n.d(t,{p:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({transpose_:function(e,t){const n=(0,o._1)(e,"x","transpose");if(null==t&&(t=n.shape.map(((e,t)=>t)).reverse()),a.hu(n.rank===t.length,(()=>`Error in transpose: rank of input ${n.rank} must match length of perm ${t}.`)),t.forEach((e=>{a.hu(e>=0&&e<n.rank,(()=>"All entries in 'perm' must be between 0 and "+(n.rank-1)+` but got ${t}`))})),n.rank<=1)return n.clone();const s={x:n},l={perm:t};return r.BV.runKernel(i.G3,s,l)}})},43596:(e,t,n)=>{"use strict";n.d(t,{X:()=>a});var r=n(72657),i=n(2668),o=n(56845);const a=(0,i.op)({truncatedNormal_:function(e,t=0,n=1,i,a){if(null!=i&&"bool"===i)throw new Error("Unsupported data type $ { dtype }");const s=new o.Yi(t,n,i,!0,a),l=(0,r.f)(e,i);for(let r=0;r<l.values.length;r++)l.values[r]=s.nextValue();return l.toTensor()}})},49608:(e,t,n)=>{"use strict";n.d(t,{T:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({unique_:function(e,t=0){const n=(0,o._1)(e,"x","unique","string_or_numeric");(0,a.hu)(n.rank>0,(()=>"The input tensor must be at least 1D"));const s={x:n},l={axis:t},[c,u]=r.BV.runKernel(i.kp,s,l);return{values:c,indices:u}}})},24136:(e,t,n)=>{"use strict";n.d(t,{H:()=>s});var r=n(97097),i=n(29121),o=n(43740),a=n(20569);const s=(0,n(2668).op)({unstack_:function(e,t=0){const n=(0,o._1)(e,"x","unstack","string_or_numeric");a.hu(t>=-n.shape.length&&t<n.shape.length,(()=>`Axis = ${t} is not in [-${n.shape.length}, ${n.shape.length})`));const s={value:n},l={axis:t};return r.BV.runKernel(i.To,s,l)}})},95912:(e,t,n)=>{"use strict";n.d(t,{a:()=>l});var r=n(97097),i=n(29121),o=n(43740),a=n(68247),s=n(72200);const l=(0,n(2668).op)({where_:function(e,t,n){const l=(0,o._1)(t,"a","where"),c=(0,o._1)(n,"b","where"),u=(0,o._1)(e,"condition","where","bool"),d=(0,s.assertAndGetBroadcastShape)((0,s.assertAndGetBroadcastShape)(u.shape,l.shape),c.shape),p={condition:(0,a.U)(u,d),t:(0,a.U)(l,d),e:(0,a.U)(c,d)};return r.BV.runKernel(i.Ph,p)}})},66380:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});var r=n(48333),i=n(43740);const o=async function(e){const t=(0,i._1)(e,"condition","whereAsync","bool"),n=await t.data(),o=(0,r.Z)(t.shape,n);return e!==t&&t.dispose(),o}},59640:(e,t,n)=>{"use strict";n.d(t,{l:()=>a});var r=n(97097),i=n(20569),o=n(61661);function a(e,t="float32"){if("complex64"===t){const t=a(e,"float32"),n=a(e,"float32");return(0,o.P)(t,n)}const n=(0,i.wT)((0,i.NA)(e),t);return r.BV.makeTensor(n,e,t)}},6577:(e,t,n)=>{"use strict";n.d(t,{P:()=>a});var r=n(97097),i=n(29121),o=n(43740);const a=(0,n(2668).op)({zerosLike_:function(e){const t={x:(0,o._1)(e,"x","zerosLike")};return r.BV.runKernel(i.Ru,t)}})},4077:(e,t,n)=>{"use strict";n.d(t,{es:()=>y,YD:()=>d,_w:()=>b,FZ:()=>v,Vp:()=>g,Vi:()=>m});var r=n(55938),i=n(20569);function o(e,t,n,r){const o=(0,i.e3)(t),s=function(e,t,n,r){const o=(0,i.NA)(t),s=r[r.length-1],l=new Array(s).fill(0),u=t.length,d="complex64"===n?c(e):e;if(u>1)for(let i=0;i<o/s;i++){const e=i*s;for(let t=0;t<s;t++)l[t]=Math.max(l[t],a(d[e+t],0,n).length)}return l}(e,t,n,o),u=t.length,d=l(e,t,n,o,s),p=["Tensor"];return r&&(p.push(`  dtype: ${n}`),p.push(`  rank: ${u}`),p.push(`  shape: [${t}]`),p.push("  values:")),p.push(d.map((e=>"    "+e)).join("\n")),p.join("\n")}function a(e,t,n){let r;return r=Array.isArray(e)?`${parseFloat(e[0].toFixed(7))} + ${parseFloat(e[1].toFixed(7))}j`:(0,i.HD)(e)?`'${e}'`:"bool"===n?s(e):parseFloat(e.toFixed(7)).toString(),(0,i.oj)(r,t)}function s(e){return 0===e?"false":"true"}function l(e,t,n,r,i,o=!0){const u="complex64"===n?2:1,d=t[0],p=t.length;if(0===p){if("complex64"===n){return[a(c(e)[0],0,n)]}return"bool"===n?[s(e[0])]:[e[0].toString()]}if(1===p){if(d>20){const t=3*u;let r=Array.from(e.slice(0,t)),o=Array.from(e.slice((d-3)*u,d*u));return"complex64"===n&&(r=c(r),o=c(o)),["["+r.map(((e,t)=>a(e,i[t],n))).join(", ")+", ..., "+o.map(((e,t)=>a(e,i[d-3+t],n))).join(", ")+"]"]}return["["+("complex64"===n?c(e):Array.from(e)).map(((e,t)=>a(e,i[t],n))).join(", ")+"]"]}const f=t.slice(1),h=r.slice(1),m=r[0]*u,g=[];if(d>20){for(let t=0;t<3;t++){const r=t*m,o=r+m;g.push(...l(e.slice(r,o),f,n,h,i,!1))}g.push("...");for(let t=d-3;t<d;t++){const r=t*m,o=r+m;g.push(...l(e.slice(r,o),f,n,h,i,t===d-1))}}else for(let a=0;a<d;a++){const t=a*m,r=t+m;g.push(...l(e.slice(t,r),f,n,h,i,a===d-1))}const v=2===p?",":"";g[0]="["+g[0]+v;for(let a=1;a<g.length-1;a++)g[a]=" "+g[a]+v;let y=",\n";for(let a=2;a<p;a++)y+="\n";return g[g.length-1]=" "+g[g.length-1]+"]"+(o?"":y),g}function c(e){const t=[];for(let n=0;n<e.length;n+=2)t.push([e[n],e[n+1]]);return t}var u=n(79122);class d{constructor(e,t,n){if(this.dtype=t,this.shape=e.slice(),this.size=i.NA(e),null!=n){const e=n.length;i.hu(e===this.size,(()=>`Length of values '${e}' does not match the size inferred by the shape '${this.size}'.`))}if("complex64"===t)throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=n||i.rQ(t,this.size),this.strides=(0,i.e3)(e)}set(e,...t){0===t.length&&(t=[0]),i.hu(t.length===this.rank,(()=>`The number of provided coordinates (${t.length}) must match the rank (${this.rank})`));const n=this.locToIndex(t);this.values[n]=e}get(...e){0===e.length&&(e=[0]);let t=0;for(const r of e){if(r<0||r>=this.shape[t]){const t=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(t)}t++}let n=e[e.length-1];for(let r=0;r<e.length-1;++r)n+=this.strides[r]*e[r];return this.values[n]}locToIndex(e){if(0===this.rank)return 0;if(1===this.rank)return e[0];let t=e[e.length-1];for(let n=0;n<e.length-1;++n)t+=this.strides[n]*e[n];return t}indexToLoc(e){if(0===this.rank)return[];if(1===this.rank)return[e];const t=new Array(this.shape.length);for(let n=0;n<t.length-1;++n)t[n]=Math.floor(e/this.strides[n]),e-=t[n]*this.strides[n];return t[t.length-1]=e,t}get rank(){return this.shape.length}toTensor(){return p().makeTensor(this.values,this.shape,this.dtype)}}let p=null,f=null,h=null;function m(e){p=e}function g(e){f=e}function v(e){h=e}class y{constructor(e,t,n,r){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=t||"float32",this.size=i.NA(e),this.strides=(0,i.e3)(e),this.dataId=n,this.id=r,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return f.buffer(this.shape,this.dtype,e)}bufferSync(){return f.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return(0,i.GX)(this.shape,e,"complex64"===this.dtype)}arraySync(){return(0,i.GX)(this.shape,this.dataSync(),"complex64"===this.dtype)}async data(){this.throwIfDisposed();const e=p().read(this.dataId);if("string"===this.dtype){const n=await e;try{return n.map((e=>u.decodeString(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),p().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=p().readSync(this.dataId);if("string"===this.dtype)try{return e.map((e=>u.decodeString(e)))}catch(t){throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await p().read(this.dataId);return"string"===this.dtype?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(p().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return f.print(this,e)}clone(){return this.throwIfDisposed(),f.clone(this)}toString(e=!1){return o(this.dataSync(),this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),f.cast(this,e)}variable(e=!0,t,n){return this.throwIfDisposed(),p().makeVariable(this,e,t,n)}}Object.defineProperty(y,Symbol.hasInstance,{value:e=>!!e&&null!=e.data&&null!=e.dataSync&&null!=e.throwIfDisposed}),(0,r.R)("Tensor",(()=>y));class b extends y{constructor(e,t,n,r){super(e.shape,e.dtype,e.dataId,r),this.trainable=t,this.name=n}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!i.cO(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);p().disposeTensor(this),this.dataId=e.dataId,p().incRef(this,null)}dispose(){p().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(b,Symbol.hasInstance,{value:e=>e instanceof y&&null!=e.assign&&e.assign instanceof Function})},80747:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assertTypesMatch:()=>s,getTensorsInContainer:()=>c,isTensorInList:()=>l,makeTypesMatch:()=>a});var r=n(4077),i=n(71221),o=n(20569);function a(e,t){if(e.dtype===t.dtype)return[e,t];const n=(0,i.x8)(e.dtype,t.dtype);return[e.cast(n),t.cast(n)]}function s(e,t){(0,o.hu)(e.dtype===t.dtype,(()=>`The dtypes of the first(${e.dtype}) and second(${t.dtype}) input must match`))}function l(e,t){return t.some((t=>t.id===e.id))}function c(e){const t=[];return u(e,t,new Set),t}function u(e,t,n){if(null==e)return;if(e instanceof r.es)return void t.push(e);if(i=e,!Array.isArray(i)&&"object"!==typeof i)return;var i;const o=e;for(const r in o){const e=o[r];n.has(e)||(n.add(e),u(e,t,n))}}},43740:(e,t,n)=>{"use strict";n.d(t,{C:()=>l,_1:()=>d,sI:()=>p});var r=n(97097),i=n(22885),o=n(4077),a=n(20569),s=n(79122);function l(e,t){let n=e;if((0,a.fU)(e))return"string"===t?[]:[e.length];if(!Array.isArray(e))return[];const r=[];for(;Array.isArray(n)||(0,a.fU)(n)&&"string"!==t;)r.push(n.length),n=n[0];return Array.isArray(e)&&(0,i.OB)().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&c(e,r,[]),r}function c(e,t,n){if(n=n||[],!Array.isArray(e)&&!(0,a.fU)(e))return void(0,a.hu)(0===t.length,(()=>`Element arr[${n.join("][")}] is a primitive, but should be an array/TypedArray of ${t[0]} elements`));(0,a.hu)(t.length>0,(()=>`Element arr[${n.join("][")}] should be a primitive, but is an array of ${e.length} elements`)),(0,a.hu)(e.length===t[0],(()=>`Element arr[${n.join("][")}] should have ${t[0]} elements, but has ${e.length} elements`));const r=t.slice(1);for(let i=0;i<e.length;++i)c(e[i],r,n.concat(i))}function u(e,t,n,r){if("string_or_numeric"!==e){if(null==e)throw new Error("Expected dtype cannot be null.");if("numeric"!==e&&e!==t||"numeric"===e&&"string"===t)throw new Error(`Argument '${n}' passed to '${r}' must be ${e} tensor, but got ${t} tensor`)}}function d(e,t,n,i="numeric"){if(e instanceof o.es)return u(i,e.dtype,t,n),e;let c=(0,a.D2)(e);if("string"!==c&&["bool","int32","float32"].indexOf(i)>=0&&(c=i),u(i,c,t,n),null==e||!(0,a.fU)(e)&&!Array.isArray(e)&&"number"!==typeof e&&"boolean"!==typeof e&&"string"!==typeof e){const r=null==e?"null":e.constructor.name;throw new Error(`Argument '${t}' passed to '${n}' must be a Tensor or TensorLike, but got '${r}'`)}const d=l(e,c);(0,a.fU)(e)||Array.isArray(e)||(e=[e]);const p="string"!==c?(0,s.toTypedArray)(e,c):(0,a.xH)(e,[],!0);return r.BV.makeTensor(p,d,c)}function p(e,t,n,r="numeric"){if(!Array.isArray(e))throw new Error(`Argument ${t} passed to ${n} must be a \`Tensor[]\` or \`TensorLike[]\``);return e.map(((e,i)=>d(e,`${t}[${i}]`,n,r)))}},71221:(e,t,n)=>{"use strict";var r,i,o,a,s;n.d(t,{x8:()=>c,yw:()=>r,z4:()=>u}),function(e){e.R0="R0",e.R1="R1",e.R2="R2",e.R3="R3",e.R4="R4",e.R5="R5",e.R6="R6"}(r||(r={})),function(e){e.float32="float32",e.int32="int32",e.bool="int32",e.complex64="complex64"}(i||(i={})),function(e){e.float32="float32",e.int32="int32",e.bool="bool",e.complex64="complex64"}(o||(o={})),function(e){e.float32="float32",e.int32="float32",e.bool="float32",e.complex64="complex64"}(a||(a={})),function(e){e.float32="complex64",e.int32="complex64",e.bool="complex64",e.complex64="complex64"}(s||(s={}));const l={float32:a,int32:i,bool:o,complex64:s};function c(e,t){if("string"===e||"string"===t){if("string"===e&&"string"===t)return"string";throw new Error(`Can not upcast ${e} with ${t}`)}return l[e][t]}function u(e){return c(e,"int32")}},79122:(e,t,n)=>{"use strict";n.r(t),n.d(t,{arraysEqual:()=>i.cO,assert:()=>i.hu,assertNonNegativeIntegerDimensions:()=>i.Mu,assertNonNull:()=>i.Cq,assertShapesMatch:()=>i.k5,bytesFromStringArray:()=>i.Ub,bytesPerElement:()=>i.bT,checkConversionForErrors:()=>i.D5,clamp:()=>i.uZ,computeStrides:()=>i.e3,createScalarValue:()=>b,createShuffledIndices:()=>i.U$,decodeString:()=>T,distSquared:()=>i.E7,encodeString:()=>k,fetch:()=>S,fingerPrint64:()=>y,flatten:()=>i.xH,getArrayFromDType:()=>i.rQ,getTypedArrayFromDType:()=>i.WP,hasEncodingLoss:()=>i.QB,hexToLong:()=>s,indexToLoc:()=>i.NE,inferDtype:()=>i.D2,inferFromImplicitShape:()=>i.JZ,isBoolean:()=>i.jn,isFunction:()=>i.mf,isInt:()=>i.GN,isNumber:()=>i.hj,isPromise:()=>i.tI,isScalarShape:()=>i.N9,isString:()=>i.HD,isTypedArray:()=>i.fU,isValidDtype:()=>i.LP,locToIndex:()=>i.qy,makeOnesTypedArray:()=>i.p8,makeZerosNestedTypedArray:()=>i.l6,makeZerosTypedArray:()=>i.wT,nearestDivisor:()=>i.jP,nearestLargerEven:()=>i.nY,now:()=>x,parseAxisParam:()=>i.EC,randUniform:()=>i.bj,repeatedTry:()=>i.WD,rightPad:()=>i.oj,shuffle:()=>i.TV,shuffleCombo:()=>i.d7,sizeFromShape:()=>i.NA,sizeToSquarishShape:()=>i.YP,squeezeShape:()=>i.bp,sum:()=>i.Sm,swap:()=>i.LF,tanh:()=>i.AE,toNestedArray:()=>i.GX,toTypedArray:()=>w});var r=n(22885),i=n(20569),o=n(43720);const a=n.n(o)()||o;function s(e){return a.fromString(e,!0,16)}const l=s("c3a5c85c97cb3127"),c=s("b492b66fbe98f273"),u=s("9ae16a3b2f90404f");function d(e){return e.xor(e.shru(47))}function p(e,t,n){const r=e.slice(t,t+n);return a.fromBytes(Array.from(r),!0,!0)}function f(e,t){return p(e,t,8)}function h(e,t){return p(e,t,4)}function m(e,t){return 0===t?e:e.shru(t).or(e.shl(64-t))}function g(e,t,n=s("9ddfea08eb382d69")){let r=e.xor(t).mul(n);r=r.xor(r.shru(47));let i=t.xor(r).mul(n);return i=i.xor(i.shru(47)),i=i.mul(n),i}function v(e,t,n,r){return function(e,t,n,r,i,o){i=i.add(e),o=m(o.add(i).add(r),21);const a=i;return i=(i=i.add(t)).add(n),o=o.add(m(i,44)),[i.add(r),o.add(a)]}(f(e,t),f(e,t+8),f(e,t+16),f(e,t+24),n,r)}function y(e,t=e.length){const n=a.fromNumber(81,!0);if(t<=32)return t<=16?function(e,t=e.length){if(t>=8){const n=u.add(2*t),r=f(e,0).add(u),i=f(e,t-8);return g(m(i,37).mul(n).add(r),m(r,25).add(i).mul(n),n)}if(t>=4){const n=u.add(2*t);return g(h(e,0).shl(3).add(t),h(e,t-4),n)}if(t>0){const n=e[0]+(e[t>>1]<<8),r=t+(e[t-1]<<2);return d(u.mul(n).xor(l.mul(r))).mul(u)}return u}(e,t):function(e,t=e.length){const n=u.add(2*t),r=f(e,0).mul(c),i=f(e,8),o=f(e,t-8).mul(n),a=f(e,t-16).mul(u);return g(m(r.add(i),43).add(m(o,30)).add(a),r.add(m(i.add(u),18)).add(o),n)}(e,t);if(t<=64)return function(e,t=e.length){const n=u.add(2*t),r=f(e,0).mul(u),i=f(e,8),o=f(e,t-8).mul(n),a=f(e,t-16).mul(u),s=m(r.add(i),43).add(m(o,30)).add(a),l=g(s,r.add(m(i.add(u),18)).add(o),n),c=f(e,16).mul(n),d=f(e,24),p=s.add(f(e,t-32)).mul(n),h=l.add(f(e,t-24)).mul(n);return g(m(c.add(d),43).add(m(p,30)).add(h),c.add(m(d.add(r),18)).add(p),n)}(e,t);let r=n,i=n.mul(c).add(113),o=d(i.mul(u).add(113)).mul(u),s=[a.UZERO,a.UZERO],p=[a.UZERO,a.UZERO];r=r.mul(u).add(f(e,0));let y=0;const b=64*(t-1>>6),w=b+(t-1&63)-63;do{r=m(r.add(i).add(s[0]).add(f(e,y+8)),37).mul(c),i=m(i.add(s[1]).add(f(e,y+48)),42).mul(c),r=r.xor(p[1]),i=i.add(s[0]).add(f(e,y+40)),o=m(o.add(p[0]),33).mul(c),s=v(e,y,s[1].mul(c),r.add(p[0])),p=v(e,y+32,o.add(p[1]),i.add(f(e,y+16))),[o,r]=[r,o],y+=64}while(y!==b);const x=c.add(o.and(255).shl(1));return y=w,p[0]=p[0].add(t-1&63),s[0]=s[0].add(p[0]),p[0]=p[0].add(s[0]),r=m(r.add(i).add(s[0]).add(f(e,y+8)),37).mul(x),i=m(i.add(s[1]).add(f(e,y+48)),42).mul(x),r=r.xor(p[1].mul(9)),i=i.add(s[0].mul(9).add(f(e,y+40))),o=m(o.add(p[0]),33).mul(x),s=v(e,y,s[1].mul(x),r.add(p[0])),p=v(e,y+32,o.add(p[1]),i.add(f(e,y+16))),[o,r]=[r,o],g(g(s[0],p[0],x).add(d(i).mul(l)).add(o),g(s[1],p[1],x).add(r),x)}function b(e,t){return"string"===t?k(e):w([e],t)}function w(e,t){if("string"===t)throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(e)&&(e=i.xH(e)),(0,r.OB)().getBool("DEBUG")&&i.D5(e,t),function(e,t){return e instanceof Float32Array&&"float32"===t||e instanceof Int32Array&&"int32"===t||e instanceof Uint8Array&&"bool"===t}(e,t))return e;if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t){const t=new Uint8Array(e.length);for(let n=0;n<t.length;++n)0!==Math.round(e[n])&&(t[n]=1);return t}throw new Error(`Unknown data type ${t}`)}function x(){return(0,r.OB)().platform.now()}function S(e,t){return(0,r.OB)().platform.fetch(e,t)}function k(e,t="utf-8"){return t=t||"utf-8",(0,r.OB)().platform.encode(e,t)}function T(e,t="utf-8"){return t=t||"utf-8",(0,r.OB)().platform.decode(e,t)}},20569:(e,t,n)=>{"use strict";function r(e){let t=e.length,n=0;for(;t>0;)n=Math.random()*t|0,t--,s(e,t,n)}function i(e,t){if(e.length!==t.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${e.length}Second array length was ${t.length}`);let n=e.length,r=0;for(;n>0;)r=Math.random()*n|0,n--,s(e,n,r),s(t,n,r)}function o(e,t,n){return Math.max(e,Math.min(t,n))}function a(e){return e%2===0?e:e+1}function s(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function l(e){let t=0;for(let n=0;n<e.length;n++)t+=e[n];return t}function c(e,t){const n=Math.random();return t*n+(1-n)*e}function u(e,t){let n=0;for(let r=0;r<e.length;r++){const i=Number(e[r])-Number(t[r]);n+=i*i}return n}function d(e,t){if(!e)throw new Error("string"===typeof t?t:t())}function p(e,t,n=""){d(v(e,t),(()=>n+` Shapes ${e} and ${t} must match`))}function f(e){d(null!=e,(()=>"The input to the tensor constructor must be a non-null value."))}function h(e,t=[],n=!1){if(null==t&&(t=[]),Array.isArray(e)||M(e)&&!n)for(let r=0;r<e.length;++r)h(e[r],t,n);else t.push(e);return t}function m(e){if(0===e.length)return 1;let t=e[0];for(let n=1;n<e.length;n++)t*=e[n];return t}function g(e){return 0===e.length}function v(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function y(e){return e%1===0}function b(e){if(null!=Math.tanh)return Math.tanh(e);if(e===1/0)return 1;if(e===-1/0)return-1;{const t=Math.exp(2*e);return(t-1)/(t+1)}}function w(e){const t=Math.ceil(Math.sqrt(e));return[t,Math.ceil(e/t)]}function x(e){const t=new Uint32Array(e);for(let n=0;n<e;++n)t[n]=n;return r(t),t}function S(e,t){return t<=e.length?e:e+" ".repeat(t-e.length)}function k(e,t=(e=>0),n){return new Promise(((r,i)=>{let o=0;const a=()=>{if(e())return void r();o++;const s=t(o);null!=n&&o>=n?i():setTimeout(a,s)};a()}))}function T(e,t){let n=1,r=-1;for(let o=0;o<e.length;++o)if(e[o]>=0)n*=e[o];else if(-1===e[o]){if(-1!==r)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${o}`);r=o}else if(e[o]<0)throw Error(`Shapes can not be < 0. Found ${e[o]} at dim ${o}`);if(-1===r){if(t>0&&t!==n)throw Error(`Size(${t}) must match the product of shape ${e}`);return e}if(0===n)throw Error(`Cannot infer the missing size in [${e}] when there are 0 elements`);if(t%n!==0)throw Error(`The implicit shape can't be a fractional number. Got ${t} / ${n}`);const i=e.slice();return i[r]=t/n,i}function E(e,t){const n=t.length;return d((e=null==e?t.map(((e,t)=>t)):[].concat(e)).every((e=>e>=-n&&e<n)),(()=>`All values in axis param must be in range [-${n}, ${n}) but got axis ${e}`)),d(e.every((e=>y(e))),(()=>`All values in axis param must be integers but got axis ${e}`)),e.map((e=>e<0?n+e:e))}function _(e,t){const n=[],r=[],i=null!=t&&Array.isArray(t)&&0===t.length,o=null==t||i?null:E(t,e).sort();let a=0;for(let s=0;s<e.length;++s){if(null!=o){if(o[a]===s&&1!==e[s])throw new Error(`Can't squeeze axis ${s} since its dim '${e[s]}' is not 1`);(null==o[a]||o[a]>s)&&1===e[s]&&(n.push(e[s]),r.push(s)),o[a]<=s&&a++}1!==e[s]&&(n.push(e[s]),r.push(s))}return{newShape:n,keptDims:r}}function C(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else{if("bool"!==e)throw new Error(`Unknown data type ${e}`);n=new Uint8Array(t)}return n}function O(e,t){let n=null;if(null==e||"float32"===e)n=new Float32Array(t);else if("int32"===e)n=new Int32Array(t);else if("bool"===e)n=new Uint8Array(t);else{if("string"!==e)throw new Error(`Unknown data type ${e}`);n=new Array(t)}return n}function P(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${t} being uploaded contains ${r}.`)}}function A(e){return"bool"===e||"complex64"===e||"float32"===e||"int32"===e||"string"===e}function I(e,t){return"complex64"!==t&&(("float32"!==t||"complex64"===e)&&(("int32"!==t||"float32"===e||"complex64"===e)&&("bool"!==t||"bool"!==e)))}function M(e){return e instanceof Float32Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray}function N(e){if("float32"===e||"int32"===e)return 4;if("complex64"===e)return 8;if("bool"===e)return 1;throw new Error(`Unknown dtype ${e}`)}function R(e){if(null==e)return 0;let t=0;return e.forEach((e=>t+=e.length)),t}function D(e){return"string"===typeof e||e instanceof String}function L(e){return"boolean"===typeof e}function j(e){return"number"===typeof e}function B(e){return Array.isArray(e)?B(e[0]):e instanceof Float32Array?"float32":e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray?"int32":j(e)?"float32":D(e)?"string":L(e)?"bool":"float32"}function F(e){return!!(e&&e.constructor&&e.call&&e.apply)}function U(e,t){for(let n=t;n<e;++n)if(e%n===0)return n;return e}function $(e){const t=e.length;if(t<2)return[];const n=new Array(t-1);n[t-2]=e[t-1];for(let r=t-3;r>=0;--r)n[r]=n[r+1]*e[r+1];return n}function H(e,t,n,r=!1){const i=new Array;if(1===t.length){const o=t[0]*(r?2:1);for(let t=0;t<o;t++)i[t]=n[e+t]}else{const o=t[0],a=t.slice(1),s=a.reduce(((e,t)=>e*t))*(r?2:1);for(let t=0;t<o;t++)i[t]=H(e+t*s,a,n,r)}return i}function G(e,t,n=!1){if(0===e.length)return t[0];const r=e.reduce(((e,t)=>e*t))*(n?2:1);if(0===r)return[];if(r!==t.length)throw new Error(`[${e}] does not match the input size ${t.length}${n?" for a complex tensor":""}.`);return H(0,e,t,n)}function V(e,t){const n=z(e,t);for(let r=0;r<n.length;r++)n[r]=1;return n}function z(e,t){if(null==t||"float32"===t||"complex64"===t)return new Float32Array(e);if("int32"===t)return new Int32Array(e);if("bool"===t)return new Uint8Array(e);throw new Error(`Unknown data type ${t}`)}function W(e,t){const n=e.reduce(((e,t)=>e*t),1);if(null==t||"float32"===t)return G(e,new Float32Array(n));if("int32"===t)return G(e,new Int32Array(n));if("bool"===t)return G(e,new Uint8Array(n));throw new Error(`Unknown data type ${t}`)}function K(e){e.forEach((t=>{d(Number.isInteger(t)&&t>=0,(()=>`Tensor must have a shape comprised of positive integers but got shape [${e}].`))}))}function q(e,t,n){if(0===t)return 0;if(1===t)return e[0];let r=e[e.length-1];for(let i=0;i<e.length-1;++i)r+=n[i]*e[i];return r}function X(e,t,n){if(0===t)return[];if(1===t)return[e];const r=new Array(t);for(let i=0;i<r.length-1;++i)r[i]=Math.floor(e/n[i]),e-=r[i]*n[i];return r[r.length-1]=e,r}function Z(e){return e&&e.then&&"function"===typeof e.then}n.d(t,{AE:()=>b,Cq:()=>f,D2:()=>B,D5:()=>P,E7:()=>u,EC:()=>E,GN:()=>y,GX:()=>G,HD:()=>D,JZ:()=>T,LF:()=>s,LP:()=>A,Mu:()=>K,N9:()=>g,NA:()=>m,NE:()=>X,QB:()=>I,Sm:()=>l,TV:()=>r,U$:()=>x,Ub:()=>R,WD:()=>k,WP:()=>C,YP:()=>w,bT:()=>N,bj:()=>c,bp:()=>_,cO:()=>v,d7:()=>i,e3:()=>$,fU:()=>M,hj:()=>j,hu:()=>d,jP:()=>U,jn:()=>L,k5:()=>p,l6:()=>W,mf:()=>F,nY:()=>a,oj:()=>S,p8:()=>V,qy:()=>q,rQ:()=>O,tI:()=>Z,uZ:()=>o,wT:()=>z,xH:()=>h})},63129:(e,t,n)=>{var r=n(80626),i=n(90477),o=n(22868),a=n(48197),s=n(11954),l=n(12408),c=n(1662);c.alea=r,c.xor128=i,c.xorwow=o,c.xorshift7=a,c.xor4096=s,c.tychei=l,e.exports=c},80626:function(e,t,n){var r;!function(e,i,o){function a(e){var t,n=this,r=(t=4022871197,function(e){e=e.toString();for(var n=0;n<e.length;n++){var r=.02519603282416938*(t+=e.charCodeAt(n));r-=t=r>>>0,t=(r*=t)>>>0,t+=4294967296*(r-=t)}return 2.3283064365386963e-10*(t>>>0)});n.next=function(){var e=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=e-(n.c=0|e)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(e),n.s0<0&&(n.s0+=1),n.s1-=r(e),n.s1<0&&(n.s1+=1),n.s2-=r(e),n.s2<0&&(n.s2+=1),r=null}function s(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function l(e,t){var n=new a(e),r=t&&t.state,i=n.next;return i.int32=function(){return 4294967296*n.next()|0},i.double=function(){return i()+11102230246251565e-32*(2097152*i()|0)},i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.alea=l}(0,e=n.nmd(e),n.amdD)},12408:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this,n="";t.next=function(){var e=t.b,n=t.c,r=t.d,i=t.a;return e=e<<25^e>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-e|0,t.b=e=e<<20^e>>>12^n,t.c=n=n-r|0,t.d=r<<16^n>>>16^i,t.a=i-e|0},t.a=0,t.b=0,t.c=-1640531527,t.d=1367130551,e===Math.floor(e)?(t.a=e/4294967296|0,t.b=0|e):n+=e;for(var r=0;r<n.length+20;r++)t.b^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function l(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.tychei=l}(0,e=n.nmd(e),n.amdD)},90477:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this,n="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function l(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xor128=l}(0,e=n.nmd(e),n.amdD)},11954:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,n,r=t.w,i=t.X,o=t.i;return t.w=r=r+1640531527|0,n=i[o+34&127],e=i[o=o+1&127],n^=n<<13,e^=e<<17,n^=n>>>15,e^=e>>>12,n=i[o]=n^e,t.i=o,n+(r^r>>>16)|0},function(e,t){var n,r,i,o,a,s=[],l=128;for(t===(0|t)?(r=t,t=null):(t+="\0",r=0,l=Math.max(l,t.length)),i=0,o=-32;o<l;++o)t&&(r^=t.charCodeAt((o+32)%t.length)),0===o&&(a=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,o>=0&&(a=a+1640531527|0,i=0==(n=s[127&o]^=r+a)?i+1:0);for(i>=128&&(s[127&(t&&t.length||0)]=-1),i=127,o=512;o>0;--o)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;e.w=a,e.X=s,e.i=i}(t,e)}function s(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function l(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xor4096=l}(0,e=n.nmd(e),n.amdD)},48197:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this;t.next=function(){var e,n,r=t.x,i=t.i;return e=r[i],n=(e^=e>>>7)^e<<24,n^=(e=r[i+1&7])^e>>>10,n^=(e=r[i+3&7])^e>>>3,n^=(e=r[i+4&7])^e<<7,e=r[i+7&7],n^=(e^=e<<13)^e<<9,r[i]=n,t.i=i+1&7,n},function(e,t){var n,r=[];if(t===(0|t))r[0]=t;else for(t=""+t,n=0;n<t.length;++n)r[7&n]=r[7&n]<<15^t.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],e.x=r,e.i=0,n=256;n>0;--n)e.next()}(t,e)}function s(e,t){return t.x=e.x.slice(),t.i=e.i,t}function l(e,t){null==e&&(e=+new Date);var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xorshift7=l}(0,e=n.nmd(e),n.amdD)},22868:function(e,t,n){var r;!function(e,i,o){function a(e){var t=this,n="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,t.v=0,e===(0|e)?t.x=e:n+=e;for(var r=0;r<n.length+64;r++)t.x^=0|n.charCodeAt(r),r==n.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function s(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function l(e,t){var n=new a(e),r=t&&t.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var e=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},i.int32=n.next,i.quick=i,r&&("object"==typeof r&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=l:n.amdD&&n.amdO?void 0===(r=function(){return l}.call(t,n,t,i))||(i.exports=r):this.xorwow=l}(0,e=n.nmd(e),n.amdD)},1662:(e,t,n)=>{var r;!function(i,o){var a,s=this,l=256,c=o.pow(l,6),u=o.pow(2,52),d=2*u,p=255;function f(e,t,n){var r=[],p=v(g((t=1==t?{entropy:!0}:t||{}).entropy?[e,y(i)]:null==e?function(){try{var e;return a&&(e=a.randomBytes)?e=e(l):(e=new Uint8Array(l),(s.crypto||s.msCrypto).getRandomValues(e)),y(e)}catch(r){var t=s.navigator,n=t&&t.plugins;return[+new Date,s,n,s.screen,y(i)]}}():e,3),r),f=new h(r),b=function(){for(var e=f.g(6),t=c,n=0;e<u;)e=(e+n)*l,t*=l,n=f.g(1);for(;e>=d;)e/=2,t/=2,n>>>=1;return(e+n)/t};return b.int32=function(){return 0|f.g(4)},b.quick=function(){return f.g(4)/4294967296},b.double=b,v(y(f.S),i),(t.pass||n||function(e,t,n,r){return r&&(r.S&&m(r,f),e.state=function(){return m(f,{})}),n?(o.random=e,t):e})(b,p,"global"in t?t.global:this==o,t.state)}function h(e){var t,n=e.length,r=this,i=0,o=r.i=r.j=0,a=r.S=[];for(n||(e=[n++]);i<l;)a[i]=i++;for(i=0;i<l;i++)a[i]=a[o=p&o+e[i%n]+(t=a[i])],a[o]=t;(r.g=function(e){for(var t,n=0,i=r.i,o=r.j,a=r.S;e--;)t=a[i=p&i+1],n=n*l+a[p&(a[i]=a[o=p&o+t])+(a[o]=t)];return r.i=i,r.j=o,n})(l)}function m(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function g(e,t){var n,r=[],i=typeof e;if(t&&"object"==i)for(n in e)try{r.push(g(e[n],t-1))}catch(o){}return r.length?r:"string"==i?e:e+"\0"}function v(e,t){for(var n,r=e+"",i=0;i<r.length;)t[p&i]=p&(n^=19*t[p&i])+r.charCodeAt(i++);return y(t)}function y(e){return String.fromCharCode.apply(0,e)}if(o.seedrandom=f,v(o.random(),i),e.exports){e.exports=f;try{a=n(55778)}catch(b){}}else void 0===(r=function(){return f}.call(t,n,t,e))||(e.exports=r)}([],Math)},9669:(e,t,n)=>{e.exports=n(51609)},55448:(e,t,n)=>{"use strict";var r=n(64867),i=n(36026),o=n(4372),a=n(15327),s=n(94097),l=n(84109),c=n(67985),u=n(85061),d=n(77874),p=n(65263);e.exports=function(e){return new Promise((function(t,n){var f,h=e.data,m=e.headers,g=e.responseType;function v(){e.cancelToken&&e.cancelToken.unsubscribe(f),e.signal&&e.signal.removeEventListener("abort",f)}r.isFormData(h)&&delete m["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var b=e.auth.username||"",w=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";m.Authorization="Basic "+btoa(b+":"+w)}var x=s(e.baseURL,e.url);function S(){if(y){var r="getAllResponseHeaders"in y?l(y.getAllResponseHeaders()):null,o={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:r,config:e,request:y};i((function(e){t(e),v()}),(function(e){n(e),v()}),o),y=null}}if(y.open(e.method.toUpperCase(),a(x,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=S:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(S)},y.onabort=function(){y&&(n(u("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(u("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},r.isStandardBrowserEnv()){var k=(e.withCredentials||c(x))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;k&&(m[e.xsrfHeaderName]=k)}"setRequestHeader"in y&&r.forEach(m,(function(e,t){"undefined"===typeof h&&"content-type"===t.toLowerCase()?delete m[t]:y.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),g&&"json"!==g&&(y.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(f=function(e){y&&(n(!e||e&&e.type?new p("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(f),e.signal&&(e.signal.aborted?f():e.signal.addEventListener("abort",f))),h||(h=null),y.send(h)}))}},51609:(e,t,n)=>{"use strict";var r=n(64867),i=n(91849),o=n(30321),a=n(47185);var s=function e(t){var n=new o(t),s=i(o.prototype.request,n);return r.extend(s,o.prototype,n),r.extend(s,n),s.create=function(n){return e(a(t,n))},s}(n(45546));s.Axios=o,s.Cancel=n(65263),s.CancelToken=n(14972),s.isCancel=n(26502),s.VERSION=n(97288).version,s.all=function(e){return Promise.all(e)},s.spread=n(8713),s.isAxiosError=n(16268),e.exports=s,e.exports.default=s},65263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},14972:(e,t,n)=>{"use strict";var r=n(65263);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,r=new Promise((function(e){n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},i.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},26502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},30321:(e,t,n)=>{"use strict";var r=n(64867),i=n(15327),o=n(80782),a=n(13572),s=n(47185),l=n(54875),c=l.validators;function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&l.assertOptions(n,{silentJSONParsing:c.transitional(c.boolean),forcedJSONParsing:c.transitional(c.boolean),clarifyTimeoutError:c.transitional(c.boolean)},!1);var r=[],i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));var o,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!i){var d=[a,void 0];for(Array.prototype.unshift.apply(d,r),d=d.concat(u),o=Promise.resolve(t);d.length;)o=o.then(d.shift(),d.shift());return o}for(var p=t;r.length;){var f=r.shift(),h=r.shift();try{p=f(p)}catch(m){h(m);break}}try{o=a(p)}catch(m){return Promise.reject(m)}for(;u.length;)o=o.then(u.shift(),u.shift());return o},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u},80782:(e,t,n)=>{"use strict";var r=n(64867);function i(){this.handlers=[]}i.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},94097:(e,t,n)=>{"use strict";var r=n(91793),i=n(7303);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},85061:(e,t,n)=>{"use strict";var r=n(80481);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},13572:(e,t,n)=>{"use strict";var r=n(64867),i=n(18527),o=n(26502),a=n(45546),s=n(65263);function l(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new s("canceled")}e.exports=function(e){return l(e),e.headers=e.headers||{},e.data=i.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return l(e),t.data=i.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(l(e),t&&t.response&&(t.response.data=i.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},80481:e=>{"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},47185:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){t=t||{};var n={};function i(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function o(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(e[n],t[n])}function a(e){if(!r.isUndefined(t[e]))return i(void 0,t[e])}function s(n){return r.isUndefined(t[n])?r.isUndefined(e[n])?void 0:i(void 0,e[n]):i(void 0,t[n])}function l(n){return n in t?i(e[n],t[n]):n in e?i(void 0,e[n]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return r.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||o,i=t(e);r.isUndefined(i)&&t!==l||(n[e]=i)})),n}},36026:(e,t,n)=>{"use strict";var r=n(85061);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},18527:(e,t,n)=>{"use strict";var r=n(64867),i=n(45546);e.exports=function(e,t,n){var o=this||i;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},45546:(e,t,n)=>{"use strict";var r=n(64867),i=n(16016),o=n(80481),a=n(77874),s={"Content-Type":"application/x-www-form-urlencoded"};function l(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:a,adapter:(("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(55448)),c),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(l(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(l(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,i=t&&t.forcedJSONParsing,a=!n&&"json"===this.responseType;if(a||i&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(a){if("SyntaxError"===s.name)throw o(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(s)})),e.exports=u},77874:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},97288:e=>{e.exports={version:"0.26.1"}},91849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},15327:(e,t,n)=>{"use strict";var r=n(64867);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},91793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},16268:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e){return r.isObject(e)&&!0===e.isAxiosError}},67985:(e,t,n)=>{"use strict";var r=n(64867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},16016:(e,t,n)=>{"use strict";var r=n(64867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},84109:(e,t,n)=>{"use strict";var r=n(64867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},54875:(e,t,n)=>{"use strict";var r=n(97288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){i[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={};i.transitional=function(e,t,n){function i(e,t){return"[Axios v"+r+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(i(r," has been removed"+(t?" in "+t:"")));return t&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={assertOptions:function(e,t,n){if("object"!==typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),i=r.length;i-- >0;){var o=r[i],a=t[o];if(a){var s=e[o],l=void 0===s||a(s,o,e);if(!0!==l)throw new TypeError("option "+o+" must be "+l)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:i}},64867:(e,t,n)=>{"use strict";var r=n(91849),i=Object.prototype.toString;function o(e){return Array.isArray(e)}function a(e){return"undefined"===typeof e}function s(e){return"[object ArrayBuffer]"===i.call(e)}function l(e){return null!==e&&"object"===typeof e}function c(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:s,isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===i.call(e)},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&s(e.buffer)},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:l,isPlainObject:c,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return l(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===i.call(e)},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:d,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},54098:function(e,t){var n="undefined"!==typeof self?self:this,r=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),o="FormData"in e,a="ArrayBuffer"in e;if(a)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!==typeof e&&(e=String(e)),e}function d(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function p(e){this.map={},e instanceof p?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function f(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:o&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():a&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a&&(ArrayBuffer.prototype.isPrototypeOf(e)||l(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?f(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e=f(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=h(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},o&&(this.formData=function(){return this.text().then(w)}),this.json=function(){return this.text().then(JSON.parse)},this}p.prototype.append=function(e,t){e=c(e),t=u(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},p.prototype.delete=function(e){delete this.map[c(e)]},p.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},p.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},p.prototype.set=function(e,t){this.map[c(e)]=u(t)},p.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},p.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),d(e)},p.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),d(e)},p.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),d(e)},r&&(p.prototype[Symbol.iterator]=p.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new p(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new p(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function w(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function x(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new p(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(x.prototype),x.prototype.clone=function(){return new x(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new p(this.headers),url:this.url})},x.error=function(){var e=new x(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];x.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new x(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(T){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function k(e,n){return new Promise((function(r,o){var a=new b(e,n);if(a.signal&&a.signal.aborted)return o(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function l(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new p,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new x(i,n))},s.onerror=function(){o(new TypeError("Network request failed"))},s.ontimeout=function(){o(new TypeError("Network request failed"))},s.onabort=function(){o(new t.DOMException("Aborted","AbortError"))},s.open(a.method,a.url,!0),"include"===a.credentials?s.withCredentials=!0:"omit"===a.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),a.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),a.signal&&(a.signal.addEventListener("abort",l),s.onreadystatechange=function(){4===s.readyState&&a.signal.removeEventListener("abort",l)}),s.send("undefined"===typeof a._bodyInit?null:a._bodyInit)}))}k.polyfill=!0,e.fetch||(e.fetch=k,e.Headers=p,e.Request=b,e.Response=x),t.Headers=p,t.Request=b,t.Response=x,t.fetch=k,Object.defineProperty(t,"__esModule",{value:!0})}({})}(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;(t=i.fetch).default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,e.exports=t},9996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)};var n="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return r(e,n)}))}function o(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(n){return!1}}function s(e,t,n){var i={};return n.isMergeableObject(e)&&o(e).forEach((function(t){i[t]=r(e[t],n)})),o(t).forEach((function(o){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(a(e,o)&&n.isMergeableObject(t[o])?i[o]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"===typeof n?n:l}(o,n)(e[o],t[o],n):i[o]=r(t[o],n))})),i}function l(e,n,o){(o=o||{}).arrayMerge=o.arrayMerge||i,o.isMergeableObject=o.isMergeableObject||t,o.cloneUnlessOtherwiseSpecified=r;var a=Array.isArray(n);return a===Array.isArray(e)?a?o.arrayMerge(e,n,o):s(e,n,o):r(n,o)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var c=l;e.exports=c},17837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.attributeNames=t.elementNames=void 0,t.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),t.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},97220:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(99960)),l=n(45863),c=n(17837),u=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]);var d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function p(e,t){void 0===t&&(t={});for(var n=("length"in e?e:[e]),r="",i=0;i<n.length;i++)r+=f(n[i],t);return r}function f(e,t){switch(e.type){case s.Root:return p(e.children,t);case s.Directive:case s.Doctype:return"<"+e.data+">";case s.Comment:return function(e){return"\x3c!--"+e.data+"--\x3e"}(e);case s.CDATA:return function(e){return"<![CDATA["+e.children[0].data+"]]>"}(e);case s.Script:case s.Style:case s.Tag:return function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=c.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&h.has(e.parent.name)&&(t=r(r({},t),{xmlMode:!1})));!t.xmlMode&&m.has(e.name)&&(t=r(r({},t),{xmlMode:"foreign"}));var i="<"+e.name,o=function(e,t){if(e)return Object.keys(e).map((function(n){var r,i,o=null!==(r=e[n])&&void 0!==r?r:"";return"foreign"===t.xmlMode&&(n=null!==(i=c.attributeNames.get(n))&&void 0!==i?i:n),t.emptyAttrs||t.xmlMode||""!==o?n+'="'+(!1!==t.decodeEntities?l.encodeXML(o):o.replace(/"/g,"&quot;"))+'"':n})).join(" ")}(e.attribs,t);o&&(i+=" "+o);0===e.children.length&&(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&d.has(e.name))?(t.xmlMode||(i+=" "),i+="/>"):(i+=">",e.children.length>0&&(i+=p(e.children,t)),!t.xmlMode&&d.has(e.name)||(i+="</"+e.name+">"));return i}(e,t);case s.Text:return function(e,t){var n=e.data||"";!1===t.decodeEntities||!t.xmlMode&&e.parent&&u.has(e.parent.name)||(n=l.encodeXML(n));return n}(e,t)}}t.default=p;var h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),m=new Set(["svg","math"])},99960:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.Doctype=t.CDATA=t.Tag=t.Style=t.Script=t.Comment=t.Directive=t.Text=t.Root=t.isTag=t.ElementType=void 0,function(e){e.Root="root",e.Text="text",e.Directive="directive",e.Comment="comment",e.Script="script",e.Style="style",e.Tag="tag",e.CDATA="cdata",e.Doctype="doctype"}(n=t.ElementType||(t.ElementType={})),t.isTag=function(e){return e.type===n.Tag||e.type===n.Script||e.type===n.Style},t.Root=n.Root,t.Text=n.Text,t.Directive=n.Directive,t.Comment=n.Comment,t.Script=n.Script,t.Style=n.Style,t.Tag=n.Tag,t.CDATA=n.CDATA,t.Doctype=n.Doctype},47915:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DomHandler=void 0;var o=n(99960),a=n(97790);i(n(97790),t);var s=/\s+/g,l={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},c=function(){function e(e,t,n){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"===typeof t&&(n=t,t=l),"object"===typeof e&&(t=e,e=void 0),this.callback=null!==e&&void 0!==e?e:null,this.options=null!==t&&void 0!==t?t:l,this.elementCB=null!==n&&void 0!==n?n:null}return e.prototype.onparserinit=function(e){this.parser=e},e.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},e.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this.lastNode=null;var e=this.tagStack.pop();this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(e)},e.prototype.onopentag=function(e,t){var n=this.options.xmlMode?o.ElementType.Tag:void 0,r=new a.Element(e,t,void 0,n);this.addNode(r),this.tagStack.push(r)},e.prototype.ontext=function(e){var t=this.options.normalizeWhitespace,n=this.lastNode;if(n&&n.type===o.ElementType.Text)t?n.data=(n.data+e).replace(s," "):n.data+=e,this.options.withEndIndices&&(n.endIndex=this.parser.endIndex);else{t&&(e=e.replace(s," "));var r=new a.Text(e);this.addNode(r),this.lastNode=r}},e.prototype.oncomment=function(e){if(this.lastNode&&this.lastNode.type===o.ElementType.Comment)this.lastNode.data+=e;else{var t=new a.Comment(e);this.addNode(t),this.lastNode=t}},e.prototype.oncommentend=function(){this.lastNode=null},e.prototype.oncdatastart=function(){var e=new a.Text(""),t=new a.NodeWithChildren(o.ElementType.CDATA,[e]);this.addNode(t),e.parent=t,this.lastNode=e},e.prototype.oncdataend=function(){this.lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new a.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"===typeof this.callback)this.callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this.tagStack[this.tagStack.length-1],n=t.children[t.children.length-1];this.options.withStartIndices&&(e.startIndex=this.parser.startIndex),this.options.withEndIndices&&(e.endIndex=this.parser.endIndex),t.children.push(e),n&&(e.prev=n,n.next=e),e.parent=t,this.lastNode=null},e}();t.DomHandler=c,t.default=c},97790:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.cloneNode=t.hasChildren=t.isDocument=t.isDirective=t.isComment=t.isText=t.isCDATA=t.isTag=t.Element=t.Document=t.NodeWithChildren=t.ProcessingInstruction=t.Comment=t.Text=t.DataNode=t.Node=void 0;var a=n(99960),s=new Map([[a.ElementType.Tag,1],[a.ElementType.Script,1],[a.ElementType.Style,1],[a.ElementType.Directive,1],[a.ElementType.Text,3],[a.ElementType.CDATA,4],[a.ElementType.Comment,8],[a.ElementType.Root,9]]),l=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){var e;return null!==(e=s.get(this.type))&&void 0!==e?e:1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(e){this.parent=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(e){this.prev=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(e){this.next=e},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(e){return void 0===e&&(e=!1),S(this,e)},e}();t.Node=l;var c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.data=n,r}return i(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!1,configurable:!0}),t}(l);t.DataNode=c;var u=function(e){function t(t){return e.call(this,a.ElementType.Text,t)||this}return i(t,e),t}(c);t.Text=u;var d=function(e){function t(t){return e.call(this,a.ElementType.Comment,t)||this}return i(t,e),t}(c);t.Comment=d;var p=function(e){function t(t,n){var r=e.call(this,a.ElementType.Directive,n)||this;return r.name=t,r}return i(t,e),t}(c);t.ProcessingInstruction=p;var f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.children=n,r}return i(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){var e;return null!==(e=this.children[0])&&void 0!==e?e:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!1,configurable:!0}),t}(l);t.NodeWithChildren=f;var h=function(e){function t(t){return e.call(this,a.ElementType.Root,t)||this}return i(t,e),t}(f);t.Document=h;var m=function(e){function t(t,n,r,i){void 0===r&&(r=[]),void 0===i&&(i="script"===t?a.ElementType.Script:"style"===t?a.ElementType.Style:a.ElementType.Tag);var o=e.call(this,i,r)||this;return o.name=t,o.attribs=n,o}return i(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var e=this;return Object.keys(this.attribs).map((function(t){var n,r;return{name:t,value:e.attribs[t],namespace:null===(n=e["x-attribsNamespace"])||void 0===n?void 0:n[t],prefix:null===(r=e["x-attribsPrefix"])||void 0===r?void 0:r[t]}}))},enumerable:!1,configurable:!0}),t}(f);function g(e){return(0,a.isTag)(e)}function v(e){return e.type===a.ElementType.CDATA}function y(e){return e.type===a.ElementType.Text}function b(e){return e.type===a.ElementType.Comment}function w(e){return e.type===a.ElementType.Directive}function x(e){return e.type===a.ElementType.Root}function S(e,t){var n;if(void 0===t&&(t=!1),y(e))n=new u(e.data);else if(b(e))n=new d(e.data);else if(g(e)){var r=t?k(e.children):[],i=new m(e.name,o({},e.attribs),r);r.forEach((function(e){return e.parent=i})),null!=e.namespace&&(i.namespace=e.namespace),e["x-attribsNamespace"]&&(i["x-attribsNamespace"]=o({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(i["x-attribsPrefix"]=o({},e["x-attribsPrefix"])),n=i}else if(v(e)){r=t?k(e.children):[];var s=new f(a.ElementType.CDATA,r);r.forEach((function(e){return e.parent=s})),n=s}else if(x(e)){r=t?k(e.children):[];var l=new h(r);r.forEach((function(e){return e.parent=l})),e["x-mode"]&&(l["x-mode"]=e["x-mode"]),n=l}else{if(!w(e))throw new Error("Not implemented yet: ".concat(e.type));var c=new p(e.name,e.data);null!=e["x-name"]&&(c["x-name"]=e["x-name"],c["x-publicId"]=e["x-publicId"],c["x-systemId"]=e["x-systemId"]),n=c}return n.startIndex=e.startIndex,n.endIndex=e.endIndex,null!=e.sourceCodeLocation&&(n.sourceCodeLocation=e.sourceCodeLocation),n}function k(e){for(var t=e.map((function(e){return S(e,!0)})),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}t.Element=m,t.isTag=g,t.isCDATA=v,t.isText=y,t.isComment=b,t.isDirective=w,t.isDocument=x,t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")},t.cloneNode=S},16996:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFeed=void 0;var r=n(43346),i=n(23905);t.getFeed=function(e){var t=l(d,e);return t?"feed"===t.name?function(e){var t,n=e.children,r={type:"atom",items:(0,i.getElementsByTagName)("entry",n).map((function(e){var t,n=e.children,r={media:s(n)};u(r,"id","id",n),u(r,"title","title",n);var i=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;i&&(r.link=i);var o=c("summary",n)||c("content",n);o&&(r.description=o);var a=c("updated",n);return a&&(r.pubDate=new Date(a)),r}))};u(r,"id","id",n),u(r,"title","title",n);var o=null===(t=l("link",n))||void 0===t?void 0:t.attribs.href;o&&(r.link=o);u(r,"description","subtitle",n);var a=c("updated",n);a&&(r.updated=new Date(a));return u(r,"author","email",n,!0),r}(t):function(e){var t,n,r=null!==(n=null===(t=l("channel",e.children))||void 0===t?void 0:t.children)&&void 0!==n?n:[],o={type:e.name.substr(0,3),id:"",items:(0,i.getElementsByTagName)("item",e.children).map((function(e){var t=e.children,n={media:s(t)};u(n,"id","guid",t),u(n,"title","title",t),u(n,"link","link",t),u(n,"description","description",t);var r=c("pubDate",t);return r&&(n.pubDate=new Date(r)),n}))};u(o,"title","title",r),u(o,"link","link",r),u(o,"description","description",r);var a=c("lastBuildDate",r);a&&(o.updated=new Date(a));return u(o,"author","managingEditor",r,!0),o}(t):null};var o=["url","type","lang"],a=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function s(e){return(0,i.getElementsByTagName)("media:content",e).map((function(e){for(var t=e.attribs,n={medium:t.medium,isDefault:!!t.isDefault},r=0,i=o;r<i.length;r++){t[c=i[r]]&&(n[c]=t[c])}for(var s=0,l=a;s<l.length;s++){var c;t[c=l[s]]&&(n[c]=parseInt(t[c],10))}return t.expression&&(n.expression=t.expression),n}))}function l(e,t){return(0,i.getElementsByTagName)(e,t,!0,1)[0]}function c(e,t,n){return void 0===n&&(n=!1),(0,r.textContent)((0,i.getElementsByTagName)(e,t,n,1)).trim()}function u(e,t,n,r,i){void 0===i&&(i=!1);var o=c(n,r,i);o&&(e[t]=o)}function d(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}},74975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.removeSubsets=void 0;var r=n(47915);function i(e,t){var n=[],i=[];if(e===t)return 0;for(var o=(0,r.hasChildren)(e)?e:e.parent;o;)n.unshift(o),o=o.parent;for(o=(0,r.hasChildren)(t)?t:t.parent;o;)i.unshift(o),o=o.parent;for(var a=Math.min(n.length,i.length),s=0;s<a&&n[s]===i[s];)s++;if(0===s)return 1;var l=n[s-1],c=l.children,u=n[s],d=i[s];return c.indexOf(u)>c.indexOf(d)?l===t?20:4:l===e?10:2}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var r=n.parent;r;r=r.parent)if(e.includes(r)){e.splice(t,1);break}}return e},t.compareDocumentPosition=i,t.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,t){var n=i(e,t);return 2&n?-1:4&n?1:0})),e}},89432:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isDocument=t.isComment=t.isText=t.isCDATA=t.isTag=void 0,i(n(43346),t),i(n(85010),t),i(n(26765),t),i(n(98043),t),i(n(23905),t),i(n(74975),t),i(n(16996),t);var o=n(47915);Object.defineProperty(t,"isTag",{enumerable:!0,get:function(){return o.isTag}}),Object.defineProperty(t,"isCDATA",{enumerable:!0,get:function(){return o.isCDATA}}),Object.defineProperty(t,"isText",{enumerable:!0,get:function(){return o.isText}}),Object.defineProperty(t,"isComment",{enumerable:!0,get:function(){return o.isComment}}),Object.defineProperty(t,"isDocument",{enumerable:!0,get:function(){return o.isDocument}}),Object.defineProperty(t,"hasChildren",{enumerable:!0,get:function(){return o.hasChildren}})},23905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementsByTagType=t.getElementsByTagName=t.getElementById=t.getElements=t.testElement=void 0;var r=n(47915),i=n(98043),o={tag_name:function(e){return"function"===typeof e?function(t){return(0,r.isTag)(t)&&e(t.name)}:"*"===e?r.isTag:function(t){return(0,r.isTag)(t)&&t.name===e}},tag_type:function(e){return"function"===typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"===typeof e?function(t){return(0,r.isText)(t)&&e(t.data)}:function(t){return(0,r.isText)(t)&&t.data===e}}};function a(e,t){return"function"===typeof t?function(n){return(0,r.isTag)(n)&&t(n.attribs[e])}:function(n){return(0,r.isTag)(n)&&n.attribs[e]===t}}function s(e,t){return function(n){return e(n)||t(n)}}function l(e){var t=Object.keys(e).map((function(t){var n=e[t];return Object.prototype.hasOwnProperty.call(o,t)?o[t](n):a(t,n)}));return 0===t.length?null:t.reduce(s)}t.testElement=function(e,t){var n=l(e);return!n||n(t)},t.getElements=function(e,t,n,r){void 0===r&&(r=1/0);var o=l(e);return o?(0,i.filter)(o,t,n,r):[]},t.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),(0,i.findOne)(a("id",e),t,n)},t.getElementsByTagName=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,i.filter)(o.tag_name(e),t,n,r)},t.getElementsByTagType=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),(0,i.filter)(o.tag_type(e),t,n,r)}},26765:(e,t)=>{"use strict";function n(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.prependChild=t.append=t.appendChild=t.replaceElement=t.removeElement=void 0,t.removeElement=n,t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var i=t.parent=e.parent;if(i){var o=i.children;o[o.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(n(t),t.next=null,t.parent=e,e.children.push(t)>1){var r=e.children[e.children.length-2];r.next=t,t.prev=r}else t.prev=null},t.append=function(e,t){n(t);var r=e.parent,i=e.next;if(t.next=i,t.prev=e,e.next=t,t.parent=r,i){if(i.prev=t,r){var o=r.children;o.splice(o.lastIndexOf(i),0,t)}}else r&&r.children.push(t)},t.prependChild=function(e,t){if(n(t),t.parent=e,t.prev=null,1!==e.children.unshift(t)){var r=e.children[1];r.prev=t,t.next=r}else t.next=null},t.prepend=function(e,t){n(t);var r=e.parent;if(r){var i=r.children;i.splice(i.indexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=r,t.prev=e.prev,t.next=e,e.prev=t}},98043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=t.existsOne=t.findOne=t.findOneChild=t.find=t.filter=void 0;var r=n(47915);function i(e,t,n,o){for(var a=[],s=0,l=t;s<l.length;s++){var c=l[s];if(e(c)&&(a.push(c),--o<=0))break;if(n&&(0,r.hasChildren)(c)&&c.children.length>0){var u=i(e,c.children,n,o);if(a.push.apply(a,u),(o-=u.length)<=0)break}}return a}t.filter=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),Array.isArray(t)||(t=[t]),i(e,t,n,r)},t.find=i,t.findOneChild=function(e,t){return t.find(e)},t.findOne=function e(t,n,i){void 0===i&&(i=!0);for(var o=null,a=0;a<n.length&&!o;a++){var s=n[a];(0,r.isTag)(s)&&(t(s)?o=s:i&&s.children.length>0&&(o=e(t,s.children)))}return o},t.existsOne=function e(t,n){return n.some((function(n){return(0,r.isTag)(n)&&(t(n)||n.children.length>0&&e(t,n.children))}))},t.findAll=function(e,t){for(var n,i,o=[],a=t.filter(r.isTag);i=a.shift();){var s=null===(n=i.children)||void 0===n?void 0:n.filter(r.isTag);s&&s.length>0&&a.unshift.apply(a,s),e(i)&&o.push(i)}return o}},43346:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.innerText=t.textContent=t.getText=t.getInnerHTML=t.getOuterHTML=void 0;var i=n(47915),o=r(n(97220)),a=n(99960);function s(e,t){return(0,o.default)(e,t)}t.getOuterHTML=s,t.getInnerHTML=function(e,t){return(0,i.hasChildren)(e)?e.children.map((function(e){return s(e,t)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.isTag)(t)?"br"===t.name?"\n":e(t.children):(0,i.isCDATA)(t)?e(t.children):(0,i.isText)(t)?t.data:""},t.textContent=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.hasChildren)(t)&&!(0,i.isComment)(t)?e(t.children):(0,i.isText)(t)?t.data:""},t.innerText=function e(t){return Array.isArray(t)?t.map(e).join(""):(0,i.hasChildren)(t)&&(t.type===a.ElementType.Tag||(0,i.isCDATA)(t))?e(t.children):(0,i.isText)(t)?t.data:""}},85010:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prevElementSibling=t.nextElementSibling=t.getName=t.hasAttrib=t.getAttributeValue=t.getSiblings=t.getParent=t.getChildren=void 0;var r=n(47915),i=[];function o(e){var t;return null!==(t=e.children)&&void 0!==t?t:i}function a(e){return e.parent||null}t.getChildren=o,t.getParent=a,t.getSiblings=function(e){var t=a(e);if(null!=t)return o(t);for(var n=[e],r=e.prev,i=e.next;null!=r;)n.unshift(r),r=r.prev;for(;null!=i;)n.push(i),i=i.next;return n},t.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},t.hasAttrib=function(e,t){return null!=e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},t.getName=function(e){return e.name},t.nextElementSibling=function(e){for(var t=e.next;null!==t&&!(0,r.isTag)(t);)t=t.next;return t},t.prevElementSibling=function(e){for(var t=e.prev;null!==t&&!(0,r.isTag)(t);)t=t.prev;return t}},44076:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHTML=t.decodeHTMLStrict=t.decodeXML=void 0;var i=r(n(59323)),o=r(n(29591)),a=r(n(2586)),s=r(n(26)),l=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function c(e){var t=d(e);return function(e){return String(e).replace(l,t)}}t.decodeXML=c(a.default),t.decodeHTMLStrict=c(i.default);var u=function(e,t){return e<t?1:-1};function d(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?s.default(parseInt(t.substr(3),16)):s.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]||t}}t.decodeHTML=function(){for(var e=Object.keys(o.default).sort(u),t=Object.keys(i.default).sort(u),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var a=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),s=d(i.default);function l(e){return";"!==e.substr(-1)&&(e+=";"),s(e)}return function(e){return String(e).replace(a,l)}}()},26:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(33600)),o=String.fromCodePoint||function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+=String.fromCharCode(e)};t.default=function(e){return e>=55296&&e<=57343||e>1114111?"\ufffd":(e in i.default&&(e=i.default[e]),o(e))}},87322:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=void 0;var i=u(r(n(2586)).default),o=d(i);t.encodeXML=g(i);var a,s,l=u(r(n(59323)).default),c=d(l);function u(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function d(e){for(var t=[],n=[],r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];1===o.length?t.push("\\"+o):n.push(o)}t.sort();for(var a=0;a<t.length-1;a++){for(var s=a;s<t.length-1&&t[s].charCodeAt(1)+1===t[s+1].charCodeAt(1);)s+=1;var l=1+s-a;l<3||t.splice(a,l,t[a]+"-"+t[s])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.encodeHTML=(a=l,s=c,function(e){return e.replace(s,(function(e){return a[e]})).replace(p,h)}),t.encodeNonAsciiHTML=g(l);var p=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,f=null!=String.prototype.codePointAt?function(e){return e.codePointAt(0)}:function(e){return 1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)-56320+65536};function h(e){return"&#x"+(e.length>1?f(e):e.charCodeAt(0)).toString(16).toUpperCase()+";"}var m=new RegExp(o.source+"|"+p.source,"g");function g(e){return function(t){return t.replace(m,(function(t){return e[t]||h(t)}))}}t.escape=function(e){return e.replace(m,h)},t.escapeUTF8=function(e){return e.replace(o,h)}},45863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXMLStrict=t.decodeHTML5Strict=t.decodeHTML4Strict=t.decodeHTML5=t.decodeHTML4=t.decodeHTMLStrict=t.decodeHTML=t.decodeXML=t.encodeHTML5=t.encodeHTML4=t.escapeUTF8=t.escape=t.encodeNonAsciiHTML=t.encodeHTML=t.encodeXML=t.encode=t.decodeStrict=t.decode=void 0;var r=n(44076),i=n(87322);t.decode=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?i.encodeXML:i.encodeHTML)(e)};var o=n(87322);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return o.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return o.encodeNonAsciiHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return o.escape}}),Object.defineProperty(t,"escapeUTF8",{enumerable:!0,get:function(){return o.escapeUTF8}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return o.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return o.encodeHTML}});var a=n(44076);Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return a.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return a.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return a.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return a.decodeXML}})},63150:e=>{"use strict";e.exports=e=>{if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},17187:e=>{"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&m(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,c;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=l(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var l=o[e];if(void 0===l)return!1;if("function"===typeof l)r(l,this,t);else{var c=l.length,u=h(l,c);for(n=0;n<c;++n)r(u[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return p(this,e,!0)},o.prototype.rawListeners=function(e){return p(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},o.prototype.listenerCount=f,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},8679:(e,t,n)=>{"use strict";var r=n(59864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(h){var i=f(n);i&&i!==h&&e(t,i,r)}var a=u(n);d&&(a=a.concat(d(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var v=a[g];if(!o[v]&&(!r||!r[v])&&(!m||!m[v])&&(!s||!s[v])){var y=p(n,v);try{c(t,v,y)}catch(b){}}}}return t}},63870:function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)},function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseFeed=t.FeedHandler=void 0;var c,u,d=l(n(47915)),p=s(n(89432)),f=n(50763);!function(e){e[e.image=0]="image",e[e.audio=1]="audio",e[e.video=2]="video",e[e.document=3]="document",e[e.executable=4]="executable"}(c||(c={})),function(e){e[e.sample=0]="sample",e[e.full=1]="full",e[e.nonstop=2]="nonstop"}(u||(u={}));var h=function(e){function t(t,n){return"object"===typeof t&&(n=t=void 0),e.call(this,t,n)||this}return i(t,e),t.prototype.onend=function(){var e,t,n=v(x,this.dom);if(n){var r={};if("feed"===n.name){var i=n.children;r.type="atom",w(r,"id","id",i),w(r,"title","title",i);var o=b("href",v("link",i));o&&(r.link=o),w(r,"description","subtitle",i),(a=y("updated",i))&&(r.updated=new Date(a)),w(r,"author","email",i,!0),r.items=g("entry",i).map((function(e){var t={},n=e.children;w(t,"id","id",n),w(t,"title","title",n);var r=b("href",v("link",n));r&&(t.link=r);var i=y("summary",n)||y("content",n);i&&(t.description=i);var o=y("updated",n);return o&&(t.pubDate=new Date(o)),t.media=m(n),t}))}else{var a;i=null!==(t=null===(e=v("channel",n.children))||void 0===e?void 0:e.children)&&void 0!==t?t:[];r.type=n.name.substr(0,3),r.id="",w(r,"title","title",i),w(r,"link","link",i),w(r,"description","description",i),(a=y("lastBuildDate",i))&&(r.updated=new Date(a)),w(r,"author","managingEditor",i,!0),r.items=g("item",n.children).map((function(e){var t={},n=e.children;w(t,"id","guid",n),w(t,"title","title",n),w(t,"link","link",n),w(t,"description","description",n);var r=y("pubDate",n);return r&&(t.pubDate=new Date(r)),t.media=m(n),t}))}this.feed=r,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},t}(d.default);function m(e){return g("media:content",e).map((function(e){var t={medium:e.attribs.medium,isDefault:!!e.attribs.isDefault};return e.attribs.url&&(t.url=e.attribs.url),e.attribs.fileSize&&(t.fileSize=parseInt(e.attribs.fileSize,10)),e.attribs.type&&(t.type=e.attribs.type),e.attribs.expression&&(t.expression=e.attribs.expression),e.attribs.bitrate&&(t.bitrate=parseInt(e.attribs.bitrate,10)),e.attribs.framerate&&(t.framerate=parseInt(e.attribs.framerate,10)),e.attribs.samplingrate&&(t.samplingrate=parseInt(e.attribs.samplingrate,10)),e.attribs.channels&&(t.channels=parseInt(e.attribs.channels,10)),e.attribs.duration&&(t.duration=parseInt(e.attribs.duration,10)),e.attribs.height&&(t.height=parseInt(e.attribs.height,10)),e.attribs.width&&(t.width=parseInt(e.attribs.width,10)),e.attribs.lang&&(t.lang=e.attribs.lang),t}))}function g(e,t){return p.getElementsByTagName(e,t,!0)}function v(e,t){return p.getElementsByTagName(e,t,!0,1)[0]}function y(e,t,n){return void 0===n&&(n=!1),p.getText(p.getElementsByTagName(e,t,n,1)).trim()}function b(e,t){return t?t.attribs[e]:null}function w(e,t,n,r,i){void 0===i&&(i=!1);var o=y(n,r,i);o&&(e[t]=o)}function x(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}t.FeedHandler=h,t.parseFeed=function(e,t){void 0===t&&(t={xmlMode:!0});var n=new h(t);return new f.Parser(n,t).end(e),n.feed}},50763:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Parser=void 0;var i=r(n(39889)),o=new Set(["input","option","optgroup","select","button","datalist","textarea"]),a=new Set(["p"]),s={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:a,h1:a,h2:a,h3:a,h4:a,h5:a,h6:a,select:o,input:o,output:o,button:o,datalist:o,textarea:o,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:a,article:a,aside:a,blockquote:a,details:a,div:a,dl:a,fieldset:a,figcaption:a,figure:a,footer:a,form:a,header:a,hr:a,main:a,nav:a,ol:a,pre:a,section:a,table:a,ul:a,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},l=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),c=new Set(["math","svg"]),u=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),d=/\s|\//,p=function(){function e(e,t){var n,r,o,a,s;void 0===t&&(t={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=t,this.cbs=null!==e&&void 0!==e?e:{},this.lowerCaseTagNames=null!==(n=t.lowerCaseTags)&&void 0!==n?n:!t.xmlMode,this.lowerCaseAttributeNames=null!==(r=t.lowerCaseAttributeNames)&&void 0!==r?r:!t.xmlMode,this.tokenizer=new(null!==(o=t.Tokenizer)&&void 0!==o?o:i.default)(this.options,this),null===(s=(a=this.cbs).onparserinit)||void 0===s||s.call(a,this)}return e.prototype.updatePosition=function(e){null===this.endIndex?this.tokenizer.sectionStart<=e?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},e.prototype.ontext=function(e){var t,n;this.updatePosition(1),this.endIndex--,null===(n=(t=this.cbs).ontext)||void 0===n||n.call(t,e)},e.prototype.onopentagname=function(e){var t,n;if(this.lowerCaseTagNames&&(e=e.toLowerCase()),this.tagname=e,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(s,e))for(var r=void 0;this.stack.length>0&&s[e].has(r=this.stack[this.stack.length-1]);)this.onclosetag(r);!this.options.xmlMode&&l.has(e)||(this.stack.push(e),c.has(e)?this.foreignContext.push(!0):u.has(e)&&this.foreignContext.push(!1)),null===(n=(t=this.cbs).onopentagname)||void 0===n||n.call(t,e),this.cbs.onopentag&&(this.attribs={})},e.prototype.onopentagend=function(){var e,t;this.updatePosition(1),this.attribs&&(null===(t=(e=this.cbs).onopentag)||void 0===t||t.call(e,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&l.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},e.prototype.onclosetag=function(e){if(this.updatePosition(1),this.lowerCaseTagNames&&(e=e.toLowerCase()),(c.has(e)||u.has(e))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&l.has(e))this.options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this.closeCurrentTag());else{var t=this.stack.lastIndexOf(e);if(-1!==t)if(this.cbs.onclosetag)for(t=this.stack.length-t;t--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=t;else"p"!==e||this.options.xmlMode||(this.onopentagname(e),this.closeCurrentTag())}},e.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},e.prototype.closeCurrentTag=function(){var e,t,n=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===n&&(null===(t=(e=this.cbs).onclosetag)||void 0===t||t.call(e,n),this.stack.pop())},e.prototype.onattribname=function(e){this.lowerCaseAttributeNames&&(e=e.toLowerCase()),this.attribname=e},e.prototype.onattribdata=function(e){this.attribvalue+=e},e.prototype.onattribend=function(e){var t,n;null===(n=(t=this.cbs).onattribute)||void 0===n||n.call(t,this.attribname,this.attribvalue,e),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},e.prototype.getInstructionName=function(e){var t=e.search(d),n=t<0?e:e.substr(0,t);return this.lowerCaseTagNames&&(n=n.toLowerCase()),n},e.prototype.ondeclaration=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("!"+t,"!"+e)}},e.prototype.onprocessinginstruction=function(e){if(this.cbs.onprocessinginstruction){var t=this.getInstructionName(e);this.cbs.onprocessinginstruction("?"+t,"?"+e)}},e.prototype.oncomment=function(e){var t,n,r,i;this.updatePosition(4),null===(n=(t=this.cbs).oncomment)||void 0===n||n.call(t,e),null===(i=(r=this.cbs).oncommentend)||void 0===i||i.call(r)},e.prototype.oncdata=function(e){var t,n,r,i,o,a;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(n=(t=this.cbs).oncdatastart)||void 0===n||n.call(t),null===(i=(r=this.cbs).ontext)||void 0===i||i.call(r,e),null===(a=(o=this.cbs).oncdataend)||void 0===a||a.call(o)):this.oncomment("[CDATA["+e+"]]")},e.prototype.onerror=function(e){var t,n;null===(n=(t=this.cbs).onerror)||void 0===n||n.call(t,e)},e.prototype.onend=function(){var e,t;if(this.cbs.onclosetag)for(var n=this.stack.length;n>0;this.cbs.onclosetag(this.stack[--n]));null===(t=(e=this.cbs).onend)||void 0===t||t.call(e)},e.prototype.reset=function(){var e,t,n,r;null===(t=(e=this.cbs).onreset)||void 0===t||t.call(e),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(r=(n=this.cbs).onparserinit)||void 0===r||r.call(n,this)},e.prototype.parseComplete=function(e){this.reset(),this.end(e)},e.prototype.write=function(e){this.tokenizer.write(e)},e.prototype.end=function(e){this.tokenizer.end(e)},e.prototype.pause=function(){this.tokenizer.pause()},e.prototype.resume=function(){this.tokenizer.resume()},e.prototype.parseChunk=function(e){this.write(e)},e.prototype.done=function(e){this.end(e)},e}();t.Parser=p},39889:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(26)),o=r(n(59323)),a=r(n(29591)),s=r(n(2586));function l(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function c(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"}function u(e,t,n){var r=e.toLowerCase();return e===r?function(e,i){i===r?e._state=t:(e._state=n,e._index--)}:function(i,o){o===r||o===e?i._state=t:(i._state=n,i._index--)}}function d(e,t){var n=e.toLowerCase();return function(r,i){i===n||i===e?r._state=t:(r._state=3,r._index--)}}var p=u("C",24,16),f=u("D",25,16),h=u("A",26,16),m=u("T",27,16),g=u("A",28,16),v=d("R",35),y=d("I",36),b=d("P",37),w=d("T",38),x=u("R",40,1),S=u("I",41,1),k=u("P",42,1),T=u("T",43,1),E=d("Y",45),_=d("L",46),C=d("E",47),O=u("Y",49,1),P=u("L",50,1),A=u("E",51,1),I=d("I",54),M=d("T",55),N=d("L",56),R=d("E",57),D=u("I",58,1),L=u("T",59,1),j=u("L",60,1),B=u("E",61,1),F=u("#",63,64),U=u("X",66,65),$=function(){function e(e,t){var n;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=t,this.xmlMode=!!(null===e||void 0===e?void 0:e.xmlMode),this.decodeEntities=null===(n=null===e||void 0===e?void 0:e.decodeEntities)||void 0===n||n}return e.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},e.prototype.write=function(e){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=e,this.parse()},e.prototype.end=function(e){this.ended&&this.cbs.onerror(Error(".end() after done!")),e&&this.write(e),this.ended=!0,this.running&&this.finish()},e.prototype.pause=function(){this.running=!1},e.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},e.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},e.prototype.stateText=function(e){"<"===e?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||"&"!==e||1!==this.special&&4!==this.special||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},e.prototype.isTagStartChar=function(e){return c(e)||this.xmlMode&&!l(e)&&"/"!==e&&">"!==e},e.prototype.stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===e||1!==this.special||l(e)?this._state=1:"!"===e?(this._state=15,this.sectionStart=this._index+1):"?"===e?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(e)?(this._state=this.xmlMode||"s"!==e&&"S"!==e?this.xmlMode||"t"!==e&&"T"!==e?3:52:32,this.sectionStart=this._index):this._state=1},e.prototype.stateInTagName=function(e){("/"===e||">"===e||l(e))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},e.prototype.stateBeforeClosingTagName=function(e){l(e)||(">"===e?this._state=1:1!==this.special?4===this.special||"s"!==e&&"S"!==e?4!==this.special||"t"!==e&&"T"!==e?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(e)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},e.prototype.stateInClosingTagName=function(e){(">"===e||l(e))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},e.prototype.stateAfterClosingTagName=function(e){">"===e&&(this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeAttributeName=function(e){">"===e?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===e?this._state=4:l(e)||(this._state=9,this.sectionStart=this._index)},e.prototype.stateInSelfClosingTag=function(e){">"===e?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):l(e)||(this._state=8,this._index--)},e.prototype.stateInAttributeName=function(e){("="===e||"/"===e||">"===e||l(e))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},e.prototype.stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this.cbs.onattribend(void 0),this._state=8,this._index--):l(e)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},e.prototype.stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this.sectionStart=this._index+1):"'"===e?(this._state=13,this.sectionStart=this._index+1):l(e)||(this._state=14,this.sectionStart=this._index,this._index--)},e.prototype.handleInAttributeValue=function(e,t){e===t?(this.emitToken("onattribdata"),this.cbs.onattribend(t),this._state=8):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateInAttributeValueDoubleQuotes=function(e){this.handleInAttributeValue(e,'"')},e.prototype.stateInAttributeValueSingleQuotes=function(e){this.handleInAttributeValue(e,"'")},e.prototype.stateInAttributeValueNoQuotes=function(e){l(e)||">"===e?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===e&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},e.prototype.stateBeforeDeclaration=function(e){this._state="["===e?23:"-"===e?18:16},e.prototype.stateInDeclaration=function(e){">"===e&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateInProcessingInstruction=function(e){">"===e&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateBeforeComment=function(e){"-"===e?(this._state=19,this.sectionStart=this._index+1):this._state=16},e.prototype.stateInComment=function(e){"-"===e&&(this._state=21)},e.prototype.stateInSpecialComment=function(e){">"===e&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},e.prototype.stateAfterComment1=function(e){this._state="-"===e?22:19},e.prototype.stateAfterComment2=function(e){">"===e?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype.stateBeforeCdata6=function(e){"["===e?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype.stateInCdata=function(e){"]"===e&&(this._state=30)},e.prototype.stateAfterCdata1=function(e){this._state="]"===e?31:29},e.prototype.stateAfterCdata2=function(e){">"===e?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==e&&(this._state=29)},e.prototype.stateBeforeSpecialS=function(e){"c"===e||"C"===e?this._state=34:"t"===e||"T"===e?this._state=44:(this._state=3,this._index--)},e.prototype.stateBeforeSpecialSEnd=function(e){2!==this.special||"c"!==e&&"C"!==e?3!==this.special||"t"!==e&&"T"!==e?this._state=1:this._state=48:this._state=39},e.prototype.stateBeforeSpecialLast=function(e,t){("/"===e||">"===e||l(e))&&(this.special=t),this._state=3,this._index--},e.prototype.stateAfterSpecialLast=function(e,t){">"===e||l(e)?(this.special=1,this._state=6,this.sectionStart=this._index-t,this._index--):this._state=1},e.prototype.parseFixedEntity=function(e){if(void 0===e&&(e=this.xmlMode?s.default:o.default),this.sectionStart+1<this._index){var t=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(e,t)&&(this.emitPartial(e[t]),this.sectionStart=this._index+1)}},e.prototype.parseLegacyEntity=function(){for(var e=this.sectionStart+1,t=Math.min(this._index-e,6);t>=2;){var n=this.buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(a.default,n))return this.emitPartial(a.default[n]),void(this.sectionStart+=t+1);t--}},e.prototype.stateInNamedEntity=function(e){";"===e?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(e<"0"||e>"9")&&!c(e)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==e&&this.parseFixedEntity(a.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},e.prototype.decodeNumericEntity=function(e,t,n){var r=this.sectionStart+e;if(r!==this._index){var o=this.buffer.substring(r,this._index),a=parseInt(o,t);this.emitPartial(i.default(a)),this.sectionStart=n?this._index+1:this._index}this._state=this.baseState},e.prototype.stateInNumericEntity=function(e){";"===e?this.decodeNumericEntity(2,10,!0):(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},e.prototype.stateInHexEntity=function(e){";"===e?this.decodeNumericEntity(3,16,!0):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},e.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},e.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var e=this.buffer.charAt(this._index);1===this._state?this.stateText(e):12===this._state?this.stateInAttributeValueDoubleQuotes(e):9===this._state?this.stateInAttributeName(e):19===this._state?this.stateInComment(e):20===this._state?this.stateInSpecialComment(e):8===this._state?this.stateBeforeAttributeName(e):3===this._state?this.stateInTagName(e):6===this._state?this.stateInClosingTagName(e):2===this._state?this.stateBeforeTagName(e):10===this._state?this.stateAfterAttributeName(e):13===this._state?this.stateInAttributeValueSingleQuotes(e):11===this._state?this.stateBeforeAttributeValue(e):5===this._state?this.stateBeforeClosingTagName(e):7===this._state?this.stateAfterClosingTagName(e):32===this._state?this.stateBeforeSpecialS(e):21===this._state?this.stateAfterComment1(e):14===this._state?this.stateInAttributeValueNoQuotes(e):4===this._state?this.stateInSelfClosingTag(e):16===this._state?this.stateInDeclaration(e):15===this._state?this.stateBeforeDeclaration(e):22===this._state?this.stateAfterComment2(e):18===this._state?this.stateBeforeComment(e):33===this._state?this.stateBeforeSpecialSEnd(e):53===this._state?D(this,e):39===this._state?x(this,e):40===this._state?S(this,e):41===this._state?k(this,e):34===this._state?v(this,e):35===this._state?y(this,e):36===this._state?b(this,e):37===this._state?w(this,e):38===this._state?this.stateBeforeSpecialLast(e,2):42===this._state?T(this,e):43===this._state?this.stateAfterSpecialLast(e,6):44===this._state?E(this,e):29===this._state?this.stateInCdata(e):45===this._state?_(this,e):46===this._state?C(this,e):47===this._state?this.stateBeforeSpecialLast(e,3):48===this._state?O(this,e):49===this._state?P(this,e):50===this._state?A(this,e):51===this._state?this.stateAfterSpecialLast(e,5):52===this._state?I(this,e):54===this._state?M(this,e):55===this._state?N(this,e):56===this._state?R(this,e):57===this._state?this.stateBeforeSpecialLast(e,4):58===this._state?L(this,e):59===this._state?j(this,e):60===this._state?B(this,e):61===this._state?this.stateAfterSpecialLast(e,5):17===this._state?this.stateInProcessingInstruction(e):64===this._state?this.stateInNamedEntity(e):23===this._state?p(this,e):62===this._state?F(this,e):24===this._state?f(this,e):25===this._state?h(this,e):30===this._state?this.stateAfterCdata1(e):31===this._state?this.stateAfterCdata2(e):26===this._state?m(this,e):27===this._state?g(this,e):28===this._state?this.stateBeforeCdata6(e):66===this._state?this.stateInHexEntity(e):65===this._state?this.stateInNumericEntity(e):63===this._state?U(this,e):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},e.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},e.prototype.handleTrailingData=function(){var e=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(e):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(e):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(e):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},e.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},e.prototype.emitToken=function(e){this.cbs[e](this.getSection()),this.sectionStart=-1},e.prototype.emitPartial=function(e){1!==this.baseState?this.cbs.onattribdata(e):this.cbs.ontext(e)},e}();t.default=$},23719:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RssHandler=t.DefaultHandler=t.DomUtils=t.ElementType=t.Tokenizer=t.createDomStream=t.parseDOM=t.parseDocument=t.DomHandler=t.Parser=void 0;var l=n(50763);Object.defineProperty(t,"Parser",{enumerable:!0,get:function(){return l.Parser}});var c=n(47915);function u(e,t){var n=new c.DomHandler(void 0,t);return new l.Parser(n,t).end(e),n.root}Object.defineProperty(t,"DomHandler",{enumerable:!0,get:function(){return c.DomHandler}}),Object.defineProperty(t,"DefaultHandler",{enumerable:!0,get:function(){return c.DomHandler}}),t.parseDocument=u,t.parseDOM=function(e,t){return u(e,t).children},t.createDomStream=function(e,t,n){var r=new c.DomHandler(e,t,n);return new l.Parser(r,t)};var d=n(39889);Object.defineProperty(t,"Tokenizer",{enumerable:!0,get:function(){return s(d).default}});var p=o(n(99960));t.ElementType=p,a(n(63870),t),t.DomUtils=o(n(89432));var f=n(63870);Object.defineProperty(t,"RssHandler",{enumerable:!0,get:function(){return f.FeedHandler}})},26071:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(15671),i=n(43144),o=[],a=o.forEach,s=o.slice;function l(e){return a.call(s.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}var c=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,u=function(e,t,n){var r=n||{};r.path=r.path||"/";var i=e+"="+encodeURIComponent(t);if(r.maxAge>0){var o=r.maxAge-0;if(isNaN(o))throw new Error("maxAge should be a Number");i+="; Max-Age="+Math.floor(o)}if(r.domain){if(!c.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain="+r.domain}if(r.path){if(!c.test(r.path))throw new TypeError("option path is invalid");i+="; Path="+r.path}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires="+r.expires.toUTCString()}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i},d=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*n*1e3)),r&&(i.domain=r),document.cookie=u(e,encodeURIComponent(t),i)},p=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null},f={name:"cookie",lookup:function(e){var t;if(e.lookupCookie&&"undefined"!==typeof document){var n=p(e.lookupCookie);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupCookie&&"undefined"!==typeof document&&d(t.lookupCookie,e,t.cookieMinutes,t.cookieDomain,t.cookieOptions)}},h={name:"querystring",lookup:function(e){var t;if("undefined"!==typeof window)for(var n=window.location.search.substring(1).split("&"),r=0;r<n.length;r++){var i=n[r].indexOf("=");if(i>0)n[r].substring(0,i)===e.lookupQuerystring&&(t=n[r].substring(i+1))}return t}},m=null,g=function(){if(null!==m)return m;try{m="undefined"!==window&&null!==window.localStorage;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(t){m=!1}return m},v={name:"localStorage",lookup:function(e){var t;if(e.lookupLocalStorage&&g()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupLocalStorage&&g()&&window.localStorage.setItem(t.lookupLocalStorage,e)}},y=null,b=function(){if(null!==y)return y;try{y="undefined"!==window&&null!==window.sessionStorage;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(t){y=!1}return y},w={name:"sessionStorage",lookup:function(e){var t;if(e.lookupSessionStorage&&b()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(t=n)}return t},cacheUserLanguage:function(e,t){t.lookupSessionStorage&&b()&&window.sessionStorage.setItem(t.lookupSessionStorage,e)}},x={name:"navigator",lookup:function(e){var t=[];if("undefined"!==typeof navigator){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)t.push(navigator.languages[n]);navigator.userLanguage&&t.push(navigator.userLanguage),navigator.language&&t.push(navigator.language)}return t.length>0?t:void 0}},S={name:"htmlTag",lookup:function(e){var t,n=e.htmlTag||("undefined"!==typeof document?document.documentElement:null);return n&&"function"===typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},k={name:"path",lookup:function(e){var t;if("undefined"!==typeof window){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if("number"===typeof e.lookupFromPathIndex){if("string"!==typeof n[e.lookupFromPathIndex])return;t=n[e.lookupFromPathIndex].replace("/","")}else t=n[0].replace("/","")}return t}},T={name:"subdomain",lookup:function(e){var t;if("undefined"!==typeof window){var n=window.location.href.match(/(?:http[s]*\:\/\/)*(.*?)\.(?=[^\/]*\..{2,5})/gi);n instanceof Array&&(t="number"===typeof e.lookupFromSubdomainIndex?n[e.lookupFromSubdomainIndex].replace("http://","").replace("https://","").replace(".",""):n[0].replace("http://","").replace("https://","").replace(".",""))}return t}};var E=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.Z)(this,e),this.type="languageDetector",this.detectors={},this.init(t,n)}return(0,i.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=l(t,this.options||{},{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(f),this.addDetector(h),this.addDetector(v),this.addDetector(w),this.addDetector(x),this.addDetector(S),this.addDetector(k),this.addDetector(T)}},{key:"addDetector",value:function(e){this.detectors[e.name]=e}},{key:"detect",value:function(e){var t=this;e||(e=this.options.order);var n=[];return e.forEach((function(e){if(t.detectors[e]){var r=t.detectors[e].lookup(t.options);r&&"string"===typeof r&&(r=[r]),r&&(n=n.concat(r))}})),this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}},{key:"cacheUserLanguage",value:function(e,t){var n=this;t||(t=this.options.caches),t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach((function(t){n.detectors[t]&&n.detectors[t].cacheUserLanguage(e,n.options)})))}}]),e}();E.type="languageDetector"},26057:(e,t)=>{"use strict";function n(e){return"[object Object]"===Object.prototype.toString.call(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlainObject=function(e){var t,r;return!1!==n(e)&&(void 0===(t=e.constructor)||!1!==n(r=t.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf"))}},44823:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(72662));t.default=class{constructor(){this.queue=[],this.running=!1}enqueue(e){o.default.trace("enqueuing request to fire later"),this.queue.push(e)}dequeue(){const e=this.queue.shift();e&&e(),o.default.trace("firing request from queue")}run(){return r(this,void 0,void 0,(function*(){if(!this.running){for(o.default.trace("start queue"),this.running=!0;this.running&&this.queue.length>0;)this.dequeue();this.running=!1,o.default.trace("queue finished")}}))}pause(){o.default.trace("pausing queue"),this.running=!1}reset(){o.default.trace("resetting queue"),this.running=!1,this.queue=[]}isRunning(){return this.running}isEmpty(){return 0===this.queue.length}}},9286:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toProtoSessionDescription=t.SignalClient=void 0;const l=n(71981),c=s(n(72662)),u=n(44658),d=n(67650),p=s(n(44823));l.isWeb()&&Promise.resolve().then((()=>o(n(50835))));const f=["syncState","trickle","offer","answer","simulate","leave"];function h(e){const t={type:"offer",sdp:e.sdp};switch(e.type){case"answer":case"offer":case"pranswer":case"rollback":t.type=e.type}return t}function m(e){return{sdp:e.sdp,type:e.type}}t.SignalClient=class{constructor(e=!1){this.isConnected=!1,this.isReconnecting=!1,this.useJSON=e,this.requestQueue=new p.default}join(e,t,n){return a(this,void 0,void 0,(function*(){this.isConnected=!1;return yield this.connect(e,t,{autoSubscribe:null===n||void 0===n?void 0:n.autoSubscribe,publishOnly:null===n||void 0===n?void 0:n.publishOnly})}))}reconnect(e,t){return a(this,void 0,void 0,(function*(){this.isReconnecting=!0,yield this.connect(e,t,{reconnect:!0})}))}connect(e,t,n){e.startsWith("http")&&(e=e.replace("http","ws")),e=e.replace(/\/$/,""),e+="/rtc";const r=function(e,t,n){const r=new URLSearchParams;r.set("access_token",e),(null===n||void 0===n?void 0:n.reconnect)&&r.set("reconnect","1");void 0!==(null===n||void 0===n?void 0:n.autoSubscribe)&&r.set("auto_subscribe",n.autoSubscribe?"1":"0");r.set("sdk","js"),r.set("version",t.version),r.set("protocol",t.protocol.toString()),t.deviceModel&&r.set("device_model",t.deviceModel);t.os&&r.set("os",t.os);t.osVersion&&r.set("os_version",t.osVersion);t.browser&&r.set("browser",t.browser);t.browserVersion&&r.set("browser_version",t.browserVersion);void 0!==(null===n||void 0===n?void 0:n.publishOnly)&&r.set("publish",n.publishOnly);return`?${r.toString()}`}(t,l.getClientInfo(),n);return new Promise(((t,i)=>{c.default.debug("connecting to",e+r),this.ws=void 0;const o=new WebSocket(e+r);o.binaryType="arraybuffer",o.onerror=t=>a(this,void 0,void 0,(function*(){if(this.ws)this.handleWSError(t);else try{const t=yield fetch(`http${e.substring(2)}/validate${r}`);if(t.ok)i(new d.ConnectionError("Internal error"));else{const e=yield t.text();i(new d.ConnectionError(e))}}catch(n){i(new d.ConnectionError("server was not reachable"))}})),o.onopen=()=>{this.ws=o,n.reconnect&&(this.isConnected=!0,t())},o.onmessage=e=>a(this,void 0,void 0,(function*(){let n;if("string"===typeof e.data){const t=JSON.parse(e.data);n=u.SignalResponse.fromJSON(t)}else{if(!(e.data instanceof ArrayBuffer))return void c.default.error("could not decode websocket message",typeof e.data);n=u.SignalResponse.decode(new Uint8Array(e.data))}this.isConnected?(this.signalLatency&&(yield l.sleep(this.signalLatency)),this.handleSignalResponse(n)):n.join?(this.isConnected=!0,t(n.join)):i(new d.ConnectionError("did not receive join response"))})),o.onclose=e=>{this.isConnected&&this.ws===o&&(c.default.debug("websocket connection closed",e.reason),this.isConnected=!1,this.onClose&&this.onClose(e.reason),this.ws===o&&(this.ws=void 0))}}))}close(){var e;this.isConnected=!1,this.ws&&(this.ws.onclose=null),null===(e=this.ws)||void 0===e||e.close(),this.ws=void 0}sendOffer(e){c.default.debug("sending offer",e),this.sendRequest({offer:m(e)})}sendAnswer(e){c.default.debug("sending answer"),this.sendRequest({answer:m(e)})}sendIceCandidate(e,t){c.default.trace("sending ice candidate",e),this.sendRequest({trickle:{candidateInit:JSON.stringify(e),target:t}})}sendMuteTrack(e,t){this.sendRequest({mute:{sid:e,muted:t}})}sendAddTrack(e){this.sendRequest({addTrack:u.AddTrackRequest.fromPartial(e)})}sendUpdateTrackSettings(e){this.sendRequest({trackSetting:e})}sendUpdateSubscription(e){this.sendRequest({subscription:e})}sendSyncState(e){this.sendRequest({syncState:e})}sendUpdateVideoLayers(e,t){this.sendRequest({updateLayers:{trackSid:e,layers:t}})}sendUpdateSubscriptionPermissions(e,t){this.sendRequest({subscriptionPermission:{allParticipants:e,trackPermissions:t}})}sendSimulateScenario(e){this.sendRequest({simulate:e})}sendLeave(){this.sendRequest(u.SignalRequest.fromPartial({leave:{}}))}sendRequest(e,t=!1){return a(this,void 0,void 0,(function*(){const n=!t&&!function(e){const t=void 0!==Object.keys(e).find((e=>f.includes(e)));return c.default.trace("request allowed to bypass queue:",t,e),t}(e);if(!n||!this.isReconnecting&&this.requestQueue.isEmpty())if(this.signalLatency&&(yield l.sleep(this.signalLatency)),this.ws)try{this.useJSON?this.ws.send(JSON.stringify(u.SignalRequest.toJSON(e))):this.ws.send(u.SignalRequest.encode(e).finish())}catch(r){c.default.error("error sending signal message",r)}else c.default.error("cannot send signal request before connected");else this.requestQueue.enqueue((()=>this.sendRequest(e,!0)))}))}handleSignalResponse(e){if(e.answer){const t=h(e.answer);this.onAnswer&&this.onAnswer(t)}else if(e.offer){const t=h(e.offer);this.onOffer&&this.onOffer(t)}else if(e.trickle){const t=JSON.parse(e.trickle.candidateInit);this.onTrickle&&this.onTrickle(t,e.trickle.target)}else e.update?this.onParticipantUpdate&&this.onParticipantUpdate(e.update.participants):e.trackPublished?this.onLocalTrackPublished&&this.onLocalTrackPublished(e.trackPublished):e.speakersChanged?this.onSpeakersChanged&&this.onSpeakersChanged(e.speakersChanged.speakers):e.leave?this.onLeave&&this.onLeave(e.leave):e.mute?this.onRemoteMuteChanged&&this.onRemoteMuteChanged(e.mute.sid,e.mute.muted):e.roomUpdate?this.onRoomUpdate&&this.onRoomUpdate(e.roomUpdate.room):e.connectionQuality?this.onConnectionQuality&&this.onConnectionQuality(e.connectionQuality):e.streamStateUpdate?this.onStreamStateUpdate&&this.onStreamStateUpdate(e.streamStateUpdate):e.subscribedQualityUpdate?this.onSubscribedQualityUpdate&&this.onSubscribedQualityUpdate(e.subscribedQualityUpdate):e.subscriptionPermissionUpdate?this.onSubscriptionPermissionUpdate&&this.onSubscriptionPermissionUpdate(e.subscriptionPermissionUpdate):e.refreshToken?this.onTokenRefresh&&this.onTokenRefresh(e.refreshToken):c.default.debug("unsupported message",e)}setReconnected(){this.isReconnecting=!1,this.requestQueue.run()}handleWSError(e){c.default.error("websocket error",e)}},t.toProtoSessionDescription=m},22011:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.connect=t.version=void 0;const l=o(n(72662)),c=n(67650),u=n(28911),d=s(n(93258));var p=n(36942);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return p.version}}),t.connect=function(e,t,n){var r,i,o,s;return a(this,void 0,void 0,(function*(){null!==n&&void 0!==n||(n={}),void 0===n.adaptiveStream&&(n.adaptiveStream=!0===n.autoManageVideo?{}:void 0),l.setLogLevel(null!==(r=n.logLevel)&&void 0!==r?r:l.LogLevel.warn);const p=null!==(i=n.rtcConfig)&&void 0!==i?i:{};n.iceServers&&(p.iceServers=n.iceServers);const f=new d.default(n);yield f.connect(e,t,n);const h=null!==(o=n.audio)&&void 0!==o&&o,m=null!==(s=n.video)&&void 0!==s&&s;return(h||m)&&setTimeout((()=>a(this,void 0,void 0,(function*(){let e;if(h&&m)try{yield f.localParticipant.enableCameraAndMicrophone()}catch(t){const r=c.MediaDeviceFailure.getFailure(t);if(l.default.warn("received error while creating media",r),t instanceof Error&&l.default.warn(t.message),r===c.MediaDeviceFailure.NotFound||r===c.MediaDeviceFailure.DeviceInUse)try{yield f.localParticipant.setMicrophoneEnabled(!0)}catch(n){e=n}else e=t}else if(h)try{yield f.localParticipant.setMicrophoneEnabled(!0)}catch(t){e=t}else if(m)try{yield f.localParticipant.setCameraEnabled(!0)}catch(t){e=t}e&&(f.emit(u.RoomEvent.MediaDevicesError,e),l.default.error("could not create media",e))})))),f}))}},78219:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionQuality=t.VideoQuality=t.TrackPublication=t.RemoteTrackPublication=t.RemoteVideoTrack=t.RemoteAudioTrack=t.RemoteTrack=t.LocalTrackPublication=t.LocalTrack=t.LocalVideoTrack=t.LocalAudioTrack=t.LocalParticipant=t.RemoteParticipant=t.Participant=t.DataPacket_Kind=t.RoomState=t.Room=t.setLogLevel=void 0;const l=n(72662);Object.defineProperty(t,"setLogLevel",{enumerable:!0,get:function(){return l.setLogLevel}});const c=n(8983);Object.defineProperty(t,"DataPacket_Kind",{enumerable:!0,get:function(){return c.DataPacket_Kind}}),Object.defineProperty(t,"VideoQuality",{enumerable:!0,get:function(){return c.VideoQuality}});const u=s(n(24149));t.LocalParticipant=u.default;const d=o(n(22070));t.Participant=d.default,Object.defineProperty(t,"ConnectionQuality",{enumerable:!0,get:function(){return d.ConnectionQuality}});const p=s(n(51488));t.RemoteParticipant=p.default;const f=o(n(93258));t.Room=f.default,Object.defineProperty(t,"RoomState",{enumerable:!0,get:function(){return f.RoomState}});const h=s(n(98669));t.LocalAudioTrack=h.default;const m=s(n(35728));t.LocalTrack=m.default;const g=s(n(170));t.LocalTrackPublication=g.default;const v=s(n(76887));t.LocalVideoTrack=v.default;const y=s(n(35941));t.RemoteAudioTrack=y.default;const b=s(n(65785));t.RemoteTrack=b.default;const w=s(n(40297));t.RemoteTrackPublication=w.default;const x=s(n(466));t.RemoteVideoTrack=x.default;const S=n(22184);Object.defineProperty(t,"TrackPublication",{enumerable:!0,get:function(){return S.TrackPublication}}),a(n(22011),t),a(n(4797),t),a(n(67650),t),a(n(28911),t),a(n(60119),t),a(n(36669),t),a(n(80410),t),a(n(55884),t),a(n(36942),t)},72662:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.setLogLevel=t.LogLevel=void 0;const i=r(n(2043));var o;!function(e){e.trace="trace",e.debug="debug",e.info="info",e.warn="warn",e.error="error",e.silent="silent"}(o=t.LogLevel||(t.LogLevel={}));const a=i.default.getLogger("livekit");a.setLevel(o.info),t.default=a,t.setLogLevel=function(e){a.setLevel(e)}},4797:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8983:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VideoConfiguration=t.ClientConfiguration=t.ClientInfo=t.ParticipantTracks=t.UserPacket=t.SpeakerInfo=t.ActiveSpeakerUpdate=t.DataPacket=t.VideoLayer=t.TrackInfo=t.ParticipantInfo=t.Codec=t.Room=t.clientInfo_SDKToJSON=t.clientInfo_SDKFromJSON=t.ClientInfo_SDK=t.dataPacket_KindToJSON=t.dataPacket_KindFromJSON=t.DataPacket_Kind=t.participantInfo_StateToJSON=t.participantInfo_StateFromJSON=t.ParticipantInfo_State=t.clientConfigSettingToJSON=t.clientConfigSettingFromJSON=t.ClientConfigSetting=t.connectionQualityToJSON=t.connectionQualityFromJSON=t.ConnectionQuality=t.videoQualityToJSON=t.videoQualityFromJSON=t.VideoQuality=t.trackSourceToJSON=t.trackSourceFromJSON=t.TrackSource=t.trackTypeToJSON=t.trackTypeFromJSON=t.TrackType=t.protobufPackage=void 0;const i=r(n(43720)),o=r(n(62100));var a,s,l,c,u,d,p,f;function h(e){switch(e){case 0:case"AUDIO":return a.AUDIO;case 1:case"VIDEO":return a.VIDEO;case 2:case"DATA":return a.DATA;default:return a.UNRECOGNIZED}}function m(e){switch(e){case a.AUDIO:return"AUDIO";case a.VIDEO:return"VIDEO";case a.DATA:return"DATA";default:return"UNKNOWN"}}function g(e){switch(e){case 0:case"UNKNOWN":return s.UNKNOWN;case 1:case"CAMERA":return s.CAMERA;case 2:case"MICROPHONE":return s.MICROPHONE;case 3:case"SCREEN_SHARE":return s.SCREEN_SHARE;case 4:case"SCREEN_SHARE_AUDIO":return s.SCREEN_SHARE_AUDIO;default:return s.UNRECOGNIZED}}function v(e){switch(e){case s.UNKNOWN:return"UNKNOWN";case s.CAMERA:return"CAMERA";case s.MICROPHONE:return"MICROPHONE";case s.SCREEN_SHARE:return"SCREEN_SHARE";case s.SCREEN_SHARE_AUDIO:return"SCREEN_SHARE_AUDIO";default:return"UNKNOWN"}}function y(e){switch(e){case 0:case"LOW":return l.LOW;case 1:case"MEDIUM":return l.MEDIUM;case 2:case"HIGH":return l.HIGH;case 3:case"OFF":return l.OFF;default:return l.UNRECOGNIZED}}function b(e){switch(e){case l.LOW:return"LOW";case l.MEDIUM:return"MEDIUM";case l.HIGH:return"HIGH";case l.OFF:return"OFF";default:return"UNKNOWN"}}function w(e){switch(e){case 0:case"UNSET":return u.UNSET;case 1:case"DISABLED":return u.DISABLED;case 2:case"ENABLED":return u.ENABLED;default:return u.UNRECOGNIZED}}function x(e){switch(e){case u.UNSET:return"UNSET";case u.DISABLED:return"DISABLED";case u.ENABLED:return"ENABLED";default:return"UNKNOWN"}}function S(e){switch(e){case 0:case"JOINING":return d.JOINING;case 1:case"JOINED":return d.JOINED;case 2:case"ACTIVE":return d.ACTIVE;case 3:case"DISCONNECTED":return d.DISCONNECTED;default:return d.UNRECOGNIZED}}function k(e){switch(e){case d.JOINING:return"JOINING";case d.JOINED:return"JOINED";case d.ACTIVE:return"ACTIVE";case d.DISCONNECTED:return"DISCONNECTED";default:return"UNKNOWN"}}function T(e){switch(e){case 0:case"RELIABLE":return p.RELIABLE;case 1:case"LOSSY":return p.LOSSY;default:return p.UNRECOGNIZED}}function E(e){switch(e){case p.RELIABLE:return"RELIABLE";case p.LOSSY:return"LOSSY";default:return"UNKNOWN"}}function _(e){switch(e){case 0:case"UNKNOWN":return f.UNKNOWN;case 1:case"JS":return f.JS;case 2:case"SWIFT":return f.SWIFT;case 3:case"ANDROID":return f.ANDROID;case 4:case"FLUTTER":return f.FLUTTER;case 5:case"GO":return f.GO;case 6:case"UNITY":return f.UNITY;default:return f.UNRECOGNIZED}}function C(e){switch(e){case f.UNKNOWN:return"UNKNOWN";case f.JS:return"JS";case f.SWIFT:return"SWIFT";case f.ANDROID:return"ANDROID";case f.FLUTTER:return"FLUTTER";case f.GO:return"GO";case f.UNITY:return"UNITY";default:return"UNKNOWN"}}t.protobufPackage="livekit",function(e){e[e.AUDIO=0]="AUDIO",e[e.VIDEO=1]="VIDEO",e[e.DATA=2]="DATA",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(a=t.TrackType||(t.TrackType={})),t.trackTypeFromJSON=h,t.trackTypeToJSON=m,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.CAMERA=1]="CAMERA",e[e.MICROPHONE=2]="MICROPHONE",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(s=t.TrackSource||(t.TrackSource={})),t.trackSourceFromJSON=g,t.trackSourceToJSON=v,function(e){e[e.LOW=0]="LOW",e[e.MEDIUM=1]="MEDIUM",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(l=t.VideoQuality||(t.VideoQuality={})),t.videoQualityFromJSON=y,t.videoQualityToJSON=b,function(e){e[e.POOR=0]="POOR",e[e.GOOD=1]="GOOD",e[e.EXCELLENT=2]="EXCELLENT",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(c=t.ConnectionQuality||(t.ConnectionQuality={})),t.connectionQualityFromJSON=function(e){switch(e){case 0:case"POOR":return c.POOR;case 1:case"GOOD":return c.GOOD;case 2:case"EXCELLENT":return c.EXCELLENT;default:return c.UNRECOGNIZED}},t.connectionQualityToJSON=function(e){switch(e){case c.POOR:return"POOR";case c.GOOD:return"GOOD";case c.EXCELLENT:return"EXCELLENT";default:return"UNKNOWN"}},function(e){e[e.UNSET=0]="UNSET",e[e.DISABLED=1]="DISABLED",e[e.ENABLED=2]="ENABLED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(u=t.ClientConfigSetting||(t.ClientConfigSetting={})),t.clientConfigSettingFromJSON=w,t.clientConfigSettingToJSON=x,function(e){e[e.JOINING=0]="JOINING",e[e.JOINED=1]="JOINED",e[e.ACTIVE=2]="ACTIVE",e[e.DISCONNECTED=3]="DISCONNECTED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(d=t.ParticipantInfo_State||(t.ParticipantInfo_State={})),t.participantInfo_StateFromJSON=S,t.participantInfo_StateToJSON=k,function(e){e[e.RELIABLE=0]="RELIABLE",e[e.LOSSY=1]="LOSSY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(p=t.DataPacket_Kind||(t.DataPacket_Kind={})),t.dataPacket_KindFromJSON=T,t.dataPacket_KindToJSON=E,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JS=1]="JS",e[e.SWIFT=2]="SWIFT",e[e.ANDROID=3]="ANDROID",e[e.FLUTTER=4]="FLUTTER",e[e.GO=5]="GO",e[e.UNITY=6]="UNITY",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(f=t.ClientInfo_SDK||(t.ClientInfo_SDK={})),t.clientInfo_SDKFromJSON=_,t.clientInfo_SDKToJSON=C;const O={sid:"",name:"",emptyTimeout:0,maxParticipants:0,creationTime:0,turnPassword:"",metadata:"",numParticipants:0,activeRecording:!1};t.Room={encode(e,n=o.default.Writer.create()){""!==e.sid&&n.uint32(10).string(e.sid),""!==e.name&&n.uint32(18).string(e.name),0!==e.emptyTimeout&&n.uint32(24).uint32(e.emptyTimeout),0!==e.maxParticipants&&n.uint32(32).uint32(e.maxParticipants),0!==e.creationTime&&n.uint32(40).int64(e.creationTime),""!==e.turnPassword&&n.uint32(50).string(e.turnPassword);for(const r of e.enabledCodecs)t.Codec.encode(r,n.uint32(58).fork()).ldelim();return""!==e.metadata&&n.uint32(66).string(e.metadata),0!==e.numParticipants&&n.uint32(72).uint32(e.numParticipants),!0===e.activeRecording&&n.uint32(80).bool(e.activeRecording),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},O);for(a.enabledCodecs=[];r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.sid=r.string();break;case 2:a.name=r.string();break;case 3:a.emptyTimeout=r.uint32();break;case 4:a.maxParticipants=r.uint32();break;case 5:a.creationTime=V(r.int64());break;case 6:a.turnPassword=r.string();break;case 7:a.enabledCodecs.push(t.Codec.decode(r,r.uint32()));break;case 8:a.metadata=r.string();break;case 9:a.numParticipants=r.uint32();break;case 10:a.activeRecording=r.bool();break;default:r.skipType(7&e)}}return a},fromJSON(e){const n=Object.assign({},O);if(n.enabledCodecs=[],void 0!==e.sid&&null!==e.sid?n.sid=String(e.sid):n.sid="",void 0!==e.name&&null!==e.name?n.name=String(e.name):n.name="",void 0!==e.emptyTimeout&&null!==e.emptyTimeout?n.emptyTimeout=Number(e.emptyTimeout):n.emptyTimeout=0,void 0!==e.maxParticipants&&null!==e.maxParticipants?n.maxParticipants=Number(e.maxParticipants):n.maxParticipants=0,void 0!==e.creationTime&&null!==e.creationTime?n.creationTime=Number(e.creationTime):n.creationTime=0,void 0!==e.turnPassword&&null!==e.turnPassword?n.turnPassword=String(e.turnPassword):n.turnPassword="",void 0!==e.enabledCodecs&&null!==e.enabledCodecs)for(const r of e.enabledCodecs)n.enabledCodecs.push(t.Codec.fromJSON(r));return void 0!==e.metadata&&null!==e.metadata?n.metadata=String(e.metadata):n.metadata="",void 0!==e.numParticipants&&null!==e.numParticipants?n.numParticipants=Number(e.numParticipants):n.numParticipants=0,void 0!==e.activeRecording&&null!==e.activeRecording?n.activeRecording=Boolean(e.activeRecording):n.activeRecording=!1,n},toJSON(e){const n={};return void 0!==e.sid&&(n.sid=e.sid),void 0!==e.name&&(n.name=e.name),void 0!==e.emptyTimeout&&(n.emptyTimeout=e.emptyTimeout),void 0!==e.maxParticipants&&(n.maxParticipants=e.maxParticipants),void 0!==e.creationTime&&(n.creationTime=e.creationTime),void 0!==e.turnPassword&&(n.turnPassword=e.turnPassword),e.enabledCodecs?n.enabledCodecs=e.enabledCodecs.map((e=>e?t.Codec.toJSON(e):void 0)):n.enabledCodecs=[],void 0!==e.metadata&&(n.metadata=e.metadata),void 0!==e.numParticipants&&(n.numParticipants=e.numParticipants),void 0!==e.activeRecording&&(n.activeRecording=e.activeRecording),n},fromPartial(e){var n,r,i,o,a,s,l,c,u;const d=Object.assign({},O);if(d.sid=null!==(n=e.sid)&&void 0!==n?n:"",d.name=null!==(r=e.name)&&void 0!==r?r:"",d.emptyTimeout=null!==(i=e.emptyTimeout)&&void 0!==i?i:0,d.maxParticipants=null!==(o=e.maxParticipants)&&void 0!==o?o:0,d.creationTime=null!==(a=e.creationTime)&&void 0!==a?a:0,d.turnPassword=null!==(s=e.turnPassword)&&void 0!==s?s:"",d.enabledCodecs=[],void 0!==e.enabledCodecs&&null!==e.enabledCodecs)for(const p of e.enabledCodecs)d.enabledCodecs.push(t.Codec.fromPartial(p));return d.metadata=null!==(l=e.metadata)&&void 0!==l?l:"",d.numParticipants=null!==(c=e.numParticipants)&&void 0!==c?c:0,d.activeRecording=null!==(u=e.activeRecording)&&void 0!==u&&u,d}};const P={mime:"",fmtpLine:""};t.Codec={encode:(e,t=o.default.Writer.create())=>(""!==e.mime&&t.uint32(10).string(e.mime),""!==e.fmtpLine&&t.uint32(18).string(e.fmtpLine),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},P);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.mime=n.string();break;case 2:i.fmtpLine=n.string();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},P);return void 0!==e.mime&&null!==e.mime?t.mime=String(e.mime):t.mime="",void 0!==e.fmtpLine&&null!==e.fmtpLine?t.fmtpLine=String(e.fmtpLine):t.fmtpLine="",t},toJSON(e){const t={};return void 0!==e.mime&&(t.mime=e.mime),void 0!==e.fmtpLine&&(t.fmtpLine=e.fmtpLine),t},fromPartial(e){var t,n;const r=Object.assign({},P);return r.mime=null!==(t=e.mime)&&void 0!==t?t:"",r.fmtpLine=null!==(n=e.fmtpLine)&&void 0!==n?n:"",r}};const A={sid:"",identity:"",state:0,metadata:"",joinedAt:0,hidden:!1,recorder:!1,name:"",version:0};t.ParticipantInfo={encode(e,n=o.default.Writer.create()){""!==e.sid&&n.uint32(10).string(e.sid),""!==e.identity&&n.uint32(18).string(e.identity),0!==e.state&&n.uint32(24).int32(e.state);for(const r of e.tracks)t.TrackInfo.encode(r,n.uint32(34).fork()).ldelim();return""!==e.metadata&&n.uint32(42).string(e.metadata),0!==e.joinedAt&&n.uint32(48).int64(e.joinedAt),!0===e.hidden&&n.uint32(56).bool(e.hidden),!0===e.recorder&&n.uint32(64).bool(e.recorder),""!==e.name&&n.uint32(74).string(e.name),0!==e.version&&n.uint32(80).uint32(e.version),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},A);for(a.tracks=[];r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.sid=r.string();break;case 2:a.identity=r.string();break;case 3:a.state=r.int32();break;case 4:a.tracks.push(t.TrackInfo.decode(r,r.uint32()));break;case 5:a.metadata=r.string();break;case 6:a.joinedAt=V(r.int64());break;case 7:a.hidden=r.bool();break;case 8:a.recorder=r.bool();break;case 9:a.name=r.string();break;case 10:a.version=r.uint32();break;default:r.skipType(7&e)}}return a},fromJSON(e){const n=Object.assign({},A);if(n.tracks=[],void 0!==e.sid&&null!==e.sid?n.sid=String(e.sid):n.sid="",void 0!==e.identity&&null!==e.identity?n.identity=String(e.identity):n.identity="",void 0!==e.state&&null!==e.state?n.state=S(e.state):n.state=0,void 0!==e.tracks&&null!==e.tracks)for(const r of e.tracks)n.tracks.push(t.TrackInfo.fromJSON(r));return void 0!==e.metadata&&null!==e.metadata?n.metadata=String(e.metadata):n.metadata="",void 0!==e.joinedAt&&null!==e.joinedAt?n.joinedAt=Number(e.joinedAt):n.joinedAt=0,void 0!==e.hidden&&null!==e.hidden?n.hidden=Boolean(e.hidden):n.hidden=!1,void 0!==e.recorder&&null!==e.recorder?n.recorder=Boolean(e.recorder):n.recorder=!1,void 0!==e.name&&null!==e.name?n.name=String(e.name):n.name="",void 0!==e.version&&null!==e.version?n.version=Number(e.version):n.version=0,n},toJSON(e){const n={};return void 0!==e.sid&&(n.sid=e.sid),void 0!==e.identity&&(n.identity=e.identity),void 0!==e.state&&(n.state=k(e.state)),e.tracks?n.tracks=e.tracks.map((e=>e?t.TrackInfo.toJSON(e):void 0)):n.tracks=[],void 0!==e.metadata&&(n.metadata=e.metadata),void 0!==e.joinedAt&&(n.joinedAt=e.joinedAt),void 0!==e.hidden&&(n.hidden=e.hidden),void 0!==e.recorder&&(n.recorder=e.recorder),void 0!==e.name&&(n.name=e.name),void 0!==e.version&&(n.version=e.version),n},fromPartial(e){var n,r,i,o,a,s,l,c,u;const d=Object.assign({},A);if(d.sid=null!==(n=e.sid)&&void 0!==n?n:"",d.identity=null!==(r=e.identity)&&void 0!==r?r:"",d.state=null!==(i=e.state)&&void 0!==i?i:0,d.tracks=[],void 0!==e.tracks&&null!==e.tracks)for(const p of e.tracks)d.tracks.push(t.TrackInfo.fromPartial(p));return d.metadata=null!==(o=e.metadata)&&void 0!==o?o:"",d.joinedAt=null!==(a=e.joinedAt)&&void 0!==a?a:0,d.hidden=null!==(s=e.hidden)&&void 0!==s&&s,d.recorder=null!==(l=e.recorder)&&void 0!==l&&l,d.name=null!==(c=e.name)&&void 0!==c?c:"",d.version=null!==(u=e.version)&&void 0!==u?u:0,d}};const I={sid:"",type:0,name:"",muted:!1,width:0,height:0,simulcast:!1,disableDtx:!1,source:0,mimeType:"",mid:""};t.TrackInfo={encode(e,n=o.default.Writer.create()){""!==e.sid&&n.uint32(10).string(e.sid),0!==e.type&&n.uint32(16).int32(e.type),""!==e.name&&n.uint32(26).string(e.name),!0===e.muted&&n.uint32(32).bool(e.muted),0!==e.width&&n.uint32(40).uint32(e.width),0!==e.height&&n.uint32(48).uint32(e.height),!0===e.simulcast&&n.uint32(56).bool(e.simulcast),!0===e.disableDtx&&n.uint32(64).bool(e.disableDtx),0!==e.source&&n.uint32(72).int32(e.source);for(const r of e.layers)t.VideoLayer.encode(r,n.uint32(82).fork()).ldelim();return""!==e.mimeType&&n.uint32(90).string(e.mimeType),""!==e.mid&&n.uint32(98).string(e.mid),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},I);for(a.layers=[];r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.sid=r.string();break;case 2:a.type=r.int32();break;case 3:a.name=r.string();break;case 4:a.muted=r.bool();break;case 5:a.width=r.uint32();break;case 6:a.height=r.uint32();break;case 7:a.simulcast=r.bool();break;case 8:a.disableDtx=r.bool();break;case 9:a.source=r.int32();break;case 10:a.layers.push(t.VideoLayer.decode(r,r.uint32()));break;case 11:a.mimeType=r.string();break;case 12:a.mid=r.string();break;default:r.skipType(7&e)}}return a},fromJSON(e){const n=Object.assign({},I);if(n.layers=[],void 0!==e.sid&&null!==e.sid?n.sid=String(e.sid):n.sid="",void 0!==e.type&&null!==e.type?n.type=h(e.type):n.type=0,void 0!==e.name&&null!==e.name?n.name=String(e.name):n.name="",void 0!==e.muted&&null!==e.muted?n.muted=Boolean(e.muted):n.muted=!1,void 0!==e.width&&null!==e.width?n.width=Number(e.width):n.width=0,void 0!==e.height&&null!==e.height?n.height=Number(e.height):n.height=0,void 0!==e.simulcast&&null!==e.simulcast?n.simulcast=Boolean(e.simulcast):n.simulcast=!1,void 0!==e.disableDtx&&null!==e.disableDtx?n.disableDtx=Boolean(e.disableDtx):n.disableDtx=!1,void 0!==e.source&&null!==e.source?n.source=g(e.source):n.source=0,void 0!==e.layers&&null!==e.layers)for(const r of e.layers)n.layers.push(t.VideoLayer.fromJSON(r));return void 0!==e.mimeType&&null!==e.mimeType?n.mimeType=String(e.mimeType):n.mimeType="",void 0!==e.mid&&null!==e.mid?n.mid=String(e.mid):n.mid="",n},toJSON(e){const n={};return void 0!==e.sid&&(n.sid=e.sid),void 0!==e.type&&(n.type=m(e.type)),void 0!==e.name&&(n.name=e.name),void 0!==e.muted&&(n.muted=e.muted),void 0!==e.width&&(n.width=e.width),void 0!==e.height&&(n.height=e.height),void 0!==e.simulcast&&(n.simulcast=e.simulcast),void 0!==e.disableDtx&&(n.disableDtx=e.disableDtx),void 0!==e.source&&(n.source=v(e.source)),e.layers?n.layers=e.layers.map((e=>e?t.VideoLayer.toJSON(e):void 0)):n.layers=[],void 0!==e.mimeType&&(n.mimeType=e.mimeType),void 0!==e.mid&&(n.mid=e.mid),n},fromPartial(e){var n,r,i,o,a,s,l,c,u,d,p;const f=Object.assign({},I);if(f.sid=null!==(n=e.sid)&&void 0!==n?n:"",f.type=null!==(r=e.type)&&void 0!==r?r:0,f.name=null!==(i=e.name)&&void 0!==i?i:"",f.muted=null!==(o=e.muted)&&void 0!==o&&o,f.width=null!==(a=e.width)&&void 0!==a?a:0,f.height=null!==(s=e.height)&&void 0!==s?s:0,f.simulcast=null!==(l=e.simulcast)&&void 0!==l&&l,f.disableDtx=null!==(c=e.disableDtx)&&void 0!==c&&c,f.source=null!==(u=e.source)&&void 0!==u?u:0,f.layers=[],void 0!==e.layers&&null!==e.layers)for(const h of e.layers)f.layers.push(t.VideoLayer.fromPartial(h));return f.mimeType=null!==(d=e.mimeType)&&void 0!==d?d:"",f.mid=null!==(p=e.mid)&&void 0!==p?p:"",f}};const M={quality:0,width:0,height:0,bitrate:0,ssrc:0};t.VideoLayer={encode:(e,t=o.default.Writer.create())=>(0!==e.quality&&t.uint32(8).int32(e.quality),0!==e.width&&t.uint32(16).uint32(e.width),0!==e.height&&t.uint32(24).uint32(e.height),0!==e.bitrate&&t.uint32(32).uint32(e.bitrate),0!==e.ssrc&&t.uint32(40).uint32(e.ssrc),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},M);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.quality=n.int32();break;case 2:i.width=n.uint32();break;case 3:i.height=n.uint32();break;case 4:i.bitrate=n.uint32();break;case 5:i.ssrc=n.uint32();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},M);return void 0!==e.quality&&null!==e.quality?t.quality=y(e.quality):t.quality=0,void 0!==e.width&&null!==e.width?t.width=Number(e.width):t.width=0,void 0!==e.height&&null!==e.height?t.height=Number(e.height):t.height=0,void 0!==e.bitrate&&null!==e.bitrate?t.bitrate=Number(e.bitrate):t.bitrate=0,void 0!==e.ssrc&&null!==e.ssrc?t.ssrc=Number(e.ssrc):t.ssrc=0,t},toJSON(e){const t={};return void 0!==e.quality&&(t.quality=b(e.quality)),void 0!==e.width&&(t.width=e.width),void 0!==e.height&&(t.height=e.height),void 0!==e.bitrate&&(t.bitrate=e.bitrate),void 0!==e.ssrc&&(t.ssrc=e.ssrc),t},fromPartial(e){var t,n,r,i,o;const a=Object.assign({},M);return a.quality=null!==(t=e.quality)&&void 0!==t?t:0,a.width=null!==(n=e.width)&&void 0!==n?n:0,a.height=null!==(r=e.height)&&void 0!==r?r:0,a.bitrate=null!==(i=e.bitrate)&&void 0!==i?i:0,a.ssrc=null!==(o=e.ssrc)&&void 0!==o?o:0,a}};const N={kind:0};t.DataPacket={encode:(e,n=o.default.Writer.create())=>(0!==e.kind&&n.uint32(8).int32(e.kind),void 0!==e.user&&t.UserPacket.encode(e.user,n.uint32(18).fork()).ldelim(),void 0!==e.speaker&&t.ActiveSpeakerUpdate.encode(e.speaker,n.uint32(26).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},N);for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.kind=r.int32();break;case 2:a.user=t.UserPacket.decode(r,r.uint32());break;case 3:a.speaker=t.ActiveSpeakerUpdate.decode(r,r.uint32());break;default:r.skipType(7&e)}}return a},fromJSON(e){const n=Object.assign({},N);return void 0!==e.kind&&null!==e.kind?n.kind=T(e.kind):n.kind=0,void 0!==e.user&&null!==e.user?n.user=t.UserPacket.fromJSON(e.user):n.user=void 0,void 0!==e.speaker&&null!==e.speaker?n.speaker=t.ActiveSpeakerUpdate.fromJSON(e.speaker):n.speaker=void 0,n},toJSON(e){const n={};return void 0!==e.kind&&(n.kind=E(e.kind)),void 0!==e.user&&(n.user=e.user?t.UserPacket.toJSON(e.user):void 0),void 0!==e.speaker&&(n.speaker=e.speaker?t.ActiveSpeakerUpdate.toJSON(e.speaker):void 0),n},fromPartial(e){var n;const r=Object.assign({},N);return r.kind=null!==(n=e.kind)&&void 0!==n?n:0,void 0!==e.user&&null!==e.user?r.user=t.UserPacket.fromPartial(e.user):r.user=void 0,void 0!==e.speaker&&null!==e.speaker?r.speaker=t.ActiveSpeakerUpdate.fromPartial(e.speaker):r.speaker=void 0,r}};const R={};t.ActiveSpeakerUpdate={encode(e,n=o.default.Writer.create()){for(const r of e.speakers)t.SpeakerInfo.encode(r,n.uint32(10).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},R);for(a.speakers=[];r.pos<i;){const e=r.uint32();if(e>>>3===1)a.speakers.push(t.SpeakerInfo.decode(r,r.uint32()));else r.skipType(7&e)}return a},fromJSON(e){const n=Object.assign({},R);if(n.speakers=[],void 0!==e.speakers&&null!==e.speakers)for(const r of e.speakers)n.speakers.push(t.SpeakerInfo.fromJSON(r));return n},toJSON(e){const n={};return e.speakers?n.speakers=e.speakers.map((e=>e?t.SpeakerInfo.toJSON(e):void 0)):n.speakers=[],n},fromPartial(e){const n=Object.assign({},R);if(n.speakers=[],void 0!==e.speakers&&null!==e.speakers)for(const r of e.speakers)n.speakers.push(t.SpeakerInfo.fromPartial(r));return n}};const D={sid:"",level:0,active:!1};t.SpeakerInfo={encode:(e,t=o.default.Writer.create())=>(""!==e.sid&&t.uint32(10).string(e.sid),0!==e.level&&t.uint32(21).float(e.level),!0===e.active&&t.uint32(24).bool(e.active),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},D);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sid=n.string();break;case 2:i.level=n.float();break;case 3:i.active=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},D);return void 0!==e.sid&&null!==e.sid?t.sid=String(e.sid):t.sid="",void 0!==e.level&&null!==e.level?t.level=Number(e.level):t.level=0,void 0!==e.active&&null!==e.active?t.active=Boolean(e.active):t.active=!1,t},toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.level&&(t.level=e.level),void 0!==e.active&&(t.active=e.active),t},fromPartial(e){var t,n,r;const i=Object.assign({},D);return i.sid=null!==(t=e.sid)&&void 0!==t?t:"",i.level=null!==(n=e.level)&&void 0!==n?n:0,i.active=null!==(r=e.active)&&void 0!==r&&r,i}};const L={participantSid:"",destinationSids:""};t.UserPacket={encode(e,t=o.default.Writer.create()){""!==e.participantSid&&t.uint32(10).string(e.participantSid),0!==e.payload.length&&t.uint32(18).bytes(e.payload);for(const n of e.destinationSids)t.uint32(26).string(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},L);for(i.destinationSids=[],i.payload=new Uint8Array;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.payload=n.bytes();break;case 3:i.destinationSids.push(n.string());break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},L);if(t.destinationSids=[],t.payload=new Uint8Array,void 0!==e.participantSid&&null!==e.participantSid?t.participantSid=String(e.participantSid):t.participantSid="",void 0!==e.payload&&null!==e.payload&&(t.payload=function(e){const t=H(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}(e.payload)),void 0!==e.destinationSids&&null!==e.destinationSids)for(const n of e.destinationSids)t.destinationSids.push(String(n));return t},toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.payload&&(t.payload=function(e){const t=[];for(const n of e)t.push(String.fromCharCode(n));return G(t.join(""))}(void 0!==e.payload?e.payload:new Uint8Array)),e.destinationSids?t.destinationSids=e.destinationSids.map((e=>e)):t.destinationSids=[],t},fromPartial(e){var t,n;const r=Object.assign({},L);if(r.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",r.payload=null!==(n=e.payload)&&void 0!==n?n:new Uint8Array,r.destinationSids=[],void 0!==e.destinationSids&&null!==e.destinationSids)for(const i of e.destinationSids)r.destinationSids.push(i);return r}};const j={participantSid:"",trackSids:""};t.ParticipantTracks={encode(e,t=o.default.Writer.create()){""!==e.participantSid&&t.uint32(10).string(e.participantSid);for(const n of e.trackSids)t.uint32(18).string(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},j);for(i.trackSids=[];n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.trackSids.push(n.string());break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},j);if(t.trackSids=[],void 0!==e.participantSid&&null!==e.participantSid?t.participantSid=String(e.participantSid):t.participantSid="",void 0!==e.trackSids&&null!==e.trackSids)for(const n of e.trackSids)t.trackSids.push(String(n));return t},toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],t},fromPartial(e){var t;const n=Object.assign({},j);if(n.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",n.trackSids=[],void 0!==e.trackSids&&null!==e.trackSids)for(const r of e.trackSids)n.trackSids.push(r);return n}};const B={sdk:0,version:"",protocol:0,os:"",osVersion:"",deviceModel:"",browser:"",browserVersion:"",address:""};t.ClientInfo={encode:(e,t=o.default.Writer.create())=>(0!==e.sdk&&t.uint32(8).int32(e.sdk),""!==e.version&&t.uint32(18).string(e.version),0!==e.protocol&&t.uint32(24).int32(e.protocol),""!==e.os&&t.uint32(34).string(e.os),""!==e.osVersion&&t.uint32(42).string(e.osVersion),""!==e.deviceModel&&t.uint32(50).string(e.deviceModel),""!==e.browser&&t.uint32(58).string(e.browser),""!==e.browserVersion&&t.uint32(66).string(e.browserVersion),""!==e.address&&t.uint32(74).string(e.address),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},B);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sdk=n.int32();break;case 2:i.version=n.string();break;case 3:i.protocol=n.int32();break;case 4:i.os=n.string();break;case 5:i.osVersion=n.string();break;case 6:i.deviceModel=n.string();break;case 7:i.browser=n.string();break;case 8:i.browserVersion=n.string();break;case 9:i.address=n.string();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},B);return void 0!==e.sdk&&null!==e.sdk?t.sdk=_(e.sdk):t.sdk=0,void 0!==e.version&&null!==e.version?t.version=String(e.version):t.version="",void 0!==e.protocol&&null!==e.protocol?t.protocol=Number(e.protocol):t.protocol=0,void 0!==e.os&&null!==e.os?t.os=String(e.os):t.os="",void 0!==e.osVersion&&null!==e.osVersion?t.osVersion=String(e.osVersion):t.osVersion="",void 0!==e.deviceModel&&null!==e.deviceModel?t.deviceModel=String(e.deviceModel):t.deviceModel="",void 0!==e.browser&&null!==e.browser?t.browser=String(e.browser):t.browser="",void 0!==e.browserVersion&&null!==e.browserVersion?t.browserVersion=String(e.browserVersion):t.browserVersion="",void 0!==e.address&&null!==e.address?t.address=String(e.address):t.address="",t},toJSON(e){const t={};return void 0!==e.sdk&&(t.sdk=C(e.sdk)),void 0!==e.version&&(t.version=e.version),void 0!==e.protocol&&(t.protocol=e.protocol),void 0!==e.os&&(t.os=e.os),void 0!==e.osVersion&&(t.osVersion=e.osVersion),void 0!==e.deviceModel&&(t.deviceModel=e.deviceModel),void 0!==e.browser&&(t.browser=e.browser),void 0!==e.browserVersion&&(t.browserVersion=e.browserVersion),void 0!==e.address&&(t.address=e.address),t},fromPartial(e){var t,n,r,i,o,a,s,l,c;const u=Object.assign({},B);return u.sdk=null!==(t=e.sdk)&&void 0!==t?t:0,u.version=null!==(n=e.version)&&void 0!==n?n:"",u.protocol=null!==(r=e.protocol)&&void 0!==r?r:0,u.os=null!==(i=e.os)&&void 0!==i?i:"",u.osVersion=null!==(o=e.osVersion)&&void 0!==o?o:"",u.deviceModel=null!==(a=e.deviceModel)&&void 0!==a?a:"",u.browser=null!==(s=e.browser)&&void 0!==s?s:"",u.browserVersion=null!==(l=e.browserVersion)&&void 0!==l?l:"",u.address=null!==(c=e.address)&&void 0!==c?c:"",u}};const F={resumeConnection:0};t.ClientConfiguration={encode:(e,n=o.default.Writer.create())=>(void 0!==e.video&&t.VideoConfiguration.encode(e.video,n.uint32(10).fork()).ldelim(),void 0!==e.screen&&t.VideoConfiguration.encode(e.screen,n.uint32(18).fork()).ldelim(),0!==e.resumeConnection&&n.uint32(24).int32(e.resumeConnection),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},F);for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.video=t.VideoConfiguration.decode(r,r.uint32());break;case 2:a.screen=t.VideoConfiguration.decode(r,r.uint32());break;case 3:a.resumeConnection=r.int32();break;default:r.skipType(7&e)}}return a},fromJSON(e){const n=Object.assign({},F);return void 0!==e.video&&null!==e.video?n.video=t.VideoConfiguration.fromJSON(e.video):n.video=void 0,void 0!==e.screen&&null!==e.screen?n.screen=t.VideoConfiguration.fromJSON(e.screen):n.screen=void 0,void 0!==e.resumeConnection&&null!==e.resumeConnection?n.resumeConnection=w(e.resumeConnection):n.resumeConnection=0,n},toJSON(e){const n={};return void 0!==e.video&&(n.video=e.video?t.VideoConfiguration.toJSON(e.video):void 0),void 0!==e.screen&&(n.screen=e.screen?t.VideoConfiguration.toJSON(e.screen):void 0),void 0!==e.resumeConnection&&(n.resumeConnection=x(e.resumeConnection)),n},fromPartial(e){var n;const r=Object.assign({},F);return void 0!==e.video&&null!==e.video?r.video=t.VideoConfiguration.fromPartial(e.video):r.video=void 0,void 0!==e.screen&&null!==e.screen?r.screen=t.VideoConfiguration.fromPartial(e.screen):r.screen=void 0,r.resumeConnection=null!==(n=e.resumeConnection)&&void 0!==n?n:0,r}};const U={hardwareEncoder:0};t.VideoConfiguration={encode:(e,t=o.default.Writer.create())=>(0!==e.hardwareEncoder&&t.uint32(8).int32(e.hardwareEncoder),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},U);for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.hardwareEncoder=n.int32();else n.skipType(7&e)}return i},fromJSON(e){const t=Object.assign({},U);return void 0!==e.hardwareEncoder&&null!==e.hardwareEncoder?t.hardwareEncoder=w(e.hardwareEncoder):t.hardwareEncoder=0,t},toJSON(e){const t={};return void 0!==e.hardwareEncoder&&(t.hardwareEncoder=x(e.hardwareEncoder)),t},fromPartial(e){var t;const n=Object.assign({},U);return n.hardwareEncoder=null!==(t=e.hardwareEncoder)&&void 0!==t?t:0,n}};var $=(()=>{if("undefined"!==typeof $)return $;if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw"Unable to locate global object"})();const H=$.atob||(e=>$.Buffer.from(e,"base64").toString("binary"));const G=$.btoa||(e=>$.Buffer.from(e,"binary").toString("base64"));function V(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new $.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},44658:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SimulateScenario=t.DataChannelInfo=t.SyncState=t.SubscriptionPermissionUpdate=t.SubscriptionPermission=t.TrackPermission=t.SubscribedQualityUpdate=t.SubscribedQuality=t.StreamStateUpdate=t.StreamStateInfo=t.ConnectionQualityUpdate=t.ConnectionQualityInfo=t.RoomUpdate=t.SpeakersChanged=t.ICEServer=t.UpdateVideoLayers=t.LeaveRequest=t.UpdateTrackSettings=t.UpdateSubscription=t.ParticipantUpdate=t.SessionDescription=t.TrackPublishedResponse=t.JoinResponse=t.MuteTrackRequest=t.TrickleRequest=t.AddTrackRequest=t.SignalResponse=t.SignalRequest=t.streamStateToJSON=t.streamStateFromJSON=t.StreamState=t.signalTargetToJSON=t.signalTargetFromJSON=t.SignalTarget=t.protobufPackage=void 0;const i=r(n(43720)),o=r(n(62100)),a=n(8983);var s,l;function c(e){switch(e){case 0:case"PUBLISHER":return s.PUBLISHER;case 1:case"SUBSCRIBER":return s.SUBSCRIBER;default:return s.UNRECOGNIZED}}function u(e){switch(e){case s.PUBLISHER:return"PUBLISHER";case s.SUBSCRIBER:return"SUBSCRIBER";default:return"UNKNOWN"}}function d(e){switch(e){case 0:case"ACTIVE":return l.ACTIVE;case 1:case"PAUSED":return l.PAUSED;default:return l.UNRECOGNIZED}}function p(e){switch(e){case l.ACTIVE:return"ACTIVE";case l.PAUSED:return"PAUSED";default:return"UNKNOWN"}}t.protobufPackage="livekit",function(e){e[e.PUBLISHER=0]="PUBLISHER",e[e.SUBSCRIBER=1]="SUBSCRIBER",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(s=t.SignalTarget||(t.SignalTarget={})),t.signalTargetFromJSON=c,t.signalTargetToJSON=u,function(e){e[e.ACTIVE=0]="ACTIVE",e[e.PAUSED=1]="PAUSED",e[e.UNRECOGNIZED=-1]="UNRECOGNIZED"}(l=t.StreamState||(t.StreamState={})),t.streamStateFromJSON=d,t.streamStateToJSON=p;const f={};t.SignalRequest={encode:(e,n=o.default.Writer.create())=>(void 0!==e.offer&&t.SessionDescription.encode(e.offer,n.uint32(10).fork()).ldelim(),void 0!==e.answer&&t.SessionDescription.encode(e.answer,n.uint32(18).fork()).ldelim(),void 0!==e.trickle&&t.TrickleRequest.encode(e.trickle,n.uint32(26).fork()).ldelim(),void 0!==e.addTrack&&t.AddTrackRequest.encode(e.addTrack,n.uint32(34).fork()).ldelim(),void 0!==e.mute&&t.MuteTrackRequest.encode(e.mute,n.uint32(42).fork()).ldelim(),void 0!==e.subscription&&t.UpdateSubscription.encode(e.subscription,n.uint32(50).fork()).ldelim(),void 0!==e.trackSetting&&t.UpdateTrackSettings.encode(e.trackSetting,n.uint32(58).fork()).ldelim(),void 0!==e.leave&&t.LeaveRequest.encode(e.leave,n.uint32(66).fork()).ldelim(),void 0!==e.updateLayers&&t.UpdateVideoLayers.encode(e.updateLayers,n.uint32(82).fork()).ldelim(),void 0!==e.subscriptionPermission&&t.SubscriptionPermission.encode(e.subscriptionPermission,n.uint32(90).fork()).ldelim(),void 0!==e.syncState&&t.SyncState.encode(e.syncState,n.uint32(98).fork()).ldelim(),void 0!==e.simulate&&t.SimulateScenario.encode(e.simulate,n.uint32(106).fork()).ldelim(),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},f);for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.offer=t.SessionDescription.decode(r,r.uint32());break;case 2:a.answer=t.SessionDescription.decode(r,r.uint32());break;case 3:a.trickle=t.TrickleRequest.decode(r,r.uint32());break;case 4:a.addTrack=t.AddTrackRequest.decode(r,r.uint32());break;case 5:a.mute=t.MuteTrackRequest.decode(r,r.uint32());break;case 6:a.subscription=t.UpdateSubscription.decode(r,r.uint32());break;case 7:a.trackSetting=t.UpdateTrackSettings.decode(r,r.uint32());break;case 8:a.leave=t.LeaveRequest.decode(r,r.uint32());break;case 10:a.updateLayers=t.UpdateVideoLayers.decode(r,r.uint32());break;case 11:a.subscriptionPermission=t.SubscriptionPermission.decode(r,r.uint32());break;case 12:a.syncState=t.SyncState.decode(r,r.uint32());break;case 13:a.simulate=t.SimulateScenario.decode(r,r.uint32());break;default:r.skipType(7&e)}}return a},fromJSON(e){const n=Object.assign({},f);return void 0!==e.offer&&null!==e.offer?n.offer=t.SessionDescription.fromJSON(e.offer):n.offer=void 0,void 0!==e.answer&&null!==e.answer?n.answer=t.SessionDescription.fromJSON(e.answer):n.answer=void 0,void 0!==e.trickle&&null!==e.trickle?n.trickle=t.TrickleRequest.fromJSON(e.trickle):n.trickle=void 0,void 0!==e.addTrack&&null!==e.addTrack?n.addTrack=t.AddTrackRequest.fromJSON(e.addTrack):n.addTrack=void 0,void 0!==e.mute&&null!==e.mute?n.mute=t.MuteTrackRequest.fromJSON(e.mute):n.mute=void 0,void 0!==e.subscription&&null!==e.subscription?n.subscription=t.UpdateSubscription.fromJSON(e.subscription):n.subscription=void 0,void 0!==e.trackSetting&&null!==e.trackSetting?n.trackSetting=t.UpdateTrackSettings.fromJSON(e.trackSetting):n.trackSetting=void 0,void 0!==e.leave&&null!==e.leave?n.leave=t.LeaveRequest.fromJSON(e.leave):n.leave=void 0,void 0!==e.updateLayers&&null!==e.updateLayers?n.updateLayers=t.UpdateVideoLayers.fromJSON(e.updateLayers):n.updateLayers=void 0,void 0!==e.subscriptionPermission&&null!==e.subscriptionPermission?n.subscriptionPermission=t.SubscriptionPermission.fromJSON(e.subscriptionPermission):n.subscriptionPermission=void 0,void 0!==e.syncState&&null!==e.syncState?n.syncState=t.SyncState.fromJSON(e.syncState):n.syncState=void 0,void 0!==e.simulate&&null!==e.simulate?n.simulate=t.SimulateScenario.fromJSON(e.simulate):n.simulate=void 0,n},toJSON(e){const n={};return void 0!==e.offer&&(n.offer=e.offer?t.SessionDescription.toJSON(e.offer):void 0),void 0!==e.answer&&(n.answer=e.answer?t.SessionDescription.toJSON(e.answer):void 0),void 0!==e.trickle&&(n.trickle=e.trickle?t.TrickleRequest.toJSON(e.trickle):void 0),void 0!==e.addTrack&&(n.addTrack=e.addTrack?t.AddTrackRequest.toJSON(e.addTrack):void 0),void 0!==e.mute&&(n.mute=e.mute?t.MuteTrackRequest.toJSON(e.mute):void 0),void 0!==e.subscription&&(n.subscription=e.subscription?t.UpdateSubscription.toJSON(e.subscription):void 0),void 0!==e.trackSetting&&(n.trackSetting=e.trackSetting?t.UpdateTrackSettings.toJSON(e.trackSetting):void 0),void 0!==e.leave&&(n.leave=e.leave?t.LeaveRequest.toJSON(e.leave):void 0),void 0!==e.updateLayers&&(n.updateLayers=e.updateLayers?t.UpdateVideoLayers.toJSON(e.updateLayers):void 0),void 0!==e.subscriptionPermission&&(n.subscriptionPermission=e.subscriptionPermission?t.SubscriptionPermission.toJSON(e.subscriptionPermission):void 0),void 0!==e.syncState&&(n.syncState=e.syncState?t.SyncState.toJSON(e.syncState):void 0),void 0!==e.simulate&&(n.simulate=e.simulate?t.SimulateScenario.toJSON(e.simulate):void 0),n},fromPartial(e){const n=Object.assign({},f);return void 0!==e.offer&&null!==e.offer?n.offer=t.SessionDescription.fromPartial(e.offer):n.offer=void 0,void 0!==e.answer&&null!==e.answer?n.answer=t.SessionDescription.fromPartial(e.answer):n.answer=void 0,void 0!==e.trickle&&null!==e.trickle?n.trickle=t.TrickleRequest.fromPartial(e.trickle):n.trickle=void 0,void 0!==e.addTrack&&null!==e.addTrack?n.addTrack=t.AddTrackRequest.fromPartial(e.addTrack):n.addTrack=void 0,void 0!==e.mute&&null!==e.mute?n.mute=t.MuteTrackRequest.fromPartial(e.mute):n.mute=void 0,void 0!==e.subscription&&null!==e.subscription?n.subscription=t.UpdateSubscription.fromPartial(e.subscription):n.subscription=void 0,void 0!==e.trackSetting&&null!==e.trackSetting?n.trackSetting=t.UpdateTrackSettings.fromPartial(e.trackSetting):n.trackSetting=void 0,void 0!==e.leave&&null!==e.leave?n.leave=t.LeaveRequest.fromPartial(e.leave):n.leave=void 0,void 0!==e.updateLayers&&null!==e.updateLayers?n.updateLayers=t.UpdateVideoLayers.fromPartial(e.updateLayers):n.updateLayers=void 0,void 0!==e.subscriptionPermission&&null!==e.subscriptionPermission?n.subscriptionPermission=t.SubscriptionPermission.fromPartial(e.subscriptionPermission):n.subscriptionPermission=void 0,void 0!==e.syncState&&null!==e.syncState?n.syncState=t.SyncState.fromPartial(e.syncState):n.syncState=void 0,void 0!==e.simulate&&null!==e.simulate?n.simulate=t.SimulateScenario.fromPartial(e.simulate):n.simulate=void 0,n}};const h={};t.SignalResponse={encode:(e,n=o.default.Writer.create())=>(void 0!==e.join&&t.JoinResponse.encode(e.join,n.uint32(10).fork()).ldelim(),void 0!==e.answer&&t.SessionDescription.encode(e.answer,n.uint32(18).fork()).ldelim(),void 0!==e.offer&&t.SessionDescription.encode(e.offer,n.uint32(26).fork()).ldelim(),void 0!==e.trickle&&t.TrickleRequest.encode(e.trickle,n.uint32(34).fork()).ldelim(),void 0!==e.update&&t.ParticipantUpdate.encode(e.update,n.uint32(42).fork()).ldelim(),void 0!==e.trackPublished&&t.TrackPublishedResponse.encode(e.trackPublished,n.uint32(50).fork()).ldelim(),void 0!==e.leave&&t.LeaveRequest.encode(e.leave,n.uint32(66).fork()).ldelim(),void 0!==e.mute&&t.MuteTrackRequest.encode(e.mute,n.uint32(74).fork()).ldelim(),void 0!==e.speakersChanged&&t.SpeakersChanged.encode(e.speakersChanged,n.uint32(82).fork()).ldelim(),void 0!==e.roomUpdate&&t.RoomUpdate.encode(e.roomUpdate,n.uint32(90).fork()).ldelim(),void 0!==e.connectionQuality&&t.ConnectionQualityUpdate.encode(e.connectionQuality,n.uint32(98).fork()).ldelim(),void 0!==e.streamStateUpdate&&t.StreamStateUpdate.encode(e.streamStateUpdate,n.uint32(106).fork()).ldelim(),void 0!==e.subscribedQualityUpdate&&t.SubscribedQualityUpdate.encode(e.subscribedQualityUpdate,n.uint32(114).fork()).ldelim(),void 0!==e.subscriptionPermissionUpdate&&t.SubscriptionPermissionUpdate.encode(e.subscriptionPermissionUpdate,n.uint32(122).fork()).ldelim(),void 0!==e.refreshToken&&n.uint32(130).string(e.refreshToken),n),decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},h);for(;r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.join=t.JoinResponse.decode(r,r.uint32());break;case 2:a.answer=t.SessionDescription.decode(r,r.uint32());break;case 3:a.offer=t.SessionDescription.decode(r,r.uint32());break;case 4:a.trickle=t.TrickleRequest.decode(r,r.uint32());break;case 5:a.update=t.ParticipantUpdate.decode(r,r.uint32());break;case 6:a.trackPublished=t.TrackPublishedResponse.decode(r,r.uint32());break;case 8:a.leave=t.LeaveRequest.decode(r,r.uint32());break;case 9:a.mute=t.MuteTrackRequest.decode(r,r.uint32());break;case 10:a.speakersChanged=t.SpeakersChanged.decode(r,r.uint32());break;case 11:a.roomUpdate=t.RoomUpdate.decode(r,r.uint32());break;case 12:a.connectionQuality=t.ConnectionQualityUpdate.decode(r,r.uint32());break;case 13:a.streamStateUpdate=t.StreamStateUpdate.decode(r,r.uint32());break;case 14:a.subscribedQualityUpdate=t.SubscribedQualityUpdate.decode(r,r.uint32());break;case 15:a.subscriptionPermissionUpdate=t.SubscriptionPermissionUpdate.decode(r,r.uint32());break;case 16:a.refreshToken=r.string();break;default:r.skipType(7&e)}}return a},fromJSON(e){const n=Object.assign({},h);return void 0!==e.join&&null!==e.join?n.join=t.JoinResponse.fromJSON(e.join):n.join=void 0,void 0!==e.answer&&null!==e.answer?n.answer=t.SessionDescription.fromJSON(e.answer):n.answer=void 0,void 0!==e.offer&&null!==e.offer?n.offer=t.SessionDescription.fromJSON(e.offer):n.offer=void 0,void 0!==e.trickle&&null!==e.trickle?n.trickle=t.TrickleRequest.fromJSON(e.trickle):n.trickle=void 0,void 0!==e.update&&null!==e.update?n.update=t.ParticipantUpdate.fromJSON(e.update):n.update=void 0,void 0!==e.trackPublished&&null!==e.trackPublished?n.trackPublished=t.TrackPublishedResponse.fromJSON(e.trackPublished):n.trackPublished=void 0,void 0!==e.leave&&null!==e.leave?n.leave=t.LeaveRequest.fromJSON(e.leave):n.leave=void 0,void 0!==e.mute&&null!==e.mute?n.mute=t.MuteTrackRequest.fromJSON(e.mute):n.mute=void 0,void 0!==e.speakersChanged&&null!==e.speakersChanged?n.speakersChanged=t.SpeakersChanged.fromJSON(e.speakersChanged):n.speakersChanged=void 0,void 0!==e.roomUpdate&&null!==e.roomUpdate?n.roomUpdate=t.RoomUpdate.fromJSON(e.roomUpdate):n.roomUpdate=void 0,void 0!==e.connectionQuality&&null!==e.connectionQuality?n.connectionQuality=t.ConnectionQualityUpdate.fromJSON(e.connectionQuality):n.connectionQuality=void 0,void 0!==e.streamStateUpdate&&null!==e.streamStateUpdate?n.streamStateUpdate=t.StreamStateUpdate.fromJSON(e.streamStateUpdate):n.streamStateUpdate=void 0,void 0!==e.subscribedQualityUpdate&&null!==e.subscribedQualityUpdate?n.subscribedQualityUpdate=t.SubscribedQualityUpdate.fromJSON(e.subscribedQualityUpdate):n.subscribedQualityUpdate=void 0,void 0!==e.subscriptionPermissionUpdate&&null!==e.subscriptionPermissionUpdate?n.subscriptionPermissionUpdate=t.SubscriptionPermissionUpdate.fromJSON(e.subscriptionPermissionUpdate):n.subscriptionPermissionUpdate=void 0,void 0!==e.refreshToken&&null!==e.refreshToken?n.refreshToken=String(e.refreshToken):n.refreshToken=void 0,n},toJSON(e){const n={};return void 0!==e.join&&(n.join=e.join?t.JoinResponse.toJSON(e.join):void 0),void 0!==e.answer&&(n.answer=e.answer?t.SessionDescription.toJSON(e.answer):void 0),void 0!==e.offer&&(n.offer=e.offer?t.SessionDescription.toJSON(e.offer):void 0),void 0!==e.trickle&&(n.trickle=e.trickle?t.TrickleRequest.toJSON(e.trickle):void 0),void 0!==e.update&&(n.update=e.update?t.ParticipantUpdate.toJSON(e.update):void 0),void 0!==e.trackPublished&&(n.trackPublished=e.trackPublished?t.TrackPublishedResponse.toJSON(e.trackPublished):void 0),void 0!==e.leave&&(n.leave=e.leave?t.LeaveRequest.toJSON(e.leave):void 0),void 0!==e.mute&&(n.mute=e.mute?t.MuteTrackRequest.toJSON(e.mute):void 0),void 0!==e.speakersChanged&&(n.speakersChanged=e.speakersChanged?t.SpeakersChanged.toJSON(e.speakersChanged):void 0),void 0!==e.roomUpdate&&(n.roomUpdate=e.roomUpdate?t.RoomUpdate.toJSON(e.roomUpdate):void 0),void 0!==e.connectionQuality&&(n.connectionQuality=e.connectionQuality?t.ConnectionQualityUpdate.toJSON(e.connectionQuality):void 0),void 0!==e.streamStateUpdate&&(n.streamStateUpdate=e.streamStateUpdate?t.StreamStateUpdate.toJSON(e.streamStateUpdate):void 0),void 0!==e.subscribedQualityUpdate&&(n.subscribedQualityUpdate=e.subscribedQualityUpdate?t.SubscribedQualityUpdate.toJSON(e.subscribedQualityUpdate):void 0),void 0!==e.subscriptionPermissionUpdate&&(n.subscriptionPermissionUpdate=e.subscriptionPermissionUpdate?t.SubscriptionPermissionUpdate.toJSON(e.subscriptionPermissionUpdate):void 0),void 0!==e.refreshToken&&(n.refreshToken=e.refreshToken),n},fromPartial(e){var n;const r=Object.assign({},h);return void 0!==e.join&&null!==e.join?r.join=t.JoinResponse.fromPartial(e.join):r.join=void 0,void 0!==e.answer&&null!==e.answer?r.answer=t.SessionDescription.fromPartial(e.answer):r.answer=void 0,void 0!==e.offer&&null!==e.offer?r.offer=t.SessionDescription.fromPartial(e.offer):r.offer=void 0,void 0!==e.trickle&&null!==e.trickle?r.trickle=t.TrickleRequest.fromPartial(e.trickle):r.trickle=void 0,void 0!==e.update&&null!==e.update?r.update=t.ParticipantUpdate.fromPartial(e.update):r.update=void 0,void 0!==e.trackPublished&&null!==e.trackPublished?r.trackPublished=t.TrackPublishedResponse.fromPartial(e.trackPublished):r.trackPublished=void 0,void 0!==e.leave&&null!==e.leave?r.leave=t.LeaveRequest.fromPartial(e.leave):r.leave=void 0,void 0!==e.mute&&null!==e.mute?r.mute=t.MuteTrackRequest.fromPartial(e.mute):r.mute=void 0,void 0!==e.speakersChanged&&null!==e.speakersChanged?r.speakersChanged=t.SpeakersChanged.fromPartial(e.speakersChanged):r.speakersChanged=void 0,void 0!==e.roomUpdate&&null!==e.roomUpdate?r.roomUpdate=t.RoomUpdate.fromPartial(e.roomUpdate):r.roomUpdate=void 0,void 0!==e.connectionQuality&&null!==e.connectionQuality?r.connectionQuality=t.ConnectionQualityUpdate.fromPartial(e.connectionQuality):r.connectionQuality=void 0,void 0!==e.streamStateUpdate&&null!==e.streamStateUpdate?r.streamStateUpdate=t.StreamStateUpdate.fromPartial(e.streamStateUpdate):r.streamStateUpdate=void 0,void 0!==e.subscribedQualityUpdate&&null!==e.subscribedQualityUpdate?r.subscribedQualityUpdate=t.SubscribedQualityUpdate.fromPartial(e.subscribedQualityUpdate):r.subscribedQualityUpdate=void 0,void 0!==e.subscriptionPermissionUpdate&&null!==e.subscriptionPermissionUpdate?r.subscriptionPermissionUpdate=t.SubscriptionPermissionUpdate.fromPartial(e.subscriptionPermissionUpdate):r.subscriptionPermissionUpdate=void 0,r.refreshToken=null!==(n=e.refreshToken)&&void 0!==n?n:void 0,r}};const m={cid:"",name:"",type:0,width:0,height:0,muted:!1,disableDtx:!1,source:0};t.AddTrackRequest={encode(e,t=o.default.Writer.create()){""!==e.cid&&t.uint32(10).string(e.cid),""!==e.name&&t.uint32(18).string(e.name),0!==e.type&&t.uint32(24).int32(e.type),0!==e.width&&t.uint32(32).uint32(e.width),0!==e.height&&t.uint32(40).uint32(e.height),!0===e.muted&&t.uint32(48).bool(e.muted),!0===e.disableDtx&&t.uint32(56).bool(e.disableDtx),0!==e.source&&t.uint32(64).int32(e.source);for(const n of e.layers)a.VideoLayer.encode(n,t.uint32(74).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},m);for(i.layers=[];n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.cid=n.string();break;case 2:i.name=n.string();break;case 3:i.type=n.int32();break;case 4:i.width=n.uint32();break;case 5:i.height=n.uint32();break;case 6:i.muted=n.bool();break;case 7:i.disableDtx=n.bool();break;case 8:i.source=n.int32();break;case 9:i.layers.push(a.VideoLayer.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},m);if(t.layers=[],void 0!==e.cid&&null!==e.cid?t.cid=String(e.cid):t.cid="",void 0!==e.name&&null!==e.name?t.name=String(e.name):t.name="",void 0!==e.type&&null!==e.type?t.type=a.trackTypeFromJSON(e.type):t.type=0,void 0!==e.width&&null!==e.width?t.width=Number(e.width):t.width=0,void 0!==e.height&&null!==e.height?t.height=Number(e.height):t.height=0,void 0!==e.muted&&null!==e.muted?t.muted=Boolean(e.muted):t.muted=!1,void 0!==e.disableDtx&&null!==e.disableDtx?t.disableDtx=Boolean(e.disableDtx):t.disableDtx=!1,void 0!==e.source&&null!==e.source?t.source=a.trackSourceFromJSON(e.source):t.source=0,void 0!==e.layers&&null!==e.layers)for(const n of e.layers)t.layers.push(a.VideoLayer.fromJSON(n));return t},toJSON(e){const t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.name&&(t.name=e.name),void 0!==e.type&&(t.type=a.trackTypeToJSON(e.type)),void 0!==e.width&&(t.width=e.width),void 0!==e.height&&(t.height=e.height),void 0!==e.muted&&(t.muted=e.muted),void 0!==e.disableDtx&&(t.disableDtx=e.disableDtx),void 0!==e.source&&(t.source=a.trackSourceToJSON(e.source)),e.layers?t.layers=e.layers.map((e=>e?a.VideoLayer.toJSON(e):void 0)):t.layers=[],t},fromPartial(e){var t,n,r,i,o,s,l,c;const u=Object.assign({},m);if(u.cid=null!==(t=e.cid)&&void 0!==t?t:"",u.name=null!==(n=e.name)&&void 0!==n?n:"",u.type=null!==(r=e.type)&&void 0!==r?r:0,u.width=null!==(i=e.width)&&void 0!==i?i:0,u.height=null!==(o=e.height)&&void 0!==o?o:0,u.muted=null!==(s=e.muted)&&void 0!==s&&s,u.disableDtx=null!==(l=e.disableDtx)&&void 0!==l&&l,u.source=null!==(c=e.source)&&void 0!==c?c:0,u.layers=[],void 0!==e.layers&&null!==e.layers)for(const d of e.layers)u.layers.push(a.VideoLayer.fromPartial(d));return u}};const g={candidateInit:"",target:0};t.TrickleRequest={encode:(e,t=o.default.Writer.create())=>(""!==e.candidateInit&&t.uint32(10).string(e.candidateInit),0!==e.target&&t.uint32(16).int32(e.target),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},g);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.candidateInit=n.string();break;case 2:i.target=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},g);return void 0!==e.candidateInit&&null!==e.candidateInit?t.candidateInit=String(e.candidateInit):t.candidateInit="",void 0!==e.target&&null!==e.target?t.target=c(e.target):t.target=0,t},toJSON(e){const t={};return void 0!==e.candidateInit&&(t.candidateInit=e.candidateInit),void 0!==e.target&&(t.target=u(e.target)),t},fromPartial(e){var t,n;const r=Object.assign({},g);return r.candidateInit=null!==(t=e.candidateInit)&&void 0!==t?t:"",r.target=null!==(n=e.target)&&void 0!==n?n:0,r}};const v={sid:"",muted:!1};t.MuteTrackRequest={encode:(e,t=o.default.Writer.create())=>(""!==e.sid&&t.uint32(10).string(e.sid),!0===e.muted&&t.uint32(16).bool(e.muted),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},v);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.sid=n.string();break;case 2:i.muted=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},v);return void 0!==e.sid&&null!==e.sid?t.sid=String(e.sid):t.sid="",void 0!==e.muted&&null!==e.muted?t.muted=Boolean(e.muted):t.muted=!1,t},toJSON(e){const t={};return void 0!==e.sid&&(t.sid=e.sid),void 0!==e.muted&&(t.muted=e.muted),t},fromPartial(e){var t,n;const r=Object.assign({},v);return r.sid=null!==(t=e.sid)&&void 0!==t?t:"",r.muted=null!==(n=e.muted)&&void 0!==n&&n,r}};const y={serverVersion:"",subscriberPrimary:!1,alternativeUrl:"",serverRegion:""};t.JoinResponse={encode(e,n=o.default.Writer.create()){void 0!==e.room&&a.Room.encode(e.room,n.uint32(10).fork()).ldelim(),void 0!==e.participant&&a.ParticipantInfo.encode(e.participant,n.uint32(18).fork()).ldelim();for(const t of e.otherParticipants)a.ParticipantInfo.encode(t,n.uint32(26).fork()).ldelim();""!==e.serverVersion&&n.uint32(34).string(e.serverVersion);for(const r of e.iceServers)t.ICEServer.encode(r,n.uint32(42).fork()).ldelim();return!0===e.subscriberPrimary&&n.uint32(48).bool(e.subscriberPrimary),""!==e.alternativeUrl&&n.uint32(58).string(e.alternativeUrl),void 0!==e.clientConfiguration&&a.ClientConfiguration.encode(e.clientConfiguration,n.uint32(66).fork()).ldelim(),""!==e.serverRegion&&n.uint32(74).string(e.serverRegion),n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const s=Object.assign({},y);for(s.otherParticipants=[],s.iceServers=[];r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:s.room=a.Room.decode(r,r.uint32());break;case 2:s.participant=a.ParticipantInfo.decode(r,r.uint32());break;case 3:s.otherParticipants.push(a.ParticipantInfo.decode(r,r.uint32()));break;case 4:s.serverVersion=r.string();break;case 5:s.iceServers.push(t.ICEServer.decode(r,r.uint32()));break;case 6:s.subscriberPrimary=r.bool();break;case 7:s.alternativeUrl=r.string();break;case 8:s.clientConfiguration=a.ClientConfiguration.decode(r,r.uint32());break;case 9:s.serverRegion=r.string();break;default:r.skipType(7&e)}}return s},fromJSON(e){const n=Object.assign({},y);if(n.otherParticipants=[],n.iceServers=[],void 0!==e.room&&null!==e.room?n.room=a.Room.fromJSON(e.room):n.room=void 0,void 0!==e.participant&&null!==e.participant?n.participant=a.ParticipantInfo.fromJSON(e.participant):n.participant=void 0,void 0!==e.otherParticipants&&null!==e.otherParticipants)for(const t of e.otherParticipants)n.otherParticipants.push(a.ParticipantInfo.fromJSON(t));if(void 0!==e.serverVersion&&null!==e.serverVersion?n.serverVersion=String(e.serverVersion):n.serverVersion="",void 0!==e.iceServers&&null!==e.iceServers)for(const r of e.iceServers)n.iceServers.push(t.ICEServer.fromJSON(r));return void 0!==e.subscriberPrimary&&null!==e.subscriberPrimary?n.subscriberPrimary=Boolean(e.subscriberPrimary):n.subscriberPrimary=!1,void 0!==e.alternativeUrl&&null!==e.alternativeUrl?n.alternativeUrl=String(e.alternativeUrl):n.alternativeUrl="",void 0!==e.clientConfiguration&&null!==e.clientConfiguration?n.clientConfiguration=a.ClientConfiguration.fromJSON(e.clientConfiguration):n.clientConfiguration=void 0,void 0!==e.serverRegion&&null!==e.serverRegion?n.serverRegion=String(e.serverRegion):n.serverRegion="",n},toJSON(e){const n={};return void 0!==e.room&&(n.room=e.room?a.Room.toJSON(e.room):void 0),void 0!==e.participant&&(n.participant=e.participant?a.ParticipantInfo.toJSON(e.participant):void 0),e.otherParticipants?n.otherParticipants=e.otherParticipants.map((e=>e?a.ParticipantInfo.toJSON(e):void 0)):n.otherParticipants=[],void 0!==e.serverVersion&&(n.serverVersion=e.serverVersion),e.iceServers?n.iceServers=e.iceServers.map((e=>e?t.ICEServer.toJSON(e):void 0)):n.iceServers=[],void 0!==e.subscriberPrimary&&(n.subscriberPrimary=e.subscriberPrimary),void 0!==e.alternativeUrl&&(n.alternativeUrl=e.alternativeUrl),void 0!==e.clientConfiguration&&(n.clientConfiguration=e.clientConfiguration?a.ClientConfiguration.toJSON(e.clientConfiguration):void 0),void 0!==e.serverRegion&&(n.serverRegion=e.serverRegion),n},fromPartial(e){var n,r,i,o;const s=Object.assign({},y);if(void 0!==e.room&&null!==e.room?s.room=a.Room.fromPartial(e.room):s.room=void 0,void 0!==e.participant&&null!==e.participant?s.participant=a.ParticipantInfo.fromPartial(e.participant):s.participant=void 0,s.otherParticipants=[],void 0!==e.otherParticipants&&null!==e.otherParticipants)for(const t of e.otherParticipants)s.otherParticipants.push(a.ParticipantInfo.fromPartial(t));if(s.serverVersion=null!==(n=e.serverVersion)&&void 0!==n?n:"",s.iceServers=[],void 0!==e.iceServers&&null!==e.iceServers)for(const a of e.iceServers)s.iceServers.push(t.ICEServer.fromPartial(a));return s.subscriberPrimary=null!==(r=e.subscriberPrimary)&&void 0!==r&&r,s.alternativeUrl=null!==(i=e.alternativeUrl)&&void 0!==i?i:"",void 0!==e.clientConfiguration&&null!==e.clientConfiguration?s.clientConfiguration=a.ClientConfiguration.fromPartial(e.clientConfiguration):s.clientConfiguration=void 0,s.serverRegion=null!==(o=e.serverRegion)&&void 0!==o?o:"",s}};const b={cid:""};t.TrackPublishedResponse={encode:(e,t=o.default.Writer.create())=>(""!==e.cid&&t.uint32(10).string(e.cid),void 0!==e.track&&a.TrackInfo.encode(e.track,t.uint32(18).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},b);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.cid=n.string();break;case 2:i.track=a.TrackInfo.decode(n,n.uint32());break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},b);return void 0!==e.cid&&null!==e.cid?t.cid=String(e.cid):t.cid="",void 0!==e.track&&null!==e.track?t.track=a.TrackInfo.fromJSON(e.track):t.track=void 0,t},toJSON(e){const t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.track&&(t.track=e.track?a.TrackInfo.toJSON(e.track):void 0),t},fromPartial(e){var t;const n=Object.assign({},b);return n.cid=null!==(t=e.cid)&&void 0!==t?t:"",void 0!==e.track&&null!==e.track?n.track=a.TrackInfo.fromPartial(e.track):n.track=void 0,n}};const w={type:"",sdp:""};t.SessionDescription={encode:(e,t=o.default.Writer.create())=>(""!==e.type&&t.uint32(10).string(e.type),""!==e.sdp&&t.uint32(18).string(e.sdp),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},w);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.type=n.string();break;case 2:i.sdp=n.string();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},w);return void 0!==e.type&&null!==e.type?t.type=String(e.type):t.type="",void 0!==e.sdp&&null!==e.sdp?t.sdp=String(e.sdp):t.sdp="",t},toJSON(e){const t={};return void 0!==e.type&&(t.type=e.type),void 0!==e.sdp&&(t.sdp=e.sdp),t},fromPartial(e){var t,n;const r=Object.assign({},w);return r.type=null!==(t=e.type)&&void 0!==t?t:"",r.sdp=null!==(n=e.sdp)&&void 0!==n?n:"",r}};const x={};t.ParticipantUpdate={encode(e,t=o.default.Writer.create()){for(const n of e.participants)a.ParticipantInfo.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},x);for(i.participants=[];n.pos<r;){const e=n.uint32();if(e>>>3===1)i.participants.push(a.ParticipantInfo.decode(n,n.uint32()));else n.skipType(7&e)}return i},fromJSON(e){const t=Object.assign({},x);if(t.participants=[],void 0!==e.participants&&null!==e.participants)for(const n of e.participants)t.participants.push(a.ParticipantInfo.fromJSON(n));return t},toJSON(e){const t={};return e.participants?t.participants=e.participants.map((e=>e?a.ParticipantInfo.toJSON(e):void 0)):t.participants=[],t},fromPartial(e){const t=Object.assign({},x);if(t.participants=[],void 0!==e.participants&&null!==e.participants)for(const n of e.participants)t.participants.push(a.ParticipantInfo.fromPartial(n));return t}};const S={trackSids:"",subscribe:!1};t.UpdateSubscription={encode(e,t=o.default.Writer.create()){for(const n of e.trackSids)t.uint32(10).string(n);!0===e.subscribe&&t.uint32(16).bool(e.subscribe);for(const n of e.participantTracks)a.ParticipantTracks.encode(n,t.uint32(26).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},S);for(i.trackSids=[],i.participantTracks=[];n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.trackSids.push(n.string());break;case 2:i.subscribe=n.bool();break;case 3:i.participantTracks.push(a.ParticipantTracks.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},S);if(t.trackSids=[],t.participantTracks=[],void 0!==e.trackSids&&null!==e.trackSids)for(const n of e.trackSids)t.trackSids.push(String(n));if(void 0!==e.subscribe&&null!==e.subscribe?t.subscribe=Boolean(e.subscribe):t.subscribe=!1,void 0!==e.participantTracks&&null!==e.participantTracks)for(const n of e.participantTracks)t.participantTracks.push(a.ParticipantTracks.fromJSON(n));return t},toJSON(e){const t={};return e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],void 0!==e.subscribe&&(t.subscribe=e.subscribe),e.participantTracks?t.participantTracks=e.participantTracks.map((e=>e?a.ParticipantTracks.toJSON(e):void 0)):t.participantTracks=[],t},fromPartial(e){var t;const n=Object.assign({},S);if(n.trackSids=[],void 0!==e.trackSids&&null!==e.trackSids)for(const r of e.trackSids)n.trackSids.push(r);if(n.subscribe=null!==(t=e.subscribe)&&void 0!==t&&t,n.participantTracks=[],void 0!==e.participantTracks&&null!==e.participantTracks)for(const r of e.participantTracks)n.participantTracks.push(a.ParticipantTracks.fromPartial(r));return n}};const k={trackSids:"",disabled:!1,quality:0,width:0,height:0};t.UpdateTrackSettings={encode(e,t=o.default.Writer.create()){for(const n of e.trackSids)t.uint32(10).string(n);return!0===e.disabled&&t.uint32(24).bool(e.disabled),0!==e.quality&&t.uint32(32).int32(e.quality),0!==e.width&&t.uint32(40).uint32(e.width),0!==e.height&&t.uint32(48).uint32(e.height),t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},k);for(i.trackSids=[];n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.trackSids.push(n.string());break;case 3:i.disabled=n.bool();break;case 4:i.quality=n.int32();break;case 5:i.width=n.uint32();break;case 6:i.height=n.uint32();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},k);if(t.trackSids=[],void 0!==e.trackSids&&null!==e.trackSids)for(const n of e.trackSids)t.trackSids.push(String(n));return void 0!==e.disabled&&null!==e.disabled?t.disabled=Boolean(e.disabled):t.disabled=!1,void 0!==e.quality&&null!==e.quality?t.quality=a.videoQualityFromJSON(e.quality):t.quality=0,void 0!==e.width&&null!==e.width?t.width=Number(e.width):t.width=0,void 0!==e.height&&null!==e.height?t.height=Number(e.height):t.height=0,t},toJSON(e){const t={};return e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],void 0!==e.disabled&&(t.disabled=e.disabled),void 0!==e.quality&&(t.quality=a.videoQualityToJSON(e.quality)),void 0!==e.width&&(t.width=e.width),void 0!==e.height&&(t.height=e.height),t},fromPartial(e){var t,n,r,i;const o=Object.assign({},k);if(o.trackSids=[],void 0!==e.trackSids&&null!==e.trackSids)for(const a of e.trackSids)o.trackSids.push(a);return o.disabled=null!==(t=e.disabled)&&void 0!==t&&t,o.quality=null!==(n=e.quality)&&void 0!==n?n:0,o.width=null!==(r=e.width)&&void 0!==r?r:0,o.height=null!==(i=e.height)&&void 0!==i?i:0,o}};const T={canReconnect:!1};t.LeaveRequest={encode:(e,t=o.default.Writer.create())=>(!0===e.canReconnect&&t.uint32(8).bool(e.canReconnect),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},T);for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.canReconnect=n.bool();else n.skipType(7&e)}return i},fromJSON(e){const t=Object.assign({},T);return void 0!==e.canReconnect&&null!==e.canReconnect?t.canReconnect=Boolean(e.canReconnect):t.canReconnect=!1,t},toJSON(e){const t={};return void 0!==e.canReconnect&&(t.canReconnect=e.canReconnect),t},fromPartial(e){var t;const n=Object.assign({},T);return n.canReconnect=null!==(t=e.canReconnect)&&void 0!==t&&t,n}};const E={trackSid:""};t.UpdateVideoLayers={encode(e,t=o.default.Writer.create()){""!==e.trackSid&&t.uint32(10).string(e.trackSid);for(const n of e.layers)a.VideoLayer.encode(n,t.uint32(18).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},E);for(i.layers=[];n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.trackSid=n.string();break;case 2:i.layers.push(a.VideoLayer.decode(n,n.uint32()));break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},E);if(t.layers=[],void 0!==e.trackSid&&null!==e.trackSid?t.trackSid=String(e.trackSid):t.trackSid="",void 0!==e.layers&&null!==e.layers)for(const n of e.layers)t.layers.push(a.VideoLayer.fromJSON(n));return t},toJSON(e){const t={};return void 0!==e.trackSid&&(t.trackSid=e.trackSid),e.layers?t.layers=e.layers.map((e=>e?a.VideoLayer.toJSON(e):void 0)):t.layers=[],t},fromPartial(e){var t;const n=Object.assign({},E);if(n.trackSid=null!==(t=e.trackSid)&&void 0!==t?t:"",n.layers=[],void 0!==e.layers&&null!==e.layers)for(const r of e.layers)n.layers.push(a.VideoLayer.fromPartial(r));return n}};const _={urls:"",username:"",credential:""};t.ICEServer={encode(e,t=o.default.Writer.create()){for(const n of e.urls)t.uint32(10).string(n);return""!==e.username&&t.uint32(18).string(e.username),""!==e.credential&&t.uint32(26).string(e.credential),t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},_);for(i.urls=[];n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.urls.push(n.string());break;case 2:i.username=n.string();break;case 3:i.credential=n.string();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},_);if(t.urls=[],void 0!==e.urls&&null!==e.urls)for(const n of e.urls)t.urls.push(String(n));return void 0!==e.username&&null!==e.username?t.username=String(e.username):t.username="",void 0!==e.credential&&null!==e.credential?t.credential=String(e.credential):t.credential="",t},toJSON(e){const t={};return e.urls?t.urls=e.urls.map((e=>e)):t.urls=[],void 0!==e.username&&(t.username=e.username),void 0!==e.credential&&(t.credential=e.credential),t},fromPartial(e){var t,n;const r=Object.assign({},_);if(r.urls=[],void 0!==e.urls&&null!==e.urls)for(const i of e.urls)r.urls.push(i);return r.username=null!==(t=e.username)&&void 0!==t?t:"",r.credential=null!==(n=e.credential)&&void 0!==n?n:"",r}};const C={};t.SpeakersChanged={encode(e,t=o.default.Writer.create()){for(const n of e.speakers)a.SpeakerInfo.encode(n,t.uint32(10).fork()).ldelim();return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},C);for(i.speakers=[];n.pos<r;){const e=n.uint32();if(e>>>3===1)i.speakers.push(a.SpeakerInfo.decode(n,n.uint32()));else n.skipType(7&e)}return i},fromJSON(e){const t=Object.assign({},C);if(t.speakers=[],void 0!==e.speakers&&null!==e.speakers)for(const n of e.speakers)t.speakers.push(a.SpeakerInfo.fromJSON(n));return t},toJSON(e){const t={};return e.speakers?t.speakers=e.speakers.map((e=>e?a.SpeakerInfo.toJSON(e):void 0)):t.speakers=[],t},fromPartial(e){const t=Object.assign({},C);if(t.speakers=[],void 0!==e.speakers&&null!==e.speakers)for(const n of e.speakers)t.speakers.push(a.SpeakerInfo.fromPartial(n));return t}};const O={};t.RoomUpdate={encode:(e,t=o.default.Writer.create())=>(void 0!==e.room&&a.Room.encode(e.room,t.uint32(10).fork()).ldelim(),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},O);for(;n.pos<r;){const e=n.uint32();if(e>>>3===1)i.room=a.Room.decode(n,n.uint32());else n.skipType(7&e)}return i},fromJSON(e){const t=Object.assign({},O);return void 0!==e.room&&null!==e.room?t.room=a.Room.fromJSON(e.room):t.room=void 0,t},toJSON(e){const t={};return void 0!==e.room&&(t.room=e.room?a.Room.toJSON(e.room):void 0),t},fromPartial(e){const t=Object.assign({},O);return void 0!==e.room&&null!==e.room?t.room=a.Room.fromPartial(e.room):t.room=void 0,t}};const P={participantSid:"",quality:0,score:0};t.ConnectionQualityInfo={encode:(e,t=o.default.Writer.create())=>(""!==e.participantSid&&t.uint32(10).string(e.participantSid),0!==e.quality&&t.uint32(16).int32(e.quality),0!==e.score&&t.uint32(29).float(e.score),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},P);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.quality=n.int32();break;case 3:i.score=n.float();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},P);return void 0!==e.participantSid&&null!==e.participantSid?t.participantSid=String(e.participantSid):t.participantSid="",void 0!==e.quality&&null!==e.quality?t.quality=a.connectionQualityFromJSON(e.quality):t.quality=0,void 0!==e.score&&null!==e.score?t.score=Number(e.score):t.score=0,t},toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.quality&&(t.quality=a.connectionQualityToJSON(e.quality)),void 0!==e.score&&(t.score=e.score),t},fromPartial(e){var t,n,r;const i=Object.assign({},P);return i.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",i.quality=null!==(n=e.quality)&&void 0!==n?n:0,i.score=null!==(r=e.score)&&void 0!==r?r:0,i}};const A={};t.ConnectionQualityUpdate={encode(e,n=o.default.Writer.create()){for(const r of e.updates)t.ConnectionQualityInfo.encode(r,n.uint32(10).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},A);for(a.updates=[];r.pos<i;){const e=r.uint32();if(e>>>3===1)a.updates.push(t.ConnectionQualityInfo.decode(r,r.uint32()));else r.skipType(7&e)}return a},fromJSON(e){const n=Object.assign({},A);if(n.updates=[],void 0!==e.updates&&null!==e.updates)for(const r of e.updates)n.updates.push(t.ConnectionQualityInfo.fromJSON(r));return n},toJSON(e){const n={};return e.updates?n.updates=e.updates.map((e=>e?t.ConnectionQualityInfo.toJSON(e):void 0)):n.updates=[],n},fromPartial(e){const n=Object.assign({},A);if(n.updates=[],void 0!==e.updates&&null!==e.updates)for(const r of e.updates)n.updates.push(t.ConnectionQualityInfo.fromPartial(r));return n}};const I={participantSid:"",trackSid:"",state:0};t.StreamStateInfo={encode:(e,t=o.default.Writer.create())=>(""!==e.participantSid&&t.uint32(10).string(e.participantSid),""!==e.trackSid&&t.uint32(18).string(e.trackSid),0!==e.state&&t.uint32(24).int32(e.state),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},I);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.trackSid=n.string();break;case 3:i.state=n.int32();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},I);return void 0!==e.participantSid&&null!==e.participantSid?t.participantSid=String(e.participantSid):t.participantSid="",void 0!==e.trackSid&&null!==e.trackSid?t.trackSid=String(e.trackSid):t.trackSid="",void 0!==e.state&&null!==e.state?t.state=d(e.state):t.state=0,t},toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.trackSid&&(t.trackSid=e.trackSid),void 0!==e.state&&(t.state=p(e.state)),t},fromPartial(e){var t,n,r;const i=Object.assign({},I);return i.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",i.trackSid=null!==(n=e.trackSid)&&void 0!==n?n:"",i.state=null!==(r=e.state)&&void 0!==r?r:0,i}};const M={};t.StreamStateUpdate={encode(e,n=o.default.Writer.create()){for(const r of e.streamStates)t.StreamStateInfo.encode(r,n.uint32(10).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},M);for(a.streamStates=[];r.pos<i;){const e=r.uint32();if(e>>>3===1)a.streamStates.push(t.StreamStateInfo.decode(r,r.uint32()));else r.skipType(7&e)}return a},fromJSON(e){const n=Object.assign({},M);if(n.streamStates=[],void 0!==e.streamStates&&null!==e.streamStates)for(const r of e.streamStates)n.streamStates.push(t.StreamStateInfo.fromJSON(r));return n},toJSON(e){const n={};return e.streamStates?n.streamStates=e.streamStates.map((e=>e?t.StreamStateInfo.toJSON(e):void 0)):n.streamStates=[],n},fromPartial(e){const n=Object.assign({},M);if(n.streamStates=[],void 0!==e.streamStates&&null!==e.streamStates)for(const r of e.streamStates)n.streamStates.push(t.StreamStateInfo.fromPartial(r));return n}};const N={quality:0,enabled:!1};t.SubscribedQuality={encode:(e,t=o.default.Writer.create())=>(0!==e.quality&&t.uint32(8).int32(e.quality),!0===e.enabled&&t.uint32(16).bool(e.enabled),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},N);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.quality=n.int32();break;case 2:i.enabled=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},N);return void 0!==e.quality&&null!==e.quality?t.quality=a.videoQualityFromJSON(e.quality):t.quality=0,void 0!==e.enabled&&null!==e.enabled?t.enabled=Boolean(e.enabled):t.enabled=!1,t},toJSON(e){const t={};return void 0!==e.quality&&(t.quality=a.videoQualityToJSON(e.quality)),void 0!==e.enabled&&(t.enabled=e.enabled),t},fromPartial(e){var t,n;const r=Object.assign({},N);return r.quality=null!==(t=e.quality)&&void 0!==t?t:0,r.enabled=null!==(n=e.enabled)&&void 0!==n&&n,r}};const R={trackSid:""};t.SubscribedQualityUpdate={encode(e,n=o.default.Writer.create()){""!==e.trackSid&&n.uint32(10).string(e.trackSid);for(const r of e.subscribedQualities)t.SubscribedQuality.encode(r,n.uint32(18).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},R);for(a.subscribedQualities=[];r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.trackSid=r.string();break;case 2:a.subscribedQualities.push(t.SubscribedQuality.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return a},fromJSON(e){const n=Object.assign({},R);if(n.subscribedQualities=[],void 0!==e.trackSid&&null!==e.trackSid?n.trackSid=String(e.trackSid):n.trackSid="",void 0!==e.subscribedQualities&&null!==e.subscribedQualities)for(const r of e.subscribedQualities)n.subscribedQualities.push(t.SubscribedQuality.fromJSON(r));return n},toJSON(e){const n={};return void 0!==e.trackSid&&(n.trackSid=e.trackSid),e.subscribedQualities?n.subscribedQualities=e.subscribedQualities.map((e=>e?t.SubscribedQuality.toJSON(e):void 0)):n.subscribedQualities=[],n},fromPartial(e){var n;const r=Object.assign({},R);if(r.trackSid=null!==(n=e.trackSid)&&void 0!==n?n:"",r.subscribedQualities=[],void 0!==e.subscribedQualities&&null!==e.subscribedQualities)for(const i of e.subscribedQualities)r.subscribedQualities.push(t.SubscribedQuality.fromPartial(i));return r}};const D={participantSid:"",allTracks:!1,trackSids:""};t.TrackPermission={encode(e,t=o.default.Writer.create()){""!==e.participantSid&&t.uint32(10).string(e.participantSid),!0===e.allTracks&&t.uint32(16).bool(e.allTracks);for(const n of e.trackSids)t.uint32(26).string(n);return t},decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},D);for(i.trackSids=[];n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.allTracks=n.bool();break;case 3:i.trackSids.push(n.string());break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},D);if(t.trackSids=[],void 0!==e.participantSid&&null!==e.participantSid?t.participantSid=String(e.participantSid):t.participantSid="",void 0!==e.allTracks&&null!==e.allTracks?t.allTracks=Boolean(e.allTracks):t.allTracks=!1,void 0!==e.trackSids&&null!==e.trackSids)for(const n of e.trackSids)t.trackSids.push(String(n));return t},toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.allTracks&&(t.allTracks=e.allTracks),e.trackSids?t.trackSids=e.trackSids.map((e=>e)):t.trackSids=[],t},fromPartial(e){var t,n;const r=Object.assign({},D);if(r.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",r.allTracks=null!==(n=e.allTracks)&&void 0!==n&&n,r.trackSids=[],void 0!==e.trackSids&&null!==e.trackSids)for(const i of e.trackSids)r.trackSids.push(i);return r}};const L={allParticipants:!1};t.SubscriptionPermission={encode(e,n=o.default.Writer.create()){!0===e.allParticipants&&n.uint32(8).bool(e.allParticipants);for(const r of e.trackPermissions)t.TrackPermission.encode(r,n.uint32(18).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},L);for(a.trackPermissions=[];r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.allParticipants=r.bool();break;case 2:a.trackPermissions.push(t.TrackPermission.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return a},fromJSON(e){const n=Object.assign({},L);if(n.trackPermissions=[],void 0!==e.allParticipants&&null!==e.allParticipants?n.allParticipants=Boolean(e.allParticipants):n.allParticipants=!1,void 0!==e.trackPermissions&&null!==e.trackPermissions)for(const r of e.trackPermissions)n.trackPermissions.push(t.TrackPermission.fromJSON(r));return n},toJSON(e){const n={};return void 0!==e.allParticipants&&(n.allParticipants=e.allParticipants),e.trackPermissions?n.trackPermissions=e.trackPermissions.map((e=>e?t.TrackPermission.toJSON(e):void 0)):n.trackPermissions=[],n},fromPartial(e){var n;const r=Object.assign({},L);if(r.allParticipants=null!==(n=e.allParticipants)&&void 0!==n&&n,r.trackPermissions=[],void 0!==e.trackPermissions&&null!==e.trackPermissions)for(const i of e.trackPermissions)r.trackPermissions.push(t.TrackPermission.fromPartial(i));return r}};const j={participantSid:"",trackSid:"",allowed:!1};t.SubscriptionPermissionUpdate={encode:(e,t=o.default.Writer.create())=>(""!==e.participantSid&&t.uint32(10).string(e.participantSid),""!==e.trackSid&&t.uint32(18).string(e.trackSid),!0===e.allowed&&t.uint32(24).bool(e.allowed),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},j);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.participantSid=n.string();break;case 2:i.trackSid=n.string();break;case 3:i.allowed=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},j);return void 0!==e.participantSid&&null!==e.participantSid?t.participantSid=String(e.participantSid):t.participantSid="",void 0!==e.trackSid&&null!==e.trackSid?t.trackSid=String(e.trackSid):t.trackSid="",void 0!==e.allowed&&null!==e.allowed?t.allowed=Boolean(e.allowed):t.allowed=!1,t},toJSON(e){const t={};return void 0!==e.participantSid&&(t.participantSid=e.participantSid),void 0!==e.trackSid&&(t.trackSid=e.trackSid),void 0!==e.allowed&&(t.allowed=e.allowed),t},fromPartial(e){var t,n,r;const i=Object.assign({},j);return i.participantSid=null!==(t=e.participantSid)&&void 0!==t?t:"",i.trackSid=null!==(n=e.trackSid)&&void 0!==n?n:"",i.allowed=null!==(r=e.allowed)&&void 0!==r&&r,i}};const B={};t.SyncState={encode(e,n=o.default.Writer.create()){void 0!==e.answer&&t.SessionDescription.encode(e.answer,n.uint32(10).fork()).ldelim(),void 0!==e.subscription&&t.UpdateSubscription.encode(e.subscription,n.uint32(18).fork()).ldelim();for(const r of e.publishTracks)t.TrackPublishedResponse.encode(r,n.uint32(26).fork()).ldelim();for(const r of e.dataChannels)t.DataChannelInfo.encode(r,n.uint32(34).fork()).ldelim();return n},decode(e,n){const r=e instanceof o.default.Reader?e:new o.default.Reader(e);let i=void 0===n?r.len:r.pos+n;const a=Object.assign({},B);for(a.publishTracks=[],a.dataChannels=[];r.pos<i;){const e=r.uint32();switch(e>>>3){case 1:a.answer=t.SessionDescription.decode(r,r.uint32());break;case 2:a.subscription=t.UpdateSubscription.decode(r,r.uint32());break;case 3:a.publishTracks.push(t.TrackPublishedResponse.decode(r,r.uint32()));break;case 4:a.dataChannels.push(t.DataChannelInfo.decode(r,r.uint32()));break;default:r.skipType(7&e)}}return a},fromJSON(e){const n=Object.assign({},B);if(n.publishTracks=[],n.dataChannels=[],void 0!==e.answer&&null!==e.answer?n.answer=t.SessionDescription.fromJSON(e.answer):n.answer=void 0,void 0!==e.subscription&&null!==e.subscription?n.subscription=t.UpdateSubscription.fromJSON(e.subscription):n.subscription=void 0,void 0!==e.publishTracks&&null!==e.publishTracks)for(const r of e.publishTracks)n.publishTracks.push(t.TrackPublishedResponse.fromJSON(r));if(void 0!==e.dataChannels&&null!==e.dataChannels)for(const r of e.dataChannels)n.dataChannels.push(t.DataChannelInfo.fromJSON(r));return n},toJSON(e){const n={};return void 0!==e.answer&&(n.answer=e.answer?t.SessionDescription.toJSON(e.answer):void 0),void 0!==e.subscription&&(n.subscription=e.subscription?t.UpdateSubscription.toJSON(e.subscription):void 0),e.publishTracks?n.publishTracks=e.publishTracks.map((e=>e?t.TrackPublishedResponse.toJSON(e):void 0)):n.publishTracks=[],e.dataChannels?n.dataChannels=e.dataChannels.map((e=>e?t.DataChannelInfo.toJSON(e):void 0)):n.dataChannels=[],n},fromPartial(e){const n=Object.assign({},B);if(void 0!==e.answer&&null!==e.answer?n.answer=t.SessionDescription.fromPartial(e.answer):n.answer=void 0,void 0!==e.subscription&&null!==e.subscription?n.subscription=t.UpdateSubscription.fromPartial(e.subscription):n.subscription=void 0,n.publishTracks=[],void 0!==e.publishTracks&&null!==e.publishTracks)for(const r of e.publishTracks)n.publishTracks.push(t.TrackPublishedResponse.fromPartial(r));if(n.dataChannels=[],void 0!==e.dataChannels&&null!==e.dataChannels)for(const r of e.dataChannels)n.dataChannels.push(t.DataChannelInfo.fromPartial(r));return n}};const F={label:"",id:0};t.DataChannelInfo={encode:(e,t=o.default.Writer.create())=>(""!==e.label&&t.uint32(10).string(e.label),0!==e.id&&t.uint32(16).uint32(e.id),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},F);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.label=n.string();break;case 2:i.id=n.uint32();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},F);return void 0!==e.label&&null!==e.label?t.label=String(e.label):t.label="",void 0!==e.id&&null!==e.id?t.id=Number(e.id):t.id=0,t},toJSON(e){const t={};return void 0!==e.label&&(t.label=e.label),void 0!==e.id&&(t.id=e.id),t},fromPartial(e){var t,n;const r=Object.assign({},F);return r.label=null!==(t=e.label)&&void 0!==t?t:"",r.id=null!==(n=e.id)&&void 0!==n?n:0,r}};const U={};t.SimulateScenario={encode:(e,t=o.default.Writer.create())=>(void 0!==e.speakerUpdate&&t.uint32(8).int32(e.speakerUpdate),void 0!==e.nodeFailure&&t.uint32(16).bool(e.nodeFailure),void 0!==e.migration&&t.uint32(24).bool(e.migration),void 0!==e.serverLeave&&t.uint32(32).bool(e.serverLeave),t),decode(e,t){const n=e instanceof o.default.Reader?e:new o.default.Reader(e);let r=void 0===t?n.len:n.pos+t;const i=Object.assign({},U);for(;n.pos<r;){const e=n.uint32();switch(e>>>3){case 1:i.speakerUpdate=n.int32();break;case 2:i.nodeFailure=n.bool();break;case 3:i.migration=n.bool();break;case 4:i.serverLeave=n.bool();break;default:n.skipType(7&e)}}return i},fromJSON(e){const t=Object.assign({},U);return void 0!==e.speakerUpdate&&null!==e.speakerUpdate?t.speakerUpdate=Number(e.speakerUpdate):t.speakerUpdate=void 0,void 0!==e.nodeFailure&&null!==e.nodeFailure?t.nodeFailure=Boolean(e.nodeFailure):t.nodeFailure=void 0,void 0!==e.migration&&null!==e.migration?t.migration=Boolean(e.migration):t.migration=void 0,void 0!==e.serverLeave&&null!==e.serverLeave?t.serverLeave=Boolean(e.serverLeave):t.serverLeave=void 0,t},toJSON(e){const t={};return void 0!==e.speakerUpdate&&(t.speakerUpdate=e.speakerUpdate),void 0!==e.nodeFailure&&(t.nodeFailure=e.nodeFailure),void 0!==e.migration&&(t.migration=e.migration),void 0!==e.serverLeave&&(t.serverLeave=e.serverLeave),t},fromPartial(e){var t,n,r,i;const o=Object.assign({},U);return o.speakerUpdate=null!==(t=e.speakerUpdate)&&void 0!==t?t:void 0,o.nodeFailure=null!==(n=e.nodeFailure)&&void 0!==n?n:void 0,o.migration=null!==(r=e.migration)&&void 0!==r?r:void 0,o.serverLeave=null!==(i=e.serverLeave)&&void 0!==i?i:void 0,o}},o.default.util.Long!==i.default&&(o.default.util.Long=i.default,o.default.configure())},11480:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const r="default";class i{static getInstance(){return void 0===this.instance&&(this.instance=new i),this.instance}getDevices(e){return n(this,void 0,void 0,(function*(){let t=yield navigator.mediaDevices.enumerateDevices();if(t=t.filter((t=>t.kind===e)),t.length>1&&t[0].deviceId===r){const e=t[0];for(let n=1;n<t.length;n+=1)if(t[n].groupId===e.groupId){const e=t[0];t[0]=t[n],t[n]=e;break}return t.filter((t=>t!==e))}return t}))}normalizeDeviceId(e,t,i){return n(this,void 0,void 0,(function*(){if(t!==r)return t;const n=(yield this.getDevices(e)).find((e=>e.groupId===i&&e.deviceId!==r));return null===n||void 0===n?void 0:n.deviceId}))}}t.default=i,i.mediaDeviceKinds=["audioinput","audiooutput","videoinput"]},8974:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2938),a=i(n(72662));t.default=class{constructor(e){this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate=!1,this.negotiate=o.debounce((()=>{this.createAndSendOffer()}),100),this.pc=new RTCPeerConnection(e)}get isICEConnected(){return"connected"===this.pc.iceConnectionState||"completed"===this.pc.iceConnectionState}addIceCandidate(e){return r(this,void 0,void 0,(function*(){if(this.pc.remoteDescription&&!this.restartingIce)return this.pc.addIceCandidate(e);this.pendingCandidates.push(e)}))}setRemoteDescription(e){return r(this,void 0,void 0,(function*(){yield this.pc.setRemoteDescription(e),this.pendingCandidates.forEach((e=>{this.pc.addIceCandidate(e)})),this.pendingCandidates=[],this.restartingIce=!1,this.renegotiate&&(this.renegotiate=!1,this.createAndSendOffer())}))}createAndSendOffer(e){return r(this,void 0,void 0,(function*(){if(void 0===this.onOffer)return;if((null===e||void 0===e?void 0:e.iceRestart)&&(a.default.debug("restarting ICE"),this.restartingIce=!0),"have-local-offer"===this.pc.signalingState){const t=this.pc.remoteDescription;if(!(null===e||void 0===e?void 0:e.iceRestart)||!t)return void(this.renegotiate=!0);yield this.pc.setRemoteDescription(t)}else if("closed"===this.pc.signalingState)return void a.default.warn("could not createOffer with closed peer connection");a.default.debug("starting to negotiate");const t=yield this.pc.createOffer(e);yield this.pc.setLocalDescription(t),this.onOffer(t)}))}close(){this.pc.close()}}},68947:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.maxICEConnectTimeout=void 0;const o=n(17187),a=n(9286),s=i(n(72662)),l=n(8983),c=n(44658),u=n(67650),d=n(28911),p=i(n(8974)),f=n(71981),h="_lossy",m="_reliable";t.maxICEConnectTimeout=15e3;class g extends o.EventEmitter{constructor(){super(),this.rtcConfig={},this.subscriberPrimary=!1,this.pcConnected=!1,this.isClosed=!0,this.pendingTrackResolvers={},this.hasPublished=!1,this.reconnectAttempts=0,this.reconnectStart=0,this.fullReconnectOnNext=!1,this.handleDataChannel=({channel:e})=>r(this,void 0,void 0,(function*(){if(e){if(e.label===m)this.reliableDCSub=e;else{if(e.label!==h)return;this.lossyDCSub=e}e.onmessage=this.handleDataMessage}})),this.handleDataMessage=e=>r(this,void 0,void 0,(function*(){let t;if(e.data instanceof ArrayBuffer)t=e.data;else{if(!(e.data instanceof Blob))return void s.default.error("unsupported data type",e.data);t=yield e.data.arrayBuffer()}const n=l.DataPacket.decode(new Uint8Array(t));n.speaker?this.emit(d.EngineEvent.ActiveSpeakersUpdate,n.speaker.speakers):n.user&&this.emit(d.EngineEvent.DataPacketReceived,n.user,n.kind)})),this.handleDataError=e=>{const t=0===e.currentTarget.maxRetransmits?"lossy":"reliable";if(e instanceof ErrorEvent){const{error:n}=e.error;s.default.error(`DataChannel error on ${t}: ${e.message}`,n)}else s.default.error(`Unknown DataChannel Error on ${t}`,e)},this.handleDisconnect=e=>{if(this.isClosed)return;s.default.debug(`${e} disconnected`),0===this.reconnectAttempts&&(this.reconnectStart=Date.now());const t=this.reconnectAttempts*this.reconnectAttempts*300;setTimeout((()=>r(this,void 0,void 0,(function*(){var e;if(!this.isClosed){(f.isFireFox()||(null===(e=this.clientConfiguration)||void 0===e?void 0:e.resumeConnection)===l.ClientConfigSetting.DISABLED)&&(this.fullReconnectOnNext=!0);try{this.fullReconnectOnNext?yield this.restartConnection():yield this.resumeConnection(),this.reconnectAttempts=0,this.fullReconnectOnNext=!1}catch(t){this.reconnectAttempts+=1;let e=!0;t instanceof u.UnexpectedConnectionState?(s.default.debug("received unrecoverable error",t.message),e=!1):t instanceof v||(this.fullReconnectOnNext=!0);const n=Date.now()-this.reconnectStart;(this.reconnectAttempts>=10||n>6e4)&&(e=!1),e?this.handleDisconnect("reconnect"):(s.default.info(`could not recover connection after 10 attempts, ${n}ms. giving up`),this.emit(d.EngineEvent.Disconnected),this.close())}}}))),t)},this.client=new a.SignalClient}join(e,t,n){return r(this,void 0,void 0,(function*(){this.url=e,this.token=t,this.signalOpts=n;const r=yield this.client.join(e,t,n);return this.isClosed=!1,this.subscriberPrimary=r.subscriberPrimary,this.publisher||this.configure(r),this.subscriberPrimary||this.negotiate(),this.clientConfiguration=r.clientConfiguration,r}))}close(){this.isClosed=!0,this.removeAllListeners(),this.publisher&&"closed"!==this.publisher.pc.signalingState&&(this.publisher.pc.getSenders().forEach((e=>{var t,n;try{(null===(t=this.publisher)||void 0===t?void 0:t.pc.removeTrack)&&(null===(n=this.publisher)||void 0===n||n.pc.removeTrack(e))}catch(r){s.default.warn("could not removeTrack",r)}})),this.publisher.close(),this.publisher=void 0),this.subscriber&&(this.subscriber.close(),this.subscriber=void 0),this.client.close()}addTrack(e){if(this.pendingTrackResolvers[e.cid])throw new u.TrackInvalidError("a track with the same ID has already been published");return new Promise((t=>{this.pendingTrackResolvers[e.cid]=t,this.client.sendAddTrack(e)}))}updateMuteStatus(e,t){this.client.sendMuteTrack(e,t)}get dataSubscriberReadyState(){var e;return null===(e=this.reliableDCSub)||void 0===e?void 0:e.readyState}get connectedServerAddress(){return this.connectedServerAddr}configure(e){if(this.publisher||this.subscriber)return;if(e.iceServers&&!this.rtcConfig.iceServers){const t=[];e.iceServers.forEach((e=>{const n={urls:e.urls};e.username&&(n.username=e.username),e.credential&&(n.credential=e.credential),t.push(n)})),this.rtcConfig.iceServers=t}this.rtcConfig.sdpSemantics="unified-plan",this.rtcConfig.continualGatheringPolicy="gather_continually",this.publisher=new p.default(this.rtcConfig),this.subscriber=new p.default(this.rtcConfig),this.emit(d.EngineEvent.TransportsCreated,this.publisher,this.subscriber),this.publisher.pc.onicecandidate=e=>{e.candidate&&(s.default.trace("adding ICE candidate for peer",e.candidate),this.client.sendIceCandidate(e.candidate,c.SignalTarget.PUBLISHER))},this.subscriber.pc.onicecandidate=e=>{e.candidate&&this.client.sendIceCandidate(e.candidate,c.SignalTarget.SUBSCRIBER)},this.publisher.onOffer=e=>{this.client.sendOffer(e)};let t=this.publisher.pc;e.subscriberPrimary&&(t=this.subscriber.pc,this.subscriber.pc.ondatachannel=this.handleDataChannel),this.primaryPC=t,t.onconnectionstatechange=()=>r(this,void 0,void 0,(function*(){if("connected"===t.connectionState){s.default.trace("pc connected");try{this.connectedServerAddr=yield function(e){var t;return r(this,void 0,void 0,(function*(){let n="";const r=new Map,i=new Map;if((yield e.getStats()).forEach((e=>{switch(e.type){case"transport":n=e.selectedCandidatePairId;break;case"candidate-pair":""===n&&e.selected&&(n=e.id),r.set(e.id,e);break;case"remote-candidate":i.set(e.id,`${e.address}:${e.port}`)}})),""===n)return;const o=null===(t=r.get(n))||void 0===t?void 0:t.remoteCandidateId;return void 0!==o?i.get(o):void 0}))}(t)}catch(e){s.default.warn("could not get connected server address",e)}this.pcConnected||(this.pcConnected=!0,this.emit(d.EngineEvent.Connected))}else"failed"===t.connectionState&&(s.default.trace("pc disconnected"),this.pcConnected&&(this.pcConnected=!1,this.handleDisconnect("peerconnection")))})),f.isWeb()?this.subscriber.pc.ontrack=e=>{this.emit(d.EngineEvent.MediaTrackAdded,e.track,e.streams[0],e.receiver)}:this.subscriber.pc.onaddstream=e=>{const t=e.stream.getTracks()[0];this.emit(d.EngineEvent.MediaTrackAdded,t,e.stream)},this.lossyDC=this.publisher.pc.createDataChannel(h,{ordered:!0,maxRetransmits:0}),this.reliableDC=this.publisher.pc.createDataChannel(m,{ordered:!0}),this.lossyDC.onmessage=this.handleDataMessage,this.reliableDC.onmessage=this.handleDataMessage,this.lossyDC.onerror=this.handleDataError,this.reliableDC.onerror=this.handleDataError,this.client.onAnswer=e=>r(this,void 0,void 0,(function*(){this.publisher&&(s.default.debug("received server answer",e.type,this.publisher.pc.signalingState),yield this.publisher.setRemoteDescription(e))})),this.client.onTrickle=(e,t)=>{this.publisher&&this.subscriber&&(s.default.trace("got ICE candidate from peer",e,t),t===c.SignalTarget.PUBLISHER?this.publisher.addIceCandidate(e):this.subscriber.addIceCandidate(e))},this.client.onOffer=e=>r(this,void 0,void 0,(function*(){if(!this.subscriber)return;s.default.debug("received server offer",e.type,this.subscriber.pc.signalingState),yield this.subscriber.setRemoteDescription(e);const t=yield this.subscriber.pc.createAnswer();yield this.subscriber.pc.setLocalDescription(t),this.client.sendAnswer(t)})),this.client.onLocalTrackPublished=e=>{s.default.debug("received trackPublishedResponse",e);const t=this.pendingTrackResolvers[e.cid];t?(delete this.pendingTrackResolvers[e.cid],t(e.track)):s.default.error("missing track resolver for ",e.cid)},this.client.onTokenRefresh=e=>{this.token=e},this.client.onClose=()=>{this.handleDisconnect("signal")},this.client.onLeave=e=>{(null===e||void 0===e?void 0:e.canReconnect)?(this.fullReconnectOnNext=!0,this.primaryPC=void 0):(this.emit(d.EngineEvent.Disconnected),this.close())}}restartConnection(){var e,t;return r(this,void 0,void 0,(function*(){if(!this.url||!this.token)throw new u.UnexpectedConnectionState("could not reconnect, url or token not saved");let n;s.default.info("reconnecting, attempt",this.reconnectAttempts),0===this.reconnectAttempts&&this.emit(d.EngineEvent.Restarting),this.primaryPC=void 0,null===(e=this.publisher)||void 0===e||e.close(),this.publisher=void 0,null===(t=this.subscriber)||void 0===t||t.close(),this.subscriber=void 0;try{n=yield this.join(this.url,this.token,this.signalOpts)}catch(r){throw new v}yield this.waitForPCConnected(),this.client.setReconnected(),this.emit(d.EngineEvent.Restarted,n)}))}resumeConnection(){return r(this,void 0,void 0,(function*(){if(!this.url||!this.token)throw new u.UnexpectedConnectionState("could not reconnect, url or token not saved");if(!this.publisher||!this.subscriber)throw new u.UnexpectedConnectionState("publisher and subscriber connections unset");s.default.info("resuming signal connection, attempt",this.reconnectAttempts),0===this.reconnectAttempts&&this.emit(d.EngineEvent.Resuming);try{yield this.client.reconnect(this.url,this.token)}catch(e){throw new v}this.emit(d.EngineEvent.SignalResumed),this.subscriber.restartingIce=!0,this.hasPublished&&(yield this.publisher.createAndSendOffer({iceRestart:!0})),yield this.waitForPCConnected(),this.client.setReconnected(),this.emit(d.EngineEvent.Resumed)}))}waitForPCConnected(){var e;return r(this,void 0,void 0,(function*(){const n=(new Date).getTime();let r=n;for(this.pcConnected=!1;r-n<t.maxICEConnectTimeout&&void 0!==this.primaryPC;){if(r-n>1e3&&"connected"===(null===(e=this.primaryPC)||void 0===e?void 0:e.connectionState)&&(this.pcConnected=!0),this.pcConnected)return;yield f.sleep(100),r=(new Date).getTime()}throw new u.ConnectionError("could not establish PC connection")}))}sendDataPacket(e,t){return r(this,void 0,void 0,(function*(){const n=l.DataPacket.encode(e).finish();yield this.ensurePublisherConnected(t),t===l.DataPacket_Kind.LOSSY&&this.lossyDC?this.lossyDC.send(n):t===l.DataPacket_Kind.RELIABLE&&this.reliableDC&&this.reliableDC.send(n)}))}ensurePublisherConnected(e){var n,i;return r(this,void 0,void 0,(function*(){if(!this.subscriberPrimary)return;if(!this.publisher)throw new u.ConnectionError("publisher connection not set");this.publisher.isICEConnected||"checking"===this.publisher.pc.iceConnectionState||this.negotiate();const r=this.dataChannelForKind(e);if("open"===(null===r||void 0===r?void 0:r.readyState))return;const o=(new Date).getTime()+t.maxICEConnectTimeout;for(;(new Date).getTime()<o;){if(this.publisher.isICEConnected&&"open"===(null===(n=this.dataChannelForKind(e))||void 0===n?void 0:n.readyState))return;yield f.sleep(50)}throw new u.ConnectionError(`could not establish publisher connection, state ${null===(i=this.publisher)||void 0===i?void 0:i.pc.iceConnectionState}`)}))}negotiate(){this.publisher&&(this.hasPublished=!0,this.publisher.negotiate())}dataChannelForKind(e){return e===l.DataPacket_Kind.LOSSY?this.lossyDC:e===l.DataPacket_Kind.RELIABLE?this.reliableDC:void 0}}t.default=g;class v extends Error{}},93258:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RoomState=void 0;const l=n(17187),c=n(9286),u=s(n(72662)),d=n(8983),p=n(44658),f=s(n(11480)),h=n(67650),m=n(28911),g=s(n(24149)),v=s(n(51488)),y=o(n(68947)),b=n(21442),w=s(n(40297)),x=n(80410),S=n(89565),k=n(71981);var T;!function(e){e.Disconnected="disconnected",e.Connected="connected",e.Reconnecting="reconnecting"}(T=t.RoomState||(t.RoomState={}));class E extends l.EventEmitter{constructor(e){super(),this.state=T.Disconnected,this.activeSpeakers=[],this.sid="",this.name="",this.metadata=void 0,this.audioEnabled=!0,this.connect=(e,t,n)=>a(this,void 0,void 0,(function*(){if(this.state===T.Disconnected){this.createEngine(),this.acquireAudioContext(),(null===n||void 0===n?void 0:n.rtcConfig)&&(this.engine.rtcConfig=n.rtcConfig),this.connOptions=n;try{const r=yield this.engine.join(e,t,n);if(u.default.debug(`connected to Livekit Server version: ${r.serverVersion}, region: ${r.serverRegion}`),!r.serverVersion)throw new h.UnsupportedServer("unknown server version");"0.15.1"===r.serverVersion&&this.options.dynacast&&(u.default.debug("disabling dynacast due to server version"),this.options.dynacast=!1),this.state=T.Connected,this.emit(m.RoomEvent.StateChanged,this.state);const i=r.participant;this.localParticipant=new g.default(i.sid,i.identity,this.engine,this.options),this.localParticipant.updateInfo(i),this.localParticipant.on(m.ParticipantEvent.MetadataChanged,(e=>{this.emit(m.RoomEvent.MetadataChanged,e,this.localParticipant)})).on(m.ParticipantEvent.ParticipantMetadataChanged,(e=>{this.emit(m.RoomEvent.ParticipantMetadataChanged,e,this.localParticipant)})).on(m.ParticipantEvent.TrackMuted,(e=>{this.emit(m.RoomEvent.TrackMuted,e,this.localParticipant)})).on(m.ParticipantEvent.TrackUnmuted,(e=>{this.emit(m.RoomEvent.TrackUnmuted,e,this.localParticipant)})).on(m.ParticipantEvent.LocalTrackPublished,(e=>{this.emit(m.RoomEvent.LocalTrackPublished,e,this.localParticipant)})).on(m.ParticipantEvent.LocalTrackUnpublished,(e=>{this.emit(m.RoomEvent.LocalTrackUnpublished,e,this.localParticipant)})).on(m.ParticipantEvent.ConnectionQualityChanged,(e=>{this.emit(m.RoomEvent.ConnectionQualityChanged,e,this.localParticipant)})).on(m.ParticipantEvent.MediaDevicesError,(e=>{this.emit(m.RoomEvent.MediaDevicesError,e)})),r.otherParticipants.forEach((e=>{this.getOrCreateParticipant(e.sid,e)})),this.name=r.room.name,this.sid=r.room.sid,this.metadata=r.room.metadata}catch(r){throw this.engine.close(),r}return new Promise(((e,t)=>{const n=setTimeout((()=>{this.engine.close(),t(new h.ConnectionError("could not connect after timeout"))}),y.maxICEConnectTimeout);this.engine.once(m.EngineEvent.Connected,(()=>{clearTimeout(n),k.isWeb()&&(window.addEventListener("beforeunload",this.onBeforeUnload),navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceChange)),e(this)}))}))}u.default.warn("already connected to room",this.name)})),this.disconnect=(e=!0)=>{this.engine&&(this.engine.client.sendLeave(),this.engine.close()),this.handleDisconnect(e),this.engine=void 0},this.onBeforeUnload=()=>{this.disconnect()},this.handleRestarting=()=>{this.state=T.Reconnecting,this.emit(m.RoomEvent.Reconnecting),this.emit(m.RoomEvent.StateChanged,this.state);for(const e of this.participants.values())this.handleParticipantDisconnected(e.sid,e)},this.handleRestarted=e=>a(this,void 0,void 0,(function*(){u.default.debug("reconnected to server region",e.serverRegion),this.state=T.Connected,this.emit(m.RoomEvent.Reconnected),this.emit(m.RoomEvent.StateChanged,this.state),e.participant&&(this.localParticipant.sid=e.participant.sid,this.handleParticipantUpdates([e.participant])),this.handleParticipantUpdates(e.otherParticipants);const t=[];this.localParticipant.tracks.forEach((e=>{e.track&&t.push(e)})),yield Promise.all(t.map((e=>a(this,void 0,void 0,(function*(){const t=e.track;this.localParticipant.unpublishTrack(t,!1),this.localParticipant.publishTrack(t,e.options)})))))})),this.handleParticipantUpdates=e=>{e.forEach((e=>{if(e.sid===this.localParticipant.sid||e.identity===this.localParticipant.identity)return void this.localParticipant.updateInfo(e);let t=this.participants.get(e.sid);const n=!t;t=this.getOrCreateParticipant(e.sid,e),e.state===d.ParticipantInfo_State.DISCONNECTED?this.handleParticipantDisconnected(e.sid,t):n?this.emit(m.RoomEvent.ParticipantConnected,t):t.updateInfo(e)}))},this.handleActiveSpeakersUpdate=e=>{const t=[],n={};e.forEach((e=>{if(n[e.sid]=!0,e.sid===this.localParticipant.sid)this.localParticipant.audioLevel=e.level,this.localParticipant.setIsSpeaking(!0),t.push(this.localParticipant);else{const n=this.participants.get(e.sid);n&&(n.audioLevel=e.level,n.setIsSpeaking(!0),t.push(n))}})),n[this.localParticipant.sid]||(this.localParticipant.audioLevel=0,this.localParticipant.setIsSpeaking(!1)),this.participants.forEach((e=>{n[e.sid]||(e.audioLevel=0,e.setIsSpeaking(!1))})),this.activeSpeakers=t,this.emit(m.RoomEvent.ActiveSpeakersChanged,t)},this.handleSpeakersChanged=e=>{const t=new Map;this.activeSpeakers.forEach((e=>{t.set(e.sid,e)})),e.forEach((e=>{let n=this.participants.get(e.sid);e.sid===this.localParticipant.sid&&(n=this.localParticipant),n&&(n.audioLevel=e.level,n.setIsSpeaking(e.active),e.active?t.set(e.sid,n):t.delete(e.sid))}));const n=Array.from(t.values());n.sort(((e,t)=>t.audioLevel-e.audioLevel)),this.activeSpeakers=n,this.emit(m.RoomEvent.ActiveSpeakersChanged,n)},this.handleStreamStateUpdate=e=>{e.streamStates.forEach((e=>{const t=this.participants.get(e.participantSid);if(!t)return;const n=t.getTrackPublication(e.trackSid);n&&n.track&&(n.track.streamState=x.Track.streamStateFromProto(e.state),t.emit(m.ParticipantEvent.TrackStreamStateChanged,n,n.track.streamState),this.emit(m.ParticipantEvent.TrackStreamStateChanged,n,n.track.streamState,t))}))},this.handleSubscriptionPermissionUpdate=e=>{const t=this.participants.get(e.participantSid);if(!t)return;const n=t.getTrackPublication(e.trackSid);n&&(n._allowed=e.allowed,t.emit(m.ParticipantEvent.TrackSubscriptionPermissionChanged,n,n.subscriptionStatus),this.emit(m.ParticipantEvent.TrackSubscriptionPermissionChanged,n,n.subscriptionStatus,t))},this.handleDataPacket=(e,t)=>{const n=this.participants.get(e.participantSid);this.emit(m.RoomEvent.DataReceived,e.payload,n,t),null===n||void 0===n||n.emit(m.ParticipantEvent.DataReceived,e.payload,t)},this.handleAudioPlaybackStarted=()=>{this.canPlaybackAudio||(this.audioEnabled=!0,this.emit(m.RoomEvent.AudioPlaybackStatusChanged,!0))},this.handleAudioPlaybackFailed=e=>{u.default.warn("could not playback audio",e),this.canPlaybackAudio&&(this.audioEnabled=!1,this.emit(m.RoomEvent.AudioPlaybackStatusChanged,!1))},this.handleDeviceChange=()=>a(this,void 0,void 0,(function*(){this.emit(m.RoomEvent.MediaDevicesChanged)})),this.handleRoomUpdate=e=>{this.metadata=e.metadata,this.emit(m.RoomEvent.RoomMetadataChanged,e.metadata)},this.handleConnectionQualityUpdate=e=>{e.updates.forEach((e=>{if(e.participantSid===this.localParticipant.sid)return void this.localParticipant.setConnectionQuality(e.quality);const t=this.participants.get(e.participantSid);t&&t.setConnectionQuality(e.quality)}))},this.participants=new Map,this.options=e||{},this.options.audioCaptureDefaults=Object.assign(Object.assign({},b.audioDefaults),null===e||void 0===e?void 0:e.audioCaptureDefaults),this.options.videoCaptureDefaults=Object.assign(Object.assign({},b.videoDefaults),null===e||void 0===e?void 0:e.videoCaptureDefaults),this.options.publishDefaults=Object.assign(Object.assign({},b.publishDefaults),null===e||void 0===e?void 0:e.publishDefaults),this.createEngine(),this.localParticipant=new g.default("","",this.engine,this.options)}createEngine(){this.engine||(this.engine=new y.default,this.engine.client.signalLatency=this.options.expSignalLatency,this.engine.client.onParticipantUpdate=this.handleParticipantUpdates,this.engine.client.onRoomUpdate=this.handleRoomUpdate,this.engine.client.onSpeakersChanged=this.handleSpeakersChanged,this.engine.client.onStreamStateUpdate=this.handleStreamStateUpdate,this.engine.client.onSubscriptionPermissionUpdate=this.handleSubscriptionPermissionUpdate,this.engine.client.onConnectionQuality=this.handleConnectionQualityUpdate,this.engine.on(m.EngineEvent.MediaTrackAdded,((e,t,n)=>{this.onTrackAdded(e,t,n)})).on(m.EngineEvent.Disconnected,(()=>{this.handleDisconnect()})).on(m.EngineEvent.ActiveSpeakersUpdate,this.handleActiveSpeakersUpdate).on(m.EngineEvent.DataPacketReceived,this.handleDataPacket).on(m.EngineEvent.Resuming,(()=>{this.state=T.Reconnecting,this.emit(m.RoomEvent.Reconnecting),this.emit(m.RoomEvent.StateChanged,this.state)})).on(m.EngineEvent.Resumed,(()=>{this.state=T.Connected,this.emit(m.RoomEvent.Reconnected),this.emit(m.RoomEvent.StateChanged,this.state),this.updateSubscriptions()})).on(m.EngineEvent.SignalResumed,(()=>{this.state===T.Reconnecting&&this.sendSyncState()})).on(m.EngineEvent.Restarting,this.handleRestarting).on(m.EngineEvent.Restarted,this.handleRestarted))}static getLocalDevices(e){return f.default.getInstance().getDevices(e)}getParticipantByIdentity(e){for(const[,t]of this.participants)if(t.identity===e)return t;if(this.localParticipant.identity===e)return this.localParticipant}simulateScenario(e){let t;switch(e){case"speaker":t=p.SimulateScenario.fromPartial({speakerUpdate:3});break;case"node-failure":t=p.SimulateScenario.fromPartial({nodeFailure:!0});break;case"server-leave":t=p.SimulateScenario.fromPartial({serverLeave:!0});break;case"migration":t=p.SimulateScenario.fromPartial({migration:!0})}t&&this.engine.client.sendSimulateScenario(t)}startAudio(){return a(this,void 0,void 0,(function*(){this.acquireAudioContext();const e=[];this.participants.forEach((t=>{t.audioTracks.forEach((t=>{t.track&&t.track.attachedElements.forEach((t=>{e.push(t)}))}))}));try{yield Promise.all(e.map((e=>e.play()))),this.handleAudioPlaybackStarted()}catch(t){throw this.handleAudioPlaybackFailed(t),t}}))}get canPlaybackAudio(){return this.audioEnabled}switchActiveDevice(e,t){return a(this,void 0,void 0,(function*(){if("audioinput"===e){const e=Array.from(this.localParticipant.audioTracks.values()).filter((e=>e.source===x.Track.Source.Microphone));yield Promise.all(e.map((e=>{var n;return null===(n=e.audioTrack)||void 0===n?void 0:n.setDeviceId(t)}))),this.options.audioCaptureDefaults.deviceId=t}else if("videoinput"===e){const e=Array.from(this.localParticipant.videoTracks.values()).filter((e=>e.source===x.Track.Source.Camera));yield Promise.all(e.map((e=>{var n;return null===(n=e.videoTrack)||void 0===n?void 0:n.setDeviceId(t)}))),this.options.videoCaptureDefaults.deviceId=t}else if("audiooutput"===e){const e=[];this.participants.forEach((t=>{t.audioTracks.forEach((t=>{t.isSubscribed&&t.track&&t.track.attachedElements.forEach((t=>{e.push(t)}))}))})),yield Promise.all(e.map((e=>a(this,void 0,void 0,(function*(){"setSinkId"in e&&(yield e.setSinkId(t))})))))}}))}onTrackAdded(e,t,n){const r=k.unpackStreamId(t.id),i=r[0];let o=r[1];o&&""!==o||(o=e.id);const a=this.getOrCreateParticipant(i);let s;this.options.adaptiveStream&&(s="object"===typeof this.options.adaptiveStream?this.options.adaptiveStream:{}),a.addSubscribedMediaTrack(e,o,t,n,s)}handleDisconnect(e=!0){this.state!==T.Disconnected&&(this.participants.forEach((e=>{e.tracks.forEach((t=>{e.unpublishTrack(t.trackSid)}))})),this.localParticipant.tracks.forEach((t=>{var n,r;t.track&&this.localParticipant.unpublishTrack(t.track),e&&(null===(n=t.track)||void 0===n||n.detach(),null===(r=t.track)||void 0===r||r.stop())})),this.participants.clear(),this.activeSpeakers=[],this.audioContext&&(this.audioContext.close(),this.audioContext=void 0),k.isWeb()&&(window.removeEventListener("beforeunload",this.onBeforeUnload),navigator.mediaDevices.removeEventListener("devicechange",this.handleDeviceChange)),this.state=T.Disconnected,this.emit(m.RoomEvent.Disconnected),this.emit(m.RoomEvent.StateChanged,this.state))}handleParticipantDisconnected(e,t){this.participants.delete(e),t&&(t.tracks.forEach((e=>{t.unpublishTrack(e.trackSid)})),this.emit(m.RoomEvent.ParticipantDisconnected,t))}acquireAudioContext(){this.audioContext&&this.audioContext.close();const e=S.getNewAudioContext();e&&(this.audioContext=e)}createParticipant(e,t){let n;return n=t?v.default.fromParticipantInfo(this.engine.client,t):new v.default(this.engine.client,e,""),n}getOrCreateParticipant(e,t){if(this.participants.has(e))return this.participants.get(e);const n=this.createParticipant(e,t);return this.participants.set(e,n),n.on(m.ParticipantEvent.TrackPublished,(e=>{this.emit(m.RoomEvent.TrackPublished,e,n)})).on(m.ParticipantEvent.TrackSubscribed,((e,t)=>{e.kind===x.Track.Kind.Audio&&(e.on(m.TrackEvent.AudioPlaybackStarted,this.handleAudioPlaybackStarted),e.on(m.TrackEvent.AudioPlaybackFailed,this.handleAudioPlaybackFailed)),this.emit(m.RoomEvent.TrackSubscribed,e,t,n)})).on(m.ParticipantEvent.TrackUnpublished,(e=>{this.emit(m.RoomEvent.TrackUnpublished,e,n)})).on(m.ParticipantEvent.TrackUnsubscribed,((e,t)=>{this.emit(m.RoomEvent.TrackUnsubscribed,e,t,n)})).on(m.ParticipantEvent.TrackSubscriptionFailed,(e=>{this.emit(m.RoomEvent.TrackSubscriptionFailed,e,n)})).on(m.ParticipantEvent.TrackMuted,(e=>{this.emit(m.RoomEvent.TrackMuted,e,n)})).on(m.ParticipantEvent.TrackUnmuted,(e=>{this.emit(m.RoomEvent.TrackUnmuted,e,n)})).on(m.ParticipantEvent.MetadataChanged,(e=>{this.emit(m.RoomEvent.MetadataChanged,e,n)})).on(m.ParticipantEvent.ParticipantMetadataChanged,(e=>{this.emit(m.RoomEvent.ParticipantMetadataChanged,e,n)})).on(m.ParticipantEvent.ConnectionQualityChanged,(e=>{this.emit(m.RoomEvent.ConnectionQualityChanged,e,n)})),n}sendSyncState(){var e;if(void 0===this.engine.subscriber||null===this.engine.subscriber.pc.localDescription)return;const t=this.engine.subscriber.pc.localDescription,n=(null===(e=this.connOptions)||void 0===e?void 0:e.autoSubscribe)||!1,r=new Array;this.participants.forEach((e=>{e.tracks.forEach((e=>{e.isSubscribed!==n&&r.push(e.trackSid)}))})),this.engine.client.sendSyncState({answer:c.toProtoSessionDescription({sdp:t.sdp,type:t.type}),subscription:{trackSids:r,subscribe:!n,participantTracks:[]},publishTracks:this.localParticipant.publishedTracksInfo(),dataChannels:this.localParticipant.dataChannelsInfo()})}updateSubscriptions(){for(const e of this.participants.values())for(const t of e.videoTracks.values())t.isSubscribed&&t instanceof w.default&&t.emitTrackUpdate()}emit(e,...t){return u.default.debug("room event",e,...t),super.emit(e,...t)}}t.default=E},67650:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediaDeviceFailure=t.PublishDataError=t.UnexpectedConnectionState=t.UnsupportedServer=t.TrackInvalidError=t.ConnectionError=t.LivekitError=void 0;class n extends Error{constructor(e,t){super(t||"an error has occured"),this.code=e}}t.LivekitError=n;t.ConnectionError=class extends n{constructor(e){super(1,e)}};t.TrackInvalidError=class extends n{constructor(e){super(20,e||"Track is invalid")}};t.UnsupportedServer=class extends n{constructor(e){super(10,e||"Unsupported server")}};t.UnexpectedConnectionState=class extends n{constructor(e){super(12,e||"Unexpected connection state")}};t.PublishDataError=class extends n{constructor(e){super(13,e||"Unable to publish data")}},function(e){e.PermissionDenied="PermissionDenied",e.NotFound="NotFound",e.DeviceInUse="DeviceInUse",e.Other="Other"}(t.MediaDeviceFailure||(t.MediaDeviceFailure={})),function(e){e.getFailure=function(t){if(t&&"name"in t)return"NotFoundError"===t.name||"DevicesNotFoundError"===t.name?e.NotFound:"NotAllowedError"===t.name||"PermissionDeniedError"===t.name?e.PermissionDenied:"NotReadableError"===t.name||"TrackStartError"===t.name?e.DeviceInUse:e.Other}}(t.MediaDeviceFailure||(t.MediaDeviceFailure={}))},28911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TrackEvent=t.EngineEvent=t.ParticipantEvent=t.RoomEvent=void 0,function(e){e.Reconnecting="reconnecting",e.Reconnected="reconnected",e.Disconnected="disconnected",e.StateChanged="stateChanged",e.MediaDevicesChanged="mediaDevicesChanged",e.ParticipantConnected="participantConnected",e.ParticipantDisconnected="participantDisconnected",e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.ActiveSpeakersChanged="activeSpeakersChanged",e.MetadataChanged="metadataChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.RoomMetadataChanged="roomMetadataChanged",e.DataReceived="dataReceived",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.AudioPlaybackStatusChanged="audioPlaybackChanged",e.MediaDevicesError="mediaDevicesError"}(t.RoomEvent||(t.RoomEvent={})),function(e){e.TrackPublished="trackPublished",e.TrackSubscribed="trackSubscribed",e.TrackSubscriptionFailed="trackSubscriptionFailed",e.TrackUnpublished="trackUnpublished",e.TrackUnsubscribed="trackUnsubscribed",e.TrackMuted="trackMuted",e.TrackUnmuted="trackUnmuted",e.LocalTrackPublished="localTrackPublished",e.LocalTrackUnpublished="localTrackUnpublished",e.MetadataChanged="metadataChanged",e.ParticipantMetadataChanged="participantMetadataChanged",e.DataReceived="dataReceived",e.IsSpeakingChanged="isSpeakingChanged",e.ConnectionQualityChanged="connectionQualityChanged",e.TrackStreamStateChanged="trackStreamStateChanged",e.TrackSubscriptionPermissionChanged="trackSubscriptionPermissionChanged",e.MediaDevicesError="mediaDevicesError"}(t.ParticipantEvent||(t.ParticipantEvent={})),function(e){e.TransportsCreated="transportsCreated",e.Connected="connected",e.Disconnected="disconnected",e.Resuming="resuming",e.Resumed="resumed",e.Restarting="restarting",e.Restarted="restarted",e.SignalResumed="signalResumed",e.MediaTrackAdded="mediaTrackAdded",e.ActiveSpeakersUpdate="activeSpeakersUpdate",e.DataPacketReceived="dataPacketReceived"}(t.EngineEvent||(t.EngineEvent={})),function(e){e.Message="message",e.Muted="muted",e.Unmuted="unmuted",e.Ended="ended",e.UpdateSettings="updateSettings",e.UpdateSubscription="updateSubscription",e.AudioPlaybackStarted="audioPlaybackStarted",e.AudioPlaybackFailed="audioPlaybackFailed",e.AudioSilenceDetected="audioSilenceDetected",e.VisibilityChanged="visibilityChanged",e.VideoDimensionsChanged="videoDimensionsChanged"}(t.TrackEvent||(t.TrackEvent={}))},24149:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const l=s(n(72662)),c=n(8983),u=n(44658),d=n(67650),p=n(28911),f=s(n(98669)),h=s(n(170)),m=o(n(76887)),g=n(36669),v=n(80410),y=n(89565),b=n(71981),w=s(n(22070)),x=n(48792),S=n(85482),k=s(n(51488));class T extends w.default{constructor(e,t,n,r){super(e,t),this.pendingPublishing=new Set,this.onTrackUnmuted=e=>{this.onTrackMuted(e,!1)},this.onTrackMuted=(e,t)=>{void 0===t&&(t=!0),e.sid?this.engine.updateMuteStatus(e.sid,t):l.default.error("could not update mute status for unpublished track",e)},this.handleSubscribedQualityUpdate=e=>{var t,n;if(!(null===(t=this.roomOptions)||void 0===t?void 0:t.dynacast))return;const r=this.videoTracks.get(e.trackSid);r?null===(n=r.videoTrack)||void 0===n||n.setPublishingLayers(e.subscribedQualities):l.default.warn("handleSubscribedQualityUpdate","received subscribed quality update for unknown track",e.trackSid)},this.onTrackUnpublish=e=>{this.unpublishTrack(e)},this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map,this.engine=n,this.roomOptions=r,this.engine.client.onRemoteMuteChanged=(e,t)=>{const n=this.tracks.get(e);n&&n.track&&(t?n.mute():n.unmute())},this.engine.client.onSubscribedQualityUpdate=this.handleSubscribedQualityUpdate}get lastCameraError(){return this.cameraError}get lastMicrophoneError(){return this.microphoneError}getTrack(e){const t=super.getTrack(e);if(t)return t}getTrackByName(e){const t=super.getTrackByName(e);if(t)return t}setCameraEnabled(e){return this.setTrackEnabled(v.Track.Source.Camera,e)}setMicrophoneEnabled(e){return this.setTrackEnabled(v.Track.Source.Microphone,e)}setScreenShareEnabled(e){return this.setTrackEnabled(v.Track.Source.ScreenShare,e)}setTrackEnabled(e,t){return a(this,void 0,void 0,(function*(){l.default.debug("setTrackEnabled",e,t);const n=this.getTrack(e);if(t)if(n)yield n.unmute();else{let t;if(this.pendingPublishing.has(e))return void l.default.info("skipping duplicate published source",e);this.pendingPublishing.add(e);try{switch(e){case v.Track.Source.Camera:[t]=yield this.createTracks({video:!0});break;case v.Track.Source.Microphone:[t]=yield this.createTracks({audio:!0});break;case v.Track.Source.ScreenShare:[t]=yield this.createScreenTracks({audio:!1});break;default:throw new d.TrackInvalidError(e)}yield this.publishTrack(t)}catch(r){throw r instanceof Error&&!(r instanceof d.TrackInvalidError)&&this.emit(p.ParticipantEvent.MediaDevicesError,r),r}finally{this.pendingPublishing.delete(e)}}else n&&n.track&&(e===v.Track.Source.ScreenShare?this.unpublishTrack(n.track):yield n.mute())}))}enableCameraAndMicrophone(){return a(this,void 0,void 0,(function*(){if(!this.pendingPublishing.has(v.Track.Source.Camera)&&!this.pendingPublishing.has(v.Track.Source.Microphone)){this.pendingPublishing.add(v.Track.Source.Camera),this.pendingPublishing.add(v.Track.Source.Microphone);try{const e=yield this.createTracks({audio:!0,video:!0});yield Promise.all(e.map((e=>this.publishTrack(e))))}finally{this.pendingPublishing.delete(v.Track.Source.Camera),this.pendingPublishing.delete(v.Track.Source.Microphone)}}}))}createTracks(e){var t,n;return a(this,void 0,void 0,(function*(){const r=y.mergeDefaultOptions(e,null===(t=this.roomOptions)||void 0===t?void 0:t.audioCaptureDefaults,null===(n=this.roomOptions)||void 0===n?void 0:n.videoCaptureDefaults),i=y.constraintsForOptions(r);let o;try{o=yield navigator.mediaDevices.getUserMedia(i)}catch(a){throw a instanceof Error&&(i.audio&&(this.microphoneError=a),i.video&&(this.cameraError=a)),a}return i.audio&&(this.microphoneError=void 0),i.video&&(this.cameraError=void 0),o.getTracks().map((t=>{const n="audio"===t.kind;let r,a=n?e.audio:e.video;"boolean"!==typeof a&&a||(a={});const s=n?i.audio:i.video;"boolean"!==typeof s&&(r=s);const l=S.mediaTrackToLocalTrack(t,r);return l.kind===v.Track.Kind.Video?l.source=v.Track.Source.Camera:l.kind===v.Track.Kind.Audio&&(l.source=v.Track.Source.Microphone),l.mediaStream=o,l}))}))}createScreenTracks(e){var t;return a(this,void 0,void 0,(function*(){void 0===e&&(e={}),void 0===e.resolution&&(e.resolution=g.ScreenSharePresets.h1080fps15.resolution);let n=!0;e.resolution&&(n={width:e.resolution.width,height:e.resolution.height,frameRate:e.resolution.frameRate});const r=yield navigator.mediaDevices.getDisplayMedia({audio:null!==(t=e.audio)&&void 0!==t&&t,video:n}),i=r.getVideoTracks();if(0===i.length)throw new d.TrackInvalidError("no video track found");const o=new m.default(i[0]);o.source=v.Track.Source.ScreenShare;const a=[o];if(r.getAudioTracks().length>0){const e=new f.default(r.getAudioTracks()[0]);e.source=v.Track.Source.ScreenShareAudio,a.push(e)}return a}))}publishTrack(e,t){var n,r,i,o,s,c;return a(this,void 0,void 0,(function*(){const a=Object.assign(Object.assign({},null===(n=this.roomOptions)||void 0===n?void 0:n.publishDefaults),t);if(e instanceof MediaStreamTrack)switch(e.kind){case"audio":e=new f.default(e);break;case"video":e=new m.default(e);break;default:throw new d.TrackInvalidError(`unsupported MediaStreamTrack kind ${e.kind}`)}let g;if(this.tracks.forEach((t=>{t.track&&t.track===e&&(g=t)})),g)return g;a.source&&(e.source=a.source),a.stopMicTrackOnMute&&e instanceof f.default&&(e.stopOnMute=!0),e.source===v.Track.Source.ScreenShare&&b.isFireFox()&&(a.simulcast=!1),e.on(p.TrackEvent.Muted,this.onTrackMuted),e.on(p.TrackEvent.Unmuted,this.onTrackUnmuted),e.on(p.TrackEvent.Ended,this.onTrackUnpublish);const y=u.AddTrackRequest.fromPartial({cid:e.mediaStreamTrack.id,name:null===t||void 0===t?void 0:t.name,type:v.Track.kindToProto(e.kind),muted:e.isMuted,source:v.Track.sourceToProto(e.source),disableDtx:!(null===(r=null===a||void 0===a?void 0:a.dtx)||void 0===r||r)});let w;if(e.kind===v.Track.Kind.Video){const t=e.mediaStreamTrack.getSettings(),n=null!==(i=t.width)&&void 0!==i?i:null===(o=e.dimensions)||void 0===o?void 0:o.width,r=null!==(s=t.height)&&void 0!==s?s:null===(c=e.dimensions)||void 0===c?void 0:c.height;y.width=null!==n&&void 0!==n?n:0,y.height=null!==r&&void 0!==r?r:0,w=S.computeVideoEncodings(e.source===v.Track.Source.ScreenShare,n,r,a),y.layers=m.videoLayersFromEncodings(y.width,y.height,w)}else e.kind===v.Track.Kind.Audio&&a.audioBitrate&&(w=[{maxBitrate:a.audioBitrate}]);const x=yield this.engine.addTrack(y),k=new h.default(e.kind,x,e);if(e.sid=x.sid,!this.engine.publisher)throw new d.UnexpectedConnectionState("publisher is closed");l.default.debug(`publishing ${e.kind} with encodings`,w,x);const T={direction:"sendonly"};w&&(T.sendEncodings=w);const E=this.engine.publisher.pc.addTransceiver(e.mediaStreamTrack,T);return this.engine.negotiate(),e.sender=E.sender,e instanceof m.default?e.startMonitor(this.engine.client):e instanceof f.default&&e.startMonitor(),a.videoCodec&&this.setPreferredCodec(E,e.kind,a.videoCodec),this.addTrackPublication(k),this.emit(p.ParticipantEvent.LocalTrackPublished,k),k}))}unpublishTrack(e,t){var n,r;const i=this.getPublicationForTrack(e);if(l.default.debug("unpublishTrack","unpublishing track",e),!i||!i.track)return l.default.warn("unpublishTrack","track was not unpublished because no publication was found",e),null;(e=i.track).off(p.TrackEvent.Muted,this.onTrackMuted),e.off(p.TrackEvent.Unmuted,this.onTrackUnmuted),e.off(p.TrackEvent.Ended,this.onTrackUnpublish),void 0===t&&(t=null===(r=null===(n=this.roomOptions)||void 0===n?void 0:n.stopLocalTrackOnUnpublish)||void 0===r||r),t&&e.stop();const{mediaStreamTrack:o}=e;if(this.engine.publisher){this.engine.publisher.pc.getSenders().forEach((e=>{var t;if(e.track===o)try{null===(t=this.engine.publisher)||void 0===t||t.pc.removeTrack(e),this.engine.negotiate()}catch(n){l.default.warn("unpublishTrack","failed to remove track",n)}}))}switch(this.tracks.delete(i.trackSid),i.kind){case v.Track.Kind.Audio:this.audioTracks.delete(i.trackSid);break;case v.Track.Kind.Video:this.videoTracks.delete(i.trackSid)}return i.setTrack(void 0),this.emit(p.ParticipantEvent.LocalTrackUnpublished,i),i}unpublishTracks(e){const t=[];return e.forEach((e=>{const n=this.unpublishTrack(e);n&&t.push(n)})),t}publishData(e,t,n){return a(this,void 0,void 0,(function*(){const r=[];void 0!==n&&n.forEach((e=>{e instanceof k.default?r.push(e.sid):r.push(e)}));const i={kind:t,user:{participantSid:this.sid,payload:e,destinationSids:r}};yield this.engine.sendDataPacket(i,t)}))}setTrackSubscriptionPermissions(e,t=[]){this.engine.client.sendUpdateSubscriptionPermissions(e,t.map((e=>x.trackPermissionToProto(e))))}getPublicationForTrack(e){let t;return this.tracks.forEach((n=>{const r=n.track;r&&(e instanceof MediaStreamTrack?(r instanceof f.default||r instanceof m.default)&&r.mediaStreamTrack===e&&(t=n):e===r&&(t=n))})),t}setPreferredCodec(e,t,n){if(!("getCapabilities"in RTCRtpSender))return;const r=RTCRtpSender.getCapabilities(t);if(!r)return;const i=r.codecs.find((e=>{const t=e.mimeType.toLowerCase(),r=t===`video/${n}`;return"h264"===n&&e.sdpFmtpLine?r&&e.sdpFmtpLine.includes("profile-level-id=42e01f"):r||"audio/opus"===t}));i&&"setCodecPreferences"in e&&e.setCodecPreferences([i])}publishedTracksInfo(){const e=[];return this.tracks.forEach((t=>{void 0!==t.track&&e.push({cid:t.track.mediaStreamTrack.id,track:t.trackInfo})})),e}dataChannelsInfo(){const e=[],t=t=>{void 0!==(null===t||void 0===t?void 0:t.id)&&null!==t.id&&e.push({label:t.label,id:t.id})};return t(this.engine.dataChannelForKind(c.DataPacket_Kind.LOSSY)),t(this.engine.dataChannelForKind(c.DataPacket_Kind.RELIABLE)),e}}t.default=T},22070:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionQuality=void 0;const r=n(17187),i=n(8983),o=n(28911),a=n(80410);var s;!function(e){e.Excellent="excellent",e.Good="good",e.Poor="poor",e.Unknown="unknown"}(s=t.ConnectionQuality||(t.ConnectionQuality={}));class l extends r.EventEmitter{constructor(e,t){super(),this.audioLevel=0,this.isSpeaking=!1,this._connectionQuality=s.Unknown,this.sid=e,this.identity=t,this.audioTracks=new Map,this.videoTracks=new Map,this.tracks=new Map}getTracks(){return Array.from(this.tracks.values())}getTrack(e){if(e!==a.Track.Source.Unknown)for(const[,t]of this.tracks){if(t.source===e)return t;if(t.source===a.Track.Source.Unknown){if(e===a.Track.Source.Microphone&&t.kind===a.Track.Kind.Audio&&"screen"!==t.trackName)return t;if(e===a.Track.Source.Camera&&t.kind===a.Track.Kind.Video&&"screen"!==t.trackName)return t;if(e===a.Track.Source.ScreenShare&&t.kind===a.Track.Kind.Video&&"screen"===t.trackName)return t;if(e===a.Track.Source.ScreenShareAudio&&t.kind===a.Track.Kind.Audio&&"screen"===t.trackName)return t}}}getTrackByName(e){for(const[,t]of this.tracks)if(t.trackName===e)return t}get connectionQuality(){return this._connectionQuality}get isCameraEnabled(){var e;const t=this.getTrack(a.Track.Source.Camera);return!(null===(e=null===t||void 0===t?void 0:t.isMuted)||void 0===e||e)}get isMicrophoneEnabled(){var e;const t=this.getTrack(a.Track.Source.Microphone);return!(null===(e=null===t||void 0===t?void 0:t.isMuted)||void 0===e||e)}get isScreenShareEnabled(){return!!this.getTrack(a.Track.Source.ScreenShare)}get joinedAt(){return this.participantInfo?new Date(1e3*this.participantInfo.joinedAt):new Date}updateInfo(e){this.identity=e.identity,this.sid=e.sid,this.name=e.name,this.setMetadata(e.metadata),this.participantInfo=e}setMetadata(e){const t=!this.participantInfo||this.participantInfo.metadata!==e,n=this.metadata;this.metadata=e,t&&(this.emit(o.ParticipantEvent.MetadataChanged,n),this.emit(o.ParticipantEvent.ParticipantMetadataChanged,n))}setIsSpeaking(e){e!==this.isSpeaking&&(this.isSpeaking=e,e&&(this.lastSpokeAt=new Date),this.emit(o.ParticipantEvent.IsSpeakingChanged,e))}setConnectionQuality(e){const t=this._connectionQuality;this._connectionQuality=function(e){switch(e){case i.ConnectionQuality.EXCELLENT:return s.Excellent;case i.ConnectionQuality.GOOD:return s.Good;case i.ConnectionQuality.POOR:return s.Poor;default:return s.Unknown}}(e),t!==this._connectionQuality&&this.emit(o.ParticipantEvent.ConnectionQualityChanged,this._connectionQuality)}addTrackPublication(e){e.on(o.TrackEvent.Muted,(()=>{this.emit(o.ParticipantEvent.TrackMuted,e)})),e.on(o.TrackEvent.Unmuted,(()=>{this.emit(o.ParticipantEvent.TrackUnmuted,e)}));const t=e;switch(t.track&&(t.track.sid=e.trackSid),this.tracks.set(e.trackSid,e),e.kind){case a.Track.Kind.Audio:this.audioTracks.set(e.trackSid,e);break;case a.Track.Kind.Video:this.videoTracks.set(e.trackSid,e)}}}t.default=l},48792:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackPermissionToProto=void 0,t.trackPermissionToProto=function(e){var t;if(!e.participantSid)throw new Error("Invalid track permission, missing participantSid");return{participantSid:e.participantSid,allTracks:null!==(t=e.allowAll)&&void 0!==t&&t,trackSids:e.allowedTrackSids||[]}}},51488:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(72662)),o=n(28911),a=r(n(35941)),s=r(n(40297)),l=r(n(466)),c=n(80410),u=r(n(22070));class d extends u.default{constructor(e,t,n){super(t,n||""),this.signalClient=e,this.tracks=new Map,this.audioTracks=new Map,this.videoTracks=new Map}static fromParticipantInfo(e,t){const n=new d(e,t.sid,t.identity);return n.updateInfo(t),n}addTrackPublication(e){super.addTrackPublication(e),e.on(o.TrackEvent.UpdateSettings,(e=>{this.signalClient.sendUpdateTrackSettings(e)})),e.on(o.TrackEvent.UpdateSubscription,(e=>{e.participantTracks.forEach((e=>{e.participantSid=this.sid})),this.signalClient.sendUpdateSubscription(e)})),e.on(o.TrackEvent.Ended,(t=>{this.emit(o.ParticipantEvent.TrackUnsubscribed,t,e)}))}getTrack(e){const t=super.getTrack(e);if(t)return t}getTrackByName(e){const t=super.getTrackByName(e);if(t)return t}addSubscribedMediaTrack(e,t,n,r,s,c){let u=this.getTrackPublication(t);if(u||t.startsWith("TR")||this.tracks.forEach((t=>{u||e.kind!==t.kind.toString()||(u=t)})),!u)return 0===c?(i.default.error("could not find published track",this.sid,t),void this.emit(o.ParticipantEvent.TrackSubscriptionFailed,t)):(void 0===c&&(c=20),void setTimeout((()=>{this.addSubscribedMediaTrack(e,t,n,r,s,c-1)}),150));let d;return d="video"===e.kind?new l.default(e,t,r,s):new a.default(e,t,r),d.source=u.source,d.isMuted=u.isMuted,d.setMediaStream(n),d.start(),u.setTrack(d),this.emit(o.ParticipantEvent.TrackSubscribed,d,u),u}get hasMetadata(){return!!this.participantInfo}getTrackPublication(e){return this.tracks.get(e)}updateInfo(e){const t=this.hasMetadata;super.updateInfo(e);const n=new Map,r=new Map;e.tracks.forEach((e=>{let t=this.getTrackPublication(e.sid);if(t)t.updateInfo(e);else{const n=c.Track.kindFromProto(e.type);if(!n)return;t=new s.default(n,e.sid,e.name),t.updateInfo(e),r.set(e.sid,t),this.addTrackPublication(t)}n.set(e.sid,t)})),t&&r.forEach((e=>{this.emit(o.ParticipantEvent.TrackPublished,e)})),this.tracks.forEach((e=>{n.has(e.trackSid)||this.unpublishTrack(e.trackSid,!0)}))}unpublishTrack(e,t){const n=this.tracks.get(e);if(!n)return;switch(this.tracks.delete(e),n.kind){case c.Track.Kind.Audio:this.audioTracks.delete(e);break;case c.Track.Kind.Video:this.videoTracks.delete(e)}const{track:r}=n;if(r){const{isSubscribed:e}=n;r.stop(),n.setTrack(void 0),e&&this.emit(o.ParticipantEvent.TrackUnsubscribed,r,n)}t&&this.emit(o.ParticipantEvent.TrackUnpublished,n)}emit(e,...t){return i.default.trace("participant event",this.sid,e,...t),super.emit(e,...t)}}t.default=d},85482:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.sortPresets=t.defaultSimulcastLayers=t.presetsForResolution=t.determineAppropriateEncoding=t.computeVideoEncodings=t.computeDefaultScreenShareSimulcastPresets=t.defaultSimulcastPresets43=t.defaultSimulcastPresets169=t.presetsScreenShare=t.presets43=t.presets169=t.mediaTrackToLocalTrack=void 0;const i=r(n(72662)),o=n(67650),a=r(n(98669)),s=r(n(76887)),l=n(36669);t.mediaTrackToLocalTrack=function(e,t){switch(e.kind){case"audio":return new a.default(e,t);case"video":return new s.default(e,t);default:throw new o.TrackInvalidError(`unsupported track type: ${e.kind}`)}},t.presets169=Object.values(l.VideoPresets),t.presets43=Object.values(l.VideoPresets43),t.presetsScreenShare=Object.values(l.ScreenSharePresets),t.defaultSimulcastPresets169=[l.VideoPresets.h180,l.VideoPresets.h360],t.defaultSimulcastPresets43=[l.VideoPresets43.h180,l.VideoPresets43.h360];t.computeDefaultScreenShareSimulcastPresets=e=>[{scaleResolutionDownBy:2,fps:3}].map((t=>{var n;return new l.VideoPreset(Math.floor(e.width/t.scaleResolutionDownBy),Math.floor(e.height/t.scaleResolutionDownBy),Math.max(15e4,Math.floor(e.encoding.maxBitrate/(Math.pow(t.scaleResolutionDownBy,2)*((null!==(n=e.encoding.maxFramerate)&&void 0!==n?n:30)/t.fps)))),t.fps)}));const c=["q","h","f"];function u(e,t,n){const r=d(e,t,n);let{encoding:i}=r[0];const o=Math.max(t,n);for(let a=0;a<r.length;a+=1){const e=r[a];if(i=e.encoding,e.width>=o)break}return i}function d(e,n,r){if(e)return t.presetsScreenShare;const i=n>r?n/r:r/n;return Math.abs(i-16/9)<Math.abs(i-4/3)?t.presets169:t.presets43}function p(e,n){if(e)return t.computeDefaultScreenShareSimulcastPresets(n);const{width:r,height:i}=n,o=r>i?r/i:i/r;return Math.abs(o-16/9)<Math.abs(o-4/3)?t.defaultSimulcastPresets169:t.defaultSimulcastPresets43}function f(e,t,n){const r=[];return n.forEach(((n,i)=>{if(i>=c.length)return;const o=Math.min(e,t),a=c[i];r.push({rid:a,scaleResolutionDownBy:o/Math.min(n.width,n.height),maxBitrate:n.encoding.maxBitrate,maxFramerate:n.encoding.maxFramerate})})),r}function h(e){if(e)return e.sort(((e,t)=>{const{encoding:n}=e,{encoding:r}=t;return n.maxBitrate>r.maxBitrate?1:n.maxBitrate<r.maxBitrate?-1:n.maxBitrate===r.maxBitrate&&n.maxFramerate&&r.maxFramerate?n.maxFramerate>r.maxFramerate?1:-1:0}))}t.computeVideoEncodings=function(e,t,n,r){var o,a;let s=null===r||void 0===r?void 0:r.videoEncoding;e&&(s=null===r||void 0===r?void 0:r.screenShareEncoding);const c=null===r||void 0===r?void 0:r.simulcast;if(!s&&!c||!t||!n)return[{}];if(s||(s=u(e,t,n),i.default.debug("using video encoding",s)),!c)return[s];const d=new l.VideoPreset(t,n,s.maxBitrate,s.maxFramerate);let m,g=[];g=e?null!==(o=h(null===r||void 0===r?void 0:r.screenShareSimulcastLayers))&&void 0!==o?o:p(e,d):null!==(a=h(null===r||void 0===r?void 0:r.videoSimulcastLayers))&&void 0!==a?a:p(e,d);const v=g[0];g.length>1&&([,m]=g);const y=Math.max(t,n);return f(t,n,y>=960&&m?[v,m,d]:y>=480?[v,d]:[d])},t.determineAppropriateEncoding=u,t.presetsForResolution=d,t.defaultSimulcastLayers=p,t.sortPresets=h},24448:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.computeBitrate=t.monitorFrequency=void 0,t.monitorFrequency=2e3,t.computeBitrate=function(e,t){if(!t)return 0;let n,r;return"bytesReceived"in e?(n=e.bytesReceived,r=t.bytesReceived):"bytesSent"in e&&(n=e.bytesSent,r=t.bytesSent),void 0===n||void 0===r||void 0===e.timestamp||void 0===t.timestamp?0:8*(n-r)*1e3/(e.timestamp-t.timestamp)}},98669:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(72662)),a=n(28911),s=n(24448),l=i(n(35728)),c=n(80410),u=n(89565);class d extends l.default{constructor(e,t){super(e,c.Track.Kind.Audio,t),this.stopOnMute=!1,this.monitorSender=()=>r(this,void 0,void 0,(function*(){if(!this.sender)return void(this._currentBitrate=0);let e;try{e=yield this.getSenderStats()}catch(t){return void o.default.error("could not get audio sender stats",t)}e&&this.prevStats&&(this._currentBitrate=s.computeBitrate(e,this.prevStats)),this.prevStats=e,setTimeout((()=>{this.monitorSender()}),s.monitorFrequency)})),this.checkForSilence()}setDeviceId(e){return r(this,void 0,void 0,(function*(){this.constraints.deviceId!==e&&(this.constraints.deviceId=e,this.isMuted||(yield this.restartTrack()))}))}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return r(this,void 0,void 0,(function*(){return this.source===c.Track.Source.Microphone&&this.stopOnMute&&(o.default.debug("stopping mic track"),this.mediaStreamTrack.stop()),yield e.mute.call(this),this}))}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return r(this,void 0,void 0,(function*(){return this.source===c.Track.Source.Microphone&&this.stopOnMute&&(o.default.debug("reacquiring mic track"),yield this.restartTrack()),yield e.unmute.call(this),this}))}restartTrack(e){return r(this,void 0,void 0,(function*(){let t;if(e){const n=u.constraintsForOptions({audio:e});"boolean"!==typeof n.audio&&(t=n.audio)}yield this.restart(t)}))}restart(e){const t=Object.create(null,{restart:{get:()=>super.restart}});return r(this,void 0,void 0,(function*(){const n=yield t.restart.call(this,e);return this.checkForSilence(),n}))}startMonitor(){setTimeout((()=>{this.monitorSender()}),s.monitorFrequency)}getSenderStats(){return r(this,void 0,void 0,(function*(){if(!this.sender)return;let e;return(yield this.sender.getStats()).forEach((t=>{"outbound-rtp"===t.type&&(e={type:"audio",streamId:t.id,packetsSent:t.packetsSent,packetsLost:t.packetsLost,bytesSent:t.bytesSent,timestamp:t.timestamp,roundTripTime:t.roundTripTime,jitter:t.jitter})})),e}))}checkForSilence(){return r(this,void 0,void 0,(function*(){(yield u.detectSilence(this))&&(this.isMuted||o.default.warn("silence detected on local audio track"),this.emit(a.TrackEvent.AudioSilenceDetected))}))}}t.default=d},35728:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(72662)),a=i(n(11480)),s=n(67650),l=n(28911),c=n(71981),u=n(80410);class d extends u.Track{constructor(e,t,n){super(e,t),this.handleEnded=()=>{this.isInBackground&&(this.reacquireTrack=!0),this.emit(l.TrackEvent.Ended,this)},this.mediaStreamTrack.addEventListener("ended",this.handleEnded),this.constraints=null!==n&&void 0!==n?n:e.getConstraints(),this.reacquireTrack=!1,this.wasMuted=!1}get id(){return this.mediaStreamTrack.id}get dimensions(){if(this.kind!==u.Track.Kind.Video)return;const{width:e,height:t}=this.mediaStreamTrack.getSettings();return e&&t?{width:e,height:t}:void 0}getDeviceId(){return r(this,void 0,void 0,(function*(){if(this.source===u.Track.Source.ScreenShare)return;const{deviceId:e,groupId:t}=this.mediaStreamTrack.getSettings(),n=this.kind===u.Track.Kind.Audio?"audioinput":"videoinput";return a.default.getInstance().normalizeDeviceId(n,e,t)}))}mute(){return r(this,void 0,void 0,(function*(){return this.setTrackMuted(!0),this}))}unmute(){return r(this,void 0,void 0,(function*(){return this.setTrackMuted(!1),this}))}restart(e){return r(this,void 0,void 0,(function*(){if(!this.sender)throw new s.TrackInvalidError("unable to restart an unpublished track");e||(e=this.constraints),o.default.debug("restarting track with constraints",e);const t={audio:!1,video:!1};this.kind===u.Track.Kind.Video?t.video=e:t.audio=e,this.attachedElements.forEach((e=>{u.detachTrack(this.mediaStreamTrack,e)})),this.mediaStreamTrack.removeEventListener("ended",this.handleEnded),this.mediaStreamTrack.stop();const n=yield navigator.mediaDevices.getUserMedia(t),r=n.getTracks()[0];return r.addEventListener("ended",this.handleEnded),o.default.debug("re-acquired MediaStreamTrack"),yield this.sender.replaceTrack(r),this.mediaStreamTrack=r,this.attachedElements.forEach((e=>{u.attachToElement(r,e)})),this.mediaStream=n,this.constraints=e,this}))}setTrackMuted(e){this.isMuted!==e&&(this.isMuted=e,this.mediaStreamTrack.enabled=!e,this.emit(e?l.TrackEvent.Muted:l.TrackEvent.Unmuted,this))}get needsReAcquisition(){return"live"!==this.mediaStreamTrack.readyState||this.mediaStreamTrack.muted||!this.mediaStreamTrack.enabled||this.reacquireTrack}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return r(this,void 0,void 0,(function*(){yield e.handleAppVisibilityChanged.call(this),c.isMobile()&&(o.default.debug("visibility changed, is in Background: ",this.isInBackground),!this.isInBackground&&this.needsReAcquisition&&(o.default.debug("track needs to be reaquired, restarting",this.source),yield this.restart(),this.reacquireTrack=!1,this.setTrackMuted(this.wasMuted)),this.isInBackground&&(this.wasMuted=this.isMuted))}))}}t.default=d},170:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(28911),o=n(22184);class a extends o.TrackPublication{constructor(e,t,n){super(e,t.sid,t.name),this.handleTrackEnded=e=>{this.emit(i.TrackEvent.Ended,e)},this.updateInfo(t),this.setTrack(n)}setTrack(e){this.track&&this.track.off(i.TrackEvent.Ended,this.handleTrackEnded),super.setTrack(e),e&&e.on(i.TrackEvent.Ended,this.handleTrackEnded)}get isMuted(){return this.track?this.track.isMuted:super.isMuted}get audioTrack(){return super.audioTrack}get videoTrack(){return super.videoTrack}mute(){var e;return r(this,void 0,void 0,(function*(){return null===(e=this.track)||void 0===e?void 0:e.mute()}))}unmute(){var e;return r(this,void 0,void 0,(function*(){return null===(e=this.track)||void 0===e?void 0:e.unmute()}))}}t.default=a},76887:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.videoLayersFromEncodings=t.videoQualityForRid=void 0;const o=i(n(72662)),a=n(8983),s=n(24448),l=n(71981),c=i(n(35728)),u=n(80410),d=n(89565);class p extends c.default{constructor(e,t){super(e,u.Track.Kind.Video,t),this.monitorSender=()=>r(this,void 0,void 0,(function*(){if(!this.sender)return void(this._currentBitrate=0);let e;try{e=yield this.getSenderStats()}catch(n){return void o.default.error("could not get audio sender stats",n)}const t=new Map(e.map((e=>[e.rid,e])));if(this.prevStats){let e=0;t.forEach(((t,n)=>{var r;const i=null===(r=this.prevStats)||void 0===r?void 0:r.get(n);e+=s.computeBitrate(t,i)})),this._currentBitrate=e}this.prevStats=t,setTimeout((()=>{this.monitorSender()}),s.monitorFrequency)}))}get isSimulcast(){return!!(this.sender&&this.sender.getParameters().encodings.length>1)}startMonitor(e){var t;this.signalClient=e;const n=null===(t=this.sender)||void 0===t?void 0:t.getParameters();n&&(this.encodings=n.encodings),setTimeout((()=>{this.monitorSender()}),s.monitorFrequency)}stop(){this.sender=void 0,this.mediaStreamTrack.getConstraints(),super.stop()}mute(){const e=Object.create(null,{mute:{get:()=>super.mute}});return r(this,void 0,void 0,(function*(){return this.source===u.Track.Source.Camera&&(o.default.debug("stopping camera track"),this.mediaStreamTrack.stop()),yield e.mute.call(this),this}))}unmute(){const e=Object.create(null,{unmute:{get:()=>super.unmute}});return r(this,void 0,void 0,(function*(){return this.source===u.Track.Source.Camera&&(o.default.debug("reacquiring camera track"),yield this.restartTrack()),yield e.unmute.call(this),this}))}getSenderStats(){return r(this,void 0,void 0,(function*(){if(!this.sender)return[];const e=[],t=yield this.sender.getStats();return t.forEach((n=>{var r;if("outbound-rtp"===n.type){const i={type:"video",streamId:n.id,frameHeight:n.frameHeight,frameWidth:n.frameWidth,firCount:n.firCount,pliCount:n.pliCount,nackCount:n.nackCount,packetsSent:n.packetsSent,bytesSent:n.bytesSent,framesSent:n.framesSent,timestamp:n.timestamp,rid:null!==(r=n.rid)&&void 0!==r?r:"",retransmittedPacketsSent:n.retransmittedPacketsSent,qualityLimitationReason:n.qualityLimitationReason,qualityLimitationResolutionChanges:n.qualityLimitationResolutionChanges},o=t.get(n.remoteId);o&&(i.jitter=o.jitter,i.packetsLost=o.packetsLost,i.roundTripTime=o.roundTripTime),e.push(i)}})),e}))}setPublishingQuality(e){const t=[];for(let n=a.VideoQuality.LOW;n<=a.VideoQuality.HIGH;n+=1)t.push({quality:n,enabled:n<=e});o.default.debug("setting publishing quality. max quality",e),this.setPublishingLayers(t)}setDeviceId(e){return r(this,void 0,void 0,(function*(){this.constraints.deviceId!==e&&(this.constraints.deviceId=e,this.isMuted||(yield this.restartTrack()))}))}restartTrack(e){return r(this,void 0,void 0,(function*(){let t;if(e){const n=d.constraintsForOptions({video:e});"boolean"!==typeof n.video&&(t=n.video)}yield this.restart(t)}))}setPublishingLayers(e){return r(this,void 0,void 0,(function*(){if(o.default.debug("setting publishing layers",e),!this.sender||!this.encodings)return;const t=this.sender.getParameters(),{encodings:n}=t;if(!n)return;if(n.length!==this.encodings.length)return void o.default.warn("cannot set publishing layers, encodings mismatch");let r=!1;n.forEach(((t,n)=>{var i;let a=null!==(i=t.rid)&&void 0!==i?i:"";""===a&&(a="q");const s=f(a),c=e.find((e=>e.quality===s));c&&t.active!==c.enabled&&(r=!0,t.active=c.enabled,o.default.debug(`setting layer ${c.quality} to ${t.active?"enabled":"disabled"}`),l.isFireFox()&&(c.enabled?(t.scaleResolutionDownBy=this.encodings[n].scaleResolutionDownBy,t.maxBitrate=this.encodings[n].maxBitrate,t.maxFrameRate=this.encodings[n].maxFrameRate):(t.scaleResolutionDownBy=4,t.maxBitrate=10,t.maxFrameRate=2)))})),r&&(t.encodings=n,yield this.sender.setParameters(t))}))}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return r(this,void 0,void 0,(function*(){yield e.handleAppVisibilityChanged.call(this),l.isMobile()&&this.isInBackground&&this.source===u.Track.Source.Camera&&(this.mediaStreamTrack.enabled=!1)}))}}function f(e){switch(e){case"f":return a.VideoQuality.HIGH;case"h":return a.VideoQuality.MEDIUM;case"q":return a.VideoQuality.LOW;default:return a.VideoQuality.UNRECOGNIZED}}t.default=p,t.videoQualityForRid=f,t.videoLayersFromEncodings=function(e,t,n){return n?n.map((r=>{var i,o,s;const l=null!==(i=r.scaleResolutionDownBy)&&void 0!==i?i:1;let c=f(null!==(o=r.rid)&&void 0!==o?o:"");return c===a.VideoQuality.UNRECOGNIZED&&1===n.length&&(c=a.VideoQuality.HIGH),{quality:c,width:e/l,height:t/l,bitrate:null!==(s=r.maxBitrate)&&void 0!==s?s:0,ssrc:0}})):[{quality:a.VideoQuality.HIGH,width:e,height:t,bitrate:0,ssrc:0}]}},35941:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(24448),a=i(n(65785)),s=n(80410);class l extends a.default{constructor(e,t,n){super(e,t,s.Track.Kind.Audio,n),this.monitorReceiver=()=>r(this,void 0,void 0,(function*(){if(!this.receiver)return void(this._currentBitrate=0);const e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=o.computeBitrate(e,this.prevStats)),this.prevStats=e,setTimeout((()=>{this.monitorReceiver()}),o.monitorFrequency)}))}getReceiverStats(){return r(this,void 0,void 0,(function*(){if(!this.receiver)return;let e;return(yield this.receiver.getStats()).forEach((t=>{"inbound-rtp"===t.type&&(e={type:"audio",timestamp:t.timestamp,jitter:t.jitter,bytesReceived:t.bytesReceived,concealedSamples:t.concealedSamples,concealmentEvents:t.concealmentEvents,silentConcealedSamples:t.silentConcealedSamples,silentConcealmentEvents:t.silentConcealmentEvents,totalAudioEnergy:t.totalAudioEnergy,totalSamplesDuration:t.totalSamplesDuration})})),e}))}}t.default=l},65785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(28911),i=n(24448),o=n(80410);class a extends o.Track{constructor(e,t,n,r){super(e,n),this.streamState=o.Track.StreamState.Active,this.sid=t,this.receiver=r}setMuted(e){this.isMuted!==e&&(this.isMuted=e,this.emit(e?r.TrackEvent.Muted:r.TrackEvent.Unmuted,this))}setMediaStream(e){this.mediaStream=e,e.onremovetrack=()=>{this.receiver=void 0,this._currentBitrate=0,this.emit(r.TrackEvent.Ended,this)}}start(){this.startMonitor(),super.enable()}stop(){super.disable()}startMonitor(){setTimeout((()=>{this.monitorReceiver()}),i.monitorFrequency)}}t.default=a},40297:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(72662)),o=n(8983),a=n(44658),s=n(28911),l=r(n(466)),c=n(22184);class u extends c.TrackPublication{constructor(){super(...arguments),this._allowed=!0,this.disabled=!1,this.currentVideoQuality=o.VideoQuality.HIGH,this.handleEnded=e=>{this.emit(s.TrackEvent.Ended,e)},this.handleVisibilityChange=e=>{i.default.debug("adaptivestream video visibility",this.trackSid,`visible=${e}`),this.disabled=!e,this.emitTrackUpdate()},this.handleVideoDimensionsChange=e=>{i.default.debug("adaptivestream video dimensions",this.trackSid,`${e.width}x${e.height}`),this.videoDimensions=e,this.emitTrackUpdate()}}setSubscribed(e){this.subscribed=e;const t={trackSids:[this.trackSid],subscribe:this.subscribed,participantTracks:[{participantSid:"",trackSids:[this.trackSid]}]};this.emit(s.TrackEvent.UpdateSubscription,t)}get subscriptionStatus(){return!1!==this.subscribed&&super.isSubscribed?this._allowed?c.TrackPublication.SubscriptionStatus.Subscribed:c.TrackPublication.SubscriptionStatus.NotAllowed:c.TrackPublication.SubscriptionStatus.Unsubscribed}get isSubscribed(){return!1!==this.subscribed&&(!!this._allowed&&super.isSubscribed)}get isEnabled(){return!this.disabled}setEnabled(e){this.isManualOperationAllowed()&&this.disabled!==!e&&(this.disabled=!e,this.emitTrackUpdate())}setVideoQuality(e){this.isManualOperationAllowed()&&this.currentVideoQuality!==e&&(this.currentVideoQuality=e,this.videoDimensions=void 0,this.emitTrackUpdate())}setVideoDimensions(e){var t,n;this.isManualOperationAllowed()&&((null===(t=this.videoDimensions)||void 0===t?void 0:t.width)===e.width&&(null===(n=this.videoDimensions)||void 0===n?void 0:n.height)===e.height||(this.track instanceof l.default&&(this.videoDimensions=e),this.currentVideoQuality=void 0,this.emitTrackUpdate()))}get videoQuality(){return this.currentVideoQuality}setTrack(e){this.track&&(this.track.off(s.TrackEvent.VideoDimensionsChanged,this.handleVideoDimensionsChange),this.track.off(s.TrackEvent.VisibilityChanged,this.handleVisibilityChange),this.track.off(s.TrackEvent.Ended,this.handleEnded)),super.setTrack(e),e&&(e.sid=this.trackSid,e.on(s.TrackEvent.VideoDimensionsChanged,this.handleVideoDimensionsChange),e.on(s.TrackEvent.VisibilityChanged,this.handleVisibilityChange),e.on(s.TrackEvent.Ended,this.handleEnded))}updateInfo(e){var t;super.updateInfo(e),this.metadataMuted=e.muted,null===(t=this.track)||void 0===t||t.setMuted(e.muted)}isManualOperationAllowed(){return this.isAdaptiveStream?(i.default.warn("adaptive stream is enabled, cannot change track settings",this.trackSid),!1):!!this.isSubscribed||(i.default.warn("cannot update track settings when not subscribed",this.trackSid),!1)}get isAdaptiveStream(){return this.track instanceof l.default&&this.track.isAdaptiveStream}emitTrackUpdate(){const e=a.UpdateTrackSettings.fromPartial({trackSids:[this.trackSid],disabled:this.disabled});this.videoDimensions?(e.width=this.videoDimensions.width,e.height=this.videoDimensions.height):void 0!==this.currentVideoQuality?e.quality=this.currentVideoQuality:e.quality=o.VideoQuality.HIGH,this.emit(s.TrackEvent.UpdateSettings,e)}}t.default=u},466:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(2938),a=n(28911),s=n(24448),l=n(71981),c=i(n(65785)),u=n(80410);class d extends c.default{constructor(e,t,n,i){super(e,t,u.Track.Kind.Video,n),this.elementInfos=[],this.monitorReceiver=()=>r(this,void 0,void 0,(function*(){if(!this.receiver)return void(this._currentBitrate=0);const e=yield this.getReceiverStats();e&&this.prevStats&&this.receiver&&(this._currentBitrate=s.computeBitrate(e,this.prevStats)),this.prevStats=e,setTimeout((()=>{this.monitorReceiver()}),s.monitorFrequency)})),this.handleVisibilityChanged=e=>{const{target:t,isIntersecting:n}=e,r=this.elementInfos.find((e=>e.element===t));r&&(r.visible=n,r.visibilityChangedAt=Date.now()),this.updateVisibility()},this.debouncedHandleResize=o.debounce((()=>{this.updateDimensions()}),100),this.adaptiveStreamSettings=i}get isAdaptiveStream(){return void 0!==this.adaptiveStreamSettings}setMuted(e){super.setMuted(e),this.attachedElements.forEach((t=>{e?u.detachTrack(this.mediaStreamTrack,t):u.attachToElement(this.mediaStreamTrack,t)}))}attach(e){return e?super.attach(e):e=super.attach(),this.adaptiveStreamSettings&&void 0===this.elementInfos.find((t=>t.element===e))&&(this.elementInfos.push({element:e,visible:!0}),e.handleResize=this.debouncedHandleResize,e.handleVisibilityChanged=this.handleVisibilityChanged,l.getIntersectionObserver().observe(e),l.getResizeObserver().observe(e),this.debouncedHandleResize()),e}detach(e){let t=[];if(e)return this.stopObservingElement(e),super.detach(e);t=super.detach();for(const n of t)this.stopObservingElement(n);return t}getReceiverStats(){return r(this,void 0,void 0,(function*(){if(!this.receiver)return;let e;return(yield this.receiver.getStats()).forEach((t=>{"inbound-rtp"===t.type&&(e={type:"video",framesDecoded:t.framesDecoded,framesDropped:t.framesDropped,framesReceived:t.framesReceived,packetsReceived:t.packetsReceived,packetsLost:t.packetsLost,frameWidth:t.frameWidth,frameHeight:t.frameHeight,pliCount:t.pliCount,firCount:t.firCount,nackCount:t.nackCount,jitter:t.jitter,timestamp:t.timestamp,bytesReceived:t.bytesReceived})})),e}))}stopObservingElement(e){var t,n;null===(t=l.getIntersectionObserver())||void 0===t||t.unobserve(e),null===(n=l.getResizeObserver())||void 0===n||n.unobserve(e),this.elementInfos=this.elementInfos.filter((t=>t.element!==e))}handleAppVisibilityChanged(){const e=Object.create(null,{handleAppVisibilityChanged:{get:()=>super.handleAppVisibilityChanged}});return r(this,void 0,void 0,(function*(){yield e.handleAppVisibilityChanged.call(this),this.isAdaptiveStream&&l.isMobile()&&this.updateVisibility()}))}updateVisibility(){const e=this.elementInfos.reduce(((e,t)=>Math.max(e,t.visibilityChangedAt||0)),0),t=this.elementInfos.some((e=>e.visible))&&!this.isInBackground;this.lastVisible!==t&&(!t&&Date.now()-e<100?setTimeout((()=>{this.updateVisibility()}),100):(this.lastVisible=t,this.emit(a.TrackEvent.VisibilityChanged,t,this)))}updateDimensions(){var e,t,n,r;let i=0,o=0;for(const a of this.elementInfos){const n=null!==(t=null===(e=this.adaptiveStreamSettings)||void 0===e?void 0:e.pixelDensity)&&void 0!==t?t:1,r="screen"===n?window.devicePixelRatio:n,s=a.element.clientWidth*r,l=a.element.clientHeight*r;s+l>i+o&&(i=s,o=l)}(null===(n=this.lastDimensions)||void 0===n?void 0:n.width)===i&&(null===(r=this.lastDimensions)||void 0===r?void 0:r.height)===o||(this.lastDimensions={width:i,height:o},this.emit(a.TrackEvent.VideoDimensionsChanged,this.lastDimensions,this))}}t.default=d},80410:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.detachTrack=t.attachToElement=t.Track=void 0;const i=n(17187),o=n(8983),a=n(44658),s=n(28911),l=n(71981),c=[];class u extends i.EventEmitter{constructor(e,t){super(),this.attachedElements=[],this.isMuted=!1,this._currentBitrate=0,this.appVisibilityChangedListener=()=>{this.handleAppVisibilityChanged()},this.kind=t,this.mediaStreamTrack=e,this.source=u.Source.Unknown,this.isInBackground="hidden"===document.visibilityState,document.addEventListener("visibilitychange",this.appVisibilityChangedListener)}get currentBitrate(){return this._currentBitrate}attach(e){let t="audio";return this.kind===u.Kind.Video&&(t="video"),e||("audio"===t&&(c.forEach((t=>{null!==t.parentElement||e||(e=t)})),e&&c.splice(c.indexOf(e),1)),e||(e=document.createElement(t))),this.attachedElements.includes(e)||this.attachedElements.push(e),d(this.mediaStreamTrack,e),e instanceof HTMLAudioElement&&e.play().then((()=>{this.emit(s.TrackEvent.AudioPlaybackStarted)})).catch((e=>{this.emit(s.TrackEvent.AudioPlaybackFailed,e)})),e}detach(e){if(e){p(this.mediaStreamTrack,e);const t=this.attachedElements.indexOf(e);return t>=0&&(this.attachedElements.splice(t,1),this.recycleElement(e)),e}const t=[];return this.attachedElements.forEach((e=>{p(this.mediaStreamTrack,e),t.push(e),this.recycleElement(e)})),this.attachedElements=[],t}stop(){this.mediaStreamTrack.stop(),document.removeEventListener("visibilitychange",this.appVisibilityChangedListener)}enable(){this.mediaStreamTrack.enabled=!0}disable(){this.mediaStreamTrack.enabled=!1}recycleElement(e){if(e instanceof HTMLAudioElement){let t=!0;e.pause(),c.forEach((e=>{e.parentElement||(t=!1)})),t&&c.push(e)}}handleAppVisibilityChanged(){return r(this,void 0,void 0,(function*(){this.isInBackground="hidden"===document.visibilityState}))}}function d(e,t){let n,r;n=t.srcObject instanceof MediaStream?t.srcObject:new MediaStream,r="audio"===e.kind?n.getAudioTracks():n.getVideoTracks(),r.includes(e)||(r.forEach((e=>{n.removeTrack(e)})),n.addTrack(e)),t.srcObject!==n&&(t.srcObject=n,(l.isSafari()||l.isFireFox())&&t instanceof HTMLVideoElement&&setTimeout((()=>{t.srcObject=n}),0)),t.autoplay=!0,t instanceof HTMLVideoElement&&(t.playsInline=!0)}function p(e,t){if(t.srcObject instanceof MediaStream){t.srcObject.removeTrack(e),t.srcObject=null}}t.Track=u,t.attachToElement=d,t.detachTrack=p,function(e){let t,n,r;!function(e){e.Audio="audio",e.Video="video",e.Unknown="unknown"}(t=e.Kind||(e.Kind={})),function(e){e.Camera="camera",e.Microphone="microphone",e.ScreenShare="screen_share",e.ScreenShareAudio="screen_share_audio",e.Unknown="unknown"}(n=e.Source||(e.Source={})),function(e){e.Active="active",e.Paused="paused",e.Unknown="unknown"}(r=e.StreamState||(e.StreamState={})),e.kindToProto=function(e){switch(e){case t.Audio:return o.TrackType.AUDIO;case t.Video:return o.TrackType.VIDEO;default:return o.TrackType.UNRECOGNIZED}},e.kindFromProto=function(e){switch(e){case o.TrackType.AUDIO:return t.Audio;case o.TrackType.VIDEO:return t.Video;default:return t.Unknown}},e.sourceToProto=function(e){switch(e){case n.Camera:return o.TrackSource.CAMERA;case n.Microphone:return o.TrackSource.MICROPHONE;case n.ScreenShare:return o.TrackSource.SCREEN_SHARE;case n.ScreenShareAudio:return o.TrackSource.SCREEN_SHARE_AUDIO;default:return o.TrackSource.UNRECOGNIZED}},e.sourceFromProto=function(e){switch(e){case o.TrackSource.CAMERA:return n.Camera;case o.TrackSource.MICROPHONE:return n.Microphone;case o.TrackSource.SCREEN_SHARE:return n.ScreenShare;case o.TrackSource.SCREEN_SHARE_AUDIO:return n.ScreenShareAudio;default:return n.Unknown}},e.streamStateFromProto=function(e){switch(e){case a.StreamState.ACTIVE:return r.Active;case a.StreamState.PAUSED:return r.Paused;default:return r.Unknown}}}(u=t.Track||(t.Track={}))},22184:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TrackPublication=void 0;const i=n(17187),o=n(28911),a=r(n(98669)),s=r(n(76887)),l=r(n(35941)),c=r(n(466)),u=n(80410);class d extends i.EventEmitter{constructor(e,t,n){super(),this.metadataMuted=!1,this.handleMuted=()=>{this.emit(o.TrackEvent.Muted)},this.handleUnmuted=()=>{this.emit(o.TrackEvent.Unmuted)},this.kind=e,this.trackSid=t,this.trackName=n,this.source=u.Track.Source.Unknown}setTrack(e){this.track&&(this.track.off(o.TrackEvent.Muted,this.handleMuted),this.track.off(o.TrackEvent.Unmuted,this.handleUnmuted)),this.track=e,e&&(e.on(o.TrackEvent.Muted,this.handleMuted),e.on(o.TrackEvent.Unmuted,this.handleUnmuted))}get isMuted(){return this.metadataMuted}get isEnabled(){return!0}get isSubscribed(){return void 0!==this.track}get audioTrack(){if(this.track instanceof a.default||this.track instanceof l.default)return this.track}get videoTrack(){if(this.track instanceof s.default||this.track instanceof c.default)return this.track}updateInfo(e){this.trackSid=e.sid,this.trackName=e.name,this.source=u.Track.sourceFromProto(e.source),this.mimeType=e.mimeType,this.kind===u.Track.Kind.Video&&e.width>0&&(this.dimensions={width:e.width,height:e.height},this.simulcasted=e.simulcast),this.trackInfo=e}}t.TrackPublication=d,function(e){let t;!function(e){e.Subscribed="subscribed",e.NotAllowed="not_allowed",e.Unsubscribed="unsubscribed"}(t=e.SubscriptionStatus||(e.SubscriptionStatus={}))}(d=t.TrackPublication||(t.TrackPublication={}))},60119:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLocalScreenTracks=t.createLocalAudioTrack=t.createLocalVideoTrack=t.createLocalTracks=void 0;const o=n(67650),a=n(85482),s=n(21442),l=i(n(98669)),c=i(n(76887)),u=n(36669),d=n(80410),p=n(89565);function f(e){var t,n;return r(this,void 0,void 0,(function*(){null!==e&&void 0!==e||(e={}),null!==(t=e.audio)&&void 0!==t||(e.audio=!0),null!==(n=e.video)&&void 0!==n||(e.video=!0);const r=p.mergeDefaultOptions(e,s.audioDefaults,s.videoDefaults),i=p.constraintsForOptions(r),o=yield navigator.mediaDevices.getUserMedia(i);return o.getTracks().map((t=>{const n="audio"===t.kind;let r,s=n?e.audio:e.video;"boolean"!==typeof s&&s||(s={});const l=n?i.audio:i.video;"boolean"!==typeof l&&(r=l);const c=a.mediaTrackToLocalTrack(t,r);return c.kind===d.Track.Kind.Video?c.source=d.Track.Source.Camera:c.kind===d.Track.Kind.Audio&&(c.source=d.Track.Source.Microphone),c.mediaStream=o,c}))}))}t.createLocalTracks=f,t.createLocalVideoTrack=function(e){return r(this,void 0,void 0,(function*(){return(yield f({audio:!1,video:e}))[0]}))},t.createLocalAudioTrack=function(e){return r(this,void 0,void 0,(function*(){return(yield f({audio:e,video:!1}))[0]}))},t.createLocalScreenTracks=function(e){var t;return r(this,void 0,void 0,(function*(){void 0===e&&(e={}),void 0===e.resolution&&(e.resolution=u.VideoPresets.fhd.resolution);let n=!0;e.resolution&&(n={width:e.resolution.width,height:e.resolution.height});const r=yield navigator.mediaDevices.getDisplayMedia({audio:null!==(t=e.audio)&&void 0!==t&&t,video:n}),i=r.getVideoTracks();if(0===i.length)throw new o.TrackInvalidError("no video track found");const a=new c.default(i[0]);a.source=d.Track.Source.ScreenShare;const s=[a];if(r.getAudioTracks().length>0){const e=new l.default(r.getAudioTracks()[0]);e.source=d.Track.Source.ScreenShareAudio,s.push(e)}return s}))}},21442:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.videoDefaults=t.audioDefaults=t.publishDefaults=void 0;const r=n(36669);t.publishDefaults={audioBitrate:r.AudioPresets.speech.maxBitrate,dtx:!0,simulcast:!0,screenShareEncoding:r.ScreenSharePresets.h1080fps15.encoding,stopMicTrackOnMute:!1},t.audioDefaults={autoGainControl:!0,channelCount:1,echoCancellation:!0,noiseSuppression:!0},t.videoDefaults={resolution:r.VideoPresets.h540.resolution}},36669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenSharePresets=t.VideoPresets43=t.VideoPresets=t.AudioPresets=t.VideoPreset=void 0;class n{constructor(e,t,n,r){this.width=e,this.height=t,this.encoding={maxBitrate:n,maxFramerate:r}}get resolution(){return{width:this.width,height:this.height,frameRate:this.encoding.maxFramerate,aspectRatio:this.width/this.height}}}t.VideoPreset=n,function(e){e.telephone={maxBitrate:12e3},e.speech={maxBitrate:2e4},e.music={maxBitrate:32e3}}(t.AudioPresets||(t.AudioPresets={})),t.VideoPresets={h90:new n(160,90,6e4,15),h180:new n(320,180,12e4,15),h216:new n(384,216,18e4,15),h360:new n(640,360,3e5,20),h540:new n(960,540,6e5,25),h720:new n(1280,720,2e6,30),h1080:new n(1920,1080,3e6,30),h1440:new n(2560,1440,5e6,30),h2160:new n(3840,2160,8e6,30),qvga:new n(320,180,12e4,10),vga:new n(640,360,3e5,20),qhd:new n(960,540,6e5,25),hd:new n(1280,720,2e6,30),fhd:new n(1920,1080,3e6,30)},t.VideoPresets43={h120:new n(160,120,8e4,15),h180:new n(240,180,1e5,15),h240:new n(320,240,15e4,15),h360:new n(480,360,225e3,20),h480:new n(640,480,3e5,20),h540:new n(720,540,45e4,25),h720:new n(960,720,15e5,30),h1080:new n(1440,1080,25e5,30),h1440:new n(1920,1440,35e5,30),qvga:new n(240,180,9e4,10),vga:new n(480,360,225e3,20),qhd:new n(720,540,45e4,25),hd:new n(960,720,15e5,30),fhd:new n(1440,1080,28e5,30)},t.ScreenSharePresets={h360fps3:new n(640,360,2e5,3),h720fps5:new n(1280,720,4e5,5),h720fps15:new n(1280,720,1e6,15),h1080fps15:new n(1920,1080,15e5,15),h1080fps30:new n(1920,1080,3e6,30),vga:new n(640,360,2e5,3),hd_8:new n(1280,720,4e5,5),hd_15:new n(1280,720,1e6,15),fhd_15:new n(1920,1080,15e5,15),fhd_30:new n(1920,1080,3e6,30)}},55884:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},89565:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getNewAudioContext=t.detectSilence=t.constraintsForOptions=t.mergeDefaultOptions=void 0;const i=n(71981);function o(e,t){return Object.keys(t).forEach((n=>{void 0===e[n]&&(e[n]=t[n])})),e}function a(){const e=window.AudioContext||window.webkitAudioContext;if(e)return new e}t.mergeDefaultOptions=function(e,t,n){const r=Object.assign({},e);return!0===r.audio&&(r.audio={}),!0===r.video&&(r.video={}),r.audio&&o(r.audio,t),r.video&&o(r.video,n),r},t.constraintsForOptions=function(e){const t={};if(e.video)if("object"===typeof e.video){const n={},r=n,i=e.video;Object.keys(i).forEach((e=>{if("resolution"===e)o(r,i.resolution);else r[e]=i[e]})),t.video=n}else t.video=e.video;else t.video=!1;return e.audio?"object"===typeof e.audio?t.audio=e.audio:t.audio=!0:t.audio=!1,t},t.detectSilence=function(e,t=200){return r(this,void 0,void 0,(function*(){const n=a();if(n){const r=n.createAnalyser();r.fftSize=2048;const o=r.frequencyBinCount,a=new Uint8Array(o);n.createMediaStreamSource(new MediaStream([e.mediaStreamTrack])).connect(r),yield i.sleep(t),r.getByteTimeDomainData(a);const s=a.some((e=>128!==e&&0!==e));return n.close(),!s}return!1}))},t.getNewAudioContext=a},71981:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{l(r.next(e))}catch(t){o(t)}}function s(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.getClientInfo=t.getIntersectionObserver=t.getResizeObserver=t.isWeb=t.isMobile=t.isSafari=t.isFireFox=t.sleep=t.unpackStreamId=void 0;const i=n(8983),o=n(36942);function a(e){for(const t of e)t.target.handleResize(t)}function s(e){for(const t of e)t.target.handleVisibilityChanged(t)}t.unpackStreamId=function(e){const t=e.split("|");return t.length>1?[t[0],e.substr(t[0].length+1)]:[e,""]},t.sleep=function(e){return r(this,void 0,void 0,(function*(){return new Promise((t=>setTimeout(t,e)))}))},t.isFireFox=function(){return-1!==navigator.userAgent.indexOf("Firefox")},t.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},t.isMobile=function(){return/Tablet|iPad|Mobile|Android|BlackBerry/.test(navigator.userAgent)},t.isWeb=function(){return"undefined"!==typeof document};let l=null;t.getResizeObserver=()=>(l||(l=new ResizeObserver(a)),l);let c=null;t.getIntersectionObserver=()=>(c||(c=new IntersectionObserver(s)),c),t.getClientInfo=function(){return i.ClientInfo.fromPartial({sdk:i.ClientInfo_SDK.JS,protocol:o.protocolVersion,version:o.version})}},36942:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.protocolVersion=t.version=void 0,t.version="0.17.2",t.protocolVersion=6},62705:(e,t,n)=>{var r=n(55639).Symbol;e.exports=r},44239:(e,t,n)=>{var r=n(62705),i=n(89607),o=n(2333),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},27561:(e,t,n)=>{var r=n(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},31957:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},89607:(e,t,n)=>{var r=n(62705),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},2333:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},55639:(e,t,n)=>{var r=n(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},67990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var r=n(13218),i=n(7771),o=n(14841),a=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,p,f,h=0,m=!1,g=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=l,r=c;return l=c=void 0,h=t,d=e.apply(r,n)}function b(e){return h=e,p=setTimeout(x,t),m?y(e):d}function w(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-h>=u}function x(){var e=i();if(w(e))return S(e);p=setTimeout(x,function(e){var n=t-(e-f);return g?s(n,u-(e-h)):n}(e))}function S(e){return p=void 0,v&&l?y(e):(l=c=void 0,d)}function k(){var e=i(),n=w(e);if(l=arguments,c=this,f=e,n){if(void 0===p)return b(f);if(g)return clearTimeout(p),p=setTimeout(x,t),y(f)}return void 0===p&&(p=setTimeout(x,t)),d}return t=o(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?a(o(n.maxWait)||0,t):u,v="trailing"in n?!!n.trailing:v),k.cancel=function(){void 0!==p&&clearTimeout(p),h=0,l=f=c=p=void 0},k.flush=function(){return void 0===p?d:S(i())},k}},13218:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},37005:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},33448:(e,t,n)=>{var r=n(44239),i=n(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},7771:(e,t,n)=>{var r=n(55639);e.exports=function(){return r.Date.now()}},23493:(e,t,n)=>{var r=n(23279),i=n(13218);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},14841:(e,t,n)=>{var r=n(27561),i=n(13218),o=n(33448),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},2043:function(e,t,n){var r,i;!function(o,a){"use strict";r=function(){var e=function(){},t="undefined",n=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function i(e,t){var n=e[t];if("function"===typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(r){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function o(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function a(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?o:void 0!==console[r]?i(console,r):void 0!==console.log?i(console,"log"):e)}function s(t,n){for(var i=0;i<r.length;i++){var o=r[i];this[o]=i<t?e:this.methodFactory(o,t,n)}this.log=this.debug}function l(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function c(e,t,n){return a(e)||l.apply(this,arguments)}function u(e,n,i){var o,a=this;n=null==n?"WARN":n;var l="loglevel";function u(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t&&l){try{return void(window.localStorage[l]=n)}catch(i){}try{window.document.cookie=encodeURIComponent(l)+"="+n+";"}catch(i){}}}function d(){var e;if(typeof window!==t&&l){try{e=window.localStorage[l]}catch(i){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(l)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(i){}return void 0===a.levels[e]&&(e=void 0),e}}function p(){if(typeof window!==t&&l){try{return void window.localStorage.removeItem(l)}catch(e){}try{window.document.cookie=encodeURIComponent(l)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}"string"===typeof e?l+=":"+e:"symbol"===typeof e&&(l=void 0),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=i||c,a.getLevel=function(){return o},a.setLevel=function(n,r){if("string"===typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"===typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(o=n,!1!==r&&u(n),s.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){n=e,d()||a.setLevel(e,!1)},a.resetLevel=function(){a.setLevel(n,!1),p()},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var f=d();null==f&&(f=n),a.setLevel(f,!1)}var d=new u,p={};d.getLogger=function(e){if("symbol"!==typeof e&&"string"!==typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=p[e];return t||(t=p[e]=new u(e,d.getLevel(),d.methodFactory)),t};var f=typeof window!==t?window.log:void 0;return d.noConflict=function(){return typeof window!==t&&window.log===d&&(window.log=f),d},d.getLoggers=function(){return p},d.default=d,d},void 0===(i="function"===typeof r?r.call(t,n,t,e):r)||(e.exports=i)}()},43720:e=>{e.exports=n;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(E){}function n(e,t,n){this.low=0|e,this.high=0|t,this.unsigned=!!n}function r(e){return!0===(e&&e.__isLong__)}n.prototype.__isLong__,Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=r;var i={},o={};function a(e,t){var n,r,a;return t?(a=0<=(e>>>=0)&&e<256)&&(r=o[e])?r:(n=l(e,(0|e)<0?-1:0,!0),a&&(o[e]=n),n):(a=-128<=(e|=0)&&e<128)&&(r=i[e])?r:(n=l(e,e<0?-1:0,!1),a&&(i[e]=n),n)}function s(e,t){if(isNaN(e))return t?v:g;if(t){if(e<0)return v;if(e>=f)return S}else{if(e<=-h)return k;if(e+1>=h)return x}return e<0?s(-e,t).neg():l(e%p|0,e/p|0,t)}function l(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=s,n.fromBits=l;var c=Math.pow;function u(e,t,n){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return g;if("number"===typeof t?(n=t,t=!1):t=!!t,(n=n||10)<2||36<n)throw RangeError("radix");var r;if((r=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===r)return u(e.substring(1),t,n).neg();for(var i=s(c(n,8)),o=g,a=0;a<e.length;a+=8){var l=Math.min(8,e.length-a),d=parseInt(e.substring(a,a+l),n);if(l<8){var p=s(c(n,l));o=o.mul(p).add(s(d))}else o=(o=o.mul(i)).add(s(d))}return o.unsigned=t,o}function d(e,t){return"number"===typeof e?s(e,t):"string"===typeof e?u(e,t):l(e.low,e.high,"boolean"===typeof t?t:e.unsigned)}n.fromString=u,n.fromValue=d;var p=4294967296,f=p*p,h=f/2,m=a(1<<24),g=a(0);n.ZERO=g;var v=a(0,!0);n.UZERO=v;var y=a(1);n.ONE=y;var b=a(1,!0);n.UONE=b;var w=a(-1);n.NEG_ONE=w;var x=l(-1,2147483647,!1);n.MAX_VALUE=x;var S=l(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var k=l(0,-2147483648,!1);n.MIN_VALUE=k;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*p+(this.low>>>0):this.high*p+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(k)){var t=s(e),n=this.div(t),r=n.mul(t).sub(this);return n.toString(e)+r.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=s(c(e,6),this.unsigned),o=this,a="";;){var l=o.div(i),u=(o.sub(l.mul(i)).toInt()>>>0).toString(e);if((o=l).isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(k)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1===(1&this.low)},T.isEven=function(){return 0===(1&this.low)},T.equals=function(e){return r(e)||(e=d(e)),(this.unsigned===e.unsigned||this.high>>>31!==1||e.high>>>31!==1)&&(this.high===e.high&&this.low===e.low)},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(r(e)||(e=d(e)),this.eq(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(k)?k:this.not().add(y)},T.neg=T.negate,T.add=function(e){r(e)||(e=d(e));var t=this.high>>>16,n=65535&this.high,i=this.low>>>16,o=65535&this.low,a=e.high>>>16,s=65535&e.high,c=e.low>>>16,u=0,p=0,f=0,h=0;return f+=(h+=o+(65535&e.low))>>>16,p+=(f+=i+c)>>>16,u+=(p+=n+s)>>>16,u+=t+a,l((f&=65535)<<16|(h&=65535),(u&=65535)<<16|(p&=65535),this.unsigned)},T.subtract=function(e){return r(e)||(e=d(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return g;if(r(e)||(e=d(e)),t)return l(t.mul(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned);if(e.isZero())return g;if(this.eq(k))return e.isOdd()?k:g;if(e.eq(k))return this.isOdd()?k:g;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(m)&&e.lt(m))return s(this.toNumber()*e.toNumber(),this.unsigned);var n=this.high>>>16,i=65535&this.high,o=this.low>>>16,a=65535&this.low,c=e.high>>>16,u=65535&e.high,p=e.low>>>16,f=65535&e.low,h=0,v=0,y=0,b=0;return y+=(b+=a*f)>>>16,v+=(y+=o*f)>>>16,y&=65535,v+=(y+=a*p)>>>16,h+=(v+=i*f)>>>16,v&=65535,h+=(v+=o*p)>>>16,v&=65535,h+=(v+=a*u)>>>16,h+=n*f+i*p+o*u+a*c,l((y&=65535)<<16|(b&=65535),(h&=65535)<<16|(v&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(r(e)||(e=d(e)),e.isZero())throw Error("division by zero");var n,i,o;if(t)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?l((this.unsigned?t.div_u:t.div_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:g;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return b;o=v}else{if(this.eq(k))return e.eq(y)||e.eq(w)?k:e.eq(k)?y:(n=this.shr(1).div(e).shl(1)).eq(g)?e.isNegative()?y:w:(i=this.sub(e.mul(n)),o=n.add(i.div(e)));if(e.eq(k))return this.unsigned?v:g;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();o=g}for(i=this;i.gte(e);){n=Math.max(1,Math.floor(i.toNumber()/e.toNumber()));for(var a=Math.ceil(Math.log(n)/Math.LN2),u=a<=48?1:c(2,a-48),p=s(n),f=p.mul(e);f.isNegative()||f.gt(i);)f=(p=s(n-=u,this.unsigned)).mul(e);p.isZero()&&(p=y),o=o.add(p),i=i.sub(f)}return o},T.div=T.divide,T.modulo=function(e){return r(e)||(e=d(e)),t?l((this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,e.low,e.high),t.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return l(~this.low,~this.high,this.unsigned)},T.and=function(e){return r(e)||(e=d(e)),l(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return r(e)||(e=d(e)),l(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return r(e)||(e=d(e)),l(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):l(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return r(e)&&(e=e.toInt()),0===(e&=63)?this:e<32?l(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):l(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(r(e)&&(e=e.toInt()),0===(e&=63))return this;var t=this.high;return e<32?l(this.low>>>e|t<<32-e,t>>>e,this.unsigned):l(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?l(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:l(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},21407:()=>{},12437:(e,t,n)=>{!function(e,t){e((function(){"use strict";var e,n={mobileDetectRules:{phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+|\\b(BBA100|BBB100|BBD100|BBE100|BBF100|STH100)\\b-[0-9]+",Pixel:"; \\bPixel\\b",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 5X|Nexus 6",Dell:"Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052",Samsung:"\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F|SM-G610F|SM-G981B|SM-G892A|SM-A530F",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323|M257)|LM-G710",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533|SOV34|601SO|F8332",Asus:"Asus.*Galaxy|PadFone.*Mobile",Xiaomi:"^(?!.*\\bx11\\b).*xiaomi.*$|POCOPHONE F1|MI 8|Redmi Note 9S|Redmi Note 5A Prime|N2G47H|M2001J2G|M2001J2I|M1805E10A|M2004J11G|M1902F1G|M2002J9G|M2004J19G|M2003J6A1G",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo (3DS|Switch)",Amoi:"Amoi",INQ:"INQ",OnePlus:"ONEPLUS",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",GoogleTablet:"Android.*Pixel C",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-T830|SM-T837V|SM-T720|SM-T510|SM-T387V|SM-P610|SM-T290|SM-T515|SM-T590|SM-T595|SM-T725|SM-T817P|SM-P585N0|SM-T395|SM-T295|SM-T865|SM-P610N|SM-P615|SM-T970|SM-T380|SM-T5950|SM-T905|SM-T231|SM-T500|SM-T860",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30|A3-A40",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)|TB-X103F|TB-X304X|TB-X304F|TB-X304L|TB-X505F|TB-X505L|TB-X505X|TB-X605F|TB-X605L|TB-8703F|TB-8703X|TB-8703N|TB-8704N|TB-8704F|TB-8704X|TB-8704V|TB-7304F|TB-7304I|TB-7304X|Tab2A7-10F|Tab2A7-20F|TB2-X30L|YT3-X50L|YT3-X50F|YT3-X50M|YT-X705F|YT-X703F|YT-X703L|YT-X705L|YT-X705X|TB2-X30F|TB2-X30L|TB2-X30M|A2107A-F|A2107A-H|TB3-730F|TB3-730M|TB3-730X|TB-7504F|TB-7504X|TB-X704F|TB-X104F|TB3-X70F|TB-X705F|TB-8504F|TB3-X70L|TB3-710F|TB-X704L",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|SGP612|SGP712",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*\\b(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))\\b|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-L09|CMR-AL19",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z930|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android [0-9.]+; [a-z-]+; \\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)|Qualcore 1027",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497|VFD 1400",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9|TECNO DP8D",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",VerizonTablet:"QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+|V10 \\b4G\\b",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Windows Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad|AppleCoreMedia",iPadOS:"CPU OS 13",SailfishOS:"Sailfish",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+$|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"\\bEdgiOS\\b|Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version((?!\\bEdgiOS\\b).)*Mobile.*Safari|Safari.*Mobile|MobileSafari",WeChat:"\\bMicroMessenger\\b",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]",UCBrowser:["UCWEB[VER]","UC.*Browser/[VER]"],MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",SailfishBrowser:"SailfishBrowser/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",Sailfish:"Sailfish [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|Google-AMPHTML|s~amp-validator|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom|contentkingapp|AspiegelBot",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|Nintendo Switch|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},detectMobileBrowsers:{fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i}},r=Object.prototype.hasOwnProperty;function i(e,t){return null!=e&&null!=t&&e.toLowerCase()===t.toLowerCase()}function o(e,t){var n,r,i=e.length;if(!i||!t)return!1;for(n=t.toLowerCase(),r=0;r<i;++r)if(n===e[r].toLowerCase())return!0;return!1}function a(e){for(var t in e)r.call(e,t)&&(e[t]=new RegExp(e[t],"i"))}function s(e,t){this.ua=function(e){return(e||"").substr(0,500)}(e),this._cache={},this.maxPhoneWidth=t||600}return n.FALLBACK_PHONE="UnknownPhone",n.FALLBACK_TABLET="UnknownTablet",n.FALLBACK_MOBILE="UnknownMobile",e="isArray"in Array?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},function(){var t,i,o,s,l,c,u=n.mobileDetectRules;for(t in u.props)if(r.call(u.props,t)){for(i=u.props[t],e(i)||(i=[i]),l=i.length,s=0;s<l;++s)(c=(o=i[s]).indexOf("[VER]"))>=0&&(o=o.substring(0,c)+"([\\w._\\+]+)"+o.substring(c+5)),i[s]=new RegExp(o,"i");u.props[t]=i}a(u.oss),a(u.phones),a(u.tablets),a(u.uas),a(u.utils),u.oss0={WindowsPhoneOS:u.oss.WindowsPhoneOS,WindowsMobileOS:u.oss.WindowsMobileOS}}(),n.findMatch=function(e,t){for(var n in e)if(r.call(e,n)&&e[n].test(t))return n;return null},n.findMatches=function(e,t){var n=[];for(var i in e)r.call(e,i)&&e[i].test(t)&&n.push(i);return n},n.getVersionStr=function(e,t){var i,o,a,s,l=n.mobileDetectRules.props;if(r.call(l,e))for(a=(i=l[e]).length,o=0;o<a;++o)if(null!==(s=i[o].exec(t)))return s[1];return null},n.getVersion=function(e,t){var r=n.getVersionStr(e,t);return r?n.prepareVersionNo(r):NaN},n.prepareVersionNo=function(e){var t;return 1===(t=e.split(/[a-z._ \/\-]/i)).length&&(e=t[0]),t.length>1&&(e=t[0]+".",t.shift(),e+=t.join("")),Number(e)},n.isMobileFallback=function(e){return n.detectMobileBrowsers.fullPattern.test(e)||n.detectMobileBrowsers.shortPattern.test(e.substr(0,4))},n.isTabletFallback=function(e){return n.detectMobileBrowsers.tabletPattern.test(e)},n.prepareDetectionCache=function(e,r,i){if(e.mobile===t){var o,a,l;if(a=n.findMatch(n.mobileDetectRules.tablets,r))return e.mobile=e.tablet=a,void(e.phone=null);if(o=n.findMatch(n.mobileDetectRules.phones,r))return e.mobile=e.phone=o,void(e.tablet=null);n.isMobileFallback(r)?(l=s.isPhoneSized(i))===t?(e.mobile=n.FALLBACK_MOBILE,e.tablet=e.phone=null):l?(e.mobile=e.phone=n.FALLBACK_PHONE,e.tablet=null):(e.mobile=e.tablet=n.FALLBACK_TABLET,e.phone=null):n.isTabletFallback(r)?(e.mobile=e.tablet=n.FALLBACK_TABLET,e.phone=null):e.mobile=e.tablet=e.phone=null}},n.mobileGrade=function(e){var t=null!==e.mobile();return e.os("iOS")&&e.version("iPad")>=4.3||e.os("iOS")&&e.version("iPhone")>=3.1||e.os("iOS")&&e.version("iPod")>=3.1||e.version("Android")>2.1&&e.is("Webkit")||e.version("Windows Phone OS")>=7||e.is("BlackBerry")&&e.version("BlackBerry")>=6||e.match("Playbook.*Tablet")||e.version("webOS")>=1.4&&e.match("Palm|Pre|Pixi")||e.match("hp.*TouchPad")||e.is("Firefox")&&e.version("Firefox")>=12||e.is("Chrome")&&e.is("AndroidOS")&&e.version("Android")>=4||e.is("Skyfire")&&e.version("Skyfire")>=4.1&&e.is("AndroidOS")&&e.version("Android")>=2.3||e.is("Opera")&&e.version("Opera Mobi")>11&&e.is("AndroidOS")||e.is("MeeGoOS")||e.is("Tizen")||e.is("Dolfin")&&e.version("Bada")>=2||(e.is("UC Browser")||e.is("Dolfin"))&&e.version("Android")>=2.3||e.match("Kindle Fire")||e.is("Kindle")&&e.version("Kindle")>=3||e.is("AndroidOS")&&e.is("NookTablet")||e.version("Chrome")>=11&&!t||e.version("Safari")>=5&&!t||e.version("Firefox")>=4&&!t||e.version("MSIE")>=7&&!t||e.version("Opera")>=10&&!t?"A":e.os("iOS")&&e.version("iPad")<4.3||e.os("iOS")&&e.version("iPhone")<3.1||e.os("iOS")&&e.version("iPod")<3.1||e.is("Blackberry")&&e.version("BlackBerry")>=5&&e.version("BlackBerry")<6||e.version("Opera Mini")>=5&&e.version("Opera Mini")<=6.5&&(e.version("Android")>=2.3||e.is("iOS"))||e.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||e.version("Opera Mobi")>=11&&e.is("SymbianOS")?"B":(e.version("BlackBerry")<5||e.match("MSIEMobile|Windows CE.*Mobile")||e.version("Windows Mobile"),"C")},n.detectOS=function(e){return n.findMatch(n.mobileDetectRules.oss0,e)||n.findMatch(n.mobileDetectRules.oss,e)},n.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},s.prototype={constructor:s,mobile:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return n.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===t&&(this._cache.userAgent=n.findMatch(n.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===t&&(this._cache.userAgents=n.findMatches(n.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===t&&(this._cache.os=n.detectOS(this.ua)),this._cache.os},version:function(e){return n.getVersion(e,this.ua)},versionStr:function(e){return n.getVersionStr(e,this.ua)},is:function(e){return o(this.userAgents(),e)||i(e,this.os())||i(e,this.phone())||i(e,this.tablet())||o(n.findMatches(n.mobileDetectRules.utils,this.ua),e)},match:function(e){return e instanceof RegExp||(e=new RegExp(e,"i")),e.test(this.ua)},isPhoneSized:function(e){return s.isPhoneSized(e||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===t&&(this._cache.grade=n.mobileGrade(this)),this._cache.grade}},"undefined"!==typeof window&&window.screen?s.isPhoneSized=function(e){return e<0?t:n.getDeviceSmallerSide()<=e}:s.isPhoneSized=function(){},s._impl=n,s.version="1.4.5 2021-03-13",s}))}(e.exports?function(t){e.exports=t()}:n.amdD)},27418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var a,s,l=i(e),c=1;c<arguments.length;c++){for(var u in a=Object(arguments[c]))n.call(a,u)&&(l[u]=a[u]);if(t){s=t(a);for(var d=0;d<s.length;d++)r.call(a,s[d])&&(l[s[d]]=a[s[d]])}}return l}},79430:function(e,t){var n,r,i;r=[],void 0===(i="function"===typeof(n=function(){return function(e){function t(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function n(t){var n,r=t.exec(e.substring(m));if(r)return n=r[0],m+=n.length,n}for(var r,i,o,a,s,l=e.length,c=/^[ \t\n\r\u000c]+/,u=/^[, \t\n\r\u000c]+/,d=/^[^ \t\n\r\u000c]+/,p=/[,]+$/,f=/^\d+$/,h=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,m=0,g=[];;){if(n(u),m>=l)return g;r=n(d),i=[],","===r.slice(-1)?(r=r.replace(p,""),y()):v()}function v(){for(n(c),o="",a="in descriptor";;){if(s=e.charAt(m),"in descriptor"===a)if(t(s))o&&(i.push(o),o="",a="after descriptor");else{if(","===s)return m+=1,o&&i.push(o),void y();if("("===s)o+=s,a="in parens";else{if(""===s)return o&&i.push(o),void y();o+=s}}else if("in parens"===a)if(")"===s)o+=s,a="in descriptor";else{if(""===s)return i.push(o),void y();o+=s}else if("after descriptor"===a)if(t(s));else{if(""===s)return void y();a="in descriptor",m-=1}m+=1}}function y(){var t,n,o,a,s,l,c,u,d,p=!1,m={};for(a=0;a<i.length;a++)l=(s=i[a])[s.length-1],c=s.substring(0,s.length-1),u=parseInt(c,10),d=parseFloat(c),f.test(c)&&"w"===l?((t||n)&&(p=!0),0===u?p=!0:t=u):h.test(c)&&"x"===l?((t||n||o)&&(p=!0),d<0?p=!0:n=d):f.test(c)&&"h"===l?((o||n)&&(p=!0),0===u?p=!0:o=u):p=!0;p?console&&console.log&&console.log("Invalid srcset descriptor found in '"+e+"' at '"+s+"'."):(m.url=r,t&&(m.w=t),n&&(m.d=n),o&&(m.h=o),g.push(m))}}})?n.apply(t,r):n)||(e.exports=i)},74241:e=>{var t=String,n=function(){return{isColorSupported:!1,reset:t,bold:t,dim:t,italic:t,underline:t,inverse:t,hidden:t,strikethrough:t,black:t,red:t,green:t,yellow:t,blue:t,magenta:t,cyan:t,white:t,gray:t,bgBlack:t,bgRed:t,bgGreen:t,bgYellow:t,bgBlue:t,bgMagenta:t,bgCyan:t,bgWhite:t}};e.exports=n(),e.exports.createColors=n},41353:(e,t,n)=>{"use strict";let r=n(21019);class i extends r{constructor(e){super(e),this.type="atrule"}append(...e){return this.proxyOf.nodes||(this.nodes=[]),super.append(...e)}prepend(...e){return this.proxyOf.nodes||(this.nodes=[]),super.prepend(...e)}}e.exports=i,i.default=i,r.registerAtRule(i)},69932:(e,t,n)=>{"use strict";let r=n(65631);class i extends r{constructor(e){super(e),this.type="comment"}}e.exports=i,i.default=i},21019:(e,t,n)=>{"use strict";let r,i,o,{isClean:a,my:s}=n(65513),l=n(94258),c=n(69932),u=n(65631);function d(e){return e.map((e=>(e.nodes&&(e.nodes=d(e.nodes)),delete e.source,e)))}function p(e){if(e[a]=!1,e.proxyOf.nodes)for(let t of e.proxyOf.nodes)p(t)}class f extends u{push(e){return e.parent=this,this.proxyOf.nodes.push(e),this}each(e){if(!this.proxyOf.nodes)return;let t,n,r=this.getIterator();for(;this.indexes[r]<this.proxyOf.nodes.length&&(t=this.indexes[r],n=e(this.proxyOf.nodes[t],t),!1!==n);)this.indexes[r]+=1;return delete this.indexes[r],n}walk(e){return this.each(((t,n)=>{let r;try{r=e(t,n)}catch(i){throw t.addToError(i)}return!1!==r&&t.walk&&(r=t.walk(e)),r}))}walkDecls(e,t){return t?e instanceof RegExp?this.walk(((n,r)=>{if("decl"===n.type&&e.test(n.prop))return t(n,r)})):this.walk(((n,r)=>{if("decl"===n.type&&n.prop===e)return t(n,r)})):(t=e,this.walk(((e,n)=>{if("decl"===e.type)return t(e,n)})))}walkRules(e,t){return t?e instanceof RegExp?this.walk(((n,r)=>{if("rule"===n.type&&e.test(n.selector))return t(n,r)})):this.walk(((n,r)=>{if("rule"===n.type&&n.selector===e)return t(n,r)})):(t=e,this.walk(((e,n)=>{if("rule"===e.type)return t(e,n)})))}walkAtRules(e,t){return t?e instanceof RegExp?this.walk(((n,r)=>{if("atrule"===n.type&&e.test(n.name))return t(n,r)})):this.walk(((n,r)=>{if("atrule"===n.type&&n.name===e)return t(n,r)})):(t=e,this.walk(((e,n)=>{if("atrule"===e.type)return t(e,n)})))}walkComments(e){return this.walk(((t,n)=>{if("comment"===t.type)return e(t,n)}))}append(...e){for(let t of e){let e=this.normalize(t,this.last);for(let t of e)this.proxyOf.nodes.push(t)}return this.markDirty(),this}prepend(...e){e=e.reverse();for(let t of e){let e=this.normalize(t,this.first,"prepend").reverse();for(let t of e)this.proxyOf.nodes.unshift(t);for(let t in this.indexes)this.indexes[t]=this.indexes[t]+e.length}return this.markDirty(),this}cleanRaws(e){if(super.cleanRaws(e),this.nodes)for(let t of this.nodes)t.cleanRaws(e)}insertBefore(e,t){let n,r=0===(e=this.index(e))&&"prepend",i=this.normalize(t,this.proxyOf.nodes[e],r).reverse();for(let o of i)this.proxyOf.nodes.splice(e,0,o);for(let o in this.indexes)n=this.indexes[o],e<=n&&(this.indexes[o]=n+i.length);return this.markDirty(),this}insertAfter(e,t){e=this.index(e);let n,r=this.normalize(t,this.proxyOf.nodes[e]).reverse();for(let i of r)this.proxyOf.nodes.splice(e+1,0,i);for(let i in this.indexes)n=this.indexes[i],e<n&&(this.indexes[i]=n+r.length);return this.markDirty(),this}removeChild(e){let t;e=this.index(e),this.proxyOf.nodes[e].parent=void 0,this.proxyOf.nodes.splice(e,1);for(let n in this.indexes)t=this.indexes[n],t>=e&&(this.indexes[n]=t-1);return this.markDirty(),this}removeAll(){for(let e of this.proxyOf.nodes)e.parent=void 0;return this.proxyOf.nodes=[],this.markDirty(),this}replaceValues(e,t,n){return n||(n=t,t={}),this.walkDecls((r=>{t.props&&!t.props.includes(r.prop)||t.fast&&!r.value.includes(t.fast)||(r.value=r.value.replace(e,n))})),this.markDirty(),this}every(e){return this.nodes.every(e)}some(e){return this.nodes.some(e)}index(e){return"number"===typeof e?e:(e.proxyOf&&(e=e.proxyOf),this.proxyOf.nodes.indexOf(e))}get first(){if(this.proxyOf.nodes)return this.proxyOf.nodes[0]}get last(){if(this.proxyOf.nodes)return this.proxyOf.nodes[this.proxyOf.nodes.length-1]}normalize(e,t){if("string"===typeof e)e=d(r(e).nodes);else if(Array.isArray(e)){e=e.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if("root"===e.type&&"document"!==this.type){e=e.nodes.slice(0);for(let t of e)t.parent&&t.parent.removeChild(t,"ignore")}else if(e.type)e=[e];else if(e.prop){if("undefined"===typeof e.value)throw new Error("Value field is missed in node creation");"string"!==typeof e.value&&(e.value=String(e.value)),e=[new l(e)]}else if(e.selector)e=[new i(e)];else if(e.name)e=[new o(e)];else{if(!e.text)throw new Error("Unknown node type in node creation");e=[new c(e)]}return e.map((e=>(e[s]||f.rebuild(e),(e=e.proxyOf).parent&&e.parent.removeChild(e),e[a]&&p(e),"undefined"===typeof e.raws.before&&t&&"undefined"!==typeof t.raws.before&&(e.raws.before=t.raws.before.replace(/\S/g,"")),e.parent=this,e)))}getProxyProcessor(){return{set:(e,t,n)=>(e[t]===n||(e[t]=n,"name"!==t&&"params"!==t&&"selector"!==t||e.markDirty()),!0),get:(e,t)=>"proxyOf"===t?e:e[t]?"each"===t||"string"===typeof t&&t.startsWith("walk")?(...n)=>e[t](...n.map((e=>"function"===typeof e?(t,n)=>e(t.toProxy(),n):e))):"every"===t||"some"===t?n=>e[t](((e,...t)=>n(e.toProxy(),...t))):"root"===t?()=>e.root().toProxy():"nodes"===t?e.nodes.map((e=>e.toProxy())):"first"===t||"last"===t?e[t].toProxy():e[t]:e[t]}}getIterator(){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach+=1;let e=this.lastEach;return this.indexes[e]=0,e}}f.registerParse=e=>{r=e},f.registerRule=e=>{i=e},f.registerAtRule=e=>{o=e},e.exports=f,f.default=f,f.rebuild=e=>{"atrule"===e.type?Object.setPrototypeOf(e,o.prototype):"rule"===e.type?Object.setPrototypeOf(e,i.prototype):"decl"===e.type?Object.setPrototypeOf(e,l.prototype):"comment"===e.type&&Object.setPrototypeOf(e,c.prototype),e[s]=!0,e.nodes&&e.nodes.forEach((e=>{f.rebuild(e)}))}},42671:(e,t,n)=>{"use strict";let r=n(74241),i=n(73908);class o extends Error{constructor(e,t,n,r,i,a){super(e),this.name="CssSyntaxError",this.reason=e,i&&(this.file=i),r&&(this.source=r),a&&(this.plugin=a),"undefined"!==typeof t&&"undefined"!==typeof n&&("number"===typeof t?(this.line=t,this.column=n):(this.line=t.line,this.column=t.column,this.endLine=n.line,this.endColumn=n.column)),this.setMessage(),Error.captureStackTrace&&Error.captureStackTrace(this,o)}setMessage(){this.message=this.plugin?this.plugin+": ":"",this.message+=this.file?this.file:"<css input>","undefined"!==typeof this.line&&(this.message+=":"+this.line+":"+this.column),this.message+=": "+this.reason}showSourceCode(e){if(!this.source)return"";let t=this.source;null==e&&(e=r.isColorSupported),i&&e&&(t=i(t));let n,o,a=t.split(/\r?\n/),s=Math.max(this.line-3,0),l=Math.min(this.line+2,a.length),c=String(l).length;if(e){let{bold:e,red:t,gray:i}=r.createColors(!0);n=n=>e(t(n)),o=e=>i(e)}else n=o=e=>e;return a.slice(s,l).map(((e,t)=>{let r=s+1+t,i=" "+(" "+r).slice(-c)+" | ";if(r===this.line){let t=o(i.replace(/\d/g," "))+e.slice(0,this.column-1).replace(/[^\t]/g," ");return n(">")+o(i)+e+"\n "+t+n("^")}return" "+o(i)+e})).join("\n")}toString(){let e=this.showSourceCode();return e&&(e="\n\n"+e+"\n"),this.name+": "+this.message+e}}e.exports=o,o.default=o},94258:(e,t,n)=>{"use strict";let r=n(65631);class i extends r{constructor(e){e&&"undefined"!==typeof e.value&&"string"!==typeof e.value&&(e={...e,value:String(e.value)}),super(e),this.type="decl"}get variable(){return this.prop.startsWith("--")||"$"===this.prop[0]}}e.exports=i,i.default=i},26461:(e,t,n)=>{"use strict";let r,i,o=n(21019);class a extends o{constructor(e){super({type:"document",...e}),this.nodes||(this.nodes=[])}toResult(e={}){return new r(new i,this,e).stringify()}}a.registerLazyResult=e=>{r=e},a.registerProcessor=e=>{i=e},e.exports=a,a.default=a},50250:(e,t,n)=>{"use strict";let r=n(94258),i=n(47981),o=n(69932),a=n(41353),s=n(5995),l=n(41025),c=n(31675);function u(e,t){if(Array.isArray(e))return e.map((e=>u(e)));let{inputs:n,...d}=e;if(n){t=[];for(let e of n){let n={...e,__proto__:s.prototype};n.map&&(n.map={...n.map,__proto__:i.prototype}),t.push(n)}}if(d.nodes&&(d.nodes=e.nodes.map((e=>u(e,t)))),d.source){let{inputId:e,...n}=d.source;d.source=n,null!=e&&(d.source.input=t[e])}if("root"===d.type)return new l(d);if("decl"===d.type)return new r(d);if("rule"===d.type)return new c(d);if("comment"===d.type)return new o(d);if("atrule"===d.type)return new a(d);throw new Error("Unknown node type: "+e.type)}e.exports=u,u.default=u},5995:(e,t,n)=>{"use strict";let{SourceMapConsumer:r,SourceMapGenerator:i}=n(70209),{fileURLToPath:o,pathToFileURL:a}=n(87414),{resolve:s,isAbsolute:l}=n(99830),{nanoid:c}=n(62961),u=n(73908),d=n(42671),p=n(47981),f=Symbol("fromOffsetCache"),h=Boolean(r&&i),m=Boolean(s&&l);class g{constructor(e,t={}){if(null===e||"undefined"===typeof e||"object"===typeof e&&!e.toString)throw new Error(`PostCSS received ${e} instead of CSS string`);if(this.css=e.toString(),"\ufeff"===this.css[0]||"\ufffe"===this.css[0]?(this.hasBOM=!0,this.css=this.css.slice(1)):this.hasBOM=!1,t.from&&(!m||/^\w+:\/\//.test(t.from)||l(t.from)?this.file=t.from:this.file=s(t.from)),m&&h){let e=new p(this.css,t);if(e.text){this.map=e;let t=e.consumer().file;!this.file&&t&&(this.file=this.mapResolve(t))}}this.file||(this.id="<input css "+c(6)+">"),this.map&&(this.map.file=this.from)}fromOffset(e){let t,n;if(this[f])n=this[f];else{let e=this.css.split("\n");n=new Array(e.length);let t=0;for(let r=0,i=e.length;r<i;r++)n[r]=t,t+=e[r].length+1;this[f]=n}t=n[n.length-1];let r=0;if(e>=t)r=n.length-1;else{let t,i=n.length-2;for(;r<i;)if(t=r+(i-r>>1),e<n[t])i=t-1;else{if(!(e>=n[t+1])){r=t;break}r=t+1}}return{line:r+1,col:e-n[r]+1}}error(e,t,n,r={}){let i,o,s;if(t&&"object"===typeof t){let e=t,r=n;if("number"===typeof t.offset){let r=this.fromOffset(e.offset);t=r.line,n=r.col}else t=e.line,n=e.column;if("number"===typeof r.offset){let e=this.fromOffset(r.offset);o=e.line,s=e.col}else o=r.line,s=r.column}else if(!n){let e=this.fromOffset(t);t=e.line,n=e.col}let l=this.origin(t,n,o,s);return i=l?new d(e,void 0===l.endLine?l.line:{line:l.line,column:l.column},void 0===l.endLine?l.column:{line:l.endLine,column:l.endColumn},l.source,l.file,r.plugin):new d(e,void 0===o?t:{line:t,column:n},void 0===o?n:{line:o,column:s},this.css,this.file,r.plugin),i.input={line:t,column:n,endLine:o,endColumn:s,source:this.css},this.file&&(a&&(i.input.url=a(this.file).toString()),i.input.file=this.file),i}origin(e,t,n,r){if(!this.map)return!1;let i,s,c=this.map.consumer(),u=c.originalPositionFor({line:e,column:t});if(!u.source)return!1;"number"===typeof n&&(i=c.originalPositionFor({line:n,column:r})),s=l(u.source)?a(u.source):new URL(u.source,this.map.consumer().sourceRoot||a(this.map.mapFile));let d={url:s.toString(),line:u.line,column:u.column,endLine:i&&i.line,endColumn:i&&i.column};if("file:"===s.protocol){if(!o)throw new Error("file: protocol is not available in this PostCSS build");d.file=o(s)}let p=c.sourceContentFor(u.source);return p&&(d.source=p),d}mapResolve(e){return/^\w+:\/\//.test(e)?e:s(this.map.consumer().sourceRoot||this.map.root||".",e)}get from(){return this.file||this.id}toJSON(){let e={};for(let t of["hasBOM","css","file","id"])null!=this[t]&&(e[t]=this[t]);return this.map&&(e.map={...this.map},e.map.consumerCache&&(e.map.consumerCache=void 0)),e}}e.exports=g,g.default=g,u&&u.registerInput&&u.registerInput(g)},21939:(e,t,n)=>{"use strict";let{isClean:r,my:i}=n(65513),o=n(48505),a=n(67088),s=n(21019),l=n(26461),c=(n(72448),n(83632)),u=n(66939),d=n(41025);const p={document:"Document",root:"Root",atrule:"AtRule",rule:"Rule",decl:"Declaration",comment:"Comment"},f={postcssPlugin:!0,prepare:!0,Once:!0,Document:!0,Root:!0,Declaration:!0,Rule:!0,AtRule:!0,Comment:!0,DeclarationExit:!0,RuleExit:!0,AtRuleExit:!0,CommentExit:!0,RootExit:!0,DocumentExit:!0,OnceExit:!0},h={postcssPlugin:!0,prepare:!0,Once:!0};function m(e){return"object"===typeof e&&"function"===typeof e.then}function g(e){let t=!1,n=p[e.type];return"decl"===e.type?t=e.prop.toLowerCase():"atrule"===e.type&&(t=e.name.toLowerCase()),t&&e.append?[n,n+"-"+t,0,n+"Exit",n+"Exit-"+t]:t?[n,n+"-"+t,n+"Exit",n+"Exit-"+t]:e.append?[n,0,n+"Exit"]:[n,n+"Exit"]}function v(e){let t;return t="document"===e.type?["Document",0,"DocumentExit"]:"root"===e.type?["Root",0,"RootExit"]:g(e),{node:e,events:t,eventIndex:0,visitors:[],visitorIndex:0,iterator:0}}function y(e){return e[r]=!1,e.nodes&&e.nodes.forEach((e=>y(e))),e}let b={};class w{constructor(e,t,n){let r;if(this.stringified=!1,this.processed=!1,"object"!==typeof t||null===t||"root"!==t.type&&"document"!==t.type)if(t instanceof w||t instanceof c)r=y(t.root),t.map&&("undefined"===typeof n.map&&(n.map={}),n.map.inline||(n.map.inline=!1),n.map.prev=t.map);else{let e=u;n.syntax&&(e=n.syntax.parse),n.parser&&(e=n.parser),e.parse&&(e=e.parse);try{r=e(t,n)}catch(o){this.processed=!0,this.error=o}r&&!r[i]&&s.rebuild(r)}else r=y(t);this.result=new c(e,r,n),this.helpers={...b,result:this.result,postcss:b},this.plugins=this.processor.plugins.map((e=>"object"===typeof e&&e.prepare?{...e,...e.prepare(this.result)}:e))}get[Symbol.toStringTag](){return"LazyResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.stringify().css}get content(){return this.stringify().content}get map(){return this.stringify().map}get root(){return this.sync().root}get messages(){return this.sync().messages}warnings(){return this.sync().warnings()}toString(){return this.css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):this.processed?Promise.resolve(this.result):(this.processing||(this.processing=this.runAsync()),this.processing)}sync(){if(this.error)throw this.error;if(this.processed)return this.result;if(this.processed=!0,this.processing)throw this.getAsyncError();for(let e of this.plugins){if(m(this.runOnRoot(e)))throw this.getAsyncError()}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[r];)e[r]=!0,this.walkSync(e);if(this.listeners.OnceExit)if("document"===e.type)for(let t of e.nodes)this.visitSync(this.listeners.OnceExit,t);else this.visitSync(this.listeners.OnceExit,e)}return this.result}stringify(){if(this.error)throw this.error;if(this.stringified)return this.result;this.stringified=!0,this.sync();let e=this.result.opts,t=a;e.syntax&&(t=e.syntax.stringify),e.stringifier&&(t=e.stringifier),t.stringify&&(t=t.stringify);let n=new o(t,this.result.root,this.result.opts).generate();return this.result.css=n[0],this.result.map=n[1],this.result}walkSync(e){e[r]=!0;let t=g(e);for(let n of t)if(0===n)e.nodes&&e.each((e=>{e[r]||this.walkSync(e)}));else{let t=this.listeners[n];if(t&&this.visitSync(t,e.toProxy()))return}}visitSync(e,t){for(let[r,i]of e){let e;this.result.lastPlugin=r;try{e=i(t,this.helpers)}catch(n){throw this.handleError(n,t.proxyOf)}if("root"!==t.type&&"document"!==t.type&&!t.parent)return!0;if(m(e))throw this.getAsyncError()}}runOnRoot(e){this.result.lastPlugin=e;try{if("object"===typeof e&&e.Once){if("document"===this.result.root.type){let t=this.result.root.nodes.map((t=>e.Once(t,this.helpers)));return m(t[0])?Promise.all(t):t}return e.Once(this.result.root,this.helpers)}if("function"===typeof e)return e(this.result.root,this.result)}catch(t){throw this.handleError(t)}}getAsyncError(){throw new Error("Use process(css).then(cb) to work with async plugins")}handleError(e,t){let n=this.result.lastPlugin;try{t&&t.addToError(e),this.error=e,"CssSyntaxError"!==e.name||e.plugin?n.postcssVersion:(e.plugin=n.postcssPlugin,e.setMessage())}catch(r){console&&console.error&&console.error(r)}return e}async runAsync(){this.plugin=0;for(let n=0;n<this.plugins.length;n++){let t=this.plugins[n],r=this.runOnRoot(t);if(m(r))try{await r}catch(e){throw this.handleError(e)}}if(this.prepareVisitors(),this.hasListener){let e=this.result.root;for(;!e[r];){e[r]=!0;let n=[v(e)];for(;n.length>0;){let e=this.visitTick(n);if(m(e))try{await e}catch(t){let e=n[n.length-1].node;throw this.handleError(t,e)}}}if(this.listeners.OnceExit)for(let[n,r]of this.listeners.OnceExit){this.result.lastPlugin=n;try{if("document"===e.type){let t=e.nodes.map((e=>r(e,this.helpers)));await Promise.all(t)}else await r(e,this.helpers)}catch(t){throw this.handleError(t)}}}return this.processed=!0,this.stringify()}prepareVisitors(){this.listeners={};let e=(e,t,n)=>{this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push([e,n])};for(let t of this.plugins)if("object"===typeof t)for(let n in t){if(!f[n]&&/^[A-Z]/.test(n))throw new Error(`Unknown event ${n} in ${t.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`);if(!h[n])if("object"===typeof t[n])for(let r in t[n])e(t,"*"===r?n:n+"-"+r.toLowerCase(),t[n][r]);else"function"===typeof t[n]&&e(t,n,t[n])}this.hasListener=Object.keys(this.listeners).length>0}visitTick(e){let t=e[e.length-1],{node:n,visitors:i}=t;if("root"!==n.type&&"document"!==n.type&&!n.parent)return void e.pop();if(i.length>0&&t.visitorIndex<i.length){let[e,r]=i[t.visitorIndex];t.visitorIndex+=1,t.visitorIndex===i.length&&(t.visitors=[],t.visitorIndex=0),this.result.lastPlugin=e;try{return r(n.toProxy(),this.helpers)}catch(a){throw this.handleError(a,n)}}if(0!==t.iterator){let i,o=t.iterator;for(;i=n.nodes[n.indexes[o]];)if(n.indexes[o]+=1,!i[r])return i[r]=!0,void e.push(v(i));t.iterator=0,delete n.indexes[o]}let o=t.events;for(;t.eventIndex<o.length;){let e=o[t.eventIndex];if(t.eventIndex+=1,0===e)return void(n.nodes&&n.nodes.length&&(n[r]=!0,t.iterator=n.getIterator()));if(this.listeners[e])return void(t.visitors=this.listeners[e])}e.pop()}}w.registerPostcss=e=>{b=e},e.exports=w,w.default=w,d.registerLazyResult(w),l.registerLazyResult(w)},54715:e=>{"use strict";let t={split(e,t,n){let r=[],i="",o=!1,a=0,s=!1,l=!1;for(let c of e)l?l=!1:"\\"===c?l=!0:s?c===s&&(s=!1):'"'===c||"'"===c?s=c:"("===c?a+=1:")"===c?a>0&&(a-=1):0===a&&t.includes(c)&&(o=!0),o?(""!==i&&r.push(i.trim()),i="",o=!1):i+=c;return(n||""!==i)&&r.push(i.trim()),r},space:e=>t.split(e,[" ","\n","\t"]),comma:e=>t.split(e,[","],!0)};e.exports=t,t.default=t},48505:(e,t,n)=>{"use strict";let{SourceMapConsumer:r,SourceMapGenerator:i}=n(70209),{dirname:o,resolve:a,relative:s,sep:l}=n(99830),{pathToFileURL:c}=n(87414),u=n(5995),d=Boolean(r&&i),p=Boolean(o&&a&&s&&l);e.exports=class{constructor(e,t,n,r){this.stringify=e,this.mapOpts=n.map||{},this.root=t,this.opts=n,this.css=r}isMap(){return"undefined"!==typeof this.opts.map?!!this.opts.map:this.previous().length>0}previous(){if(!this.previousMaps)if(this.previousMaps=[],this.root)this.root.walk((e=>{if(e.source&&e.source.input.map){let t=e.source.input.map;this.previousMaps.includes(t)||this.previousMaps.push(t)}}));else{let e=new u(this.css,this.opts);e.map&&this.previousMaps.push(e.map)}return this.previousMaps}isInline(){if("undefined"!==typeof this.mapOpts.inline)return this.mapOpts.inline;let e=this.mapOpts.annotation;return("undefined"===typeof e||!0===e)&&(!this.previous().length||this.previous().some((e=>e.inline)))}isSourcesContent(){return"undefined"!==typeof this.mapOpts.sourcesContent?this.mapOpts.sourcesContent:!this.previous().length||this.previous().some((e=>e.withContent()))}clearAnnotation(){if(!1!==this.mapOpts.annotation)if(this.root){let e;for(let t=this.root.nodes.length-1;t>=0;t--)e=this.root.nodes[t],"comment"===e.type&&0===e.text.indexOf("# sourceMappingURL=")&&this.root.removeChild(t)}else this.css&&(this.css=this.css.replace(/(\n)?\/\*#[\S\s]*?\*\/$/gm,""))}setSourcesContent(){let e={};if(this.root)this.root.walk((t=>{if(t.source){let n=t.source.input.from;n&&!e[n]&&(e[n]=!0,this.map.setSourceContent(this.toUrl(this.path(n)),t.source.input.css))}}));else if(this.css){let e=this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>";this.map.setSourceContent(e,this.css)}}applyPrevMaps(){for(let e of this.previous()){let t,n=this.toUrl(this.path(e.file)),i=e.root||o(e.file);!1===this.mapOpts.sourcesContent?(t=new r(e.text),t.sourcesContent&&(t.sourcesContent=t.sourcesContent.map((()=>null)))):t=e.consumer(),this.map.applySourceMap(t,n,this.toUrl(this.path(i)))}}isAnnotation(){return!!this.isInline()||("undefined"!==typeof this.mapOpts.annotation?this.mapOpts.annotation:!this.previous().length||this.previous().some((e=>e.annotation)))}toBase64(e){return Buffer?Buffer.from(e).toString("base64"):window.btoa(unescape(encodeURIComponent(e)))}addAnnotation(){let e;e=this.isInline()?"data:application/json;base64,"+this.toBase64(this.map.toString()):"string"===typeof this.mapOpts.annotation?this.mapOpts.annotation:"function"===typeof this.mapOpts.annotation?this.mapOpts.annotation(this.opts.to,this.root):this.outputFile()+".map";let t="\n";this.css.includes("\r\n")&&(t="\r\n"),this.css+=t+"/*# sourceMappingURL="+e+" */"}outputFile(){return this.opts.to?this.path(this.opts.to):this.opts.from?this.path(this.opts.from):"to.css"}generateMap(){if(this.root)this.generateString();else if(1===this.previous().length){let e=this.previous()[0].consumer();e.file=this.outputFile(),this.map=i.fromSourceMap(e)}else this.map=new i({file:this.outputFile()}),this.map.addMapping({source:this.opts.from?this.toUrl(this.path(this.opts.from)):"<no source>",generated:{line:1,column:0},original:{line:1,column:0}});return this.isSourcesContent()&&this.setSourcesContent(),this.root&&this.previous().length>0&&this.applyPrevMaps(),this.isAnnotation()&&this.addAnnotation(),this.isInline()?[this.css]:[this.css,this.map]}path(e){if(0===e.indexOf("<"))return e;if(/^\w+:\/\//.test(e))return e;if(this.mapOpts.absolute)return e;let t=this.opts.to?o(this.opts.to):".";return"string"===typeof this.mapOpts.annotation&&(t=o(a(t,this.mapOpts.annotation))),e=s(t,e)}toUrl(e){return"\\"===l&&(e=e.replace(/\\/g,"/")),encodeURI(e).replace(/[#?]/g,encodeURIComponent)}sourcePath(e){if(this.mapOpts.from)return this.toUrl(this.mapOpts.from);if(this.mapOpts.absolute){if(c)return c(e.source.input.from).toString();throw new Error("`map.absolute` option is not available in this PostCSS build")}return this.toUrl(this.path(e.source.input.from))}generateString(){this.css="",this.map=new i({file:this.outputFile()});let e,t,n=1,r=1,o="<no source>",a={source:"",generated:{line:0,column:0},original:{line:0,column:0}};this.stringify(this.root,((i,s,l)=>{if(this.css+=i,s&&"end"!==l&&(a.generated.line=n,a.generated.column=r-1,s.source&&s.source.start?(a.source=this.sourcePath(s),a.original.line=s.source.start.line,a.original.column=s.source.start.column-1,this.map.addMapping(a)):(a.source=o,a.original.line=1,a.original.column=0,this.map.addMapping(a))),e=i.match(/\n/g),e?(n+=e.length,t=i.lastIndexOf("\n"),r=i.length-t):r+=i.length,s&&"start"!==l){let e=s.parent||{raws:{}};("decl"!==s.type||s!==e.last||e.raws.semicolon)&&(s.source&&s.source.end?(a.source=this.sourcePath(s),a.original.line=s.source.end.line,a.original.column=s.source.end.column-1,a.generated.line=n,a.generated.column=r-2,this.map.addMapping(a)):(a.source=o,a.original.line=1,a.original.column=0,a.generated.line=n,a.generated.column=r-1,this.map.addMapping(a)))}}))}generate(){if(this.clearAnnotation(),p&&d&&this.isMap())return this.generateMap();{let e="";return this.stringify(this.root,(t=>{e+=t})),[e]}}}},47647:(e,t,n)=>{"use strict";let r=n(48505),i=n(67088),o=(n(72448),n(66939));const a=n(83632);class s{constructor(e,t,n){let o;t=t.toString(),this.stringified=!1,this._processor=e,this._css=t,this._opts=n,this._map=void 0;let s=i;this.result=new a(this._processor,o,this._opts),this.result.css=t;let l=this;Object.defineProperty(this.result,"root",{get:()=>l.root});let c=new r(s,o,this._opts,t);if(c.isMap()){let[e,t]=c.generate();e&&(this.result.css=e),t&&(this.result.map=t)}}get[Symbol.toStringTag](){return"NoWorkResult"}get processor(){return this.result.processor}get opts(){return this.result.opts}get css(){return this.result.css}get content(){return this.result.css}get map(){return this.result.map}get root(){if(this._root)return this._root;let e,t=o;try{e=t(this._css,this._opts)}catch(n){this.error=n}if(this.error)throw this.error;return this._root=e,e}get messages(){return[]}warnings(){return[]}toString(){return this._css}then(e,t){return this.async().then(e,t)}catch(e){return this.async().catch(e)}finally(e){return this.async().then(e,e)}async(){return this.error?Promise.reject(this.error):Promise.resolve(this.result)}sync(){if(this.error)throw this.error;return this.result}}e.exports=s,s.default=s},65631:(e,t,n)=>{"use strict";let{isClean:r,my:i}=n(65513),o=n(42671),a=n(1062),s=n(67088);function l(e,t){let n=new e.constructor;for(let r in e){if(!Object.prototype.hasOwnProperty.call(e,r))continue;if("proxyCache"===r)continue;let i=e[r],o=typeof i;"parent"===r&&"object"===o?t&&(n[r]=t):"source"===r?n[r]=i:Array.isArray(i)?n[r]=i.map((e=>l(e,n))):("object"===o&&null!==i&&(i=l(i)),n[r]=i)}return n}class c{constructor(e={}){this.raws={},this[r]=!1,this[i]=!0;for(let t in e)if("nodes"===t){this.nodes=[];for(let n of e[t])"function"===typeof n.clone?this.append(n.clone()):this.append(n)}else this[t]=e[t]}error(e,t={}){if(this.source){let{start:n,end:r}=this.rangeBy(t);return this.source.input.error(e,{line:n.line,column:n.column},{line:r.line,column:r.column},t)}return new o(e)}warn(e,t,n){let r={node:this};for(let i in n)r[i]=n[i];return e.warn(t,r)}remove(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this}toString(e=s){e.stringify&&(e=e.stringify);let t="";return e(this,(e=>{t+=e})),t}assign(e={}){for(let t in e)this[t]=e[t];return this}clone(e={}){let t=l(this);for(let n in e)t[n]=e[n];return t}cloneBefore(e={}){let t=this.clone(e);return this.parent.insertBefore(this,t),t}cloneAfter(e={}){let t=this.clone(e);return this.parent.insertAfter(this,t),t}replaceWith(...e){if(this.parent){let t=this,n=!1;for(let r of e)r===this?n=!0:n?(this.parent.insertAfter(t,r),t=r):this.parent.insertBefore(t,r);n||this.remove()}return this}next(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e+1]}prev(){if(!this.parent)return;let e=this.parent.index(this);return this.parent.nodes[e-1]}before(e){return this.parent.insertBefore(this,e),this}after(e){return this.parent.insertAfter(this,e),this}root(){let e=this;for(;e.parent&&"document"!==e.parent.type;)e=e.parent;return e}raw(e,t){return(new a).raw(this,e,t)}cleanRaws(e){delete this.raws.before,delete this.raws.after,e||delete this.raws.between}toJSON(e,t){let n={},r=null==t;t=t||new Map;let i=0;for(let o in this){if(!Object.prototype.hasOwnProperty.call(this,o))continue;if("parent"===o||"proxyCache"===o)continue;let e=this[o];if(Array.isArray(e))n[o]=e.map((e=>"object"===typeof e&&e.toJSON?e.toJSON(null,t):e));else if("object"===typeof e&&e.toJSON)n[o]=e.toJSON(null,t);else if("source"===o){let r=t.get(e.input);null==r&&(r=i,t.set(e.input,i),i++),n[o]={inputId:r,start:e.start,end:e.end}}else n[o]=e}return r&&(n.inputs=[...t.keys()].map((e=>e.toJSON()))),n}positionInside(e){let t=this.toString(),n=this.source.start.column,r=this.source.start.line;for(let i=0;i<e;i++)"\n"===t[i]?(n=1,r+=1):n+=1;return{line:r,column:n}}positionBy(e){let t=this.source.start;if(e.index)t=this.positionInside(e.index);else if(e.word){let n=this.toString().indexOf(e.word);-1!==n&&(t=this.positionInside(n))}return t}rangeBy(e){let t={line:this.source.start.line,column:this.source.start.column},n=this.source.end?{line:this.source.end.line,column:this.source.end.column+1}:{line:t.line,column:t.column+1};if(e.word){let r=this.toString().indexOf(e.word);-1!==r&&(t=this.positionInside(r),n=this.positionInside(r+e.word.length))}else e.start?t={line:e.start.line,column:e.start.column}:e.index&&(t=this.positionInside(e.index)),e.end?n={line:e.end.line,column:e.end.column}:e.endIndex?n=this.positionInside(e.endIndex):e.index&&(n=this.positionInside(e.index+1));return(n.line<t.line||n.line===t.line&&n.column<=t.column)&&(n={line:t.line,column:t.column+1}),{start:t,end:n}}getProxyProcessor(){return{set:(e,t,n)=>(e[t]===n||(e[t]=n,"prop"!==t&&"value"!==t&&"name"!==t&&"params"!==t&&"important"!==t&&"text"!==t||e.markDirty()),!0),get:(e,t)=>"proxyOf"===t?e:"root"===t?()=>e.root().toProxy():e[t]}}toProxy(){return this.proxyCache||(this.proxyCache=new Proxy(this,this.getProxyProcessor())),this.proxyCache}addToError(e){if(e.postcssNode=this,e.stack&&this.source&&/\n\s{4}at /.test(e.stack)){let t=this.source;e.stack=e.stack.replace(/\n\s{4}at /,`$&${t.input.from}:${t.start.line}:${t.start.column}$&`)}return e}markDirty(){if(this[r]){this[r]=!1;let e=this;for(;e=e.parent;)e[r]=!1}}get proxyOf(){return this}}e.exports=c,c.default=c},66939:(e,t,n)=>{"use strict";let r=n(21019),i=n(68867),o=n(5995);function a(e,t){let n=new o(e,t),r=new i(n);try{r.parse()}catch(a){throw a}return r.root}e.exports=a,a.default=a,r.registerParse(a)},68867:(e,t,n)=>{"use strict";let r=n(94258),i=n(83852),o=n(69932),a=n(41353),s=n(41025),l=n(31675);const c={empty:!0,space:!0};e.exports=class{constructor(e){this.input=e,this.root=new s,this.current=this.root,this.spaces="",this.semicolon=!1,this.customProperty=!1,this.createTokenizer(),this.root.source={input:e,start:{offset:0,line:1,column:1}}}createTokenizer(){this.tokenizer=i(this.input)}parse(){let e;for(;!this.tokenizer.endOfFile();)switch(e=this.tokenizer.nextToken(),e[0]){case"space":this.spaces+=e[1];break;case";":this.freeSemicolon(e);break;case"}":this.end(e);break;case"comment":this.comment(e);break;case"at-word":this.atrule(e);break;case"{":this.emptyRule(e);break;default:this.other(e)}this.endFile()}comment(e){let t=new o;this.init(t,e[2]),t.source.end=this.getPosition(e[3]||e[2]);let n=e[1].slice(2,-2);if(/^\s*$/.test(n))t.text="",t.raws.left=n,t.raws.right="";else{let e=n.match(/^(\s*)([^]*\S)(\s*)$/);t.text=e[2],t.raws.left=e[1],t.raws.right=e[3]}}emptyRule(e){let t=new l;this.init(t,e[2]),t.selector="",t.raws.between="",this.current=t}other(e){let t=!1,n=null,r=!1,i=null,o=[],a=e[1].startsWith("--"),s=[],l=e;for(;l;){if(n=l[0],s.push(l),"("===n||"["===n)i||(i=l),o.push("("===n?")":"]");else if(a&&r&&"{"===n)i||(i=l),o.push("}");else if(0===o.length){if(";"===n){if(r)return void this.decl(s,a);break}if("{"===n)return void this.rule(s);if("}"===n){this.tokenizer.back(s.pop()),t=!0;break}":"===n&&(r=!0)}else n===o[o.length-1]&&(o.pop(),0===o.length&&(i=null));l=this.tokenizer.nextToken()}if(this.tokenizer.endOfFile()&&(t=!0),o.length>0&&this.unclosedBracket(i),t&&r){if(!a)for(;s.length&&(l=s[s.length-1][0],"space"===l||"comment"===l);)this.tokenizer.back(s.pop());this.decl(s,a)}else this.unknownWord(s)}rule(e){e.pop();let t=new l;this.init(t,e[0][2]),t.raws.between=this.spacesAndCommentsFromEnd(e),this.raw(t,"selector",e),this.current=t}decl(e,t){let n=new r;this.init(n,e[0][2]);let i,o=e[e.length-1];for(";"===o[0]&&(this.semicolon=!0,e.pop()),n.source.end=this.getPosition(o[3]||o[2]||function(e){for(let t=e.length-1;t>=0;t--){let n=e[t],r=n[3]||n[2];if(r)return r}}(e));"word"!==e[0][0];)1===e.length&&this.unknownWord(e),n.raws.before+=e.shift()[1];for(n.source.start=this.getPosition(e[0][2]),n.prop="";e.length;){let t=e[0][0];if(":"===t||"space"===t||"comment"===t)break;n.prop+=e.shift()[1]}for(n.raws.between="";e.length;){if(i=e.shift(),":"===i[0]){n.raws.between+=i[1];break}"word"===i[0]&&/\w/.test(i[1])&&this.unknownWord([i]),n.raws.between+=i[1]}"_"!==n.prop[0]&&"*"!==n.prop[0]||(n.raws.before+=n.prop[0],n.prop=n.prop.slice(1));let a,s=[];for(;e.length&&(a=e[0][0],"space"===a||"comment"===a);)s.push(e.shift());this.precheckMissedSemicolon(e);for(let r=e.length-1;r>=0;r--){if(i=e[r],"!important"===i[1].toLowerCase()){n.important=!0;let t=this.stringFrom(e,r);t=this.spacesFromEnd(e)+t," !important"!==t&&(n.raws.important=t);break}if("important"===i[1].toLowerCase()){let t=e.slice(0),i="";for(let e=r;e>0;e--){let n=t[e][0];if(0===i.trim().indexOf("!")&&"space"!==n)break;i=t.pop()[1]+i}0===i.trim().indexOf("!")&&(n.important=!0,n.raws.important=i,e=t)}if("space"!==i[0]&&"comment"!==i[0])break}e.some((e=>"space"!==e[0]&&"comment"!==e[0]))&&(n.raws.between+=s.map((e=>e[1])).join(""),s=[]),this.raw(n,"value",s.concat(e),t),n.value.includes(":")&&!t&&this.checkMissedSemicolon(e)}atrule(e){let t,n,r,i=new a;i.name=e[1].slice(1),""===i.name&&this.unnamedAtrule(i,e),this.init(i,e[2]);let o=!1,s=!1,l=[],c=[];for(;!this.tokenizer.endOfFile();){if(t=(e=this.tokenizer.nextToken())[0],"("===t||"["===t?c.push("("===t?")":"]"):"{"===t&&c.length>0?c.push("}"):t===c[c.length-1]&&c.pop(),0===c.length){if(";"===t){i.source.end=this.getPosition(e[2]),this.semicolon=!0;break}if("{"===t){s=!0;break}if("}"===t){if(l.length>0){for(r=l.length-1,n=l[r];n&&"space"===n[0];)n=l[--r];n&&(i.source.end=this.getPosition(n[3]||n[2]))}this.end(e);break}l.push(e)}else l.push(e);if(this.tokenizer.endOfFile()){o=!0;break}}i.raws.between=this.spacesAndCommentsFromEnd(l),l.length?(i.raws.afterName=this.spacesAndCommentsFromStart(l),this.raw(i,"params",l),o&&(e=l[l.length-1],i.source.end=this.getPosition(e[3]||e[2]),this.spaces=i.raws.between,i.raws.between="")):(i.raws.afterName="",i.params=""),s&&(i.nodes=[],this.current=i)}end(e){this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.semicolon=!1,this.current.raws.after=(this.current.raws.after||"")+this.spaces,this.spaces="",this.current.parent?(this.current.source.end=this.getPosition(e[2]),this.current=this.current.parent):this.unexpectedClose(e)}endFile(){this.current.parent&&this.unclosedBlock(),this.current.nodes&&this.current.nodes.length&&(this.current.raws.semicolon=this.semicolon),this.current.raws.after=(this.current.raws.after||"")+this.spaces}freeSemicolon(e){if(this.spaces+=e[1],this.current.nodes){let e=this.current.nodes[this.current.nodes.length-1];e&&"rule"===e.type&&!e.raws.ownSemicolon&&(e.raws.ownSemicolon=this.spaces,this.spaces="")}}getPosition(e){let t=this.input.fromOffset(e);return{offset:e,line:t.line,column:t.col}}init(e,t){this.current.push(e),e.source={start:this.getPosition(t),input:this.input},e.raws.before=this.spaces,this.spaces="","comment"!==e.type&&(this.semicolon=!1)}raw(e,t,n,r){let i,o,a,s,l=n.length,u="",d=!0;for(let p=0;p<l;p+=1)i=n[p],o=i[0],"space"!==o||p!==l-1||r?"comment"===o?(s=n[p-1]?n[p-1][0]:"empty",a=n[p+1]?n[p+1][0]:"empty",c[s]||c[a]||","===u.slice(-1)?d=!1:u+=i[1]):u+=i[1]:d=!1;if(!d){let r=n.reduce(((e,t)=>e+t[1]),"");e.raws[t]={value:u,raw:r}}e[t]=u}spacesAndCommentsFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t||"comment"===t);)n=e.pop()[1]+n;return n}spacesAndCommentsFromStart(e){let t,n="";for(;e.length&&(t=e[0][0],"space"===t||"comment"===t);)n+=e.shift()[1];return n}spacesFromEnd(e){let t,n="";for(;e.length&&(t=e[e.length-1][0],"space"===t);)n=e.pop()[1]+n;return n}stringFrom(e,t){let n="";for(let r=t;r<e.length;r++)n+=e[r][1];return e.splice(t,e.length-t),n}colon(e){let t,n,r,i=0;for(let[o,a]of e.entries()){if(t=a,n=t[0],"("===n&&(i+=1),")"===n&&(i-=1),0===i&&":"===n){if(r){if("word"===r[0]&&"progid"===r[1])continue;return o}this.doubleColon(t)}r=t}return!1}unclosedBracket(e){throw this.input.error("Unclosed bracket",{offset:e[2]},{offset:e[2]+1})}unknownWord(e){throw this.input.error("Unknown word",{offset:e[0][2]},{offset:e[0][2]+e[0][1].length})}unexpectedClose(e){throw this.input.error("Unexpected }",{offset:e[2]},{offset:e[2]+1})}unclosedBlock(){let e=this.current.source.start;throw this.input.error("Unclosed block",e.line,e.column)}doubleColon(e){throw this.input.error("Double colon",{offset:e[2]},{offset:e[2]+e[1].length})}unnamedAtrule(e,t){throw this.input.error("At-rule without name",{offset:t[2]},{offset:t[2]+t[1].length})}precheckMissedSemicolon(){}checkMissedSemicolon(e){let t=this.colon(e);if(!1===t)return;let n,r=0;for(let i=t-1;i>=0&&(n=e[i],"space"===n[0]||(r+=1,2!==r));i--);throw this.input.error("Missed semicolon","word"===n[0]?n[3]+1:n[2])}}},50020:(e,t,n)=>{"use strict";let r=n(42671),i=n(94258),o=n(21939),a=n(21019),s=n(71723),l=n(67088),c=n(50250),u=n(26461),d=n(11728),p=n(69932),f=n(41353),h=n(83632),m=n(5995),g=n(66939),v=n(54715),y=n(31675),b=n(41025),w=n(65631);function x(...e){return 1===e.length&&Array.isArray(e[0])&&(e=e[0]),new s(e)}x.plugin=function(e,t){function n(...n){let r=t(...n);return r.postcssPlugin=e,r.postcssVersion=(new s).version,r}let r;return console&&console.warn&&(console.warn(e+": postcss.plugin was deprecated. Migration guide:\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration"),process.env.LANG&&process.env.LANG.startsWith("cn")&&console.warn(e+": \u91cc\u9762 postcss.plugin \u88ab\u5f03\u7528. \u8fc1\u79fb\u6307\u5357:\nhttps://www.w3ctech.com/topic/2226")),Object.defineProperty(n,"postcss",{get:()=>(r||(r=n()),r)}),n.process=function(e,t,r){return x([n(r)]).process(e,t)},n},x.stringify=l,x.parse=g,x.fromJSON=c,x.list=v,x.comment=e=>new p(e),x.atRule=e=>new f(e),x.decl=e=>new i(e),x.rule=e=>new y(e),x.root=e=>new b(e),x.document=e=>new u(e),x.CssSyntaxError=r,x.Declaration=i,x.Container=a,x.Processor=s,x.Document=u,x.Comment=p,x.Warning=d,x.AtRule=f,x.Result=h,x.Input=m,x.Rule=y,x.Root=b,x.Node=w,o.registerPostcss(x),e.exports=x,x.default=x},47981:(e,t,n)=>{"use strict";let{SourceMapConsumer:r,SourceMapGenerator:i}=n(70209),{existsSync:o,readFileSync:a}=n(14777),{dirname:s,join:l}=n(99830);class c{constructor(e,t){if(!1===t.map)return;this.loadAnnotation(e),this.inline=this.startWith(this.annotation,"data:");let n=t.map?t.map.prev:void 0,r=this.loadMap(t.from,n);!this.mapFile&&t.from&&(this.mapFile=t.from),this.mapFile&&(this.root=s(this.mapFile)),r&&(this.text=r)}consumer(){return this.consumerCache||(this.consumerCache=new r(this.text)),this.consumerCache}withContent(){return!!(this.consumer().sourcesContent&&this.consumer().sourcesContent.length>0)}startWith(e,t){return!!e&&e.substr(0,t.length)===t}getAnnotationURL(e){return e.replace(/^\/\*\s*# sourceMappingURL=/,"").trim()}loadAnnotation(e){let t=e.match(/\/\*\s*# sourceMappingURL=/gm);if(!t)return;let n=e.lastIndexOf(t.pop()),r=e.indexOf("*/",n);n>-1&&r>-1&&(this.annotation=this.getAnnotationURL(e.substring(n,r)))}decodeInline(e){if(/^data:application\/json;charset=utf-?8,/.test(e)||/^data:application\/json,/.test(e))return decodeURIComponent(e.substr(RegExp.lastMatch.length));if(/^data:application\/json;charset=utf-?8;base64,/.test(e)||/^data:application\/json;base64,/.test(e))return t=e.substr(RegExp.lastMatch.length),Buffer?Buffer.from(t,"base64").toString():window.atob(t);var t;let n=e.match(/data:application\/json;([^,]+),/)[1];throw new Error("Unsupported source map encoding "+n)}loadFile(e){if(this.root=s(e),o(e))return this.mapFile=e,a(e,"utf-8").toString().trim()}loadMap(e,t){if(!1===t)return!1;if(t){if("string"===typeof t)return t;if("function"!==typeof t){if(t instanceof r)return i.fromSourceMap(t).toString();if(t instanceof i)return t.toString();if(this.isMap(t))return JSON.stringify(t);throw new Error("Unsupported previous source map format: "+t.toString())}{let n=t(e);if(n){let e=this.loadFile(n);if(!e)throw new Error("Unable to load previous source map: "+n.toString());return e}}}else{if(this.inline)return this.decodeInline(this.annotation);if(this.annotation){let t=this.annotation;return e&&(t=l(s(e),t)),this.loadFile(t)}}}isMap(e){return"object"===typeof e&&("string"===typeof e.mappings||"string"===typeof e._mappings||Array.isArray(e.sections))}}e.exports=c,c.default=c},71723:(e,t,n)=>{"use strict";let r=n(47647),i=n(21939),o=n(26461),a=n(41025);class s{constructor(e=[]){this.version="8.4.12",this.plugins=this.normalize(e)}use(e){return this.plugins=this.plugins.concat(this.normalize([e])),this}process(e,t={}){return 0===this.plugins.length&&"undefined"===typeof t.parser&&"undefined"===typeof t.stringifier&&"undefined"===typeof t.syntax?new r(this,e,t):new i(this,e,t)}normalize(e){let t=[];for(let n of e)if(!0===n.postcss?n=n():n.postcss&&(n=n.postcss),"object"===typeof n&&Array.isArray(n.plugins))t=t.concat(n.plugins);else if("object"===typeof n&&n.postcssPlugin)t.push(n);else if("function"===typeof n)t.push(n);else{if("object"!==typeof n||!n.parse&&!n.stringify)throw new Error(n+" is not a PostCSS plugin")}return t}}e.exports=s,s.default=s,a.registerProcessor(s),o.registerProcessor(s)},83632:(e,t,n)=>{"use strict";let r=n(11728);class i{constructor(e,t,n){this.processor=e,this.messages=[],this.root=t,this.opts=n,this.css=void 0,this.map=void 0}toString(){return this.css}warn(e,t={}){t.plugin||this.lastPlugin&&this.lastPlugin.postcssPlugin&&(t.plugin=this.lastPlugin.postcssPlugin);let n=new r(e,t);return this.messages.push(n),n}warnings(){return this.messages.filter((e=>"warning"===e.type))}get content(){return this.css}}e.exports=i,i.default=i},41025:(e,t,n)=>{"use strict";let r,i,o=n(21019);class a extends o{constructor(e){super(e),this.type="root",this.nodes||(this.nodes=[])}removeChild(e,t){let n=this.index(e);return!t&&0===n&&this.nodes.length>1&&(this.nodes[1].raws.before=this.nodes[n].raws.before),super.removeChild(e)}normalize(e,t,n){let r=super.normalize(e);if(t)if("prepend"===n)this.nodes.length>1?t.raws.before=this.nodes[1].raws.before:delete t.raws.before;else if(this.first!==t)for(let i of r)i.raws.before=t.raws.before;return r}toResult(e={}){return new r(new i,this,e).stringify()}}a.registerLazyResult=e=>{r=e},a.registerProcessor=e=>{i=e},e.exports=a,a.default=a},31675:(e,t,n)=>{"use strict";let r=n(21019),i=n(54715);class o extends r{constructor(e){super(e),this.type="rule",this.nodes||(this.nodes=[])}get selectors(){return i.comma(this.selector)}set selectors(e){let t=this.selector?this.selector.match(/,\s*/):null,n=t?t[0]:","+this.raw("between","beforeOpen");this.selector=e.join(n)}}e.exports=o,o.default=o,r.registerRule(o)},1062:e=>{"use strict";const t={colon:": ",indent:"    ",beforeDecl:"\n",beforeRule:"\n",beforeOpen:" ",beforeClose:"\n",beforeComment:"\n",after:"\n",emptyBody:"",commentLeft:" ",commentRight:" ",semicolon:!1};class n{constructor(e){this.builder=e}stringify(e,t){if(!this[e.type])throw new Error("Unknown AST node type "+e.type+". Maybe you need to change PostCSS stringifier.");this[e.type](e,t)}document(e){this.body(e)}root(e){this.body(e),e.raws.after&&this.builder(e.raws.after)}comment(e){let t=this.raw(e,"left","commentLeft"),n=this.raw(e,"right","commentRight");this.builder("/*"+t+e.text+n+"*/",e)}decl(e,t){let n=this.raw(e,"between","colon"),r=e.prop+n+this.rawValue(e,"value");e.important&&(r+=e.raws.important||" !important"),t&&(r+=";"),this.builder(r,e)}rule(e){this.block(e,this.rawValue(e,"selector")),e.raws.ownSemicolon&&this.builder(e.raws.ownSemicolon,e,"end")}atrule(e,t){let n="@"+e.name,r=e.params?this.rawValue(e,"params"):"";if("undefined"!==typeof e.raws.afterName?n+=e.raws.afterName:r&&(n+=" "),e.nodes)this.block(e,n+r);else{let i=(e.raws.between||"")+(t?";":"");this.builder(n+r+i,e)}}body(e){let t=e.nodes.length-1;for(;t>0&&"comment"===e.nodes[t].type;)t-=1;let n=this.raw(e,"semicolon");for(let r=0;r<e.nodes.length;r++){let i=e.nodes[r],o=this.raw(i,"before");o&&this.builder(o),this.stringify(i,t!==r||n)}}block(e,t){let n,r=this.raw(e,"between","beforeOpen");this.builder(t+r+"{",e,"start"),e.nodes&&e.nodes.length?(this.body(e),n=this.raw(e,"after")):n=this.raw(e,"after","emptyBody"),n&&this.builder(n),this.builder("}",e,"end")}raw(e,n,r){let i;if(r||(r=n),n&&(i=e.raws[n],"undefined"!==typeof i))return i;let o=e.parent;if("before"===r){if(!o||"root"===o.type&&o.first===e)return"";if(o&&"document"===o.type)return""}if(!o)return t[r];let a=e.root();if(a.rawCache||(a.rawCache={}),"undefined"!==typeof a.rawCache[r])return a.rawCache[r];if("before"===r||"after"===r)return this.beforeAfter(e,r);{let t="raw"+((s=r)[0].toUpperCase()+s.slice(1));this[t]?i=this[t](a,e):a.walk((e=>{if(i=e.raws[n],"undefined"!==typeof i)return!1}))}var s;return"undefined"===typeof i&&(i=t[r]),a.rawCache[r]=i,i}rawSemicolon(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length&&"decl"===e.last.type&&(t=e.raws.semicolon,"undefined"!==typeof t))return!1})),t}rawEmptyBody(e){let t;return e.walk((e=>{if(e.nodes&&0===e.nodes.length&&(t=e.raws.after,"undefined"!==typeof t))return!1})),t}rawIndent(e){if(e.raws.indent)return e.raws.indent;let t;return e.walk((n=>{let r=n.parent;if(r&&r!==e&&r.parent&&r.parent===e&&"undefined"!==typeof n.raws.before){let e=n.raws.before.split("\n");return t=e[e.length-1],t=t.replace(/\S/g,""),!1}})),t}rawBeforeComment(e,t){let n;return e.walkComments((e=>{if("undefined"!==typeof e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),"undefined"===typeof n?n=this.raw(t,null,"beforeDecl"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeDecl(e,t){let n;return e.walkDecls((e=>{if("undefined"!==typeof e.raws.before)return n=e.raws.before,n.includes("\n")&&(n=n.replace(/[^\n]+$/,"")),!1})),"undefined"===typeof n?n=this.raw(t,null,"beforeRule"):n&&(n=n.replace(/\S/g,"")),n}rawBeforeRule(e){let t;return e.walk((n=>{if(n.nodes&&(n.parent!==e||e.first!==n)&&"undefined"!==typeof n.raws.before)return t=n.raws.before,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeClose(e){let t;return e.walk((e=>{if(e.nodes&&e.nodes.length>0&&"undefined"!==typeof e.raws.after)return t=e.raws.after,t.includes("\n")&&(t=t.replace(/[^\n]+$/,"")),!1})),t&&(t=t.replace(/\S/g,"")),t}rawBeforeOpen(e){let t;return e.walk((e=>{if("decl"!==e.type&&(t=e.raws.between,"undefined"!==typeof t))return!1})),t}rawColon(e){let t;return e.walkDecls((e=>{if("undefined"!==typeof e.raws.between)return t=e.raws.between.replace(/[^\s:]/g,""),!1})),t}beforeAfter(e,t){let n;n="decl"===e.type?this.raw(e,null,"beforeDecl"):"comment"===e.type?this.raw(e,null,"beforeComment"):"before"===t?this.raw(e,null,"beforeRule"):this.raw(e,null,"beforeClose");let r=e.parent,i=0;for(;r&&"root"!==r.type;)i+=1,r=r.parent;if(n.includes("\n")){let t=this.raw(e,null,"indent");if(t.length)for(let e=0;e<i;e++)n+=t}return n}rawValue(e,t){let n=e[t],r=e.raws[t];return r&&r.value===n?r.raw:n}}e.exports=n,n.default=n},67088:(e,t,n)=>{"use strict";let r=n(1062);function i(e,t){new r(t).stringify(e)}e.exports=i,i.default=i},65513:e=>{"use strict";e.exports.isClean=Symbol("isClean"),e.exports.my=Symbol("my")},83852:e=>{"use strict";const t="'".charCodeAt(0),n='"'.charCodeAt(0),r="\\".charCodeAt(0),i="/".charCodeAt(0),o="\n".charCodeAt(0),a=" ".charCodeAt(0),s="\f".charCodeAt(0),l="\t".charCodeAt(0),c="\r".charCodeAt(0),u="[".charCodeAt(0),d="]".charCodeAt(0),p="(".charCodeAt(0),f=")".charCodeAt(0),h="{".charCodeAt(0),m="}".charCodeAt(0),g=";".charCodeAt(0),v="*".charCodeAt(0),y=":".charCodeAt(0),b="@".charCodeAt(0),w=/[\t\n\f\r "#'()/;[\\\]{}]/g,x=/[\t\n\f\r !"#'():;@[\\\]{}]|\/(?=\*)/g,S=/.[\n"'(/\\]/,k=/[\da-f]/i;e.exports=function(e,T={}){let E,_,C,O,P,A,I,M,N,R,D=e.css.valueOf(),L=T.ignoreErrors,j=D.length,B=0,F=[],U=[];function $(t){throw e.error("Unclosed "+t,B)}return{back:function(e){U.push(e)},nextToken:function(e){if(U.length)return U.pop();if(B>=j)return;let T=!!e&&e.ignoreUnclosed;switch(E=D.charCodeAt(B),E){case o:case a:case l:case c:case s:_=B;do{_+=1,E=D.charCodeAt(_)}while(E===a||E===o||E===l||E===c||E===s);R=["space",D.slice(B,_)],B=_-1;break;case u:case d:case h:case m:case y:case g:case f:{let e=String.fromCharCode(E);R=[e,e,B];break}case p:if(M=F.length?F.pop()[1]:"",N=D.charCodeAt(B+1),"url"===M&&N!==t&&N!==n&&N!==a&&N!==o&&N!==l&&N!==s&&N!==c){_=B;do{if(A=!1,_=D.indexOf(")",_+1),-1===_){if(L||T){_=B;break}$("bracket")}for(I=_;D.charCodeAt(I-1)===r;)I-=1,A=!A}while(A);R=["brackets",D.slice(B,_+1),B,_],B=_}else _=D.indexOf(")",B+1),O=D.slice(B,_+1),-1===_||S.test(O)?R=["(","(",B]:(R=["brackets",O,B,_],B=_);break;case t:case n:C=E===t?"'":'"',_=B;do{if(A=!1,_=D.indexOf(C,_+1),-1===_){if(L||T){_=B+1;break}$("string")}for(I=_;D.charCodeAt(I-1)===r;)I-=1,A=!A}while(A);R=["string",D.slice(B,_+1),B,_],B=_;break;case b:w.lastIndex=B+1,w.test(D),_=0===w.lastIndex?D.length-1:w.lastIndex-2,R=["at-word",D.slice(B,_+1),B,_],B=_;break;case r:for(_=B,P=!0;D.charCodeAt(_+1)===r;)_+=1,P=!P;if(E=D.charCodeAt(_+1),P&&E!==i&&E!==a&&E!==o&&E!==l&&E!==c&&E!==s&&(_+=1,k.test(D.charAt(_)))){for(;k.test(D.charAt(_+1));)_+=1;D.charCodeAt(_+1)===a&&(_+=1)}R=["word",D.slice(B,_+1),B,_],B=_;break;default:E===i&&D.charCodeAt(B+1)===v?(_=D.indexOf("*/",B+2)+1,0===_&&(L||T?_=D.length:$("comment")),R=["comment",D.slice(B,_+1),B,_],B=_):(x.lastIndex=B+1,x.test(D),_=0===x.lastIndex?D.length-1:x.lastIndex-2,R=["word",D.slice(B,_+1),B,_],F.push(R),B=_)}return B++,R},endOfFile:function(){return 0===U.length&&B>=j},position:function(){return B}}}},72448:e=>{"use strict";let t={};e.exports=function(e){t[e]||(t[e]=!0,"undefined"!==typeof console&&console.warn&&console.warn(e))}},11728:e=>{"use strict";class t{constructor(e,t={}){if(this.type="warning",this.text=e,t.node&&t.node.source){let e=t.node.rangeBy(t);this.line=e.start.line,this.column=e.start.column,this.endLine=e.end.line,this.endColumn=e.end.column}for(let n in t)this[n]=t[n]}toString(){return this.node?this.node.error(this.text,{plugin:this.plugin,index:this.index,word:this.word}).message:this.plugin?this.plugin+": "+this.text:this.text}}e.exports=t,t.default=t},62100:(e,t,n)=>{"use strict";e.exports=n(89482)},89482:(e,t,n)=>{"use strict";var r=t;function i(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(41173),r.BufferWriter=n(43155),r.Reader=n(51408),r.BufferReader=n(50593),r.util=n(99693),r.rpc=n(35994),r.roots=n(85054),r.configure=i,i()},51408:(e,t,n)=>{"use strict";e.exports=l;var r,i=n(99693),o=i.LongBits,a=i.utf8;function s(e,t){return RangeError("index out of range: "+e.pos+" + "+(t||1)+" > "+e.len)}function l(e){this.buf=e,this.pos=0,this.len=e.length}var c,u="undefined"!==typeof Uint8Array?function(e){if(e instanceof Uint8Array||Array.isArray(e))return new l(e);throw Error("illegal buffer")}:function(e){if(Array.isArray(e))return new l(e);throw Error("illegal buffer")},d=function(){return i.Buffer?function(e){return(l.create=function(e){return i.Buffer.isBuffer(e)?new r(e):u(e)})(e)}:u};function p(){var e=new o(0,0),t=0;if(!(this.len-this.pos>4)){for(;t<3;++t){if(this.pos>=this.len)throw s(this);if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(127&this.buf[this.pos++])<<7*t)>>>0,e}for(;t<4;++t)if(e.lo=(e.lo|(127&this.buf[this.pos])<<7*t)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(127&this.buf[this.pos])<<28)>>>0,e.hi=(e.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return e;if(t=0,this.len-this.pos>4){for(;t<5;++t)if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}else for(;t<5;++t){if(this.pos>=this.len)throw s(this);if(e.hi=(e.hi|(127&this.buf[this.pos])<<7*t+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}function f(e,t){return(e[t-4]|e[t-3]<<8|e[t-2]<<16|e[t-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new o(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=i.Array.prototype.subarray||i.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var e=this.uint32();return e>>>1^-(1&e)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var e=i.float.readFloatLE(this.buf,this.pos);return this.pos+=4,e},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var e=i.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,e},l.prototype.bytes=function(){var e=this.uint32(),t=this.pos,n=this.pos+e;if(n>this.len)throw s(this,e);return this.pos+=e,Array.isArray(this.buf)?this.buf.slice(t,n):t===n?new this.buf.constructor(0):this._slice.call(this.buf,t,n)},l.prototype.string=function(){var e=this.bytes();return a.read(e,0,e.length)},l.prototype.skip=function(e){if("number"===typeof e){if(this.pos+e>this.len)throw s(this,e);this.pos+=e}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!==(e=7&this.uint32());)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this},l._configure=function(e){r=e,l.create=d(),r._configure();var t=i.Long?"toLong":"toNumber";i.merge(l.prototype,{int64:function(){return p.call(this)[t](!1)},uint64:function(){return p.call(this)[t](!0)},sint64:function(){return p.call(this).zzDecode()[t](!1)},fixed64:function(){return h.call(this)[t](!0)},sfixed64:function(){return h.call(this)[t](!1)}})}},50593:(e,t,n)=>{"use strict";e.exports=o;var r=n(51408);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(99693);function o(e){r.call(this,e)}o._configure=function(){i.Buffer&&(o.prototype._slice=i.Buffer.prototype.slice)},o.prototype.string=function(){var e=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+e,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+e,this.len))},o._configure()},85054:e=>{"use strict";e.exports={}},35994:(e,t,n)=>{"use strict";t.Service=n(77948)},77948:(e,t,n)=>{"use strict";e.exports=i;var r=n(99693);function i(e,t,n){if("function"!==typeof e)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=Boolean(t),this.responseDelimited=Boolean(n)}(i.prototype=Object.create(r.EventEmitter.prototype)).constructor=i,i.prototype.rpcCall=function e(t,n,i,o,a){if(!o)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(e,s,t,n,i,o);if(s.rpcImpl)try{return s.rpcImpl(t,n[s.requestDelimited?"encodeDelimited":"encode"](o).finish(),(function(e,n){if(e)return s.emit("error",e,t),a(e);if(null!==n){if(!(n instanceof i))try{n=i[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(e){return s.emit("error",e,t),a(e)}return s.emit("data",n,t),a(null,n)}s.end(!0)}))}catch(l){return s.emit("error",l,t),void setTimeout((function(){a(l)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},i.prototype.end=function(e){return this.rpcImpl&&(e||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},1945:(e,t,n)=>{"use strict";e.exports=i;var r=n(99693);function i(e,t){this.lo=e>>>0,this.hi=t>>>0}var o=i.zero=new i(0,0);o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1};var a=i.zeroHash="\0\0\0\0\0\0\0\0";i.fromNumber=function(e){if(0===e)return o;var t=e<0;t&&(e=-e);var n=e>>>0,r=(e-n)/4294967296>>>0;return t&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new i(n,r)},i.from=function(e){if("number"===typeof e)return i.fromNumber(e);if(r.isString(e)){if(!r.Long)return i.fromNumber(parseInt(e,10));e=r.Long.fromString(e)}return e.low||e.high?new i(e.low>>>0,e.high>>>0):o},i.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var t=1+~this.lo>>>0,n=~this.hi>>>0;return t||(n=n+1>>>0),-(t+4294967296*n)}return this.lo+4294967296*this.hi},i.prototype.toLong=function(e){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(e)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(e)}};var s=String.prototype.charCodeAt;i.fromHash=function(e){return e===a?o:new i((s.call(e,0)|s.call(e,1)<<8|s.call(e,2)<<16|s.call(e,3)<<24)>>>0,(s.call(e,4)|s.call(e,5)<<8|s.call(e,6)<<16|s.call(e,7)<<24)>>>0)},i.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},i.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},i.prototype.zzDecode=function(){var e=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},i.prototype.length=function(){var e=this.lo,t=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===t?e<16384?e<128?1:2:e<2097152?3:4:t<16384?t<128?5:6:t<2097152?7:8:n<128?9:10}},99693:function(e,t,n){"use strict";var r=t;function i(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;++i)void 0!==e[r[i]]&&n||(e[r[i]]=t[r[i]]);return e}function o(e){function t(e,n){if(!(this instanceof t))return new t(e,n);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&i(this,n)}return(t.prototype=Object.create(Error.prototype)).constructor=t,Object.defineProperty(t.prototype,"name",{get:function(){return e}}),t.prototype.toString=function(){return this.name+": "+this.message},t}r.asPromise=n(34537),r.base64=n(97419),r.EventEmitter=n(19211),r.float=n(10945),r.inquire=n(67199),r.utf8=n(94997),r.pool=n(76662),r.LongBits=n(1945),r.isNode=Boolean("undefined"!==typeof n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!==typeof window&&window||"undefined"!==typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e},r.isString=function(e){return"string"===typeof e||e instanceof String},r.isObject=function(e){return e&&"object"===typeof e},r.isset=r.isSet=function(e,t){var n=e[t];return!(null==n||!e.hasOwnProperty(t))&&("object"!==typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var e=r.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(e){return"number"===typeof e?r.Buffer?r._Buffer_allocUnsafe(e):new r.Array(e):r.Buffer?r._Buffer_from(e):"undefined"===typeof Uint8Array?e:new Uint8Array(e)},r.Array="undefined"!==typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(e){return e?r.LongBits.from(e).toHash():r.LongBits.zeroHash},r.longFromHash=function(e,t){var n=r.LongBits.fromHash(e);return r.Long?r.Long.fromBits(n.lo,n.hi,t):n.toNumber(Boolean(t))},r.merge=i,r.lcFirst=function(e){return e.charAt(0).toLowerCase()+e.substring(1)},r.newError=o,r.ProtocolError=o("ProtocolError"),r.oneOfGetter=function(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=1;return function(){for(var e=Object.keys(this),n=e.length-1;n>-1;--n)if(1===t[e[n]]&&void 0!==this[e[n]]&&null!==this[e[n]])return e[n]}},r.oneOfSetter=function(e){return function(t){for(var n=0;n<e.length;++n)e[n]!==t&&delete this[e[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var e=r.Buffer;e?(r._Buffer_from=e.from!==Uint8Array.from&&e.from||function(t,n){return new e(t,n)},r._Buffer_allocUnsafe=e.allocUnsafe||function(t){return new e(t)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},41173:(e,t,n)=>{"use strict";e.exports=d;var r,i=n(99693),o=i.LongBits,a=i.base64,s=i.utf8;function l(e,t,n){this.fn=e,this.len=t,this.next=void 0,this.val=n}function c(){}function u(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var p=function(){return i.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function f(e,t,n){t[n]=255&e}function h(e,t){this.len=e,this.next=void 0,this.val=t}function m(e,t,n){for(;e.hi;)t[n++]=127&e.lo|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)t[n++]=127&e.lo|128,e.lo=e.lo>>>7;t[n++]=e.lo}function g(e,t,n){t[n]=255&e,t[n+1]=e>>>8&255,t[n+2]=e>>>16&255,t[n+3]=e>>>24}d.create=p(),d.alloc=function(e){return new i.Array(e)},i.Array!==Array&&(d.alloc=i.pool(d.alloc,i.Array.prototype.subarray)),d.prototype._push=function(e,t,n){return this.tail=this.tail.next=new l(e,t,n),this.len+=t,this},h.prototype=Object.create(l.prototype),h.prototype.fn=function(e,t,n){for(;e>127;)t[n++]=127&e|128,e>>>=7;t[n]=e},d.prototype.uint32=function(e){return this.len+=(this.tail=this.tail.next=new h((e>>>=0)<128?1:e<16384?2:e<2097152?3:e<268435456?4:5,e)).len,this},d.prototype.int32=function(e){return e<0?this._push(m,10,o.fromNumber(e)):this.uint32(e)},d.prototype.sint32=function(e){return this.uint32((e<<1^e>>31)>>>0)},d.prototype.uint64=function(e){var t=o.from(e);return this._push(m,t.length(),t)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(e){var t=o.from(e).zzEncode();return this._push(m,t.length(),t)},d.prototype.bool=function(e){return this._push(f,1,e?1:0)},d.prototype.fixed32=function(e){return this._push(g,4,e>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(e){var t=o.from(e);return this._push(g,4,t.lo)._push(g,4,t.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(e){return this._push(i.float.writeFloatLE,4,e)},d.prototype.double=function(e){return this._push(i.float.writeDoubleLE,8,e)};var v=i.Array.prototype.set?function(e,t,n){t.set(e,n)}:function(e,t,n){for(var r=0;r<e.length;++r)t[n+r]=e[r]};d.prototype.bytes=function(e){var t=e.length>>>0;if(!t)return this._push(f,1,0);if(i.isString(e)){var n=d.alloc(t=a.length(e));a.decode(e,n,0),e=n}return this.uint32(t)._push(v,t,e)},d.prototype.string=function(e){var t=s.length(e);return t?this.uint32(t)._push(s.write,t,e):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var e=this.head,t=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=e.next,this.tail=t,this.len+=n),this},d.prototype.finish=function(){for(var e=this.head.next,t=this.constructor.alloc(this.len),n=0;e;)e.fn(e.val,t,n),n+=e.len,e=e.next;return t},d._configure=function(e){r=e,d.create=p(),r._configure()}},43155:(e,t,n)=>{"use strict";e.exports=o;var r=n(41173);(o.prototype=Object.create(r.prototype)).constructor=o;var i=n(99693);function o(){r.call(this)}function a(e,t,n){e.length<40?i.utf8.write(e,t,n):t.utf8Write?t.utf8Write(e,n):t.write(e,n)}o._configure=function(){o.alloc=i._Buffer_allocUnsafe,o.writeBytesBuffer=i.Buffer&&i.Buffer.prototype instanceof Uint8Array&&"set"===i.Buffer.prototype.set.name?function(e,t,n){t.set(e,n)}:function(e,t,n){if(e.copy)e.copy(t,n,0,e.length);else for(var r=0;r<e.length;)t[n++]=e[r++]}},o.prototype.bytes=function(e){i.isString(e)&&(e=i._Buffer_from(e,"base64"));var t=e.length>>>0;return this.uint32(t),t&&this._push(o.writeBytesBuffer,t,e),this},o.prototype.string=function(e){var t=i.Buffer.byteLength(e);return this.uint32(t),t&&this._push(a,t,e),this},o._configure()},64448:(e,t,n)=>{"use strict";var r=n(67294),i=n(27418),o=n(63840);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function c(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,h={},m={};function g(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){v[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];v[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){v[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){v[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){v[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){v[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){v[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){v[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){v[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function b(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=v.hasOwnProperty(t)?v[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(m,e)||!f.call(h,e)&&(p.test(e)?m[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,b);v[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){v[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,k=60106,T=60107,E=60108,_=60114,C=60109,O=60110,P=60112,A=60113,I=60120,M=60115,N=60116,R=60121,D=60128,L=60129,j=60130,B=60131;if("function"===typeof Symbol&&Symbol.for){var F=Symbol.for;S=F("react.element"),k=F("react.portal"),T=F("react.fragment"),E=F("react.strict_mode"),_=F("react.profiler"),C=F("react.provider"),O=F("react.context"),P=F("react.forward_ref"),A=F("react.suspense"),I=F("react.suspense_list"),M=F("react.memo"),N=F("react.lazy"),R=F("react.block"),F("react.scope"),D=F("react.opaque.id"),L=F("react.debug_trace_mode"),j=F("react.offscreen"),B=F("react.legacy_hidden")}var U,$="function"===typeof Symbol&&Symbol.iterator;function H(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=$&&e[$]||e["@@iterator"])?e:null}function G(e){if(void 0===U)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var V=!1;function z(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?G(e):""}function W(e){switch(e.tag){case 5:return G(e.type);case 16:return G("Lazy");case 13:return G("Suspense");case 19:return G("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 22:return e=z(e.type._render,!1);case 1:return e=z(e.type,!0);default:return""}}function K(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case T:return"Fragment";case k:return"Portal";case _:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case O:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case P:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case M:return K(e.type);case R:return K(e._render);case N:t=e._payload,e=e._init;try{return K(e(t))}catch(n){}}return null}function q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function X(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Z(e){e._valueTracker||(e._valueTracker=function(e){var t=X(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=X(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function oe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ce(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ue(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var de="http://www.w3.org/1999/xhtml",pe="http://www.w3.org/2000/svg";function fe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function he(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?fe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var me,ge,ve=(ge=function(e,t){if(e.namespaceURI!==pe||"innerHTML"in e)e.innerHTML=t;else{for((me=me||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=me.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ge(e,t)}))}:ge);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},we=["Webkit","ms","Moz","O"];function xe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function Se(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=xe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(be).forEach((function(e){we.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var ke=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Te(e,t){if(t){if(ke[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function Ee(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Oe=null,Pe=null;function Ae(e){if(e=ri(e)){if("function"!==typeof Ce)throw Error(a(280));var t=e.stateNode;t&&(t=oi(t),Ce(e.stateNode,e.type,t))}}function Ie(e){Oe?Pe?Pe.push(e):Pe=[e]:Oe=e}function Me(){if(Oe){var e=Oe,t=Pe;if(Pe=Oe=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Ne(e,t){return e(t)}function Re(e,t,n,r,i){return e(t,n,r,i)}function De(){}var Le=Ne,je=!1,Be=!1;function Fe(){null===Oe&&null===Pe||(De(),Me())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=oi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var $e=!1;if(d)try{var He={};Object.defineProperty(He,"passive",{get:function(){$e=!0}}),window.addEventListener("test",He,He),window.removeEventListener("test",He,He)}catch(ge){$e=!1}function Ge(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Ve=!1,ze=null,We=!1,Ke=null,qe={onError:function(e){Ve=!0,ze=e}};function Xe(e,t,n,r,i,o,a,s,l){Ve=!1,ze=null,Ge.apply(qe,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Qe(e){if(Ze(e)!==e)throw Error(a(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Qe(i),e;if(o===r)return Qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,ot=!1,at=[],st=null,lt=null,ct=null,ut=new Map,dt=new Map,pt=[],ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ht(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function mt(e,t){switch(e){case"focusin":case"focusout":st=null;break;case"dragenter":case"dragleave":lt=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dt.delete(t.pointerId)}}function gt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=ht(t,n,r,i,o),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function vt(e){var t=ni(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){o.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function wt(){for(ot=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==st&&yt(st)&&(st=null),null!==lt&&yt(lt)&&(lt=null),null!==ct&&yt(ct)&&(ct=null),ut.forEach(bt),dt.forEach(bt)}function xt(e,t){e.blockedOn===t&&(e.blockedOn=null,ot||(ot=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,wt)))}function St(e){function t(t){return xt(t,e)}if(0<at.length){xt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==st&&xt(st,e),null!==lt&&xt(lt,e),null!==ct&&xt(ct,e),ut.forEach(t),dt.forEach(t),n=0;n<pt.length;n++)(r=pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<pt.length&&null===(n=pt[0]).blockedOn;)vt(n),null===n.blockedOn&&pt.shift()}function kt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Tt={animationend:kt("Animation","AnimationEnd"),animationiteration:kt("Animation","AnimationIteration"),animationstart:kt("Animation","AnimationStart"),transitionend:kt("Transition","TransitionEnd")},Et={},_t={};function Ct(e){if(Et[e])return Et[e];if(!Tt[e])return e;var t,n=Tt[e];for(t in n)if(n.hasOwnProperty(t)&&t in _t)return Et[e]=n[t];return e}d&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete Tt.animationend.animation,delete Tt.animationiteration.animation,delete Tt.animationstart.animation),"TransitionEvent"in window||delete Tt.transitionend.transition);var Ot=Ct("animationend"),Pt=Ct("animationiteration"),At=Ct("animationstart"),It=Ct("transitionend"),Mt=new Map,Nt=new Map,Rt=["abort","abort",Ot,"animationEnd",Pt,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",It,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Nt.set(r,t),Mt.set(r,i),c(i,[r])}}(0,o.unstable_now)();var Lt=8;function jt(e){if(0!==(1&e))return Lt=15,1;if(0!==(2&e))return Lt=14,2;if(0!==(4&e))return Lt=13,4;var t=24&e;return 0!==t?(Lt=12,t):0!==(32&e)?(Lt=11,32):0!==(t=192&e)?(Lt=10,t):0!==(256&e)?(Lt=9,256):0!==(t=3584&e)?(Lt=8,t):0!==(4096&e)?(Lt=7,4096):0!==(t=4186112&e)?(Lt=6,t):0!==(t=62914560&e)?(Lt=5,t):67108864&e?(Lt=4,67108864):0!==(134217728&e)?(Lt=3,134217728):0!==(t=805306368&e)?(Lt=2,t):0!==(1073741824&e)?(Lt=1,1073741824):(Lt=8,e)}function Bt(e,t){var n=e.pendingLanes;if(0===n)return Lt=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Lt=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=jt(l),i=Lt):0!==(s&=o)&&(r=jt(s),i=Lt)}else 0!==(o=n&~a)?(r=jt(o),i=Lt):0!==s&&(r=jt(s),i=Lt);if(0===r)return 0;if(r=n&((0>(r=31-Vt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&a)){if(jt(t),i<=Lt)return t;Lt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Vt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=$t(24&~t))?Ut(10,t):e;case 10:return 0===(e=$t(192&~t))?Ut(8,t):e;case 8:return 0===(e=$t(3584&~t))&&(0===(e=$t(4186112&~t))&&(e=512)),e;case 2:return 0===(t=$t(805306368&~t))&&(t=268435456),t}throw Error(a(358,e))}function $t(e){return e&-e}function Ht(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Vt(t)]=n}var Vt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(zt(e)/Wt|0)|0},zt=Math.log,Wt=Math.LN2;var Kt=o.unstable_UserBlockingPriority,qt=o.unstable_runWithPriority,Xt=!0;function Zt(e,t,n,r){je||De();var i=Qt,o=je;je=!0;try{Re(i,e,t,n,r)}finally{(je=o)||Fe()}}function Yt(e,t,n,r){qt(Kt,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){var i;if(Xt)if((i=0===(4&t))&&0<at.length&&-1<ft.indexOf(e))e=ht(null,e,t,n,r),at.push(e);else{var o=Jt(e,t,n,r);if(null===o)i&&mt(e,r);else{if(i){if(-1<ft.indexOf(e))return e=ht(o,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return st=gt(st,e,t,n,r,i),!0;case"dragenter":return lt=gt(lt,e,t,n,r,i),!0;case"mouseover":return ct=gt(ct,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return ut.set(o,gt(ut.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,dt.set(o,gt(dt.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;mt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=_e(r);if(null!==(i=ni(i))){var o=Ze(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=Ye(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function on(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function sn(){return!1}function ln(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var cn,un,dn,pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(pn),hn=i({},pn,{view:0,detail:0}),mn=ln(hn),gn=i({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:On,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dn&&(dn&&"mousemove"===e.type?(cn=e.screenX-dn.screenX,un=e.screenY-dn.screenY):un=cn=0,dn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:un}}),vn=ln(gn),yn=ln(i({},gn,{dataTransfer:0})),bn=ln(i({},hn,{relatedTarget:0})),wn=ln(i({},pn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=i({},pn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sn=ln(xn),kn=ln(i({},pn,{data:0})),Tn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function On(){return Cn}var Pn=i({},hn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=on(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:On,charCode:function(e){return"keypress"===e.type?on(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?on(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=ln(Pn),In=ln(i({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=ln(i({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:On})),Nn=ln(i({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=ln(Rn),Ln=[9,13,27,32],jn=d&&"CompositionEvent"in window,Bn=null;d&&"documentMode"in document&&(Bn=document.documentMode);var Fn=d&&"TextEvent"in window&&!Bn,Un=d&&(!jn||Bn&&8<Bn&&11>=Bn),$n=String.fromCharCode(32),Hn=!1;function Gn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){Ie(r),0<(t=jr(t,"onChange")).length&&(n=new fn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Zn=null;function Yn(e){Pr(e,0)}function Qn(e){if(Y(ii(e)))return e}function Jn(e,t){if("change"===e)return t}var er=!1;if(d){var tr;if(d){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){Xn&&(Xn.detachEvent("onpropertychange",or),Zn=Xn=null)}function or(e){if("value"===e.propertyName&&Qn(Zn)){var t=[];if(qn(t,Zn,e,_e(e)),e=Yn,je)e(t);else{je=!0;try{Ne(e,t)}finally{je=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(ir(),Zn=n,(Xn=t).attachEvent("onpropertychange",or)):"focusout"===e&&ir()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Zn)}function lr(e,t){if("click"===e)return Qn(t)}function cr(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},dr=Object.prototype.hasOwnProperty;function pr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!dr.call(t,n[r])||!ur(e[n[r]],t[n[r]]))return!1;return!0}function fr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n,r=fr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=d&&"documentMode"in document&&11>=document.documentMode,br=null,wr=null,xr=null,Sr=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Sr||null==br||br!==Q(r)||("selectionStart"in(r=br)&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&pr(xr,r)||(xr=r,0<(r=jr(wr,"onSelect")).length&&(t=new fn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var Tr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Er=0;Er<Tr.length;Er++)Nt.set(Tr[Er],0);u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(Xe.apply(this,arguments),Ve){if(!Ve)throw Error(a(198));var u=ze;Ve=!1,ze=null,We||(We=!0,Ke=u)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Or(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Or(i,s,c),o=l}}}if(We)throw e=Ke,We=!1,Ke=null,e}function Ar(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Rr(t,e,2,!1),n.add(r))}var Ir="_reactListening"+Math.random().toString(36).slice(2);function Mr(e){e[Ir]||(e[Ir]=!0,s.forEach((function(t){Cr.has(t)||Nr(t,!1,e,null),Nr(t,!0,e,null)})))}function Nr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=ai(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Rr(o,e,i,t),a.add(s))}function Rr(e,t,n,r){var i=Nt.get(t);switch(void 0===i?2:i){case 0:i=Zt;break;case 1:i=Yt;break;default:i=Qt}n=i.bind(null,t,n,e),i=void 0,!$e||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=ni(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Be)return e(t,n);Be=!0;try{Le(e,t,n)}finally{Be=!1,Fe()}}((function(){var r=o,i=_e(n),a=[];e:{var s=Mt.get(e);if(void 0!==s){var l=fn,c=e;switch(e){case"keypress":if(0===on(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":c="focus",l=bn;break;case"focusout":c="blur",l=bn;break;case"beforeblur":case"afterblur":l=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ot:case Pt:case At:l=wn;break;case It:l=Nn;break;case"scroll":l=mn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=Sn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),d=!u&&"scroll"===e,p=u?null!==s?s+"Capture":null:s;u=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&(null!=(m=Ue(h,p))&&u.push(Lr(h,m,f)))),d)break;h=h.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(d=Ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=vn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:ii(l),f=null==c?s:ii(c),(s=new u(m,h+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,ni(i)===r&&((u=new u(p,h+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(p=c,h=0,f=u=l;f;f=Br(f))h++;for(f=0,m=p;m;m=Br(m))f++;for(;0<h-f;)u=Br(u),h--;for(;0<f-h;)p=Br(p),f--;for(;h--;){if(u===p||null!==p&&u===p.alternate)break e;u=Br(u),p=Br(p)}u=null}else u=null;null!==l&&Fr(a,s,l,u,!1),null!==c&&null!==d&&Fr(a,d,c,u,!0)}if("select"===(l=(s=r?ii(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Jn;else if(Kn(s))if(er)g=cr;else{g=sr;var v=ar}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=lr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ie(s,"number",s.value)),v=r?ii(r):window,e){case"focusin":(Kn(v)||"true"===v.contentEditable)&&(br=v,wr=r,xr=null);break;case"focusout":xr=wr=br=null;break;case"mousedown":Sr=!0;break;case"contextmenu":case"mouseup":case"dragend":Sr=!1,kr(a,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":kr(a,n,i)}var y;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Gn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Un&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=rn()):(tn="value"in(en=i)?en.value:en.textContent,zn=!0)),0<(v=jr(r,b)).length&&(b=new kn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Fn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Hn=!0,$n);case"textInput":return(e=t.data)===$n&&Hn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!jn&&Gn(e,t)?(e=rn(),nn=tn=en=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=jr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Pr(a,t)}))}function Lr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ue(e,n))&&r.unshift(Lr(e,o,i)),null!=(o=Ue(e,t))&&r.push(Lr(e,o,i))),e=e.return}return r}function Br(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ue(n,o))&&a.unshift(Lr(n,l,s)):i||null!=(l=Ue(n,o))&&a.push(Lr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Ur(){}var $r=null,Hr=null;function Gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zr="function"===typeof setTimeout?setTimeout:void 0,Wr="function"===typeof clearTimeout?clearTimeout:void 0;function Kr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Xr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Zr=0;var Yr=Math.random().toString(36).slice(2),Qr="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,ei="__reactContainer$"+Yr,ti="__reactEvents$"+Yr;function ni(e){var t=e[Qr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Qr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Xr(e);null!==e;){if(n=e[Qr])return n;e=Xr(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Qr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function oi(e){return e[Jr]||null}function ai(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var si=[],li=-1;function ci(e){return{current:e}}function ui(e){0>li||(e.current=si[li],si[li]=null,li--)}function di(e,t){li++,si[li]=e.current,e.current=t}var pi={},fi=ci(pi),hi=ci(!1),mi=pi;function gi(e,t){var n=e.type.contextTypes;if(!n)return pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function vi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ui(hi),ui(fi)}function bi(e,t,n){if(fi.current!==pi)throw Error(a(168));di(fi,t),di(hi,n)}function wi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,K(t)||"Unknown",o));return i({},n,r)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pi,mi=fi.current,di(fi,e),di(hi,hi.current),!0}function Si(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=wi(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,ui(hi),ui(fi),di(fi,e)):ui(hi),di(hi,n)}var ki=null,Ti=null,Ei=o.unstable_runWithPriority,_i=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Oi=o.unstable_shouldYield,Pi=o.unstable_requestPaint,Ai=o.unstable_now,Ii=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Ri=o.unstable_NormalPriority,Di=o.unstable_LowPriority,Li=o.unstable_IdlePriority,ji={},Bi=void 0!==Pi?Pi:function(){},Fi=null,Ui=null,$i=!1,Hi=Ai(),Gi=1e4>Hi?Ai:function(){return Ai()-Hi};function Vi(){switch(Ii()){case Mi:return 99;case Ni:return 98;case Ri:return 97;case Di:return 96;case Li:return 95;default:throw Error(a(332))}}function zi(e){switch(e){case 99:return Mi;case 98:return Ni;case 97:return Ri;case 96:return Di;case 95:return Li;default:throw Error(a(332))}}function Wi(e,t){return e=zi(e),Ei(e,t)}function Ki(e,t,n){return e=zi(e),_i(e,t,n)}function qi(){if(null!==Ui){var e=Ui;Ui=null,Ci(e)}Xi()}function Xi(){if(!$i&&null!==Fi){$i=!0;var e=0;try{var t=Fi;Wi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),_i(Mi,qi),n}finally{$i=!1}}}var Zi=x.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Qi=ci(null),Ji=null,eo=null,to=null;function no(){to=eo=Ji=null}function ro(e){var t=Qi.current;ui(Qi),e.type._context._currentValue=t}function io(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function oo(e,t){Ji=e,to=eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ja=!0),e.firstContext=null)}function ao(e,t){if(to!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(to=e,t=1073741823),t={context:e,observedBits:t,next:null},null===eo){if(null===Ji)throw Error(a(308));eo=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else eo=eo.next=t;return e._currentValue}var so=!1;function lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function co(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function uo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function po(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ho(e,t,n,r){var o=e.updateQueue;so=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var c=l,u=c.next;c.next=null,null===s?a=u:s.next=u,s=c;var d=e.alternate;if(null!==d){var p=(d=d.updateQueue).lastBaseUpdate;p!==s&&(null===p?d.firstBaseUpdate=u:p.next=u,d.lastBaseUpdate=c)}}if(null!==a){for(p=o.baseState,s=0,d=u=c=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==d&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(l=t,f=n,m.tag){case 1:if("function"===typeof(h=m.payload)){p=h.call(f,p,l);break e}p=h;break e;case 3:h.flags=-4097&h.flags|64;case 0:if(null===(l="function"===typeof(h=m.payload)?h.call(f,p,l):h)||void 0===l)break e;p=i({},p,l);break e;case 2:so=!0}}null!==a.callback&&(e.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===d?(u=d=f,c=p):d=d.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===d&&(c=p),o.baseState=c,o.firstBaseUpdate=u,o.lastBaseUpdate=d,$s|=s,e.lanes=s,e.memoizedState=p}}function mo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var go=(new r.Component).refs;function vo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var yo={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=pl(),i=fl(e),o=uo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),po(e,o),hl(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=pl(),i=fl(e),o=uo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),po(e,o),hl(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=pl(),r=fl(e),i=uo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),po(e,i),hl(e,r,n)}};function bo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!pr(n,r)||!pr(i,o))}function wo(e,t,n){var r=!1,i=pi,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=vi(t)?mi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?gi(e,i):pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=yo,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function xo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&yo.enqueueReplaceState(t,t.state,null)}function So(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=go,lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=vi(t)?mi:fi.current,i.context=gi(e,o)),ho(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(vo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&yo.enqueueReplaceState(i,i.state,null),ho(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var ko=Array.isArray;function To(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===go&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Eo(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function _o(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Zl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=To(e,t,n),r.return=e,r):((r=Kl(n.type,n.key,n.props,null,e.mode,r)).ref=To(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=ql(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Zl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case S:return(n=Kl(t.type,t.key,t.props,null,e.mode,n)).ref=To(e,null,t),n.return=e,n;case k:return(t=Yl(t,e.mode,n)).return=e,t}if(ko(t)||H(t))return(t=ql(t,e.mode,n,null)).return=e,t;Eo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===T?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case k:return n.key===i?u(e,t,n,r):null}if(ko(n)||H(n))return null!==i?null:d(e,t,n,r,null);Eo(e,n)}return null}function h(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return e=e.get(null===r.key?n:r.key)||null,r.type===T?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case k:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(ko(r)||H(r))return d(t,e=e.get(n)||null,r,i,null);Eo(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(i,d),c;if(null===d){for(;m<s.length;m++)null!==(d=p(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);m<s.length;m++)null!==(g=h(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),c}function g(i,s,l,c){var u=H(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(i,y.value,c))&&(s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=h(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=o(y,s,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(i,e)})),u}return function(e,r,o,l){var c="object"===typeof o&&null!==o&&o.type===T&&null===o.key;c&&(o=o.props.children);var u="object"===typeof o&&null!==o;if(u)switch(o.$$typeof){case S:e:{for(u=o.key,c=r;null!==c;){if(c.key===u){if(7===c.tag){if(o.type===T){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=To(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===T?((r=ql(o.props.children,e.mode,l,o.key)).return=e,e=r):((l=Kl(o.type,o.key,o.props,null,e.mode,l)).ref=To(e,r,o),l.return=e,e=l)}return s(e);case k:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yl(o,e.mode,l)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Zl(o,e.mode,l)).return=e,e=r),s(e);if(ko(o))return m(e,r,o,l);if(H(o))return g(e,r,o,l);if(u&&Eo(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,K(e.type)||"Component"))}return n(e,r)}}var Co=_o(!0),Oo=_o(!1),Po={},Ao=ci(Po),Io=ci(Po),Mo=ci(Po);function No(e){if(e===Po)throw Error(a(174));return e}function Ro(e,t){switch(di(Mo,t),di(Io,e),di(Ao,Po),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:he(null,"");break;default:t=he(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Ao),di(Ao,t)}function Do(){ui(Ao),ui(Io),ui(Mo)}function Lo(e){No(Mo.current);var t=No(Ao.current),n=he(t,e.type);t!==n&&(di(Io,e),di(Ao,n))}function jo(e){Io.current===e&&(ui(Ao),ui(Io))}var Bo=ci(0);function Fo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Uo=null,$o=null,Ho=!1;function Go(e,t){var n=Vl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vo(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function zo(e){if(Ho){var t=$o;if(t){var n=t;if(!Vo(e,t)){if(!(t=qr(n.nextSibling))||!Vo(e,t))return e.flags=-1025&e.flags|2,Ho=!1,void(Uo=e);Go(Uo,n)}Uo=e,$o=qr(t.firstChild)}else e.flags=-1025&e.flags|2,Ho=!1,Uo=e}}function Wo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Uo=e}function Ko(e){if(e!==Uo)return!1;if(!Ho)return Wo(e),Ho=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Vr(t,e.memoizedProps))for(t=$o;t;)Go(e,t),t=qr(t.nextSibling);if(Wo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){$o=qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}$o=null}}else $o=Uo?qr(e.stateNode.nextSibling):null;return!0}function qo(){$o=Uo=null,Ho=!1}var Xo=[];function Zo(){for(var e=0;e<Xo.length;e++)Xo[e]._workInProgressVersionPrimary=null;Xo.length=0}var Yo=x.ReactCurrentDispatcher,Qo=x.ReactCurrentBatchConfig,Jo=0,ea=null,ta=null,na=null,ra=!1,ia=!1;function oa(){throw Error(a(321))}function aa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function sa(e,t,n,r,i,o){if(Jo=o,ea=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yo.current=null===e||null===e.memoizedState?Na:Ra,e=n(r,i),ia){o=0;do{if(ia=!1,!(25>o))throw Error(a(301));o+=1,na=ta=null,t.updateQueue=null,Yo.current=Da,e=n(r,i)}while(ia)}if(Yo.current=Ma,t=null!==ta&&null!==ta.next,Jo=0,na=ta=ea=null,ra=!1,t)throw Error(a(300));return e}function la(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===na?ea.memoizedState=na=e:na=na.next=e,na}function ca(){if(null===ta){var e=ea.alternate;e=null!==e?e.memoizedState:null}else e=ta.next;var t=null===na?ea.memoizedState:na.next;if(null!==t)na=t,ta=e;else{if(null===e)throw Error(a(310));e={memoizedState:(ta=e).memoizedState,baseState:ta.baseState,baseQueue:ta.baseQueue,queue:ta.queue,next:null},null===na?ea.memoizedState=na=e:na=na.next=e}return na}function ua(e,t){return"function"===typeof t?t(e):t}function da(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=ta,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,c=i;do{var u=c.lane;if((Jo&u)===u)null!==l&&(l=l.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=d,o=r):l=l.next=d,ea.lanes|=u,$s|=u}c=c.next}while(null!==c&&c!==i);null===l?o=r:l.next=s,ur(r,t.memoizedState)||(ja=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function pa(e){var t=ca(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);ur(o,t.memoizedState)||(ja=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function fa(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Jo&e)===e)&&(t._workInProgressVersionPrimary=r,Xo.push(t))),e)return n(t._source);throw Xo.push(t),Error(a(350))}function ha(e,t,n,r){var i=Ns;if(null===i)throw Error(a(349));var o=t._getVersion,s=o(t._source),l=Yo.current,c=l.useState((function(){return fa(i,t,n)})),u=c[1],d=c[0];c=na;var p=e.memoizedState,f=p.refs,h=f.getSnapshot,m=p.source;p=p.subscribe;var g=ea;return e.memoizedState={refs:f,source:t,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=u;var e=o(t._source);if(!ur(s,e)){e=n(t._source),ur(d,e)||(u(e),e=fl(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,a=e;0<a;){var l=31-Vt(a),c=1<<l;r[l]|=e,a&=~c}}}),[n,t,r]),l.useEffect((function(){return r(t._source,(function(){var e=f.getSnapshot,n=f.setSnapshot;try{n(e(t._source));var r=fl(g);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[t,r]),ur(h,n)&&ur(m,t)&&ur(p,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:d}).dispatch=u=Ia.bind(null,ea,e),c.queue=e,c.baseQueue=null,d=fa(i,t,n),c.memoizedState=c.baseState=d),d}function ma(e,t,n){return ha(ca(),e,t,n)}function ga(e){var t=la();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ua,lastRenderedState:e}).dispatch=Ia.bind(null,ea,e),[t.memoizedState,e]}function va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ea.updateQueue)?(t={lastEffect:null},ea.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ya(e){return e={current:e},la().memoizedState=e}function ba(){return ca().memoizedState}function wa(e,t,n,r){var i=la();ea.flags|=e,i.memoizedState=va(1|t,n,void 0,void 0===r?null:r)}function xa(e,t,n,r){var i=ca();r=void 0===r?null:r;var o=void 0;if(null!==ta){var a=ta.memoizedState;if(o=a.destroy,null!==r&&aa(r,a.deps))return void va(t,n,o,r)}ea.flags|=e,i.memoizedState=va(1|t,n,o,r)}function Sa(e,t){return wa(516,4,e,t)}function ka(e,t){return xa(516,4,e,t)}function Ta(e,t){return xa(4,2,e,t)}function Ea(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function _a(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xa(4,2,Ea.bind(null,t,e),n)}function Ca(){}function Oa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Pa(e,t){var n=ca();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&aa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Aa(e,t){var n=Vi();Wi(98>n?98:n,(function(){e(!0)})),Wi(97<n?97:n,(function(){var n=Qo.transition;Qo.transition=1;try{e(!1),t()}finally{Qo.transition=n}}))}function Ia(e,t,n){var r=pl(),i=fl(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===ea||null!==a&&a===ea)ia=ra=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,ur(l,s))return}catch(c){}hl(e,i,r)}}var Ma={readContext:ao,useCallback:oa,useContext:oa,useEffect:oa,useImperativeHandle:oa,useLayoutEffect:oa,useMemo:oa,useReducer:oa,useRef:oa,useState:oa,useDebugValue:oa,useDeferredValue:oa,useTransition:oa,useMutableSource:oa,useOpaqueIdentifier:oa,unstable_isNewReconciler:!1},Na={readContext:ao,useCallback:function(e,t){return la().memoizedState=[e,void 0===t?null:t],e},useContext:ao,useEffect:Sa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wa(4,2,Ea.bind(null,t,e),n)},useLayoutEffect:function(e,t){return wa(4,2,e,t)},useMemo:function(e,t){var n=la();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=la();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ia.bind(null,ea,e),[r.memoizedState,e]},useRef:ya,useState:ga,useDebugValue:Ca,useDeferredValue:function(e){var t=ga(e),n=t[0],r=t[1];return Sa((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=ga(!1),t=e[0];return ya(e=Aa.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=la();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ha(r,e,t,n)},useOpaqueIdentifier:function(){if(Ho){var e=!1,t=function(e){return{$$typeof:D,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Zr++).toString(36))),Error(a(355))})),n=ga(t)[1];return 0===(2&ea.mode)&&(ea.flags|=516,va(5,(function(){n("r:"+(Zr++).toString(36))}),void 0,null)),t}return ga(t="r:"+(Zr++).toString(36)),t},unstable_isNewReconciler:!1},Ra={readContext:ao,useCallback:Oa,useContext:ao,useEffect:ka,useImperativeHandle:_a,useLayoutEffect:Ta,useMemo:Pa,useReducer:da,useRef:ba,useState:function(){return da(ua)},useDebugValue:Ca,useDeferredValue:function(e){var t=da(ua),n=t[0],r=t[1];return ka((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=da(ua)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return da(ua)[0]},unstable_isNewReconciler:!1},Da={readContext:ao,useCallback:Oa,useContext:ao,useEffect:ka,useImperativeHandle:_a,useLayoutEffect:Ta,useMemo:Pa,useReducer:pa,useRef:ba,useState:function(){return pa(ua)},useDebugValue:Ca,useDeferredValue:function(e){var t=pa(ua),n=t[0],r=t[1];return ka((function(){var t=Qo.transition;Qo.transition=1;try{r(e)}finally{Qo.transition=t}}),[e]),n},useTransition:function(){var e=pa(ua)[0];return[ba().current,e]},useMutableSource:ma,useOpaqueIdentifier:function(){return pa(ua)[0]},unstable_isNewReconciler:!1},La=x.ReactCurrentOwner,ja=!1;function Ba(e,t,n,r){t.child=null===e?Oo(t,null,n,r):Co(t,e.child,n,r)}function Fa(e,t,n,r,i){n=n.render;var o=t.ref;return oo(t,i),r=sa(e,t,n,r,o,i),null===e||ja?(t.flags|=1,Ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function Ua(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||zl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kl(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,$a(e,t,a,r,i,o))}return a=e.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:pr)(i,r)&&e.ref===t.ref)?os(e,t,o):(t.flags|=1,(e=Wl(a,r)).ref=t.ref,e.return=t,t.child=e)}function $a(e,t,n,r,i,o){if(null!==e&&pr(e.memoizedProps,r)&&e.ref===t.ref){if(ja=!1,0===(o&i))return t.lanes=e.lanes,os(e,t,o);0!==(16384&e.flags)&&(ja=!0)}return Va(e,t,n,r,o)}function Ha(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},Sl(t,n);else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},Sl(t,e),null;t.memoizedState={baseLanes:0},Sl(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Sl(t,r);return Ba(e,t,i,n),t.child}function Ga(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Va(e,t,n,r,i){var o=vi(n)?mi:fi.current;return o=gi(t,o),oo(t,i),n=sa(e,t,n,r,o,i),null===e||ja?(t.flags|=1,Ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,os(e,t,i))}function za(e,t,n,r,i){if(vi(n)){var o=!0;xi(t)}else o=!1;if(oo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),wo(t,n,r),So(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=gi(t,c=vi(n)?mi:fi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==c)&&xo(t,a,r,c),so=!1;var p=t.memoizedState;a.state=p,ho(t,r,a,i),l=t.memoizedState,s!==r||p!==l||hi.current||so?("function"===typeof u&&(vo(t,n,u,r),l=t.memoizedState),(s=so||bo(t,n,s,r,p,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4)):("function"===typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,co(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),a.props=c,d=t.pendingProps,p=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ao(l):l=gi(t,l=vi(n)?mi:fi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||p!==l)&&xo(t,a,r,l),so=!1,p=t.memoizedState,a.state=p,ho(t,r,a,i);var h=t.memoizedState;s!==d||p!==h||hi.current||so?("function"===typeof f&&(vo(t,n,f,r),h=t.memoizedState),(c=so||bo(t,n,c,r,p,h,l))?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=256),r=!1)}return Wa(e,t,n,r,o,i)}function Wa(e,t,n,r,i,o){Ga(e,t);var a=0!==(64&t.flags);if(!r&&!a)return i&&Si(t,n,!1),os(e,t,o);r=t.stateNode,La.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Co(t,e.child,null,o),t.child=Co(t,null,s,o)):Ba(e,t,s,o),t.memoizedState=r.state,i&&Si(t,n,!0),t.child}function Ka(e){var t=e.stateNode;t.pendingContext?bi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&bi(0,t.context,!1),Ro(e,t.containerInfo)}var qa,Xa,Za,Ya={dehydrated:null,retryLane:0};function Qa(e,t,n){var r,i=t.pendingProps,o=Bo.current,a=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),di(Bo,1&o),null===e?(void 0!==i.fallback&&zo(t),e=i.children,o=i.fallback,a?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,e):"number"===typeof i.unstable_expectedLoadTime?(e=Ja(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Ya,t.lanes=33554432,e):((n=Xl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=ts(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=Ya,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Ja(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=Xl(t,i,0,null),n=ql(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wl(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wl(a,s),null!==e?r=Wl(e,r):(r=ql(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),io(e.return,t)}function rs(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Ba(e,t,r.children,n),0!==(2&(r=Bo.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(di(Bo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Fo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,o,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function os(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),$s|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Wl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function as(e,t){if(!Ho)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return vi(t.type)&&yi(),null;case 3:return Do(),ui(hi),ui(fi),Zo(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ko(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:jo(t);var o=No(Mo.current);if(n=t.type,null!==e&&null!=t.stateNode)Xa(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=No(Ao.current),Ko(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Qr]=t,r[Jr]=s,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(e=0;e<_r.length;e++)Ar(_r[e],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":ee(r,s),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ar("invalid",r);break;case"textarea":le(r,s),Ar("invalid",r)}for(var c in Te(n,s),e=null,s)s.hasOwnProperty(c)&&(o=s[c],"children"===c?"string"===typeof o?r.textContent!==o&&(e=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(e=["children",""+o]):l.hasOwnProperty(c)&&null!=o&&"onScroll"===c&&Ar("scroll",r));switch(n){case"input":Z(r),re(r,s,!0);break;case"textarea":Z(r),ue(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===o.nodeType?o:o.ownerDocument,e===de&&(e=fe(n)),e===de?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Qr]=t,e[Jr]=r,qa(e,t),t.stateNode=e,c=Ee(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),o=r;break;case"iframe":case"object":case"embed":Ar("load",e),o=r;break;case"video":case"audio":for(o=0;o<_r.length;o++)Ar(_r[o],e);o=r;break;case"source":Ar("error",e),o=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),o=r;break;case"details":Ar("toggle",e),o=r;break;case"input":ee(e,r),o=J(e,r),Ar("invalid",e);break;case"option":o=oe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":le(e,r),o=se(e,r),Ar("invalid",e);break;default:o=r}Te(n,o);var u=o;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];"style"===s?Se(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ve(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&ye(e,d):"number"===typeof d&&ye(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Ar("scroll",e):null!=d&&w(e,s,d,c))}switch(n){case"input":Z(e),re(e,r,!1);break;case"textarea":Z(e),ue(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ae(e,!!r.multiple,s,!1):null!=r.defaultValue&&ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Ur)}Gr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Za(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=No(Mo.current),No(Ao.current),Ko(t)?(r=t.stateNode,n=t.memoizedProps,r[Qr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Qr]=t,t.stateNode=r)}return null;case 13:return ui(Bo),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ko(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Bo.current)?0===Bs&&(Bs=3):(0!==Bs&&3!==Bs||(Bs=4),null===Ns||0===(134217727&$s)&&0===(134217727&Hs)||yl(Ns,Ds))),(r||n)&&(t.flags|=4),null);case 4:return Do(),null===e&&Mr(t.stateNode.containerInfo),null;case 10:return ro(t),null;case 19:if(ui(Bo),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)as(r,!1);else{if(0!==Bs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Fo(e))){for(t.flags|=64,as(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return di(Bo,1&Bo.current|2),t.child}e=e.sibling}null!==r.tail&&Gi()>Ws&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Fo(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),as(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Ho)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,as(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,t=Bo.current,di(Bo,s?1&t|2:1&t),n):null;case 23:case 24:return kl(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(a(156,t.tag))}function ls(e){switch(e.tag){case 1:vi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Do(),ui(hi),ui(fi),Zo(),0!==(64&(t=e.flags)))throw Error(a(285));return e.flags=-4097&t|64,e;case 5:return jo(e),null;case 13:return ui(Bo),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ui(Bo),null;case 4:return Do(),null;case 10:return ro(e),null;case 23:case 24:return kl(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i}}function us(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}qa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,No(Ao.current);var a,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"option":o=oe(e,o),r=oe(e,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=se(e,o),r=se(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(d in Te(n,r),n=null,o)if(!r.hasOwnProperty(d)&&o.hasOwnProperty(d)&&null!=o[d])if("style"===d){var c=o[d];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(c=null!=o?o[d]:void 0,r.hasOwnProperty(d)&&u!==c&&(null!=u||null!=c))if("style"===d)if(c){for(a in c)!c.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&c[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else"dangerouslySetInnerHTML"===d?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(s=s||[]).push(d,u)):"children"===d?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(d,""+u):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=u&&"onScroll"===d&&Ar("scroll",e),s||c===u||(s=[])):"object"===typeof u&&null!==u&&u.$$typeof===D?u.toString():(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Za=function(e,t,n,r){n!==r&&(t.flags|=4)};var ds="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=uo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zs||(Zs=!0,Ys=r),us(0,t)},n}function fs(e,t,n){(n=uo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return us(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Qs?Qs=new Set([this]):Qs.add(this),us(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var hs="function"===typeof WeakSet?WeakSet:Set;function ms(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Ul(e,n)}else t.current=null}function gs(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Kr(t.stateNode.containerInfo))}throw Error(a(163))}function vs(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(jl(n,e),Ll(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&mo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}mo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Gr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&St(n)))))}throw Error(a(163))}function ys(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=xe("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function bs(e,t){if(Ti&&"function"===typeof Ti.onCommitFiberUnmount)try{Ti.onCommitFiberUnmount(ki,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))jl(t,n);else{r=t;try{i()}catch(o){Ul(r,o)}}n=n.next}while(n!==e)}break;case 1:if(ms(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){Ul(t,o)}break;case 5:ms(t);break;case 4:Es(e,t)}}function ws(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function xs(e){return 5===e.tag||3===e.tag||4===e.tag}function Ss(e){e:{for(var t=e.return;null!==t;){if(xs(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||xs(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?ks(e,n,t):Ts(e,n,t)}function ks(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(ks(e,t,n),e=e.sibling;null!==e;)ks(e,t,n),e=e.sibling}function Ts(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ts(e,t,n),e=e.sibling;null!==e;)Ts(e,t,n),e=e.sibling}function Es(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var s=e,l=i,c=l;;)if(bs(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===l)break e;for(;null===c.sibling;){if(null===c.return||c.return===l)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(bs(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function _s(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ee(e,i),t=Ee(e,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?Se(n,l):"dangerouslySetInnerHTML"===s?ve(n,l):"children"===s?ye(n,l):w(n,s,l,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ae(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ae(n,!!r.multiple,r.defaultValue,!0):ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,St(n.containerInfo)));case 13:return null!==t.memoizedState&&(zs=Gi(),ys(t.child,!0)),void Cs(t);case 19:return void Cs(t);case 23:case 24:return void ys(t,null!==t.memoizedState)}throw Error(a(163))}function Cs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new hs),t.forEach((function(t){var r=Hl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Os(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ps=Math.ceil,As=x.ReactCurrentDispatcher,Is=x.ReactCurrentOwner,Ms=0,Ns=null,Rs=null,Ds=0,Ls=0,js=ci(0),Bs=0,Fs=null,Us=0,$s=0,Hs=0,Gs=0,Vs=null,zs=0,Ws=1/0;function Ks(){Ws=Gi()+500}var qs,Xs=null,Zs=!1,Ys=null,Qs=null,Js=!1,el=null,tl=90,nl=[],rl=[],il=null,ol=0,al=null,sl=-1,ll=0,cl=0,ul=null,dl=!1;function pl(){return 0!==(48&Ms)?Gi():-1!==sl?sl:sl=Gi()}function fl(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Vi()?1:2;if(0===ll&&(ll=Us),0!==Zi.transition){0!==cl&&(cl=null!==Vs?Vs.pendingLanes:0),e=ll;var t=4186112&~cl;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Vi(),0!==(4&Ms)&&98===e?e=Ut(12,ll):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ll),e}function hl(e,t,n){if(50<ol)throw ol=0,al=null,Error(a(185));if(null===(e=ml(e,t)))return null;Gt(e,t,n),e===Ns&&(Hs|=t,4===Bs&&yl(e,Ds));var r=Vi();1===t?0!==(8&Ms)&&0===(48&Ms)?bl(e):(gl(e,n),0===Ms&&(Ks(),qi())):(0===(4&Ms)||98!==r&&99!==r||(null===il?il=new Set([e]):il.add(e)),gl(e,n)),Vs=e}function ml(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function gl(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-Vt(s),c=1<<l,u=o[l];if(-1===u){if(0===(c&r)||0!==(c&i)){u=t,jt(c);var d=Lt;o[l]=10<=d?u+250:6<=d?u+5e3:-1}}else u<=t&&(e.expiredLanes|=c);s&=~c}if(r=Bt(e,e===Ns?Ds:0),t=Lt,0===r)null!==n&&(n!==ji&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==ji&&Ci(n)}15===t?(n=bl.bind(null,e),null===Fi?(Fi=[n],Ui=_i(Mi,Xi)):Fi.push(n),n=ji):14===t?n=Ki(99,bl.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,e))}}(t),n=Ki(n,vl.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function vl(e){if(sl=-1,cl=ll=0,0!==(48&Ms))throw Error(a(327));var t=e.callbackNode;if(Dl()&&e.callbackNode!==t)return null;var n=Bt(e,e===Ns?Ds:0);if(0===n)return null;var r=n,i=Ms;Ms|=16;var o=_l();for(Ns===e&&Ds===r||(Ks(),Tl(e,r));;)try{Pl();break}catch(l){El(e,l)}if(no(),As.current=o,Ms=i,null!==Rs?r=0:(Ns=null,Ds=0,r=Bs),0!==(Us&Hs))Tl(e,0);else if(0!==r){if(2===r&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(n=Ft(e))&&(r=Cl(e,n))),1===r)throw t=Fs,Tl(e,0),yl(e,n),gl(e,Gi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:case 5:Ml(e);break;case 3:if(yl(e,n),(62914560&n)===n&&10<(r=zs+500-Gi())){if(0!==Bt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){pl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zr(Ml.bind(null,e),r);break}Ml(e);break;case 4:if(yl(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-Vt(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Gi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){e.timeoutHandle=zr(Ml.bind(null,e),n);break}Ml(e);break;default:throw Error(a(329))}}return gl(e,Gi()),e.callbackNode===t?vl.bind(null,e):null}function yl(e,t){for(t&=~Gs,t&=~Hs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Vt(t),r=1<<n;e[n]=-1,t&=~r}}function bl(e){if(0!==(48&Ms))throw Error(a(327));if(Dl(),e===Ns&&0!==(e.expiredLanes&Ds)){var t=Ds,n=Cl(e,t);0!==(Us&Hs)&&(n=Cl(e,t=Bt(e,t)))}else n=Cl(e,t=Bt(e,0));if(0!==e.tag&&2===n&&(Ms|=64,e.hydrate&&(e.hydrate=!1,Kr(e.containerInfo)),0!==(t=Ft(e))&&(n=Cl(e,t))),1===n)throw n=Fs,Tl(e,0),yl(e,t),gl(e,Gi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ml(e),gl(e,Gi()),null}function wl(e,t){var n=Ms;Ms|=1;try{return e(t)}finally{0===(Ms=n)&&(Ks(),qi())}}function xl(e,t){var n=Ms;Ms&=-2,Ms|=8;try{return e(t)}finally{0===(Ms=n)&&(Ks(),qi())}}function Sl(e,t){di(js,Ls),Ls|=t,Us|=t}function kl(){Ls=js.current,ui(js)}function Tl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Wr(n)),null!==Rs)for(n=Rs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Do(),ui(hi),ui(fi),Zo();break;case 5:jo(r);break;case 4:Do();break;case 13:case 19:ui(Bo);break;case 10:ro(r);break;case 23:case 24:kl()}n=n.return}Ns=e,Rs=Wl(e.current,null),Ds=Ls=Us=t,Bs=0,Fs=null,Gs=Hs=$s=0}function El(e,t){for(;;){var n=Rs;try{if(no(),Yo.current=Ma,ra){for(var r=ea.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ra=!1}if(Jo=0,na=ta=ea=null,ia=!1,Is.current=null,null===n||null===n.return){Bs=1,Fs=t,Rs=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=Ds,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l;if(0===(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var d=0!==(1&Bo.current),p=a;do{var f;if(f=13===p.tag){var h=p.memoizedState;if(null!==h)f=null!==h.dehydrated;else{var m=p.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!d)}}if(f){var g=p.updateQueue;if(null===g){var v=new Set;v.add(c),p.updateQueue=v}else g.add(c);if(0===(2&p.mode)){if(p.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=uo(-1,1);y.tag=2,po(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new ds,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var w=$l.bind(null,o,c,s);c.then(w,w)}p.flags|=4096,p.lanes=t;break e}p=p.return}while(null!==p);l=Error((K(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Bs&&(Bs=2),l=cs(l,s),p=a;do{switch(p.tag){case 3:o=l,p.flags|=4096,t&=-t,p.lanes|=t,fo(p,ps(0,o,t));break e;case 1:o=l;var x=p.type,S=p.stateNode;if(0===(64&p.flags)&&("function"===typeof x.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Qs||!Qs.has(S)))){p.flags|=4096,t&=-t,p.lanes|=t,fo(p,fs(p,o,t));break e}}p=p.return}while(null!==p)}Il(n)}catch(k){t=k,Rs===n&&null!==n&&(Rs=n=n.return);continue}break}}function _l(){var e=As.current;return As.current=Ma,null===e?Ma:e}function Cl(e,t){var n=Ms;Ms|=16;var r=_l();for(Ns===e&&Ds===t||Tl(e,t);;)try{Ol();break}catch(i){El(e,i)}if(no(),Ms=n,As.current=r,null!==Rs)throw Error(a(261));return Ns=null,Ds=0,Bs}function Ol(){for(;null!==Rs;)Al(Rs)}function Pl(){for(;null!==Rs&&!Oi();)Al(Rs)}function Al(e){var t=qs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Il(e):Rs=t,Is.current=null}function Il(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Rs=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ls(t)))return n.flags&=2047,void(Rs=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Rs=t);Rs=t=e}while(null!==t);0===Bs&&(Bs=5)}function Ml(e){var t=Vi();return Wi(99,Nl.bind(null,e,t)),null}function Nl(e,t){do{Dl()}while(null!==el);if(0!==(48&Ms))throw Error(a(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,l=e.expirationTimes;0<o;){var c=31-Vt(o),u=1<<c;i[c]=0,s[c]=-1,l[c]=-1,o&=~u}if(null!==il&&0===(24&r)&&il.has(e)&&il.delete(e),e===Ns&&(Rs=Ns=null,Ds=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ms,Ms|=32,Is.current=null,$r=Xt,vr(s=gr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else e:if(l=(l=s.ownerDocument)&&l.defaultView||window,(u=l.getSelection&&l.getSelection())&&0!==u.rangeCount){l=u.anchorNode,o=u.anchorOffset,c=u.focusNode,u=u.focusOffset;try{l.nodeType,c.nodeType}catch(_){l=null;break e}var d=0,p=-1,f=-1,h=0,m=0,g=s,v=null;t:for(;;){for(var y;g!==l||0!==o&&3!==g.nodeType||(p=d+o),g!==c||0!==u&&3!==g.nodeType||(f=d+u),3===g.nodeType&&(d+=g.nodeValue.length),null!==(y=g.firstChild);)v=g,g=y;for(;;){if(g===s)break t;if(v===l&&++h===o&&(p=d),v===c&&++m===u&&(f=d),null!==(y=g.nextSibling))break;v=(g=v).parentNode}g=y}l=-1===p||-1===f?null:{start:p,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;Hr={focusedElem:s,selectionRange:l},Xt=!1,ul=null,dl=!1,Xs=r;do{try{Rl()}catch(_){if(null===Xs)throw Error(a(330));Ul(Xs,_),Xs=Xs.nextEffect}}while(null!==Xs);ul=null,Xs=r;do{try{for(s=e;null!==Xs;){var b=Xs.flags;if(16&b&&ye(Xs.stateNode,""),128&b){var w=Xs.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&b){case 2:Ss(Xs),Xs.flags&=-3;break;case 6:Ss(Xs),Xs.flags&=-3,_s(Xs.alternate,Xs);break;case 1024:Xs.flags&=-1025;break;case 1028:Xs.flags&=-1025,_s(Xs.alternate,Xs);break;case 4:_s(Xs.alternate,Xs);break;case 8:Es(s,l=Xs);var S=l.alternate;ws(l),null!==S&&ws(S)}Xs=Xs.nextEffect}}catch(_){if(null===Xs)throw Error(a(330));Ul(Xs,_),Xs=Xs.nextEffect}}while(null!==Xs);if(x=Hr,w=gr(),b=x.focusedElem,s=x.selectionRange,w!==b&&b&&b.ownerDocument&&mr(b.ownerDocument.documentElement,b)){null!==s&&vr(b)&&(w=s.start,void 0===(x=s.end)&&(x=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(x,b.value.length)):(x=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=b.textContent.length,S=Math.min(s.start,l),s=void 0===s.end?S:Math.min(s.end,l),!x.extend&&S>s&&(l=s,s=S,S=l),l=hr(b,S),o=hr(b,s),l&&o&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),S>s?(x.addRange(w),x.extend(o.node,o.offset)):(w.setEnd(o.node,o.offset),x.addRange(w))))),w=[];for(x=b;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof b.focus&&b.focus(),b=0;b<w.length;b++)(x=w[b]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Xt=!!$r,Hr=$r=null,e.current=n,Xs=r;do{try{for(b=e;null!==Xs;){var k=Xs.flags;if(36&k&&vs(b,Xs.alternate,Xs),128&k){w=void 0;var T=Xs.ref;if(null!==T){var E=Xs.stateNode;Xs.tag,w=E,"function"===typeof T?T(w):T.current=w}}Xs=Xs.nextEffect}}catch(_){if(null===Xs)throw Error(a(330));Ul(Xs,_),Xs=Xs.nextEffect}}while(null!==Xs);Xs=null,Bi(),Ms=i}else e.current=n;if(Js)Js=!1,el=e,tl=t;else for(Xs=r;null!==Xs;)t=Xs.nextEffect,Xs.nextEffect=null,8&Xs.flags&&((k=Xs).sibling=null,k.stateNode=null),Xs=t;if(0===(r=e.pendingLanes)&&(Qs=null),1===r?e===al?ol++:(ol=0,al=e):ol=0,n=n.stateNode,Ti&&"function"===typeof Ti.onCommitFiberRoot)try{Ti.onCommitFiberRoot(ki,n,void 0,64===(64&n.current.flags))}catch(_){}if(gl(e,Gi()),Zs)throw Zs=!1,e=Ys,Ys=null,e;return 0!==(8&Ms)||qi(),null}function Rl(){for(;null!==Xs;){var e=Xs.alternate;dl||null===ul||(0!==(8&Xs.flags)?et(Xs,ul)&&(dl=!0):13===Xs.tag&&Os(e,Xs)&&et(Xs,ul)&&(dl=!0));var t=Xs.flags;0!==(256&t)&&gs(e,Xs),0===(512&t)||Js||(Js=!0,Ki(97,(function(){return Dl(),null}))),Xs=Xs.nextEffect}}function Dl(){if(90!==tl){var e=97<tl?97:tl;return tl=90,Wi(e,Bl)}return!1}function Ll(e,t){nl.push(t,e),Js||(Js=!0,Ki(97,(function(){return Dl(),null})))}function jl(e,t){rl.push(t,e),Js||(Js=!0,Ki(97,(function(){return Dl(),null})))}function Bl(){if(null===el)return!1;var e=el;if(el=null,0!==(48&Ms))throw Error(a(331));var t=Ms;Ms|=32;var n=rl;rl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===o)throw Error(a(330));Ul(o,c)}}for(n=nl,nl=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(c){if(null===o)throw Error(a(330));Ul(o,c)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ms=t,qi(),!0}function Fl(e,t,n){po(e,t=ps(0,t=cs(n,t),1)),t=pl(),null!==(e=ml(e,1))&&(Gt(e,1,t),gl(e,t))}function Ul(e,t){if(3===e.tag)Fl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Fl(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r))){var i=fs(n,e=cs(t,e),1);if(po(n,i),i=pl(),null!==(n=ml(n,1)))Gt(n,1,i),gl(n,i);else if("function"===typeof r.componentDidCatch&&(null===Qs||!Qs.has(r)))try{r.componentDidCatch(t,e)}catch(o){}break}}n=n.return}}function $l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=pl(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Ds&n)===n&&(4===Bs||3===Bs&&(62914560&Ds)===Ds&&500>Gi()-zs?Tl(e,0):Gs|=n),gl(e,t)}function Hl(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Vi()?1:2:(0===ll&&(ll=Us),0===(t=$t(62914560&~ll))&&(t=4194304))),n=pl(),null!==(e=ml(e,t))&&(Gt(e,t,n),gl(e,n))}function Gl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(e,t,n,r){return new Gl(e,t,n,r)}function zl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wl(e,t){var n=e.alternate;return null===n?((n=Vl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kl(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)zl(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case T:return ql(n.children,i,o,t);case L:s=8,i|=16;break;case E:s=8,i|=1;break;case _:return(e=Vl(12,n,t,8|i)).elementType=_,e.type=_,e.lanes=o,e;case A:return(e=Vl(13,n,t,i)).type=A,e.elementType=A,e.lanes=o,e;case I:return(e=Vl(19,n,t,i)).elementType=I,e.lanes=o,e;case j:return Xl(n,i,o,t);case B:return(e=Vl(24,n,t,i)).elementType=B,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case O:s=9;break e;case P:s=11;break e;case M:s=14;break e;case N:s=16,r=null;break e;case R:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Vl(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ql(e,t,n,r){return(e=Vl(7,e,r,t)).lanes=n,e}function Xl(e,t,n,r){return(e=Vl(23,e,r,t)).elementType=j,e.lanes=n,e}function Zl(e,t,n){return(e=Vl(6,e,null,t)).lanes=n,e}function Yl(e,t,n){return(t=Vl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ht(0),this.expirationTimes=Ht(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ht(0),this.mutableSourceEagerHydrationData=null}function Jl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,o=pl(),s=fl(i);e:if(n){t:{if(Ze(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(vi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var c=n.type;if(vi(c)){n=wi(n,c,l);break e}}n=l}else n=pi;return null===t.context?t.context=n:t.pendingContext=n,(t=uo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),po(i,t),hl(i,s,o),s}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=Vl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,lo(t),e[ei]=n.current,Mr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function oc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=tc(a);s.call(e)}}ec(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var e=tc(a);l.call(e)}}xl((function(){ec(t,a,e,i)}))}return tc(a)}function sc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!oc(t))throw Error(a(200));return Jl(e,t,null,n)}qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||hi.current)ja=!0;else{if(0===(n&r)){switch(ja=!1,t.tag){case 3:Ka(t),qo();break;case 5:Lo(t);break;case 1:vi(t.type)&&xi(t);break;case 4:Ro(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;di(Qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Qa(e,t,n):(di(Bo,1&Bo.current),null!==(t=os(e,t,n))?t.sibling:null);di(Bo,1&Bo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),di(Bo,Bo.current),r)break;return null;case 23:case 24:return t.lanes=0,Ha(e,t,n)}return os(e,t,n)}ja=0!==(16384&e.flags)}else ja=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=gi(t,fi.current),oo(t,n),i=sa(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,vi(r)){var o=!0;xi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,lo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&vo(t,r,s,e),i.updater=yo,t.stateNode=i,i._reactInternals=t,So(t,r,e,n),t=Wa(null,t,r,!0,o,n)}else t.tag=0,Ba(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"===typeof e)return zl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===P)return 11;if(e===M)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=Va(null,t,i,e,n);break e;case 1:t=za(null,t,i,e,n);break e;case 11:t=Fa(null,t,i,e,n);break e;case 14:t=Ua(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Va(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,za(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Ka(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,co(e,t),ho(t,r,null,n),(r=t.memoizedState.element)===i)qo(),t=os(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&($o=qr(t.stateNode.containerInfo.firstChild),Uo=t,o=Ho=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],Xo.push(o);for(n=Oo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ba(e,t,r,n),qo();t=t.child}return t;case 5:return Lo(t),null===e&&zo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==o&&Vr(r,o)&&(t.flags|=16),Ga(e,t),Ba(e,t,s,n),t.child;case 6:return null===e&&zo(t),null;case 13:return Qa(e,t,n);case 4:return Ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Co(t,null,r,n):Ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fa(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var l=t.type._context;if(di(Qi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=ur(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!hi.current){t=os(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.dependencies;if(null!==c){s=l.child;for(var u=c.firstContext;null!==u;){if(u.context===r&&0!==(u.observedBits&o)){1===l.tag&&((u=uo(-1,n&-n)).tag=2,po(l,u)),l.lanes|=n,null!==(u=l.alternate)&&(u.lanes|=n),io(l.return,n),c.lanes|=n;break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,oo(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.flags|=1,Ba(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ua(e,t,i,o=Yi(i.type,o),r,n);case 15:return $a(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,vi(r)?(e=!0,xi(t)):e=!1,oo(t,n),wo(t,r,i),So(t,r,i,n),Wa(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return Ha(e,t,n)}throw Error(a(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(hl(e,4,pl()),rc(e,4))},nt=function(e){13===e.tag&&(hl(e,67108864,pl()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=pl(),n=fl(e);hl(e,n,t),rc(e,n)}},it=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=oi(r);if(!i)throw Error(a(90));Y(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&ae(e,!!n.multiple,t,!1)}},Ne=wl,Re=function(e,t,n,r,i){var o=Ms;Ms|=4;try{return Wi(98,e.bind(null,t,n,r,i))}finally{0===(Ms=o)&&(Ks(),qi())}},De=function(){0===(49&Ms)&&(function(){if(null!==il){var e=il;il=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,gl(e,Gi())}))}qi()}(),Dl())},Le=function(e,t){var n=Ms;Ms|=2;try{return e(t)}finally{0===(Ms=n)&&(Ks(),qi())}};var lc={Events:[ri,ii,oi,Ie,Me,Dl,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},uc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dc.isDisabled&&dc.supportsFiber)try{ki=dc.inject(uc),Ti=dc}catch(ge){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lc,t.createPortal=sc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ms;if(0!==(48&n))return e(t);Ms|=1;try{if(e)return Wi(99,e.bind(null,t))}finally{Ms=n,qi()}},t.hydrate=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!oc(t))throw Error(a(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!oc(e))throw Error(a(40));return!!e._reactRootContainer&&(xl((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=wl,t.unstable_createPortal=function(e,t){return sc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!oc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},73935:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(64448)},68718:(e,t,n)=>{"use strict";n.d(t,{Db:()=>m,JP:()=>p,OO:()=>d,nI:()=>h,zv:()=>f});var r=n(15671),i=n(43144),o=n(4942),a=n(67294);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c,u={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0},d=a.createContext();function p(){return u}var f=function(){function e(){(0,r.Z)(this,e),this.usedNamespaces={}}return(0,i.Z)(e,[{key:"addUsedNamespaces",value:function(e){var t=this;e.forEach((function(e){t.usedNamespaces[e]||(t.usedNamespaces[e]=!0)}))}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function h(){return c}var m={type:"3rdParty",init:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};u=l(l({},u),e)}(e.options.react),function(e){c=e}(e)}}},22327:(e,t,n)=>{"use strict";n.d(t,{$:()=>v});var r=n(83878);var i=n(88192),o=n(25267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(l){s=!0,i=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}var s=n(4942),l=n(67294),c=n(68718);function u(){if(console&&console.warn){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];"string"===typeof n[0]&&(n[0]="react-i18next:: ".concat(n[0])),(e=console).warn.apply(e,n)}}var d={};function p(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];"string"===typeof t[0]&&d[t[0]]||("string"===typeof t[0]&&(d[t[0]]=new Date),u.apply(void 0,t))}function f(e,t,n){e.loadNamespaces(t,(function(){if(e.isInitialized)n();else{e.on("initialized",(function t(){setTimeout((function(){e.off("initialized",t)}),0),n()}))}}))}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t.languages||!t.languages.length)return p("i18n.languages were undefined or empty",t.languages),!0;var r=t.languages[0],i=!!t.options&&t.options.fallbackLng,o=t.languages[t.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};return!(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!a(t.isLanguageChangingTo,e))&&(!!t.hasResourceBundle(r,e)||(!t.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e))))}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.i18n,r=(0,l.useContext)(c.OO)||{},i=r.i18n,o=r.defaultNS,s=n||i||(0,c.nI)();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new c.zv),!s){p("You will need to pass in an i18next instance by using initReactI18next");var u=function(e){return Array.isArray(e)?e[e.length-1]:e},d=[u,{},!1];return d.t=u,d.i18n={},d.ready=!1,d}s.options.react&&void 0!==s.options.react.wait&&p("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var m=g(g(g({},(0,c.JP)()),s.options.react),t),v=m.useSuspense,y=m.keyPrefix,b=e||o||s.options&&s.options.defaultNS;b="string"===typeof b?[b]:b||["translation"],s.reportNamespaces.addUsedNamespaces&&s.reportNamespaces.addUsedNamespaces(b);var w=(s.isInitialized||s.initializedStoreOnce)&&b.every((function(e){return h(e,s,m)}));function x(){return s.getFixedT(null,"fallback"===m.nsMode?b:b[0],y)}var S=(0,l.useState)(x),k=a(S,2),T=k[0],E=k[1],_=(0,l.useRef)(!0);(0,l.useEffect)((function(){var e=m.bindI18n,t=m.bindI18nStore;function n(){_.current&&E(x)}return _.current=!0,w||v||f(s,b,(function(){_.current&&E(x)})),e&&s&&s.on(e,n),t&&s&&s.store.on(t,n),function(){_.current=!1,e&&s&&e.split(" ").forEach((function(e){return s.off(e,n)})),t&&s&&t.split(" ").forEach((function(e){return s.store.off(e,n)}))}}),[s,b.join()]);var C=(0,l.useRef)(!0);(0,l.useEffect)((function(){_.current&&!C.current&&E(x),C.current=!1}),[s]);var O=[T,s,w];if(O.t=T,O.i18n=s,O.ready=w,w)return O;if(!w&&!v)return O;throw new Promise((function(e){f(s,b,(function(){e()}))}))}},69921:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case d:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case c:case p:case g:case m:case l:return e;default:return t}}case i:return t}}}function S(e){return x(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=p,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return S(e)||x(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===p},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===d||e===s||e===a||e===f||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===p||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=x},59864:(e,t,n)=>{"use strict";e.exports=n(69921)},26372:(e,t,n)=>{"use strict";n.d(t,{zt:()=>u,I0:()=>m,v9:()=>b});var r=n(67294),i=r.createContext(null);var o=function(e){e()},a=function(){return o};var s={notify:function(){},get:function(){return[]}};function l(e,t){var n,r=s;function i(){l.onStateChange&&l.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=a(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var l={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=s)},getListeners:function(){return r}};return l}var c="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;const u=function(e){var t=e.store,n=e.context,o=e.children,a=(0,r.useMemo)((function(){var e=l(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),s=(0,r.useMemo)((function(){return t.getState()}),[t]);c((function(){var e=a.subscription;return e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[a,s]);var u=n||i;return r.createElement(u.Provider,{value:a},o)};n(8679),n(72973);function d(){return(0,r.useContext)(i)}function p(e){void 0===e&&(e=i);var t=e===i?d:function(){return(0,r.useContext)(e)};return function(){return t().store}}var f=p();function h(e){void 0===e&&(e=i);var t=e===i?f:p(e);return function(){return t().dispatch}}var m=h(),g=function(e,t){return e===t};function v(e){void 0===e&&(e=i);var t=e===i?d:function(){return(0,r.useContext)(e)};return function(e,n){void 0===n&&(n=g);var i=t(),o=function(e,t,n,i){var o,a=(0,r.useReducer)((function(e){return e+1}),0)[1],s=(0,r.useMemo)((function(){return l(n,i)}),[n,i]),u=(0,r.useRef)(),d=(0,r.useRef)(),p=(0,r.useRef)(),f=(0,r.useRef)(),h=n.getState();try{if(e!==d.current||h!==p.current||u.current){var m=e(h);o=void 0!==f.current&&t(m,f.current)?f.current:m}else o=f.current}catch(g){throw u.current&&(g.message+="\nThe error may be correlated with this previous error:\n"+u.current.stack+"\n\n"),g}return c((function(){d.current=e,p.current=h,f.current=o,u.current=void 0})),c((function(){function e(){try{var e=n.getState();if(e===p.current)return;var r=d.current(e);if(t(r,f.current))return;f.current=r,p.current=e}catch(g){u.current=g}a()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(e,n,i.store,i.subscription);return(0,r.useDebugValue)(o),o}}var y,b=v(),w=n(73935);y=w.unstable_batchedUpdates,o=y},88359:(e,t)=>{"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,l=60110,c=60112,u=60113,d=60120,p=60115,f=60116,h=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),p=b("react.memo"),f=b("react.lazy"),h=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case p:case s:return e;default:return t}}case r:return t}}}},72973:(e,t,n)=>{"use strict";n(88359)},39249:(e,t,n)=>{"use strict";n.d(t,{Ix:()=>N,Am:()=>z});var r=n(67294);function i(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function o(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}var a=n(73935);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e){return"number"===typeof e&&!isNaN(e)}function u(e){return"boolean"===typeof e}function d(e){return"string"===typeof e}function p(e){return"function"===typeof e}function f(e){return d(e)||p(e)?e:null}function h(e){return 0===e||e}var m=!("undefined"===typeof window||!window.document||!window.document.createElement);function g(e){return(0,r.isValidElement)(e)||d(e)||p(e)||c(e)}var v={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},y={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function b(e){var t=e.enter,n=e.exit,i=e.appendPosition,o=void 0!==i&&i,a=e.collapse,s=void 0===a||a,l=e.collapseDuration,c=void 0===l?300:l;return function(e){var i=e.children,a=e.position,l=e.preventExitTransition,u=e.done,d=e.nodeRef,p=e.isIn,f=o?t+"--"+a:t,h=o?n+"--"+a:n,m=(0,r.useRef)(),g=(0,r.useRef)(0);function v(e){if(e.target===d.current){var t=d.current;t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",v),t.removeEventListener("animationcancel",v),0===g.current&&(t.className=m.current)}}function y(){var e=d.current;e.removeEventListener("animationend",y),s?function(e,t,n){void 0===n&&(n=300);var r=e.scrollHeight,i=e.style;requestAnimationFrame((function(){i.minHeight="initial",i.height=r+"px",i.transition="all "+n+"ms",requestAnimationFrame((function(){i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}(e,u,c):u()}return(0,r.useLayoutEffect)((function(){var e;e=d.current,m.current=e.className,e.className+=" "+f,e.addEventListener("animationend",v),e.addEventListener("animationcancel",v)}),[]),(0,r.useEffect)((function(){p||(l?y():function(){g.current=1;var e=d.current;e.className+=" "+h,e.addEventListener("animationend",y)}())}),[p]),r.createElement(r.Fragment,null,i)}}var w={list:new Map,emitQueue:new Map,on:function(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off:function(e,t){if(t){var n=this.list.get(e).filter((function(e){return e!==t}));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit:function(e){var t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit:function(e){for(var t=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];this.list.has(e)&&this.list.get(e).forEach((function(n){var i=setTimeout((function(){n.apply(void 0,r)}),0);t.emitQueue.has(e)||t.emitQueue.set(e,[]),t.emitQueue.get(e).push(i)}))}},x=["delay","staleId"];function S(e){var t=(0,r.useReducer)((function(e){return e+1}),0)[1],n=(0,r.useState)([]),i=n[0],o=n[1],a=(0,r.useRef)(null),s=(0,r.useRef)(new Map).current,m=function(e){return-1!==i.indexOf(e)},v=(0,r.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:m,getToast:function(e){return s.get(e)}}).current;function y(e){var t=e.containerId;!v.props.limit||t&&v.containerId!==t||(v.count-=v.queue.length,v.queue=[])}function b(e){o((function(t){return h(e)?t.filter((function(t){return t!==e})):[]}))}function S(){var e=v.queue.shift();T(e.toastContent,e.toastProps,e.staleId)}function k(e,n){var i=n.delay,o=n.staleId,m=l(n,x);if(g(e)&&!function(e){return!a.current||v.props.enableMultiContainer&&e.containerId!==v.props.containerId||s.has(e.toastId)&&null==e.updateId}(m)){var y=m.toastId,w=m.updateId,k=m.data,E=v.props,_=function(){return b(y)},C=null==w;C&&v.count++;var O,P,A={toastId:y,updateId:w,isLoading:m.isLoading,theme:m.theme||E.theme,icon:null!=m.icon?m.icon:E.icon,isIn:!1,key:m.key||v.toastKey++,type:m.type,closeToast:_,closeButton:m.closeButton,rtl:E.rtl,position:m.position||E.position,transition:m.transition||E.transition,className:f(m.className||E.toastClassName),bodyClassName:f(m.bodyClassName||E.bodyClassName),style:m.style||E.toastStyle,bodyStyle:m.bodyStyle||E.bodyStyle,onClick:m.onClick||E.onClick,pauseOnHover:u(m.pauseOnHover)?m.pauseOnHover:E.pauseOnHover,pauseOnFocusLoss:u(m.pauseOnFocusLoss)?m.pauseOnFocusLoss:E.pauseOnFocusLoss,draggable:u(m.draggable)?m.draggable:E.draggable,draggablePercent:m.draggablePercent||E.draggablePercent,draggableDirection:m.draggableDirection||E.draggableDirection,closeOnClick:u(m.closeOnClick)?m.closeOnClick:E.closeOnClick,progressClassName:f(m.progressClassName||E.progressClassName),progressStyle:m.progressStyle||E.progressStyle,autoClose:!m.isLoading&&(O=m.autoClose,P=E.autoClose,!1===O||c(O)&&O>0?O:P),hideProgressBar:u(m.hideProgressBar)?m.hideProgressBar:E.hideProgressBar,progress:m.progress,role:m.role||E.role,deleteToast:function(){s.delete(y);var e=v.queue.length;if(v.count=h(y)?v.count-1:v.count-v.displayedToast,v.count<0&&(v.count=0),e>0){var n=h(y)?1:v.props.limit;if(1===e||1===n)v.displayedToast++,S();else{var r=n>e?e:n;v.displayedToast=r;for(var i=0;i<r;i++)S()}}else t()}};p(m.onOpen)&&(A.onOpen=m.onOpen),p(m.onClose)&&(A.onClose=m.onClose),A.closeButton=E.closeButton,!1===m.closeButton||g(m.closeButton)?A.closeButton=m.closeButton:!0===m.closeButton&&(A.closeButton=!g(E.closeButton)||E.closeButton);var I=e;(0,r.isValidElement)(e)&&!d(e.type)?I=(0,r.cloneElement)(e,{closeToast:_,toastProps:A,data:k}):p(e)&&(I=e({closeToast:_,toastProps:A,data:k})),E.limit&&E.limit>0&&v.count>E.limit&&C?v.queue.push({toastContent:I,toastProps:A,staleId:o}):c(i)&&i>0?setTimeout((function(){T(I,A,o)}),i):T(I,A,o)}}function T(e,t,n){var r=t.toastId;n&&s.delete(n),s.set(r,{content:e,props:t}),o((function(e){return[].concat(e,[r]).filter((function(e){return e!==n}))}))}return(0,r.useEffect)((function(){return v.containerId=e.containerId,w.cancelEmit(3).on(0,k).on(1,(function(e){return a.current&&b(e)})).on(5,y).emit(2,v),function(){return w.emit(3,v)}}),[]),(0,r.useEffect)((function(){v.isToastActive=m,v.displayedToast=i.length,w.emit(4,i.length,e.containerId)}),[i]),(0,r.useEffect)((function(){v.props=e})),{getToastToRender:function(t){var n=new Map,r=Array.from(s.values());return e.newestOnTop&&r.reverse(),r.forEach((function(e){var t=e.props.position;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(function(e){return t(e[0],e[1])}))},containerRef:a,isToastActive:m}}function k(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function T(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function E(e){var t=(0,r.useState)(!1),n=t[0],i=t[1],o=(0,r.useState)(!1),a=o[0],s=o[1],l=(0,r.useRef)(null),c=(0,r.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,u=(0,r.useRef)(e),d=e.autoClose,f=e.pauseOnHover,h=e.closeToast,m=e.onClick,g=e.closeOnClick;function v(t){if(e.draggable){c.didMove=!1,document.addEventListener("mousemove",x),document.addEventListener("mouseup",S),document.addEventListener("touchmove",x),document.addEventListener("touchend",S);var n=l.current;c.canCloseOnClick=!0,c.canDrag=!0,c.boundingRect=n.getBoundingClientRect(),n.style.transition="",c.x=k(t.nativeEvent),c.y=T(t.nativeEvent),"x"===e.draggableDirection?(c.start=c.x,c.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(c.start=c.y,c.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function y(){if(c.boundingRect){var t=c.boundingRect,n=t.top,r=t.bottom,i=t.left,o=t.right;e.pauseOnHover&&c.x>=i&&c.x<=o&&c.y>=n&&c.y<=r?w():b()}}function b(){i(!0)}function w(){i(!1)}function x(t){var r=l.current;c.canDrag&&r&&(c.didMove=!0,n&&w(),c.x=k(t),c.y=T(t),"x"===e.draggableDirection?c.delta=c.x-c.start:c.delta=c.y-c.start,c.start!==c.x&&(c.canCloseOnClick=!1),r.style.transform="translate"+e.draggableDirection+"("+c.delta+"px)",r.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function S(){document.removeEventListener("mousemove",x),document.removeEventListener("mouseup",S),document.removeEventListener("touchmove",x),document.removeEventListener("touchend",S);var t=l.current;if(c.canDrag&&c.didMove&&t){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return s(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform="translate"+e.draggableDirection+"(0)",t.style.opacity="1"}}(0,r.useEffect)((function(){u.current=e})),(0,r.useEffect)((function(){return l.current&&l.current.addEventListener("d",b,{once:!0}),p(e.onOpen)&&e.onOpen((0,r.isValidElement)(e.children)&&e.children.props),function(){var e=u.current;p(e.onClose)&&e.onClose((0,r.isValidElement)(e.children)&&e.children.props)}}),[]),(0,r.useEffect)((function(){return e.pauseOnFocusLoss&&function(){document.hasFocus()||w();window.addEventListener("focus",b),window.addEventListener("blur",w)}(),function(){e.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",w))}}),[e.pauseOnFocusLoss]);var E={onMouseDown:v,onTouchStart:v,onMouseUp:y,onTouchEnd:y};return d&&f&&(E.onMouseEnter=w,E.onMouseLeave=b),g&&(E.onClick=function(e){m&&m(e),c.canCloseOnClick&&h()}),{playToast:b,pauseToast:w,isRunning:n,preventExitTransition:a,toastRef:l,eventHandlers:E}}function _(e){var t=e.closeToast,n=e.theme,i=e.ariaLabel,o=void 0===i?"close":i;return(0,r.createElement)("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:function(e){e.stopPropagation(),t(e)},"aria-label":o},(0,r.createElement)("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},(0,r.createElement)("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function C(e){var t,n,i=e.delay,a=e.isRunning,l=e.closeToast,c=e.type,u=e.hide,d=e.className,f=e.style,h=e.controlledProgress,m=e.progress,g=e.rtl,v=e.isIn,y=e.theme,b=s({},f,{animationDuration:i+"ms",animationPlayState:a?"running":"paused",opacity:u?0:1});h&&(b.transform="scaleX("+m+")");var w=o("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+y,"Toastify__progress-bar--"+c,((t={})["Toastify__progress-bar--rtl"]=g,t)),x=p(d)?d({rtl:g,type:c,defaultClassName:w}):o(w,d),S=((n={})[h&&m>=1?"onTransitionEnd":"onAnimationEnd"]=h&&m<1?null:function(){v&&l()},n);return(0,r.createElement)("div",Object.assign({role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:x,style:b},S))}C.defaultProps={type:y.DEFAULT,hide:!1};var O=["theme","type"],P=function(e){var t=e.theme,n=e.type,i=l(e,O);return(0,r.createElement)("svg",Object.assign({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":"var(--toastify-icon-color-"+n+")"},i))};var A={info:function(e){return(0,r.createElement)(P,Object.assign({},e),(0,r.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return(0,r.createElement)(P,Object.assign({},e),(0,r.createElement)("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return(0,r.createElement)(P,Object.assign({},e),(0,r.createElement)("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return(0,r.createElement)(P,Object.assign({},e),(0,r.createElement)("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return(0,r.createElement)("div",{className:"Toastify__spinner"})}},I=function(e){var t,n,i=E(e),a=i.isRunning,s=i.preventExitTransition,l=i.toastRef,c=i.eventHandlers,u=e.closeButton,f=e.children,h=e.autoClose,m=e.onClick,g=e.type,v=e.hideProgressBar,y=e.closeToast,b=e.transition,w=e.position,x=e.className,S=e.style,k=e.bodyClassName,T=e.bodyStyle,_=e.progressClassName,O=e.progressStyle,P=e.updateId,I=e.role,M=e.progress,N=e.rtl,R=e.toastId,D=e.deleteToast,L=e.isIn,j=e.isLoading,B=e.icon,F=e.theme,U=o("Toastify__toast","Toastify__toast-theme--"+F,"Toastify__toast--"+g,((t={})["Toastify__toast--rtl"]=N,t)),$=p(x)?x({rtl:N,position:w,type:g,defaultClassName:U}):o(U,x),H=!!M,G=A[g],V={theme:F,type:g},z=G&&G(V);return!1===B?z=void 0:p(B)?z=B(V):(0,r.isValidElement)(B)?z=(0,r.cloneElement)(B,V):d(B)?z=B:j&&(z=A.spinner()),(0,r.createElement)(b,{isIn:L,done:D,position:w,preventExitTransition:s,nodeRef:l},(0,r.createElement)("div",Object.assign({id:R,onClick:m,className:$},c,{style:S,ref:l}),(0,r.createElement)("div",Object.assign({},L&&{role:I},{className:p(k)?k({type:g}):o("Toastify__toast-body",k),style:T}),z&&(0,r.createElement)("div",{className:o("Toastify__toast-icon",(n={},n["Toastify--animate-icon Toastify__zoom-enter"]=!j,n))},z),(0,r.createElement)("div",null,f)),function(e){if(e){var t={closeToast:y,type:g,theme:F};return p(e)?e(t):(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):void 0}}(u),(h||H)&&(0,r.createElement)(C,Object.assign({},P&&!H?{key:"pb-"+P}:{},{rtl:N,theme:F,delay:h,isRunning:a,isIn:L,closeToast:y,hide:v,type:g,style:O,className:_,controlledProgress:H,progress:M}))))},M=b({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0}),N=function(e){var t=S(e),n=t.getToastToRender,i=t.containerRef,a=t.isToastActive,l=e.className,c=e.style,u=e.rtl,d=e.containerId;function h(e){var t,n=o("Toastify__toast-container","Toastify__toast-container--"+e,((t={})["Toastify__toast-container--rtl"]=u,t));return p(l)?l({position:e,rtl:u,defaultClassName:n}):o(n,f(l))}return(0,r.createElement)("div",{ref:i,className:"Toastify",id:d},n((function(e,t){var n=t.length?s({},c):s({},c,{pointerEvents:"none"});return(0,r.createElement)("div",{className:h(e),style:n,key:"container-"+e},t.map((function(e){var t=e.content,n=e.props;return(0,r.createElement)(I,Object.assign({},n,{isIn:a(n.toastId),key:"toast-"+n.key,closeButton:!0===n.closeButton?_:n.closeButton}),t)})))})))};N.defaultProps={position:v.TOP_RIGHT,transition:M,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:_,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};var R,D,L,j=new Map,B=[],F=!1;function U(){return Math.random().toString(36).substring(2,9)}function $(e){return e&&(d(e.toastId)||c(e.toastId))?e.toastId:U()}function H(e,t){return j.size>0?w.emit(0,e,t):(B.push({content:e,options:t}),F&&m&&(F=!1,D=document.createElement("div"),document.body.appendChild(D),(0,a.render)((0,r.createElement)(N,Object.assign({},L)),D))),t.toastId}function G(e,t){return s({},t,{type:t&&t.type||e,toastId:$(t)})}function V(e){return function(t,n){return H(t,G(e,n))}}function z(e,t){return H(e,G(y.DEFAULT,t))}z.loading=function(e,t){return H(e,G(y.DEFAULT,s({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t)))},z.promise=function(e,t,n){var r,i=t.pending,o=t.error,a=t.success;i&&(r=d(i)?z.loading(i,n):z.loading(i.render,s({},n,i)));var l={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},c=function(e,t,i){if(null!=t){var o=s({type:e},l,n,{data:i}),a=d(t)?{render:t}:t;return r?z.update(r,s({},o,a)):z(a.render,s({},o,a)),i}z.dismiss(r)},u=p(e)?e():e;return u.then((function(e){return c("success",a,e)})).catch((function(e){return c("error",o,e)})),u},z.success=V(y.SUCCESS),z.info=V(y.INFO),z.error=V(y.ERROR),z.warning=V(y.WARNING),z.warn=z.warning,z.dark=function(e,t){return H(e,G(y.DEFAULT,s({theme:"dark"},t)))},z.dismiss=function(e){return w.emit(1,e)},z.clearWaitingQueue=function(e){return void 0===e&&(e={}),w.emit(5,e)},z.isActive=function(e){var t=!1;return j.forEach((function(n){n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},z.update=function(e,t){void 0===t&&(t={}),setTimeout((function(){var n=function(e,t){var n=t.containerId,r=j.get(n||R);return r?r.getToast(e):null}(e,t);if(n){var r=n.props,i=n.content,o=s({},r,t,{toastId:t.toastId||e,updateId:U()});o.toastId!==e&&(o.staleId=e);var a=o.render||i;delete o.render,H(a,o)}}),0)},z.done=function(e){z.update(e,{progress:1})},z.onChange=function(e){return p(e)&&w.on(4,e),function(){p(e)&&w.off(4,e)}},z.configure=function(e){void 0===e&&(e={}),F=!0,L=e},z.POSITION=v,z.TYPE=y,w.on(2,(function(e){R=e.containerId||e,j.set(R,e),B.forEach((function(e){w.emit(0,e.content,e.options)})),B=[]})).on(3,(function(e){j.delete(e.containerId||e),0===j.size&&w.off(0).off(1).off(5),m&&D&&document.body.removeChild(D)}))},75251:(e,t,n)=>{"use strict";n(27418);var r=n(67294),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:o,_owner:a.current}}t.jsx=c,t.jsxs=c},72408:(e,t,n)=>{"use strict";var r=n(27418),i=60103,o=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var a=60109,s=60110,l=60112;t.Suspense=60113;var c=60115,u=60116;if("function"===typeof Symbol&&Symbol.for){var d=Symbol.for;i=d("react.element"),o=d("react.portal"),t.Fragment=d("react.fragment"),t.StrictMode=d("react.strict_mode"),t.Profiler=d("react.profiler"),a=d("react.provider"),s=d("react.context"),l=d("react.forward_ref"),t.Suspense=d("react.suspense"),c=d("react.memo"),u=d("react.lazy")}var p="function"===typeof Symbol&&Symbol.iterator;function f(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||h}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(f(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,r(b,g.prototype),b.isPureReactComponent=!0;var w={current:null},x=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,r)&&!S.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:e,key:a,ref:s,props:o,_owner:w.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var E=/\/+/g;function _(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function C(e,t,n,r,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=e),e=""===r?"."+_(l,0):r,Array.isArray(a)?(n="",null!=e&&(n=e.replace(E,"$&/")+"/"),C(a,t,n,"",(function(e){return e}))):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var u=r+_(s=e[c],c);l+=C(s,t,n,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=C(s=s.value,t,n,u=r+_(s,c++),a);else if("object"===s)throw t=""+e,Error(f(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function O(e,t,n){if(null==e)return e;var r=[],i=0;return C(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var A={current:null};function I(){var e=A.current;if(null===e)throw Error(f(321));return e}var M={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:w,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error(f(143));return e}},t.Component=g,t.PureComponent=y,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(f(267,e));var o=r({},e.props),a=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=w.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)x.call(t,u)&&!S.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];o.children=c}return{$$typeof:i,type:e.type,key:a,ref:s,props:o,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:u,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return I().useCallback(e,t)},t.useContext=function(e,t){return I().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return I().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return I().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return I().useLayoutEffect(e,t)},t.useMemo=function(e,t){return I().useMemo(e,t)},t.useReducer=function(e,t,n){return I().useReducer(e,t,n)},t.useRef=function(e){return I().useRef(e)},t.useState=function(e){return I().useState(e)},t.version="17.0.2"},67294:(e,t,n)=>{"use strict";e.exports=n(72408)},85893:(e,t,n)=>{"use strict";e.exports=n(75251)},20573:(e,t,n)=>{"use strict";n.d(t,{P1:()=>l});var r="NOT_FOUND";var i=function(e,t){return e===t};function o(e,t){var n,o,a="object"===typeof t?t:{equalityCheck:t},s=a.equalityCheck,l=void 0===s?i:s,c=a.maxSize,u=void 0===c?1:c,d=a.resultEqualityCheck,p=function(e){return function(t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,i=0;i<r;i++)if(!e(t[i],n[i]))return!1;return!0}}(l),f=1===u?(n=p,{get:function(e){return o&&n(o.key,e)?o.value:r},put:function(e,t){o={key:e,value:t}},getEntries:function(){return o?[o]:[]},clear:function(){o=void 0}}):function(e,t){var n=[];function i(e){var i=n.findIndex((function(n){return t(e,n.key)}));if(i>-1){var o=n[i];return i>0&&(n.splice(i,1),n.unshift(o)),o.value}return r}return{get:i,put:function(t,o){i(t)===r&&(n.unshift({key:t,value:o}),n.length>e&&n.pop())},getEntries:function(){return n},clear:function(){n=[]}}}(u,p);function h(){var t=f.get(arguments);if(t===r){if(t=e.apply(null,arguments),d){var n=f.getEntries(),i=n.find((function(e){return d(e.value,t)}));i&&(t=i.value)}f.put(arguments,t)}return t}return h.clearCache=function(){return f.clear()},h}function a(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"===typeof e}))){var n=t.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o,s=0,l={memoizeOptions:void 0},c=r.pop();if("object"===typeof c&&(l=c,c=r.pop()),"function"!==typeof c)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof c+"]");var u=l,d=u.memoizeOptions,p=void 0===d?n:d,f=Array.isArray(p)?p:[p],h=a(r),m=e.apply(void 0,[function(){return s++,c.apply(null,arguments)}].concat(f)),g=e((function(){for(var e=[],t=h.length,n=0;n<t;n++)e.push(h[n].apply(null,arguments));return o=m.apply(null,e)}));return Object.assign(g,{resultFunc:c,memoizedResultFunc:m,dependencies:h,lastResult:function(){return o},recomputations:function(){return s},resetRecomputations:function(){return s=0}}),g};return i}var l=s(o)},65342:e=>{!function(){"use strict";var t=function(e){if(!(this instanceof t))return new t(e);if(this.version=1,this.support="undefined"!==typeof File&&"undefined"!==typeof Blob&&"undefined"!==typeof FileList&&(!!Blob.prototype.webkitSlice||!!Blob.prototype.mozSlice||!!Blob.prototype.slice||!1),!this.support)return!1;var n=this;n.files=[],n.defaults={chunkSize:1048576,forceChunkSize:!1,simultaneousUploads:3,fileParameterName:"file",chunkNumberParameterName:"resumableChunkNumber",chunkSizeParameterName:"resumableChunkSize",currentChunkSizeParameterName:"resumableCurrentChunkSize",totalSizeParameterName:"resumableTotalSize",typeParameterName:"resumableType",identifierParameterName:"resumableIdentifier",fileNameParameterName:"resumableFilename",relativePathParameterName:"resumableRelativePath",totalChunksParameterName:"resumableTotalChunks",throttleProgressCallbacks:.5,query:{},headers:{},preprocess:null,method:"multipart",uploadMethod:"POST",testMethod:"GET",prioritizeFirstAndLastChunk:!1,target:"/",testTarget:null,parameterNamespace:"",testChunks:!0,generateUniqueIdentifier:null,getTarget:null,maxChunkRetries:100,chunkRetryInterval:void 0,permanentErrors:[400,404,415,500,501],maxFiles:void 0,withCredentials:!1,xhrTimeout:0,clearInput:!0,chunkFormat:"blob",setChunkTypeFromFile:!1,maxFilesErrorCallback:function(e,t){var r=n.getOpt("maxFiles");alert("Please upload no more than "+r+" file"+(1===r?"":"s")+" at a time.")},minFileSize:1,minFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too small, please upload files larger than "+r.formatSize(n.getOpt("minFileSize"))+".")},maxFileSize:void 0,maxFileSizeErrorCallback:function(e,t){alert(e.fileName||e.name+" is too large, please upload files less than "+r.formatSize(n.getOpt("maxFileSize"))+".")},fileType:[],fileTypeErrorCallback:function(e,t){alert(e.fileName||e.name+" has type not allowed, please upload files of type "+n.getOpt("fileType")+".")}},n.opts=e||{},n.getOpt=function(e){var n=this;if(e instanceof Array){var i={};return r.each(e,(function(e){i[e]=n.getOpt(e)})),i}if(n instanceof d){if("undefined"!==typeof n.opts[e])return n.opts[e];n=n.fileObj}if(n instanceof u){if("undefined"!==typeof n.opts[e])return n.opts[e];n=n.resumableObj}if(n instanceof t)return"undefined"!==typeof n.opts[e]?n.opts[e]:n.defaults[e]},n.events=[],n.on=function(e,t){n.events.push(e.toLowerCase(),t)},n.fire=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);var r=e[0].toLowerCase();for(t=0;t<=n.events.length;t+=2)n.events[t]==r&&n.events[t+1].apply(n,e.slice(1)),"catchall"==n.events[t]&&n.events[t+1].apply(null,e);"fileerror"==r&&n.fire("error",e[2],e[1]),"fileprogress"==r&&n.fire("progress")};var r={stopEvent:function(e){e.stopPropagation(),e.preventDefault()},each:function(e,t){if("undefined"!==typeof e.length){for(var n=0;n<e.length;n++)if(!1===t(e[n]))return}else for(n in e)if(!1===t(n,e[n]))return},generateUniqueIdentifier:function(e,t){var r=n.getOpt("generateUniqueIdentifier");if("function"===typeof r)return r(e,t);var i=e.webkitRelativePath||e.fileName||e.name;return e.size+"-"+i.replace(/[^0-9a-zA-Z_-]/gim,"")},contains:function(e,t){var n=!1;return r.each(e,(function(e){return e!=t||(n=!0,!1)})),n},formatSize:function(e){return e<1024?e+" bytes":e<1048576?(e/1024).toFixed(0)+" KB":e<1073741824?(e/1024/1024).toFixed(1)+" MB":(e/1024/1024/1024).toFixed(1)+" GB"},getTarget:function(e,t){var r=n.getOpt("target");if("test"===e&&n.getOpt("testTarget")&&(r="/"===n.getOpt("testTarget")?n.getOpt("target"):n.getOpt("testTarget")),"function"===typeof r)return r(t);var i=r.indexOf("?")<0?"?":"&";return r+i+t.join("&")}},i=function(e){r.stopEvent(e),e.dataTransfer&&e.dataTransfer.items?l(e.dataTransfer.items,e):e.dataTransfer&&e.dataTransfer.files&&l(e.dataTransfer.files,e)},o=function(e){e.preventDefault()};function a(e,t,n,r){var i;return e.isFile?e.file((function(e){e.relativePath=t+e.name,n.push(e),r()})):(e.isDirectory?i=e:e instanceof File&&n.push(e),"function"===typeof e.webkitGetAsEntry&&(i=e.webkitGetAsEntry()),i&&i.isDirectory?function(e,t,n,r){e.createReader().readEntries((function(e){if(!e.length)return r();s(e.map((function(e){return a.bind(null,e,t,n)})),r)}))}(i,t+i.name+"/",n,r):("function"===typeof e.getAsFile&&(e=e.getAsFile())instanceof File&&(e.relativePath=t+e.name,n.push(e)),void r()))}function s(e,t){if(!e||0===e.length)return t();e[0]((function(){s(e.slice(1),t)}))}function l(e,t){if(e.length){n.fire("beforeAdd");var r=[];s(Array.prototype.map.call(e,(function(e){return a.bind(null,e,"",r)})),(function(){r.length&&c(r,t)}))}}var c=function(e,t){var i=0,o=n.getOpt(["maxFiles","minFileSize","maxFileSize","maxFilesErrorCallback","minFileSizeErrorCallback","maxFileSizeErrorCallback","fileType","fileTypeErrorCallback"]);if("undefined"!==typeof o.maxFiles&&o.maxFiles<e.length+n.files.length){if(1!==o.maxFiles||1!==n.files.length||1!==e.length)return o.maxFilesErrorCallback(e,i++),!1;n.removeFile(n.files[0])}var a=[],s=[],l=e.length,c=function(){if(!--l){if(!a.length&&!s.length)return;window.setTimeout((function(){n.fire("filesAdded",a,s)}),0)}};r.each(e,(function(e){var l=e.name;if(o.fileType.length>0){var d=!1;for(var p in o.fileType){var f="."+o.fileType[p];if(-1!==l.toLowerCase().indexOf(f.toLowerCase(),l.length-f.length)){d=!0;break}}if(!d)return o.fileTypeErrorCallback(e,i++),!1}if("undefined"!==typeof o.minFileSize&&e.size<o.minFileSize)return o.minFileSizeErrorCallback(e,i++),!1;if("undefined"!==typeof o.maxFileSize&&e.size>o.maxFileSize)return o.maxFileSizeErrorCallback(e,i++),!1;function h(r){n.getFromUniqueIdentifier(r)?s.push(e):function(){e.uniqueIdentifier=r;var i=new u(n,e,r);n.files.push(i),a.push(i),i.container="undefined"!=typeof t?t.srcElement:null,window.setTimeout((function(){n.fire("fileAdded",i,t)}),0)}(),c()}var m=r.generateUniqueIdentifier(e,t);m&&"function"===typeof m.then?m.then((function(e){h(e)}),(function(){c()})):h(m)}))};function u(e,t,n){var i=this;i.opts={},i.getOpt=e.getOpt,i._prevProgress=0,i.resumableObj=e,i.file=t,i.fileName=t.fileName||t.name,i.size=t.size,i.relativePath=t.relativePath||t.webkitRelativePath||i.fileName,i.uniqueIdentifier=n,i._pause=!1,i.container="";var o=void 0!==n,a=function(e,t){switch(e){case"progress":i.resumableObj.fire("fileProgress",i,t);break;case"error":i.abort(),o=!0,i.chunks=[],i.resumableObj.fire("fileError",i,t);break;case"success":if(o)return;i.resumableObj.fire("fileProgress",i),i.isComplete()&&i.resumableObj.fire("fileSuccess",i,t);break;case"retry":i.resumableObj.fire("fileRetry",i)}};return i.chunks=[],i.abort=function(){var e=0;r.each(i.chunks,(function(t){"uploading"==t.status()&&(t.abort(),e++)})),e>0&&i.resumableObj.fire("fileProgress",i)},i.cancel=function(){var e=i.chunks;i.chunks=[],r.each(e,(function(e){"uploading"==e.status()&&(e.abort(),i.resumableObj.uploadNextChunk())})),i.resumableObj.removeFile(i),i.resumableObj.fire("fileProgress",i)},i.retry=function(){i.bootstrap();var e=!1;i.resumableObj.on("chunkingComplete",(function(){e||i.resumableObj.upload(),e=!0}))},i.bootstrap=function(){i.abort(),o=!1,i.chunks=[],i._prevProgress=0;for(var e=i.getOpt("forceChunkSize")?Math.ceil:Math.floor,t=Math.max(e(i.file.size/i.getOpt("chunkSize")),1),n=0;n<t;n++)!function(e){window.setTimeout((function(){i.chunks.push(new d(i.resumableObj,i,e,a)),i.resumableObj.fire("chunkingProgress",i,e/t)}),0)}(n);window.setTimeout((function(){i.resumableObj.fire("chunkingComplete",i)}),0)},i.progress=function(){if(o)return 1;var e=0,t=!1;return r.each(i.chunks,(function(n){"error"==n.status()&&(t=!0),e+=n.progress(!0)})),e=t||e>.99999?1:e,e=Math.max(i._prevProgress,e),i._prevProgress=e,e},i.isUploading=function(){var e=!1;return r.each(i.chunks,(function(t){if("uploading"==t.status())return e=!0,!1})),e},i.isComplete=function(){var e=!1;return r.each(i.chunks,(function(t){var n=t.status();if("pending"==n||"uploading"==n||1===t.preprocessState)return e=!0,!1})),!e},i.pause=function(e){i._pause="undefined"===typeof e?!i._pause:e},i.isPaused=function(){return i._pause},i.resumableObj.fire("chunkingStart",i),i.bootstrap(),this}function d(e,t,n,i){var o=this;o.opts={},o.getOpt=e.getOpt,o.resumableObj=e,o.fileObj=t,o.fileObjSize=t.size,o.fileObjType=t.file.type,o.offset=n,o.callback=i,o.lastProgressCallback=new Date,o.tested=!1,o.retries=0,o.pendingRetry=!1,o.preprocessState=0;var a=o.getOpt("chunkSize");return o.loaded=0,o.startByte=o.offset*a,o.endByte=Math.min(o.fileObjSize,(o.offset+1)*a),o.fileObjSize-o.endByte<a&&!o.getOpt("forceChunkSize")&&(o.endByte=o.fileObjSize),o.xhr=null,o.test=function(){o.xhr=new XMLHttpRequest;var e=function(e){o.tested=!0;var t=o.status();"success"==t?(o.callback(t,o.message()),o.resumableObj.uploadNextChunk()):o.send()};o.xhr.addEventListener("load",e,!1),o.xhr.addEventListener("error",e,!1),o.xhr.addEventListener("timeout",e,!1);var t=[],n=o.getOpt("parameterNamespace"),i=o.getOpt("query");"function"==typeof i&&(i=i(o.fileObj,o)),r.each(i,(function(e,r){t.push([encodeURIComponent(n+e),encodeURIComponent(r)].join("="))})),t=t.concat([["chunkNumberParameterName",o.offset+1],["chunkSizeParameterName",o.getOpt("chunkSize")],["currentChunkSizeParameterName",o.endByte-o.startByte],["totalSizeParameterName",o.fileObjSize],["typeParameterName",o.fileObjType],["identifierParameterName",o.fileObj.uniqueIdentifier],["fileNameParameterName",o.fileObj.fileName],["relativePathParameterName",o.fileObj.relativePath],["totalChunksParameterName",o.fileObj.chunks.length]].filter((function(e){return o.getOpt(e[0])})).map((function(e){return[n+o.getOpt(e[0]),encodeURIComponent(e[1])].join("=")}))),o.xhr.open(o.getOpt("testMethod"),r.getTarget("test",t)),o.xhr.timeout=o.getOpt("xhrTimeout"),o.xhr.withCredentials=o.getOpt("withCredentials");var a=o.getOpt("headers");"function"===typeof a&&(a=a(o.fileObj,o)),r.each(a,(function(e,t){o.xhr.setRequestHeader(e,t)})),o.xhr.send(null)},o.preprocessFinished=function(){o.preprocessState=2,o.send()},o.send=function(){var e=o.getOpt("preprocess");if("function"===typeof e)switch(o.preprocessState){case 0:return o.preprocessState=1,void e(o);case 1:return}if(!o.getOpt("testChunks")||o.tested){o.xhr=new XMLHttpRequest,o.xhr.upload.addEventListener("progress",(function(e){new Date-o.lastProgressCallback>1e3*o.getOpt("throttleProgressCallbacks")&&(o.callback("progress"),o.lastProgressCallback=new Date),o.loaded=e.loaded||0}),!1),o.loaded=0,o.pendingRetry=!1,o.callback("progress");var t=function(e){var t=o.status();if("success"==t||"error"==t)o.callback(t,o.message()),o.resumableObj.uploadNextChunk();else{o.callback("retry",o.message()),o.abort(),o.retries++;var n=o.getOpt("chunkRetryInterval");void 0!==n?(o.pendingRetry=!0,setTimeout(o.send,n)):o.send()}};o.xhr.addEventListener("load",t,!1),o.xhr.addEventListener("error",t,!1),o.xhr.addEventListener("timeout",t,!1);var n=[["chunkNumberParameterName",o.offset+1],["chunkSizeParameterName",o.getOpt("chunkSize")],["currentChunkSizeParameterName",o.endByte-o.startByte],["totalSizeParameterName",o.fileObjSize],["typeParameterName",o.fileObjType],["identifierParameterName",o.fileObj.uniqueIdentifier],["fileNameParameterName",o.fileObj.fileName],["relativePathParameterName",o.fileObj.relativePath],["totalChunksParameterName",o.fileObj.chunks.length]].filter((function(e){return o.getOpt(e[0])})).reduce((function(e,t){return e[o.getOpt(t[0])]=t[1],e}),{}),i=o.getOpt("query");"function"==typeof i&&(i=i(o.fileObj,o)),r.each(i,(function(e,t){n[e]=t}));var a=o.fileObj.file.slice?"slice":o.fileObj.file.mozSlice?"mozSlice":o.fileObj.file.webkitSlice?"webkitSlice":"slice",s=o.fileObj.file[a](o.startByte,o.endByte,o.getOpt("setChunkTypeFromFile")?o.fileObj.file.type:""),l=null,c=[],u=o.getOpt("parameterNamespace");if("octet"===o.getOpt("method"))l=s,r.each(n,(function(e,t){c.push([encodeURIComponent(u+e),encodeURIComponent(t)].join("="))}));else if(l=new FormData,r.each(n,(function(e,t){l.append(u+e,t),c.push([encodeURIComponent(u+e),encodeURIComponent(t)].join("="))})),"blob"==o.getOpt("chunkFormat"))l.append(u+o.getOpt("fileParameterName"),s,o.fileObj.fileName);else if("base64"==o.getOpt("chunkFormat")){var d=new FileReader;d.onload=function(e){l.append(u+o.getOpt("fileParameterName"),d.result),o.xhr.send(l)},d.readAsDataURL(s)}var p=r.getTarget("upload",c),f=o.getOpt("uploadMethod");o.xhr.open(f,p),"octet"===o.getOpt("method")&&o.xhr.setRequestHeader("Content-Type","application/octet-stream"),o.xhr.timeout=o.getOpt("xhrTimeout"),o.xhr.withCredentials=o.getOpt("withCredentials");var h=o.getOpt("headers");"function"===typeof h&&(h=h(o.fileObj,o)),r.each(h,(function(e,t){o.xhr.setRequestHeader(e,t)})),"blob"==o.getOpt("chunkFormat")&&o.xhr.send(l)}else o.test()},o.abort=function(){o.xhr&&o.xhr.abort(),o.xhr=null},o.status=function(){return o.pendingRetry?"uploading":o.xhr?o.xhr.readyState<4?"uploading":200==o.xhr.status||201==o.xhr.status?"success":r.contains(o.getOpt("permanentErrors"),o.xhr.status)||o.retries>=o.getOpt("maxChunkRetries")?"error":(o.abort(),"pending"):"pending"},o.message=function(){return o.xhr?o.xhr.responseText:""},o.progress=function(e){"undefined"===typeof e&&(e=!1);var t=e?(o.endByte-o.startByte)/o.fileObjSize:1;if(o.pendingRetry)return 0;switch(o.xhr&&o.xhr.status||(t*=.95),o.status()){case"success":case"error":return 1*t;case"pending":return 0*t;default:return o.loaded/(o.endByte-o.startByte)*t}},this}return n.uploadNextChunk=function(){var e=!1;if(n.getOpt("prioritizeFirstAndLastChunk")&&(r.each(n.files,(function(t){return t.chunks.length&&"pending"==t.chunks[0].status()&&0===t.chunks[0].preprocessState?(t.chunks[0].send(),e=!0,!1):t.chunks.length>1&&"pending"==t.chunks[t.chunks.length-1].status()&&0===t.chunks[t.chunks.length-1].preprocessState?(t.chunks[t.chunks.length-1].send(),e=!0,!1):void 0})),e))return!0;if(r.each(n.files,(function(t){if(!1===t.isPaused()&&r.each(t.chunks,(function(t){if("pending"==t.status()&&0===t.preprocessState)return t.send(),e=!0,!1})),e)return!1})),e)return!0;var t=!1;return r.each(n.files,(function(e){if(!e.isComplete())return t=!0,!1})),t||n.fire("complete"),!1},n.assignBrowse=function(e,t){"undefined"==typeof e.length&&(e=[e]),r.each(e,(function(e){var r;"INPUT"===e.tagName&&"file"===e.type?r=e:((r=document.createElement("input")).setAttribute("type","file"),r.style.display="none",e.addEventListener("click",(function(){r.style.opacity=0,r.style.display="block",r.focus(),r.click(),r.style.display="none"}),!1),e.appendChild(r));var i=n.getOpt("maxFiles");"undefined"===typeof i||1!=i?r.setAttribute("multiple","multiple"):r.removeAttribute("multiple"),t?r.setAttribute("webkitdirectory","webkitdirectory"):r.removeAttribute("webkitdirectory");var o=n.getOpt("fileType");"undefined"!==typeof o&&o.length>=1?r.setAttribute("accept",o.map((function(e){return"."+e})).join(",")):r.removeAttribute("accept"),r.addEventListener("change",(function(e){c(e.target.files,e),n.getOpt("clearInput")&&(e.target.value="")}),!1)}))},n.assignDrop=function(e){"undefined"==typeof e.length&&(e=[e]),r.each(e,(function(e){e.addEventListener("dragover",o,!1),e.addEventListener("dragenter",o,!1),e.addEventListener("drop",i,!1)}))},n.unAssignDrop=function(e){"undefined"==typeof e.length&&(e=[e]),r.each(e,(function(e){e.removeEventListener("dragover",o),e.removeEventListener("dragenter",o),e.removeEventListener("drop",i)}))},n.isUploading=function(){var e=!1;return r.each(n.files,(function(t){if(t.isUploading())return e=!0,!1})),e},n.upload=function(){if(!n.isUploading()){n.fire("uploadStart");for(var e=1;e<=n.getOpt("simultaneousUploads");e++)n.uploadNextChunk()}},n.pause=function(){r.each(n.files,(function(e){e.abort()})),n.fire("pause")},n.cancel=function(){n.fire("beforeCancel");for(var e=n.files.length-1;e>=0;e--)n.files[e].cancel();n.fire("cancel")},n.progress=function(){var e=0,t=0;return r.each(n.files,(function(n){e+=n.progress()*n.size,t+=n.size})),t>0?e/t:0},n.addFile=function(e,t){c([e],t)},n.addFiles=function(e,t){c(e,t)},n.removeFile=function(e){for(var t=n.files.length-1;t>=0;t--)n.files[t]===e&&n.files.splice(t,1)},n.getFromUniqueIdentifier=function(e){var t=!1;return r.each(n.files,(function(n){n.uniqueIdentifier==e&&(t=n)})),t},n.getSize=function(){var e=0;return r.each(n.files,(function(t){e+=t.size})),e},n.handleDropEvent=function(e){i(e)},n.handleChangeEvent=function(e){c(e.target.files,e),e.target.value=""},n.updateQuery=function(e){n.opts.query=e},this};e.exports=t}()},91036:(e,t,n)=>{const r=n(23719),i=n(63150),{isPlainObject:o}=n(26057),a=n(9996),s=n(79430),{parse:l}=n(50020),c=["img","audio","video","picture","svg","object","map","iframe","embed"],u=["script","style"];function d(e,t){e&&Object.keys(e).forEach((function(n){t(e[n],n)}))}function p(e,t){return{}.hasOwnProperty.call(e,t)}function f(e,t){const n=[];return d(e,(function(e){t(e)&&n.push(e)})),n}e.exports=m;const h=/^[^\0\t\n\f\r /<=>]+$/;function m(e,t,n){if(null==e)return"";let v="",y="";function b(e,t){const n=this;this.tag=e,this.attribs=t||{},this.tagPosition=v.length,this.text="",this.mediaChildren=[],this.updateParentNodeText=function(){if(P.length){P[P.length-1].text+=n.text}},this.updateParentNodeMediaChildren=function(){if(P.length&&c.includes(this.tag)){P[P.length-1].mediaChildren.push(this.tag)}}}(t=Object.assign({},m.defaults,t)).parser=Object.assign({},g,t.parser),u.forEach((function(e){t.allowedTags&&t.allowedTags.indexOf(e)>-1&&!t.allowVulnerableTags&&console.warn(`\n\n\u26a0\ufe0f Your \`allowedTags\` option includes, \`${e}\`, which is inherently\nvulnerable to XSS attacks. Please remove it from \`allowedTags\`.\nOr, to disable this warning, add the \`allowVulnerableTags\` option\nand ensure you are accounting for this risk.\n\n`)}));const w=t.nonTextTags||["script","style","textarea","option"];let x,S;t.allowedAttributes&&(x={},S={},d(t.allowedAttributes,(function(e,t){x[t]=[];const n=[];e.forEach((function(e){"string"===typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):x[t].push(e)})),n.length&&(S[t]=new RegExp("^("+n.join("|")+")$"))})));const k={},T={},E={};d(t.allowedClasses,(function(e,t){x&&(p(x,t)||(x[t]=[]),x[t].push("class")),k[t]=[],E[t]=[];const n=[];e.forEach((function(e){"string"===typeof e&&e.indexOf("*")>=0?n.push(i(e).replace(/\\\*/g,".*")):e instanceof RegExp?E[t].push(e):k[t].push(e)})),n.length&&(T[t]=new RegExp("^("+n.join("|")+")$"))}));const _={};let C,O,P,A,I,M,N;d(t.transformTags,(function(e,t){let n;"function"===typeof e?n=e:"string"===typeof e&&(n=m.simpleTransform(e)),"*"===t?C=n:_[t]=n}));let R=!1;L();const D=new r.Parser({onopentag:function(e,n){if(t.enforceHtmlBoundary&&"html"===e&&L(),M)return void N++;const r=new b(e,n);P.push(r);let i=!1;const c=!!r.text;let u;if(p(_,e)&&(u=_[e](e,n),r.attribs=n=u.attribs,void 0!==u.text&&(r.innerText=u.text),e!==u.tagName&&(r.name=e=u.tagName,I[O]=u.tagName)),C&&(u=C(e,n),r.attribs=n=u.attribs,e!==u.tagName&&(r.name=e=u.tagName,I[O]=u.tagName)),(t.allowedTags&&-1===t.allowedTags.indexOf(e)||"recursiveEscape"===t.disallowedTagsMode&&!function(e){for(const t in e)if(p(e,t))return!1;return!0}(A)||null!=t.nestingLimit&&O>=t.nestingLimit)&&(i=!0,A[O]=!0,"discard"===t.disallowedTagsMode&&-1!==w.indexOf(e)&&(M=!0,N=1),A[O]=!0),O++,i){if("discard"===t.disallowedTagsMode)return;y=v,v=""}v+="<"+e,"script"===e&&(t.allowedScriptHostnames||t.allowedScriptDomains)&&(r.innerText=""),(!x||p(x,e)||x["*"])&&d(n,(function(n,i){if(!h.test(i))return void delete r.attribs[i];let c,u=!1;if(!x||p(x,e)&&-1!==x[e].indexOf(i)||x["*"]&&-1!==x["*"].indexOf(i)||p(S,e)&&S[e].test(i)||S["*"]&&S["*"].test(i))u=!0;else if(x&&x[e])for(const t of x[e])if(o(t)&&t.name&&t.name===i){u=!0;let e="";if(!0===t.multiple){const r=n.split(" ");for(const n of r)-1!==t.values.indexOf(n)&&(""===e?e=n:e+=" "+n)}else t.values.indexOf(n)>=0&&(e=n);n=e}if(u){if(-1!==t.allowedSchemesAppliedToAttributes.indexOf(i)&&B(e,n))return void delete r.attribs[i];if("script"===e&&"src"===i){let e=!0;try{const r=new URL(n);if(t.allowedScriptHostnames||t.allowedScriptDomains){const n=(t.allowedScriptHostnames||[]).find((function(e){return e===r.hostname})),i=(t.allowedScriptDomains||[]).find((function(e){return r.hostname===e||r.hostname.endsWith(`.${e}`)}));e=n||i}}catch(d){e=!1}if(!e)return void delete r.attribs[i]}if("iframe"===e&&"src"===i){let e=!0;try{if((n=n.replace(/^(\w+:)?\s*[\\/]\s*[\\/]/,"$1//")).startsWith("relative:"))throw new Error("relative: exploit attempt");let r="relative://relative-site";for(let e=0;e<100;e++)r+=`/${e}`;const i=new URL(n,r);if(i&&"relative-site"===i.hostname&&"relative:"===i.protocol)e=p(t,"allowIframeRelativeUrls")?t.allowIframeRelativeUrls:!t.allowedIframeHostnames&&!t.allowedIframeDomains;else if(t.allowedIframeHostnames||t.allowedIframeDomains){const n=(t.allowedIframeHostnames||[]).find((function(e){return e===i.hostname})),r=(t.allowedIframeDomains||[]).find((function(e){return i.hostname===e||i.hostname.endsWith(`.${e}`)}));e=n||r}}catch(d){e=!1}if(!e)return void delete r.attribs[i]}if("srcset"===i)try{if(c=s(n),c.forEach((function(e){B("srcset",e.url)&&(e.evil=!0)})),c=f(c,(function(e){return!e.evil})),!c.length)return void delete r.attribs[i];n=f(c,(function(e){return!e.evil})).map((function(e){if(!e.url)throw new Error("URL missing");return e.url+(e.w?` ${e.w}w`:"")+(e.h?` ${e.h}h`:"")+(e.d?` ${e.d}x`:"")})).join(", "),r.attribs[i]=n}catch(d){return void delete r.attribs[i]}if("class"===i){const t=k[e],o=k["*"],s=T[e],l=E[e],c=[s,T["*"]].concat(l).filter((function(e){return e}));if(!(n=F(n,t&&o?a(t,o):t||o,c)).length)return void delete r.attribs[i]}if("style"===i)try{const o=function(e,t){if(!t)return e;const n=e.nodes[0];let r;r=t[n.selector]&&t["*"]?a(t[n.selector],t["*"]):t[n.selector]||t["*"];r&&(e.nodes[0].nodes=n.nodes.reduce(function(e){return function(t,n){if(p(e,n.prop)){e[n.prop].some((function(e){return e.test(n.value)}))&&t.push(n)}return t}}(r),[]));return e}(l(e+" {"+n+"}"),t.allowedStyles);if(0===(n=function(e){return e.nodes[0].nodes.reduce((function(e,t){return e.push(`${t.prop}:${t.value}${t.important?" !important":""}`),e}),[]).join(";")}(o)).length)return void delete r.attribs[i]}catch(d){return void delete r.attribs[i]}v+=" "+i,n&&n.length&&(v+='="'+j(n,!0)+'"')}else delete r.attribs[i]})),-1!==t.selfClosing.indexOf(e)?v+=" />":(v+=">",!r.innerText||c||t.textFilter||(v+=j(r.innerText),R=!0)),i&&(v=y+j(v),y="")},ontext:function(e){if(M)return;const n=P[P.length-1];let r;if(n&&(r=n.tag,e=void 0!==n.innerText?n.innerText:e),"discard"!==t.disallowedTagsMode||"script"!==r&&"style"!==r){const n=j(e,!1);t.textFilter&&!R?v+=t.textFilter(n,r):R||(v+=n)}else v+=e;if(P.length){P[P.length-1].text+=e}},onclosetag:function(e){if(M){if(N--,N)return;M=!1}const n=P.pop();if(!n)return;M=!!t.enforceHtmlBoundary&&"html"===e,O--;const r=A[O];if(r){if(delete A[O],"discard"===t.disallowedTagsMode)return void n.updateParentNodeText();y=v,v=""}I[O]&&(e=I[O],delete I[O]),t.exclusiveFilter&&t.exclusiveFilter(n)?v=v.substr(0,n.tagPosition):(n.updateParentNodeMediaChildren(),n.updateParentNodeText(),-1===t.selfClosing.indexOf(e)?(v+="</"+e+">",r&&(v=y+j(v),y=""),R=!1):r&&(v=y,y=""))}},t.parser);return D.write(e),D.end(),v;function L(){v="",O=0,P=[],A={},I={},M=!1,N=0}function j(e,n){return"string"!==typeof e&&(e+=""),t.parser.decodeEntities&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;"))),e=e.replace(/&(?![a-zA-Z0-9#]{1,20};)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),n&&(e=e.replace(/"/g,"&quot;")),e}function B(e,n){const r=(n=(n=n.replace(/[\x00-\x20]+/g,"")).replace(/<!--.*?-->/g,"")).match(/^([a-zA-Z][a-zA-Z0-9.\-+]*):/);if(!r)return!!n.match(/^[/\\]{2}/)&&!t.allowProtocolRelative;const i=r[1].toLowerCase();return p(t.allowedSchemesByTag,e)?-1===t.allowedSchemesByTag[e].indexOf(i):!t.allowedSchemes||-1===t.allowedSchemes.indexOf(i)}function F(e,t,n){return t?(e=e.split(/\s+/)).filter((function(e){return-1!==t.indexOf(e)||n.some((function(t){return t.test(e)}))})).join(" "):e}}const g={decodeEntities:!0};m.defaults={allowedTags:["address","article","aside","footer","header","h1","h2","h3","h4","h5","h6","hgroup","main","nav","section","blockquote","dd","div","dl","dt","figcaption","figure","hr","li","main","ol","p","pre","ul","a","abbr","b","bdi","bdo","br","cite","code","data","dfn","em","i","kbd","mark","q","rb","rp","rt","rtc","ruby","s","samp","small","span","strong","sub","sup","time","u","var","wbr","caption","col","colgroup","table","tbody","td","tfoot","th","thead","tr"],disallowedTagsMode:"discard",allowedAttributes:{a:["href","name","target"],img:["src","srcset","alt","title","width","height","loading"]},selfClosing:["img","br","hr","area","base","basefont","input","link","meta"],allowedSchemes:["http","https","ftp","mailto","tel"],allowedSchemesByTag:{},allowedSchemesAppliedToAttributes:["href","src","cite"],allowProtocolRelative:!0,enforceHtmlBoundary:!1},m.simpleTransform=function(e,t,n){return n=void 0===n||n,t=t||{},function(r,i){let o;if(n)for(o in t)i[o]=t[o];else i=t;return{tagName:e,attribs:i}}}},60053:(e,t)=>{"use strict";var n,r,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,u=null,d=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(d,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(d,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,f=window.clearTimeout;if("undefined"!==typeof console){var h=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof h&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,x=w.port2;w.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?x.postMessage(null):(m=!1,g=null)}catch(n){throw x.postMessage(null),n}}else m=!1},n=function(e){g=e,m||(m=!0,x.postMessage(null))},r=function(e,n){v=p((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function S(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<E(i,t)))break e;e[r]=t,e[n]=i,n=r}}function k(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>E(a,n))void 0!==l&&0>E(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>E(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var _=[],C=[],O=1,P=null,A=3,I=!1,M=!1,N=!1;function R(e){for(var t=k(C);null!==t;){if(null===t.callback)T(C);else{if(!(t.startTime<=e))break;T(C),t.sortIndex=t.expirationTime,S(_,t)}t=k(C)}}function D(e){if(N=!1,R(e),!M)if(null!==k(_))M=!0,n(L);else{var t=k(C);null!==t&&r(D,t.startTime-e)}}function L(e,n){M=!1,N&&(N=!1,i()),I=!0;var o=A;try{for(R(n),P=k(_);null!==P&&(!(P.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=P.callback;if("function"===typeof a){P.callback=null,A=P.priorityLevel;var s=a(P.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?P.callback=s:P===k(_)&&T(_),R(n)}else T(_);P=k(_)}if(null!==P)var l=!0;else{var c=k(C);null!==c&&r(D,c.startTime-n),l=!1}return l}finally{P=null,A=o,I=!1}}var j=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){M||I||(M=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return k(_)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:O++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,S(C,e),null===k(_)&&e===k(C)&&(N?i():N=!0,r(D,a-s))):(e.sortIndex=l,S(_,e),M||I||(M=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},63840:(e,t,n)=>{"use strict";e.exports=n(60053)},57539:e=>{"use strict";const t={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substr(14).split(" ")},t.parseRtpMap=function(e){let t=e.substr(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},t.parseFmtp=function(e){const t={};let n;const r=e.substr(e.indexOf(" ")+1).split(";");for(let i=0;i<r.length;i++)n=r[i].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const r=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},t.parseSsrcGroup=function(e){const t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substr(6)},t.parseFingerprint=function(e){const t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substr(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substr(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substr(12),password:i.substr(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");for(let i=3;i<r.length;i++){const o=r[i],a=t.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){const r=t.parseRtpMap(a),i=t.matchPrefix(e,"a=fmtp:"+o+" ");switch(r.parameters=i.length?t.parseFmtp(i[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}return t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))})),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));let i=0;return n.codecs.forEach((e=>{e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){const n=[],r=t.parseRtpParameters(e),i=-1!==r.fecMechanisms.indexOf("RED"),o=-1!==r.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=a.length>0&&a[0].ssrc;let l;const c=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substr(17).split(" ").map((e=>parseInt(e,10)))));c.length>0&&c[0].length>1&&c[0][0]===s&&(l=c[0][1]),r.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&l&&(t.rtx={ssrc:l}),n.push(t),i&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:o?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&s&&n.push({ssrc:s});let u=t.matchPrefix(e,"b=");return u.length&&(u=0===u[0].indexOf("b=TIAS:")?parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")?1e3*parseInt(u[0].substr(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=u}))),n},t.parseRtcpParameters=function(e){const n={},r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;const o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const r=t.matchPrefix(e,"a=msid:");if(1===r.length)return n=r[0].substr(7).split(" "),{stream:n[0],track:n[1]};const i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return i.length>0?(n=i[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");let i;r.length>0&&(i=parseInt(r[0].substr(19),10)),isNaN(i)&&(i=65536);const o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substr(12),10),protocol:n.fmt,maxMessageSize:i};const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substr(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,21)},t.writeSessionBoilerplate=function(e,n,r){let i;const o=void 0!==n?n:2;i=e||t.generateSessionId();return"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const r=t.splitLines(e);for(let t=0;t<r.length;t++)switch(r[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[t].substr(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substr(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substr(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let t=0;t<n.length;t++)if(n[t].length<2||"="!==n[t].charAt(1))return!1;return!0},e.exports=t},2938:(e,t,n)=>{"use strict";function r(e,t,n){var r,i,o;void 0===t&&(t=50),void 0===n&&(n={});var a=null!=(r=n.isImmediate)&&r,s=null!=(i=n.callback)&&i,l=n.maxWait,c=Date.now(),u=[];function d(){if(void 0!==l){var e=Date.now()-c;if(e+t>=l)return l-e}return t}var p=function(){var t=[].slice.call(arguments),n=this;return new Promise((function(r,i){var l=a&&void 0===o;if(void 0!==o&&clearTimeout(o),o=setTimeout((function(){if(o=void 0,c=Date.now(),!a){var r=e.apply(n,t);s&&s(r),u.forEach((function(e){return(0,e.resolve)(r)})),u=[]}}),d()),l){var p=e.apply(n,t);return s&&s(p),r(p)}u.push({resolve:r,reject:i})}))};return p.cancel=function(e){void 0!==o&&clearTimeout(o),u.forEach((function(t){return(0,t.reject)(e)})),u=[]},p}n.r(t),n.d(t,{debounce:()=>r})},48966:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=ze(n(8469)),o=ze(n(77536)),a=ze(n(21359)),s=ze(n(557)),l=ze(n(2315)),c=ze(n(89466)),u=ze(n(30661)),d=ze(n(83868)),p=ze(n(2492)),f=ze(n(28999)),h=ze(n(61028)),m=ze(n(27795)),g=ze(n(10221)),v=ze(n(82549)),y=ze(n(99493)),b=ze(n(67380)),w=Ve(n(19234)),x=Ve(n(94583)),S=ze(n(24986)),k=ze(n(51513)),T=ze(n(24595)),E=ze(n(43928)),_=ze(n(57245)),C=ze(n(15566)),O=ze(n(64094)),P=ze(n(77146)),A=ze(n(82941)),I=ze(n(49019)),M=ze(n(13590)),N=ze(n(86826)),R=ze(n(72828)),D=ze(n(20937)),L=Ve(n(79146)),j=ze(n(85218)),B=ze(n(77117)),F=ze(n(66090)),U=ze(n(58335)),$=ze(n(96298)),H=ze(n(6454)),G=ze(n(16648)),V=ze(n(34339)),z=Ve(n(88177)),W=ze(n(42438)),K=ze(n(90368)),q=ze(n(18874)),X=ze(n(74979)),Z=ze(n(81008)),Y=ze(n(54069)),Q=ze(n(20661)),J=ze(n(93235)),ee=ze(n(57278)),te=ze(n(19131)),ne=ze(n(93315)),re=ze(n(51464)),ie=ze(n(27228)),oe=ze(n(682)),ae=ze(n(49396)),se=ze(n(35807)),le=ze(n(57148)),ce=ze(n(87612)),ue=ze(n(29887)),de=ze(n(53058)),pe=Ve(n(28355)),fe=ze(n(82129)),he=ze(n(90094)),me=ze(n(88021)),ge=ze(n(65061)),ve=ze(n(94611)),ye=ze(n(21727)),be=ze(n(86776)),we=ze(n(19963)),xe=ze(n(2782)),Se=ze(n(65008)),ke=ze(n(2689)),Te=ze(n(98983)),Ee=ze(n(72776)),_e=ze(n(44554)),Ce=ze(n(90478)),Oe=Ve(n(78140)),Pe=ze(n(14959)),Ae=ze(n(29778)),Ie=ze(n(24790)),Me=ze(n(5152)),Ne=ze(n(94816)),Re=ze(n(8035)),De=ze(n(34714)),Le=ze(n(44928)),je=ze(n(88346)),Be=ze(n(2900)),Fe=ze(n(68220)),Ue=ze(n(82786)),$e=ze(n(17633)),He=ze(n(55977));function Ge(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return Ge=function(){return e},e}function Ve(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=Ge();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function ze(e){return e&&e.__esModule?e:{default:e}}var We={version:"13.7.0",toDate:i.default,toFloat:o.default,toInt:a.default,toBoolean:s.default,equals:l.default,contains:c.default,matches:u.default,isEmail:d.default,isURL:p.default,isMACAddress:f.default,isIP:h.default,isIPRange:m.default,isFQDN:g.default,isBoolean:y.default,isIBAN:z.default,isBIC:W.default,isAlpha:w.default,isAlphaLocales:w.locales,isAlphanumeric:x.default,isAlphanumericLocales:x.locales,isNumeric:S.default,isPassportNumber:k.default,isPort:T.default,isLowercase:E.default,isUppercase:_.default,isAscii:O.default,isFullWidth:P.default,isHalfWidth:A.default,isVariableWidth:I.default,isMultibyte:M.default,isSemVer:N.default,isSurrogatePair:R.default,isInt:D.default,isIMEI:C.default,isFloat:L.default,isFloatLocales:L.locales,isDecimal:j.default,isHexadecimal:B.default,isOctal:F.default,isDivisibleBy:U.default,isHexColor:$.default,isRgbColor:H.default,isHSL:G.default,isISRC:V.default,isMD5:K.default,isHash:q.default,isJWT:X.default,isJSON:Z.default,isEmpty:Y.default,isLength:Q.default,isLocale:b.default,isByteLength:J.default,isUUID:ee.default,isMongoId:te.default,isAfter:ne.default,isBefore:re.default,isIn:ie.default,isCreditCard:oe.default,isIdentityCard:ae.default,isEAN:se.default,isISIN:le.default,isISBN:ce.default,isISSN:ue.default,isMobilePhone:pe.default,isMobilePhoneLocales:pe.locales,isPostalCode:Oe.default,isPostalCodeLocales:Oe.locales,isEthereumAddress:fe.default,isCurrency:he.default,isBtcAddress:me.default,isISO8601:ge.default,isRFC3339:ve.default,isISO31661Alpha2:ye.default,isISO31661Alpha3:be.default,isISO4217:we.default,isBase32:xe.default,isBase58:Se.default,isBase64:ke.default,isDataURI:Te.default,isMagnetURI:Ee.default,isMimeType:_e.default,isLatLong:Ce.default,ltrim:Pe.default,rtrim:Ae.default,trim:Ie.default,escape:Me.default,unescape:Ne.default,stripLow:Re.default,whitelist:De.default,blacklist:Le.default,isWhitelisted:je.default,normalizeEmail:Be.default,toString,isSlug:Fe.default,isStrongPassword:$e.default,isTaxID:de.default,isDate:v.default,isLicensePlate:Ue.default,isVAT:He.default,ibanLocales:z.locales};t.default=We,e.exports=t.default,e.exports.default=t.default},60079:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.commaDecimal=t.dotDecimal=t.farsiLocales=t.arabicLocales=t.englishLocales=t.decimal=t.alphanumeric=t.alpha=void 0;var n={"en-US":/^[A-Z]+$/i,"az-AZ":/^[A-VXYZ\xc7\u018f\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"bg-BG":/^[\u0410-\u042f]+$/i,"cs-CZ":/^[A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[\u0391-\u03ce]+$/i,"es-ES":/^[A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fa-IR":/^[\u0627\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u06cc]+$/i,"fi-FI":/^[A-Z\xc5\xc4\xd6]+$/i,"fr-FR":/^[A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"nb-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[A-Z\xc6\xd8\xc5]+$/i,"hu-HU":/^[A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"pl-PL":/^[A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[A-Z\xc3\xc1\xc0\xc2\xc4\xc7\xc9\xca\xcb\xcd\xcf\xd5\xd3\xd4\xd6\xda\xdc]+$/i,"ru-RU":/^[\u0410-\u042f\u0401]+$/i,"sl-SI":/^[A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[A-Z\xc5\xc4\xd6]+$/i,"th-TH":/^[\u0e01-\u0e50\s]+$/i,"tr-TR":/^[A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"vi-VN":/^[A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\u0110\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8]+$/i,"ku-IQ":/^[\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,ar:/^[\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/,he:/^[\u05d0-\u05ea]+$/,fa:/^['\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u0629\u06cc']+$/i,"hi-IN":/^[\u0900-\u0961]+[\u0972-\u097F]*$/i};t.alpha=n;var r={"en-US":/^[0-9A-Z]+$/i,"az-AZ":/^[0-9A-VXYZ\xc7\u018f\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"bg-BG":/^[0-9\u0410-\u042f]+$/i,"cs-CZ":/^[0-9A-Z\xc1\u010c\u010e\xc9\u011a\xcd\u0147\xd3\u0158\u0160\u0164\xda\u016e\xdd\u017d]+$/i,"da-DK":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"de-DE":/^[0-9A-Z\xc4\xd6\xdc\xdf]+$/i,"el-GR":/^[0-9\u0391-\u03c9]+$/i,"es-ES":/^[0-9A-Z\xc1\xc9\xcd\xd1\xd3\xda\xdc]+$/i,"fi-FI":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"fr-FR":/^[0-9A-Z\xc0\xc2\xc6\xc7\xc9\xc8\xca\xcb\xcf\xce\xd4\u0152\xd9\xdb\xdc\u0178]+$/i,"it-IT":/^[0-9A-Z\xc0\xc9\xc8\xcc\xce\xd3\xd2\xd9]+$/i,"hu-HU":/^[0-9A-Z\xc1\xc9\xcd\xd3\xd6\u0150\xda\xdc\u0170]+$/i,"nb-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"nl-NL":/^[0-9A-Z\xc1\xc9\xcb\xcf\xd3\xd6\xdc\xda]+$/i,"nn-NO":/^[0-9A-Z\xc6\xd8\xc5]+$/i,"pl-PL":/^[0-9A-Z\u0104\u0106\u0118\u015a\u0141\u0143\xd3\u017b\u0179]+$/i,"pt-PT":/^[0-9A-Z\xc3\xc1\xc0\xc2\xc4\xc7\xc9\xca\xcb\xcd\xcf\xd5\xd3\xd4\xd6\xda\xdc]+$/i,"ru-RU":/^[0-9\u0410-\u042f\u0401]+$/i,"sl-SI":/^[0-9A-Z\u010c\u0106\u0110\u0160\u017d]+$/i,"sk-SK":/^[0-9A-Z\xc1\u010c\u010e\xc9\xcd\u0147\xd3\u0160\u0164\xda\xdd\u017d\u0139\u0154\u013d\xc4\xd4]+$/i,"sr-RS@latin":/^[0-9A-Z\u010c\u0106\u017d\u0160\u0110]+$/i,"sr-RS":/^[0-9\u0410-\u042f\u0402\u0408\u0409\u040a\u040b\u040f]+$/i,"sv-SE":/^[0-9A-Z\xc5\xc4\xd6]+$/i,"th-TH":/^[\u0e01-\u0e59\s]+$/i,"tr-TR":/^[0-9A-Z\xc7\u011e\u0130\u0131\xd6\u015e\xdc]+$/i,"uk-UA":/^[0-9\u0410-\u0429\u042c\u042e\u042f\u0404I\u0407\u0490\u0456]+$/i,"ku-IQ":/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0626\u0627\u0628\u067e\u062a\u062c\u0686\u062d\u062e\u062f\u0631\u0695\u0632\u0698\u0633\u0634\u0639\u063a\u0641\u06a4\u0642\u06a9\u06af\u0644\u06b5\u0645\u0646\u0648\u06c6\u06be\u06d5\u06cc\u06ce\u064a\u0637\u0624\u062b\u0622\u0625\u0623\u0643\u0636\u0635\u0629\u0638\u0630]+$/i,"vi-VN":/^[0-9A-Z\xc0\xc1\u1ea0\u1ea2\xc3\xc2\u1ea6\u1ea4\u1eac\u1ea8\u1eaa\u0102\u1eb0\u1eae\u1eb6\u1eb2\u1eb4\u0110\xc8\xc9\u1eb8\u1eba\u1ebc\xca\u1ec0\u1ebe\u1ec6\u1ec2\u1ec4\xcc\xcd\u1eca\u1ec8\u0128\xd2\xd3\u1ecc\u1ece\xd5\xd4\u1ed2\u1ed0\u1ed8\u1ed4\u1ed6\u01a0\u1edc\u1eda\u1ee2\u1ede\u1ee0\xd9\xda\u1ee4\u1ee6\u0168\u01af\u1eea\u1ee8\u1ef0\u1eec\u1eee\u1ef2\xdd\u1ef4\u1ef6\u1ef8]+$/i,ar:/^[\u0660\u0661\u0662\u0663\u0664\u0665\u0666\u0667\u0668\u06690-9\u0621\u0622\u0623\u0624\u0625\u0626\u0627\u0628\u0629\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u0649\u064a\u064b\u064c\u064d\u064e\u064f\u0650\u0651\u0652\u0670]+$/,he:/^[0-9\u05d0-\u05ea]+$/,fa:/^['0-9\u0622\u0627\u0621\u0623\u0624\u0626\u0628\u067e\u062a\u062b\u062c\u0686\u062d\u062e\u062f\u0630\u0631\u0632\u0698\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u06a9\u06af\u0644\u0645\u0646\u0648\u0647\u0629\u06cc\u06f1\u06f2\u06f3\u06f4\u06f5\u06f6\u06f7\u06f8\u06f9\u06f0']+$/i,"hi-IN":/^[\u0900-\u0963]+[\u0966-\u097F]*$/i};t.alphanumeric=r;var i={"en-US":".",ar:"\u066b"};t.decimal=i;var o=["AU","GB","HK","IN","NZ","ZA","ZM"];t.englishLocales=o;for(var a,s=0;s<o.length;s++)n[a="en-".concat(o[s])]=n["en-US"],r[a]=r["en-US"],i[a]=i["en-US"];var l=["AE","BH","DZ","EG","IQ","JO","KW","LB","LY","MA","QM","QA","SA","SD","SY","TN","YE"];t.arabicLocales=l;for(var c,u=0;u<l.length;u++)n[c="ar-".concat(l[u])]=n.ar,r[c]=r.ar,i[c]=i.ar;var d=["IR","AF"];t.farsiLocales=d;for(var p,f=0;f<d.length;f++)r[p="fa-".concat(d[f])]=r.fa,i[p]=i.ar;var h=["ar-EG","ar-LB","ar-LY"];t.dotDecimal=h;var m=["bg-BG","cs-CZ","da-DK","de-DE","el-GR","en-ZM","es-ES","fr-CA","fr-FR","id-ID","it-IT","ku-IQ","hi-IN","hu-HU","nb-NO","nn-NO","nl-NL","pl-PL","pt-PT","ru-RU","sl-SI","sr-RS@latin","sr-RS","sv-SE","tr-TR","uk-UA","vi-VN"];t.commaDecimal=m;for(var g=0;g<h.length;g++)i[h[g]]=i["en-US"];for(var v=0;v<m.length;v++)i[m[v]]=",";n["fr-CA"]=n["fr-FR"],r["fr-CA"]=r["fr-FR"],n["pt-BR"]=n["pt-PT"],r["pt-BR"]=r["pt-PT"],i["pt-BR"]=i["pt-PT"],n["pl-Pl"]=n["pl-PL"],r["pl-Pl"]=r["pl-PL"],i["pl-Pl"]=i["pl-PL"],n["fa-AF"]=n.fa},44928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.replace(new RegExp("[".concat(t,"]+"),"g"),"")};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},89466:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if((0,r.default)(e),(n=(0,o.default)(n,s)).ignoreCase)return e.toLowerCase().split((0,i.default)(t).toLowerCase()).length>n.minOccurrences;return e.split((0,i.default)(t)).length>n.minOccurrences};var r=a(n(65571)),i=a(n(31913)),o=a(n(84808));function a(e){return e&&e.__esModule?e:{default:e}}var s={ignoreCase:!1,minOccurrences:1};e.exports=t.default,e.exports.default=t.default},2315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e===t};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},5152:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2F;").replace(/\\/g,"&#x5C;").replace(/`/g,"&#96;")};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},93315:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,r.default)(e);var n=(0,i.default)(t),o=(0,i.default)(e);return!!(o&&n&&o>n)};var r=o(n(65571)),i=o(n(8469));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},19234:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(e);var r=e,a=n.ignore;if(a)if(a instanceof RegExp)r=r.replace(a,"");else{if("string"!==typeof a)throw new Error("ignore should be instance of a String or RegExp");r=r.replace(new RegExp("[".concat(a.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"")}if(t in o.alpha)return o.alpha[t].test(r);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r},o=n(60079);var a=Object.keys(o.alpha);t.locales=a},94583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,i.default)(e);var r=e,a=n.ignore;if(a)if(a instanceof RegExp)r=r.replace(a,"");else{if("string"!==typeof a)throw new Error("ignore should be instance of a String or RegExp");r=r.replace(new RegExp("[".concat(a.replace(/[-[\]{}()*+?.,\\^$|#\\s]/g,"\\$&"),"]"),"g"),"")}if(t in o.alphanumeric)return o.alphanumeric[t].test(r);throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r},o=n(60079);var a=Object.keys(o.alphanumeric);t.locales=a},64094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^[\x00-\x7F]+$/;e.exports=t.default,e.exports.default=t.default},42438:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),!o.CountryCodes.has(e.slice(4,6).toUpperCase()))return!1;return a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r},o=n(21727);var a=/^[A-Za-z]{6}[A-Za-z0-9]{2}([A-Za-z0-9]{3})?$/;e.exports=t.default,e.exports.default=t.default},2782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),e.length%8===0&&o.test(e))return!0;return!1};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^[A-Z2-7]+=*$/;e.exports=t.default,e.exports.default=t.default},65008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),o.test(e))return!0;return!1};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^[A-HJ-NP-Za-km-z1-9]*$/;e.exports=t.default,e.exports.default=t.default},2689:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),t=(0,i.default)(t,l);var n=e.length;if(t.urlSafe)return s.test(e);if(n%4!==0||a.test(e))return!1;var o=e.indexOf("=");return-1===o||o===n-1||o===n-2&&"="===e[n-1]};var r=o(n(65571)),i=o(n(84808));function o(e){return e&&e.__esModule?e:{default:e}}var a=/[^A-Z0-9+\/=]/i,s=/^[A-Z0-9_\-]*$/i,l={urlSafe:!1};e.exports=t.default,e.exports.default=t.default},51464:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:String(new Date);(0,r.default)(e);var n=(0,i.default)(t),o=(0,i.default)(e);return!!(o&&n&&o<n)};var r=o(n(65571)),i=o(n(8469));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},99493:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if((0,i.default)(e),t.loose)return s.includes(e.toLowerCase());return a.includes(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o={loose:!1},a=["true","false","1","0"],s=[].concat(a,["yes","no"]);e.exports=t.default,e.exports.default=t.default},88021:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),e.startsWith("bc1"))return o.test(e);return a.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^(bc1)[a-z0-9]{25,39}$/,a=/^(1|3)[A-HJ-NP-Za-km-z1-9]{25,39}$/;e.exports=t.default,e.exports.default=t.default},93235:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;(0,i.default)(e),"object"===o(t)?(n=t.min||0,r=t.max):(n=arguments[1],r=arguments[2]);var a=encodeURI(e).split(/%..|./).length-1;return a>=n&&("undefined"===typeof r||a<=r)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}e.exports=t.default,e.exports.default=t.default},682:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.replace(/[- ]+/g,"");if(!o.test(t))return!1;for(var n,r,a,s=0,l=t.length-1;l>=0;l--)n=t.substring(l,l+1),r=parseInt(n,10),s+=a&&(r*=2)>=10?r%10+1:r,a=!a;return!(s%10!==0||!t)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^(?:4[0-9]{12}(?:[0-9]{3,6})?|5[1-5][0-9]{14}|(222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}|6(?:011|5[0-9][0-9])[0-9]{12,15}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11}|6[27][0-9]{14}|^(81[0-9]{14,17}))$/;e.exports=t.default,e.exports.default=t.default},90094:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),function(e){var t="\\d{".concat(e.digits_after_decimal[0],"}");e.digits_after_decimal.forEach((function(e,n){0!==n&&(t="".concat(t,"|\\d{").concat(e,"}"))}));var n="(".concat(e.symbol.replace(/\W/,(function(e){return"\\".concat(e)})),")").concat(e.require_symbol?"":"?"),r="-?",i="[1-9]\\d{0,2}(\\".concat(e.thousands_separator,"\\d{3})*"),o="(".concat(["0","[1-9]\\d*",i].join("|"),")?"),a="(\\".concat(e.decimal_separator,"(").concat(t,"))").concat(e.require_decimal?"":"?"),s=o+(e.allow_decimal||e.require_decimal?a:"");e.allow_negatives&&!e.parens_for_negatives&&(e.negative_sign_after_digits?s+=r:e.negative_sign_before_digits&&(s=r+s));e.allow_negative_sign_placeholder?s="( (?!\\-))?".concat(s):e.allow_space_after_symbol?s=" ?".concat(s):e.allow_space_after_digits&&(s+="( (?!$))?");e.symbol_after_digits?s+=n:s=n+s;e.allow_negatives&&(e.parens_for_negatives?s="(\\(".concat(s,"\\)|").concat(s,")"):e.negative_sign_before_digits||e.negative_sign_after_digits||(s=r+s));return new RegExp("^(?!-? )(?=.*\\d)".concat(s,"$"))}(t=(0,r.default)(t,a)).test(e)};var r=o(n(84808)),i=o(n(65571));function o(e){return e&&e.__esModule?e:{default:e}}var a={symbol:"$",require_symbol:!1,allow_space_after_symbol:!1,symbol_after_digits:!1,allow_negatives:!0,parens_for_negatives:!1,negative_sign_before_digits:!1,negative_sign_after_digits:!1,allow_negative_sign_placeholder:!1,thousands_separator:",",decimal_separator:".",allow_decimal:!0,require_decimal:!1,digits_after_decimal:[2],allow_space_after_digits:!1};e.exports=t.default,e.exports.default=t.default},98983:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.split(",");if(t.length<2)return!1;var n=t.shift().trim().split(";"),r=n.shift();if("data:"!==r.substr(0,5))return!1;var l=r.substr(5);if(""!==l&&!o.test(l))return!1;for(var c=0;c<n.length;c++)if((c!==n.length-1||"base64"!==n[c].toLowerCase())&&!a.test(n[c]))return!1;for(var u=0;u<t.length;u++)if(!s.test(t[u]))return!1;return!0};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^[a-z]+\/[a-z0-9\-\+]+$/i,a=/^[a-z\-]+=[a-z0-9\-]+$/i,s=/^[a-z0-9!\$&'\(\)\*\+,;=\-\._~:@\/\?%\s]*$/i;e.exports=t.default,e.exports.default=t.default},82549:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t="string"===typeof t?(0,i.default)({format:t},s):(0,i.default)(t,s);if("string"===typeof e&&(g=t.format,/(^(y{4}|y{2})[.\/-](m{1,2})[.\/-](d{1,2})$)|(^(m{1,2})[.\/-](d{1,2})[.\/-]((y{4}|y{2})$))|(^(d{1,2})[.\/-](m{1,2})[.\/-]((y{4}|y{2})$))/gi.test(g))){var n,r=t.delimiters.find((function(e){return-1!==t.format.indexOf(e)})),a=t.strictMode?r:t.delimiters.find((function(t){return-1!==e.indexOf(t)})),l=function(e,t){for(var n=[],r=Math.min(e.length,t.length),i=0;i<r;i++)n.push([e[i],t[i]]);return n}(e.split(a),t.format.toLowerCase().split(r)),c={},u=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(l);try{for(u.s();!(n=u.n()).done;){var d=(h=n.value,m=2,function(e){if(Array.isArray(e))return e}(h)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(h,m)||o(h,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),p=d[0],f=d[1];if(p.length!==f.length)return!1;c[f.charAt(0)]=p}}catch(v){u.e(v)}finally{u.f()}return new Date("".concat(c.m,"/").concat(c.d,"/").concat(c.y)).getDate()===+c.d}var h,m;var g;if(!t.strictMode)return"[object Date]"===Object.prototype.toString.call(e)&&isFinite(e);return!1};var r,i=(r=n(84808))&&r.__esModule?r:{default:r};function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s={format:"YYYY/MM/DD",delimiters:["/","-"],strictMode:!1};e.exports=t.default,e.exports.default=t.default},85218:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),(t=(0,r.default)(t,l)).locale in a.decimal)return!(0,o.default)(c,e.replace(/ /g,""))&&function(e){return new RegExp("^[-+]?([0-9]+)?(\\".concat(a.decimal[e.locale],"[0-9]{").concat(e.decimal_digits,"})").concat(e.force_decimal?"":"?","$"))}(t).test(e);throw new Error("Invalid locale '".concat(t.locale,"'"))};var r=s(n(84808)),i=s(n(65571)),o=s(n(18343)),a=n(60079);function s(e){return e&&e.__esModule?e:{default:e}}var l={force_decimal:!1,decimal_digits:"1,",locale:"en-US"},c=["","-","+"];e.exports=t.default,e.exports.default=t.default},58335:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),(0,i.default)(e)%parseInt(t,10)===0};var r=o(n(65571)),i=o(n(77536));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},35807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=Number(e.slice(-1));return o.test(e)&&t===(n=e,r=10-n.slice(0,-1).split("").map((function(e,t){return Number(e)*function(e,t){return 8===e||14===e?t%2===0?3:1:t%2===0?1:3}(n.length,t)})).reduce((function(e,t){return e+t}),0)%10,r<10?r:0);var n,r};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^(\d{8}|\d{13}|\d{14})$/;e.exports=t.default,e.exports.default=t.default},83868:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),(t=(0,i.default)(t,c)).require_display_name||t.allow_display_name){var n=e.match(u);if(n){var l=n[1];if(e=e.replace(l,"").replace(/(^<|>$)/g,""),l.endsWith(" ")&&(l=l.substr(0,l.length-1)),!function(e){var t=e.replace(/^"(.+)"$/,"$1");if(!t.trim())return!1;if(/[\.";<>]/.test(t)){if(t===e)return!1;if(!(t.split('"').length===t.split('\\"').length))return!1}return!0}(l))return!1}else if(t.require_display_name)return!1}if(!t.ignore_max_length&&e.length>254)return!1;var g=e.split("@"),v=g.pop(),y=v.toLowerCase();if(t.host_blacklist.includes(y))return!1;var b=g.join("@");if(t.domain_specific_validation&&("gmail.com"===y||"googlemail.com"===y)){var w=(b=b.toLowerCase()).split("+")[0];if(!(0,o.default)(w.replace(/\./g,""),{min:6,max:30}))return!1;for(var x=w.split("."),S=0;S<x.length;S++)if(!p.test(x[S]))return!1}if(!1===t.ignore_max_length&&(!(0,o.default)(b,{max:64})||!(0,o.default)(v,{max:254})))return!1;if(!(0,a.default)(v,{require_tld:t.require_tld})){if(!t.allow_ip_domain)return!1;if(!(0,s.default)(v)){if(!v.startsWith("[")||!v.endsWith("]"))return!1;var k=v.substr(1,v.length-2);if(0===k.length||!(0,s.default)(k))return!1}}if('"'===b[0])return b=b.slice(1,b.length-1),t.allow_utf8_local_part?m.test(b):f.test(b);for(var T=t.allow_utf8_local_part?h:d,E=b.split("."),_=0;_<E.length;_++)if(!T.test(E[_]))return!1;if(t.blacklisted_chars&&-1!==b.search(new RegExp("[".concat(t.blacklisted_chars,"]+"),"g")))return!1;return!0};var r=l(n(65571)),i=l(n(84808)),o=l(n(93235)),a=l(n(10221)),s=l(n(61028));function l(e){return e&&e.__esModule?e:{default:e}}var c={allow_display_name:!1,require_display_name:!1,allow_utf8_local_part:!0,require_tld:!0,blacklisted_chars:"",ignore_max_length:!1,host_blacklist:[]},u=/^([^\x00-\x1F\x7F-\x9F\cX]+)</i,d=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~]+$/i,p=/^[a-z\d]+$/,f=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f]))*$/i,h=/^[a-z\d!#\$%&'\*\+\-\/=\?\^_`{\|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/i,m=/^([\s\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/i;e.exports=t.default,e.exports.default=t.default},54069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)(e),0===((t=(0,i.default)(t,a)).ignore_whitespace?e.trim().length:e.length)};var r=o(n(65571)),i=o(n(84808));function o(e){return e&&e.__esModule?e:{default:e}}var a={ignore_whitespace:!1};e.exports=t.default,e.exports.default=t.default},82129:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^(0x)[0-9a-f]{40}$/i;e.exports=t.default,e.exports.default=t.default},10221:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e),(t=(0,i.default)(t,a)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1));!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var n=e.split("."),o=n[n.length-1];if(t.require_tld){if(n.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(o))return!1;if(/\s/.test(o))return!1}if(!t.allow_numeric_tld&&/^\d+$/.test(o))return!1;return n.every((function(e){return!(e.length>63)&&(!!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!(!t.allow_underscores&&/_/.test(e)))))}))};var r=o(n(65571)),i=o(n(84808));function o(e){return e&&e.__esModule?e:{default:e}}var a={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};e.exports=t.default,e.exports.default=t.default},79146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e),t=t||{};var n=new RegExp("^(?:[-+])?(?:[0-9]+)?(?:\\".concat(t.locale?o.decimal[t.locale]:".","[0-9]*)?(?:[eE][\\+\\-]?(?:[0-9]+))?$"));if(""===e||"."===e||"-"===e||"+"===e)return!1;var r=parseFloat(e.replace(",","."));return n.test(e)&&(!t.hasOwnProperty("min")||r>=t.min)&&(!t.hasOwnProperty("max")||r<=t.max)&&(!t.hasOwnProperty("lt")||r<t.lt)&&(!t.hasOwnProperty("gt")||r>t.gt)},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r},o=n(60079);var a=Object.keys(o.decimal);t.locales=a},77146:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)},t.fullWidth=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/[^\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.fullWidth=o},16648:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,i.default)(e);var t=e.replace(/\s+/g," ").replace(/\s?(hsla?\(|\)|,)\s?/gi,"$1");if(-1!==t.indexOf(","))return o.test(t);return a.test(t)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(,(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}(,((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?))?\)$/i,a=/^hsla?\(((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?))(deg|grad|rad|turn)?(\s(\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%){2}\s?(\/\s((\+|\-)?([0-9]+(\.[0-9]+)?(e(\+|\-)?[0-9]+)?|\.[0-9]+(e(\+|\-)?[0-9]+)?)%?)\s?)?\)$/i;e.exports=t.default,e.exports.default=t.default},82941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)},t.halfWidth=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/[\u0020-\u007E\uFF61-\uFF9F\uFFA0-\uFFDC\uFFE8-\uFFEE0-9a-zA-Z]/;t.halfWidth=o},18874:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),new RegExp("^[a-fA-F0-9]{".concat(o[t],"}$")).test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o={md5:32,md4:32,sha1:40,sha256:64,sha384:96,sha512:128,ripemd128:32,ripemd160:40,tiger128:32,tiger160:40,tiger192:48,crc32:8,crc32b:8};e.exports=t.default,e.exports.default=t.default},96298:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^#?([0-9A-F]{3}|[0-9A-F]{4}|[0-9A-F]{6}|[0-9A-F]{8})$/i;e.exports=t.default,e.exports.default=t.default},77117:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^(0x|0h)?[0-9A-F]+$/i;e.exports=t.default,e.exports.default=t.default},88177:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),function(e){var t=e.replace(/[\s\-]+/gi,"").toUpperCase(),n=t.slice(0,2).toUpperCase();return n in o&&o[n].test(t)}(e)&&function(e){var t=e.replace(/[^A-Z0-9]+/gi,"").toUpperCase();return 1===(t.slice(4)+t.slice(0,4)).replace(/[A-Z]/g,(function(e){return e.charCodeAt(0)-55})).match(/\d{1,7}/g).reduce((function(e,t){return Number(e+t)%97}),"")}(e)},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o={AD:/^(AD[0-9]{2})\d{8}[A-Z0-9]{12}$/,AE:/^(AE[0-9]{2})\d{3}\d{16}$/,AL:/^(AL[0-9]{2})\d{8}[A-Z0-9]{16}$/,AT:/^(AT[0-9]{2})\d{16}$/,AZ:/^(AZ[0-9]{2})[A-Z0-9]{4}\d{20}$/,BA:/^(BA[0-9]{2})\d{16}$/,BE:/^(BE[0-9]{2})\d{12}$/,BG:/^(BG[0-9]{2})[A-Z]{4}\d{6}[A-Z0-9]{8}$/,BH:/^(BH[0-9]{2})[A-Z]{4}[A-Z0-9]{14}$/,BR:/^(BR[0-9]{2})\d{23}[A-Z]{1}[A-Z0-9]{1}$/,BY:/^(BY[0-9]{2})[A-Z0-9]{4}\d{20}$/,CH:/^(CH[0-9]{2})\d{5}[A-Z0-9]{12}$/,CR:/^(CR[0-9]{2})\d{18}$/,CY:/^(CY[0-9]{2})\d{8}[A-Z0-9]{16}$/,CZ:/^(CZ[0-9]{2})\d{20}$/,DE:/^(DE[0-9]{2})\d{18}$/,DK:/^(DK[0-9]{2})\d{14}$/,DO:/^(DO[0-9]{2})[A-Z]{4}\d{20}$/,EE:/^(EE[0-9]{2})\d{16}$/,EG:/^(EG[0-9]{2})\d{25}$/,ES:/^(ES[0-9]{2})\d{20}$/,FI:/^(FI[0-9]{2})\d{14}$/,FO:/^(FO[0-9]{2})\d{14}$/,FR:/^(FR[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,GB:/^(GB[0-9]{2})[A-Z]{4}\d{14}$/,GE:/^(GE[0-9]{2})[A-Z0-9]{2}\d{16}$/,GI:/^(GI[0-9]{2})[A-Z]{4}[A-Z0-9]{15}$/,GL:/^(GL[0-9]{2})\d{14}$/,GR:/^(GR[0-9]{2})\d{7}[A-Z0-9]{16}$/,GT:/^(GT[0-9]{2})[A-Z0-9]{4}[A-Z0-9]{20}$/,HR:/^(HR[0-9]{2})\d{17}$/,HU:/^(HU[0-9]{2})\d{24}$/,IE:/^(IE[0-9]{2})[A-Z0-9]{4}\d{14}$/,IL:/^(IL[0-9]{2})\d{19}$/,IQ:/^(IQ[0-9]{2})[A-Z]{4}\d{15}$/,IR:/^(IR[0-9]{2})0\d{2}0\d{18}$/,IS:/^(IS[0-9]{2})\d{22}$/,IT:/^(IT[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,JO:/^(JO[0-9]{2})[A-Z]{4}\d{22}$/,KW:/^(KW[0-9]{2})[A-Z]{4}[A-Z0-9]{22}$/,KZ:/^(KZ[0-9]{2})\d{3}[A-Z0-9]{13}$/,LB:/^(LB[0-9]{2})\d{4}[A-Z0-9]{20}$/,LC:/^(LC[0-9]{2})[A-Z]{4}[A-Z0-9]{24}$/,LI:/^(LI[0-9]{2})\d{5}[A-Z0-9]{12}$/,LT:/^(LT[0-9]{2})\d{16}$/,LU:/^(LU[0-9]{2})\d{3}[A-Z0-9]{13}$/,LV:/^(LV[0-9]{2})[A-Z]{4}[A-Z0-9]{13}$/,MC:/^(MC[0-9]{2})\d{10}[A-Z0-9]{11}\d{2}$/,MD:/^(MD[0-9]{2})[A-Z0-9]{20}$/,ME:/^(ME[0-9]{2})\d{18}$/,MK:/^(MK[0-9]{2})\d{3}[A-Z0-9]{10}\d{2}$/,MR:/^(MR[0-9]{2})\d{23}$/,MT:/^(MT[0-9]{2})[A-Z]{4}\d{5}[A-Z0-9]{18}$/,MU:/^(MU[0-9]{2})[A-Z]{4}\d{19}[A-Z]{3}$/,MZ:/^(MZ[0-9]{2})\d{21}$/,NL:/^(NL[0-9]{2})[A-Z]{4}\d{10}$/,NO:/^(NO[0-9]{2})\d{11}$/,PK:/^(PK[0-9]{2})[A-Z0-9]{4}\d{16}$/,PL:/^(PL[0-9]{2})\d{24}$/,PS:/^(PS[0-9]{2})[A-Z0-9]{4}\d{21}$/,PT:/^(PT[0-9]{2})\d{21}$/,QA:/^(QA[0-9]{2})[A-Z]{4}[A-Z0-9]{21}$/,RO:/^(RO[0-9]{2})[A-Z]{4}[A-Z0-9]{16}$/,RS:/^(RS[0-9]{2})\d{18}$/,SA:/^(SA[0-9]{2})\d{2}[A-Z0-9]{18}$/,SC:/^(SC[0-9]{2})[A-Z]{4}\d{20}[A-Z]{3}$/,SE:/^(SE[0-9]{2})\d{20}$/,SI:/^(SI[0-9]{2})\d{15}$/,SK:/^(SK[0-9]{2})\d{20}$/,SM:/^(SM[0-9]{2})[A-Z]{1}\d{10}[A-Z0-9]{12}$/,SV:/^(SV[0-9]{2})[A-Z0-9]{4}\d{20}$/,TL:/^(TL[0-9]{2})\d{19}$/,TN:/^(TN[0-9]{2})\d{20}$/,TR:/^(TR[0-9]{2})\d{5}[A-Z0-9]{17}$/,UA:/^(UA[0-9]{2})\d{6}[A-Z0-9]{19}$/,VA:/^(VA[0-9]{2})\d{18}$/,VG:/^(VG[0-9]{2})[A-Z0-9]{4}\d{16}$/,XK:/^(XK[0-9]{2})\d{16}$/};var a=Object.keys(o);t.locales=a},15566:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=o;(t=t||{}).allow_hyphens&&(n=a);if(!n.test(e))return!1;e=e.replace(/-/g,"");for(var r=0,s=2,l=0;l<14;l++){var c=e.substring(14-l-1,14-l),u=parseInt(c,10)*s;r+=u>=10?u%10+1:u,1===s?s+=1:s-=1}if((10-r%10)%10!==parseInt(e.substring(14,15),10))return!1;return!0};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^[0-9]{15}$/,a=/^\d{2}-\d{6}-\d{6}-\d{1}$/;e.exports=t.default,e.exports.default=t.default},61028:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,i.default)(t),!(n=String(n)))return e(t,4)||e(t,6);if("4"===n){if(!s.test(t))return!1;var r=t.split(".").sort((function(e,t){return e-t}));return r[3]<=255}if("6"===n)return!!c.test(t);return!1};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",a="(".concat(o,"[.]){3}").concat(o),s=new RegExp("^".concat(a,"$")),l="(?:[0-9a-fA-F]{1,4})",c=new RegExp("^("+"(?:".concat(l,":){7}(?:").concat(l,"|:)|")+"(?:".concat(l,":){6}(?:").concat(a,"|:").concat(l,"|:)|")+"(?:".concat(l,":){5}(?::").concat(a,"|(:").concat(l,"){1,2}|:)|")+"(?:".concat(l,":){4}(?:(:").concat(l,"){0,1}:").concat(a,"|(:").concat(l,"){1,3}|:)|")+"(?:".concat(l,":){3}(?:(:").concat(l,"){0,2}:").concat(a,"|(:").concat(l,"){1,4}|:)|")+"(?:".concat(l,":){2}(?:(:").concat(l,"){0,3}:").concat(a,"|(:").concat(l,"){1,5}|:)|")+"(?:".concat(l,":){1}(?:(:").concat(l,"){0,4}:").concat(a,"|(:").concat(l,"){1,6}|:)|")+"(?::((?::".concat(l,"){0,5}:").concat(a,"|(?::").concat(l,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},27795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,r.default)(e);var n=e.split("/");if(2!==n.length)return!1;if(!a.test(n[1]))return!1;if(n[1].length>1&&n[1].startsWith("0"))return!1;var o=(0,i.default)(n[0],t);if(!o)return!1;var l=null;switch(String(t)){case"4":l=32;break;case"6":l=s;break;default:l=(0,i.default)(n[0],"6")?s:32}return n[1]<=l&&n[1]>=0};var r=o(n(65571)),i=o(n(61028));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^\d{1,3}$/,s=128;e.exports=t.default,e.exports.default=t.default},87612:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,i.default)(t),!(n=String(n)))return e(t,10)||e(t,13);var r,l=t.replace(/[\s-]+/g,""),c=0;if("10"===n){if(!o.test(l))return!1;for(r=0;r<9;r++)c+=(r+1)*l.charAt(r);if("X"===l.charAt(9)?c+=100:c+=10*l.charAt(9),c%11===0)return!!l}else if("13"===n){if(!a.test(l))return!1;for(r=0;r<12;r++)c+=s[r%2]*l.charAt(r);if(l.charAt(12)-(10-c%10)%10===0)return!!l}return!1};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^(?:[0-9]{9}X|[0-9]{10})$/,a=/^(?:[0-9]{13})$/,s=[1,3];e.exports=t.default,e.exports.default=t.default},57148:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),!o.test(e))return!1;for(var t=!0,n=0,r=e.length-2;r>=0;r--)if(e[r]>="A"&&e[r]<="Z")for(var a=e[r].charCodeAt(0)-55,s=a%10,l=Math.trunc(a/10),c=0,u=[s,l];c<u.length;c++){var d=u[c];n+=t?d>=5?1+2*(d-5):2*d:d,t=!t}else{var p=e[r].charCodeAt(0)-"0".charCodeAt(0);n+=t?p>=5?1+2*(p-5):2*p:p,t=!t}var f=10*Math.trunc((n+9)/10)-n;return+e[e.length-1]===f};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;e.exports=t.default,e.exports.default=t.default},21727:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e.toUpperCase())},t.CountryCodes=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=new Set(["AD","AE","AF","AG","AI","AL","AM","AO","AQ","AR","AS","AT","AU","AW","AX","AZ","BA","BB","BD","BE","BF","BG","BH","BI","BJ","BL","BM","BN","BO","BQ","BR","BS","BT","BV","BW","BY","BZ","CA","CC","CD","CF","CG","CH","CI","CK","CL","CM","CN","CO","CR","CU","CV","CW","CX","CY","CZ","DE","DJ","DK","DM","DO","DZ","EC","EE","EG","EH","ER","ES","ET","FI","FJ","FK","FM","FO","FR","GA","GB","GD","GE","GF","GG","GH","GI","GL","GM","GN","GP","GQ","GR","GS","GT","GU","GW","GY","HK","HM","HN","HR","HT","HU","ID","IE","IL","IM","IN","IO","IQ","IR","IS","IT","JE","JM","JO","JP","KE","KG","KH","KI","KM","KN","KP","KR","KW","KY","KZ","LA","LB","LC","LI","LK","LR","LS","LT","LU","LV","LY","MA","MC","MD","ME","MF","MG","MH","MK","ML","MM","MN","MO","MP","MQ","MR","MS","MT","MU","MV","MW","MX","MY","MZ","NA","NC","NE","NF","NG","NI","NL","NO","NP","NR","NU","NZ","OM","PA","PE","PF","PG","PH","PK","PL","PM","PN","PR","PS","PT","PW","PY","QA","RE","RO","RS","RU","RW","SA","SB","SC","SD","SE","SG","SH","SI","SJ","SK","SL","SM","SN","SO","SR","SS","ST","SV","SX","SY","SZ","TC","TD","TF","TG","TH","TJ","TK","TL","TM","TN","TO","TR","TT","TV","TW","TZ","UA","UG","UM","US","UY","UZ","VA","VC","VE","VG","VI","VN","VU","WF","WS","YE","YT","ZA","ZM","ZW"]);var a=o;t.CountryCodes=a},86776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e.toUpperCase())};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=new Set(["AFG","ALA","ALB","DZA","ASM","AND","AGO","AIA","ATA","ATG","ARG","ARM","ABW","AUS","AUT","AZE","BHS","BHR","BGD","BRB","BLR","BEL","BLZ","BEN","BMU","BTN","BOL","BES","BIH","BWA","BVT","BRA","IOT","BRN","BGR","BFA","BDI","KHM","CMR","CAN","CPV","CYM","CAF","TCD","CHL","CHN","CXR","CCK","COL","COM","COG","COD","COK","CRI","CIV","HRV","CUB","CUW","CYP","CZE","DNK","DJI","DMA","DOM","ECU","EGY","SLV","GNQ","ERI","EST","ETH","FLK","FRO","FJI","FIN","FRA","GUF","PYF","ATF","GAB","GMB","GEO","DEU","GHA","GIB","GRC","GRL","GRD","GLP","GUM","GTM","GGY","GIN","GNB","GUY","HTI","HMD","VAT","HND","HKG","HUN","ISL","IND","IDN","IRN","IRQ","IRL","IMN","ISR","ITA","JAM","JPN","JEY","JOR","KAZ","KEN","KIR","PRK","KOR","KWT","KGZ","LAO","LVA","LBN","LSO","LBR","LBY","LIE","LTU","LUX","MAC","MKD","MDG","MWI","MYS","MDV","MLI","MLT","MHL","MTQ","MRT","MUS","MYT","MEX","FSM","MDA","MCO","MNG","MNE","MSR","MAR","MOZ","MMR","NAM","NRU","NPL","NLD","NCL","NZL","NIC","NER","NGA","NIU","NFK","MNP","NOR","OMN","PAK","PLW","PSE","PAN","PNG","PRY","PER","PHL","PCN","POL","PRT","PRI","QAT","REU","ROU","RUS","RWA","BLM","SHN","KNA","LCA","MAF","SPM","VCT","WSM","SMR","STP","SAU","SEN","SRB","SYC","SLE","SGP","SXM","SVK","SVN","SLB","SOM","ZAF","SGS","SSD","ESP","LKA","SDN","SUR","SJM","SWZ","SWE","CHE","SYR","TWN","TJK","TZA","THA","TLS","TGO","TKL","TON","TTO","TUN","TUR","TKM","TCA","TUV","UGA","UKR","ARE","GBR","USA","UMI","URY","UZB","VUT","VEN","VNM","VGB","VIR","WLF","ESH","YEM","ZMB","ZWE"]);e.exports=t.default,e.exports.default=t.default},19963:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.has(e.toUpperCase())},t.CurrencyCodes=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=new Set(["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTN","BWP","BYN","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EGP","ERN","ETB","EUR","FJD","FKP","GBP","GEL","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","INR","IQD","IRR","ISK","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRY","TTD","TWD","TZS","UAH","UGX","USD","USN","UYI","UYU","UYW","UZS","VES","VND","VUV","WST","XAF","XAG","XAU","XBA","XBB","XBC","XBD","XCD","XDR","XOF","XPD","XPF","XPT","XSU","XTS","XUA","XXX","YER","ZAR","ZMW","ZWL"]);var a=o;t.CurrencyCodes=a},65061:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(e);var n=t.strictSeparator?a.test(e):o.test(e);return n&&t.strict?s(e):n};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,a=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=function(e){var t=e.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(t){var n=Number(t[1]),r=Number(t[2]);return n%4===0&&n%100!==0||n%400===0?r<=366:r<=365}var i=e.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),o=i[1],a=i[2],s=i[3],l=a?"0".concat(a).slice(-2):a,c=s?"0".concat(s).slice(-2):s,u=new Date("".concat(o,"-").concat(l||"01","-").concat(c||"01"));return!a||!s||u.getUTCFullYear()===o&&u.getUTCMonth()+1===a&&u.getUTCDate()===s};e.exports=t.default,e.exports.default=t.default},34339:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^[A-Z]{2}[0-9A-Z]{3}\d{2}\d{5}$/;e.exports=t.default,e.exports.default=t.default},29887:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.default)(e);var n=o;if(n=t.require_hyphen?n.replace("?",""):n,!(n=t.case_sensitive?new RegExp(n):new RegExp(n,"i")).test(e))return!1;for(var r=e.replace("-","").toUpperCase(),a=0,s=0;s<r.length;s++){var l=r[s];a+=("X"===l?10:+l)*(8-s)}return a%11===0};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o="^\\d{4}-?\\d{3}[\\dX]$";e.exports=t.default,e.exports.default=t.default},49396:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t in a)return a[t](e);if("any"===t){for(var n in a){if(a.hasOwnProperty(n))if((0,a[n])(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))};var r=o(n(65571)),i=o(n(20937));function o(e){return e&&e.__esModule?e:{default:e}}var a={PL:function(e){(0,r.default)(e);var t={1:1,2:3,3:7,4:9,5:1,6:3,7:7,8:9,9:1,10:3,11:0};if(null!=e&&11===e.length&&(0,i.default)(e,{allow_leading_zeroes:!0})){var n=e.split("").slice(0,-1).reduce((function(e,n,r){return e+Number(n)*t[r+1]}),0)%10,o=Number(e.charAt(e.length-1));if(0===n&&0===o||o===10-n)return!0}return!1},ES:function(e){(0,r.default)(e);var t={X:0,Y:1,Z:2},n=e.trim().toUpperCase();if(!/^[0-9X-Z][0-9]{7}[TRWAGMYFPDXBNJZSQVHLCKE]$/.test(n))return!1;var i=n.slice(0,-1).replace(/[X,Y,Z]/g,(function(e){return t[e]}));return n.endsWith(["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][i%23])},FI:function(e){if((0,r.default)(e),11!==e.length)return!1;if(!e.match(/^\d{6}[\-A\+]\d{3}[0-9ABCDEFHJKLMNPRSTUVWXY]{1}$/))return!1;return"0123456789ABCDEFHJKLMNPRSTUVWXY"[(1e3*parseInt(e.slice(0,6),10)+parseInt(e.slice(7,10),10))%31]===e.slice(10,11)},IN:function(e){var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],r=e.trim();if(!/^[1-9]\d{3}\s?\d{4}\s?\d{4}$/.test(r))return!1;var i=0;return r.replace(/\s/g,"").split("").map(Number).reverse().forEach((function(e,r){i=t[i][n[r%8][e]]})),0===i},IR:function(e){if(!e.match(/^\d{10}$/))return!1;if(e="0000".concat(e).substr(e.length-6),0===parseInt(e.substr(3,6),10))return!1;for(var t=parseInt(e.substr(9,1),10),n=0,r=0;r<9;r++)n+=parseInt(e.substr(r,1),10)*(10-r);return(n%=11)<2&&t===n||n>=2&&t===11-n},IT:function(e){return 9===e.length&&("CA00000AA"!==e&&e.search(/C[A-Z][0-9]{5}[A-Z]{2}/i)>-1)},NO:function(e){var t=e.trim();if(isNaN(Number(t)))return!1;if(11!==t.length)return!1;if("00000000000"===t)return!1;var n=t.split("").map(Number),r=(11-(3*n[0]+7*n[1]+6*n[2]+1*n[3]+8*n[4]+9*n[5]+4*n[6]+5*n[7]+2*n[8])%11)%11,i=(11-(5*n[0]+4*n[1]+3*n[2]+2*n[3]+7*n[4]+6*n[5]+5*n[6]+4*n[7]+3*n[8]+2*r)%11)%11;return r===n[9]&&i===n[10]},TH:function(e){if(!e.match(/^[1-8]\d{12}$/))return!1;for(var t=0,n=0;n<12;n++)t+=parseInt(e[n],10)*(13-n);return e[12]===((11-t%11)%10).toString()},LK:function(e){return!(10!==e.length||!/^[1-9]\d{8}[vx]$/i.test(e))||!(12!==e.length||!/^[1-9]\d{11}$/i.test(e))},"he-IL":function(e){var t=e.trim();if(!/^\d{9}$/.test(t))return!1;for(var n,r=t,i=0,o=0;o<r.length;o++)i+=(n=Number(r[o])*(o%2+1))>9?n-9:n;return i%10===0},"ar-LY":function(e){var t=e.trim();return!!/^(1|2)\d{11}$/.test(t)},"ar-TN":function(e){var t=e.trim();return!!/^\d{8}$/.test(t)},"zh-CN":function(e){var t,n=["11","12","13","14","15","21","22","23","31","32","33","34","35","36","37","41","42","43","44","45","46","50","51","52","53","54","61","62","63","64","65","71","81","82","91"],r=["7","9","10","5","8","4","2","1","6","3","7","9","10","5","8","4","2"],i=["1","0","X","9","8","7","6","5","4","3","2"],o=function(e){return n.includes(e)},a=function(e){var t=parseInt(e.substring(0,4),10),n=parseInt(e.substring(4,6),10),r=parseInt(e.substring(6),10),i=new Date(t,n-1,r);return!(i>new Date)&&(i.getFullYear()===t&&i.getMonth()===n-1&&i.getDate()===r)},s=function(e){return function(e){for(var t=e.substring(0,17),n=0,o=0;o<17;o++)n+=parseInt(t.charAt(o),10)*parseInt(r[o],10);return i[n%11]}(e)===e.charAt(17).toUpperCase()};return!!/^\d{15}|(\d{17}(\d|x|X))$/.test(t=e)&&(15===t.length?function(e){var t=/^[1-9]\d{7}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}$/.test(e);if(!t)return!1;var n=e.substring(0,2);if(!(t=o(n)))return!1;var r="19".concat(e.substring(6,12));return!!(t=a(r))}(t):function(e){var t=/^[1-9]\d{5}[1-9]\d{3}((0[1-9])|(1[0-2]))((0[1-9])|([1-2][0-9])|(3[0-1]))\d{3}(\d|x|X)$/.test(e);if(!t)return!1;var n=e.substring(0,2);if(!(t=o(n)))return!1;var r=e.substring(6,14);return!!(t=a(r))&&s(e)}(t))},"zh-TW":function(e){var t={A:10,B:11,C:12,D:13,E:14,F:15,G:16,H:17,I:34,J:18,K:19,L:20,M:21,N:22,O:35,P:23,Q:24,R:25,S:26,T:27,U:28,V:29,W:32,X:30,Y:31,Z:33},n=e.trim().toUpperCase();return!!/^[A-Z][0-9]{9}$/.test(n)&&Array.from(n).reduce((function(e,n,r){if(0===r){var i=t[n];return i%10*9+Math.floor(i/10)}return 9===r?(10-e%10-Number(n))%10===0:e+Number(n)*(9-r)}),0)}};e.exports=t.default,e.exports.default=t.default},27228:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n;if((0,r.default)(e),"[object Array]"===Object.prototype.toString.call(t)){var o=[];for(n in t)({}).hasOwnProperty.call(t,n)&&(o[n]=(0,i.default)(t[n]));return o.indexOf(e)>=0}if("object"===a(t))return t.hasOwnProperty(e);if(t&&"function"===typeof t.indexOf)return t.indexOf(e)>=0;return!1};var r=o(n(65571)),i=o(n(31913));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}e.exports=t.default,e.exports.default=t.default},20937:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=(t=t||{}).hasOwnProperty("allow_leading_zeroes")&&!t.allow_leading_zeroes?o:a,r=!t.hasOwnProperty("min")||e>=t.min,s=!t.hasOwnProperty("max")||e<=t.max,l=!t.hasOwnProperty("lt")||e<t.lt,c=!t.hasOwnProperty("gt")||e>t.gt;return n.test(e)&&r&&s&&l&&c};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^(?:[-+]?(?:0|[1-9][0-9]*))$/,a=/^[-+]?[0-9]+$/;e.exports=t.default,e.exports.default=t.default},81008:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);try{t=(0,i.default)(t,s);var n=[];t.allow_primitives&&(n=[null,!1,!0]);var o=JSON.parse(e);return n.includes(o)||!!o&&"object"===a(o)}catch(l){}return!1};var r=o(n(65571)),i=o(n(84808));function o(e){return e&&e.__esModule?e:{default:e}}function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var s={allow_primitives:!1};e.exports=t.default,e.exports.default=t.default},74979:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){(0,r.default)(e);var t=e.split("."),n=t.length;if(n>3||n<2)return!1;return t.reduce((function(e,t){return e&&(0,i.default)(t,{urlSafe:!0})}),!0)};var r=o(n(65571)),i=o(n(2689));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},90478:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),t=(0,i.default)(t,u),!e.includes(","))return!1;var n=e.split(",");if(n[0].startsWith("(")&&!n[1].endsWith(")")||n[1].endsWith(")")&&!n[0].startsWith("("))return!1;if(t.checkDMS)return l.test(n[0])&&c.test(n[1]);return a.test(n[0])&&s.test(n[1])};var r=o(n(65571)),i=o(n(84808));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^\(?[+-]?(90(\.0+)?|[1-8]?\d(\.\d+)?)$/,s=/^\s?[+-]?(180(\.0+)?|1[0-7]\d(\.\d+)?|\d{1,2}(\.\d+)?)\)?$/,l=/^(([1-8]?\d)\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|90\D+0\D+0)\D+[NSns]?$/i,c=/^\s*([1-7]?\d{1,2}\D+([1-5]?\d|60)\D+([1-5]?\d|60)(\.\d+)?|180\D+0\D+0)\D+[EWew]?$/i,u={checkDMS:!1};e.exports=t.default,e.exports.default=t.default},20661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n,r;(0,i.default)(e),"object"===o(t)?(n=t.min||0,r=t.max):(n=arguments[1]||0,r=arguments[2]);var a=e.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g)||[],s=e.length-a.length;return s>=n&&("undefined"===typeof r||s<=r)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}e.exports=t.default,e.exports.default=t.default},82786:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t in o)return o[t](e);if("any"===t){for(var n in o){if((0,o[n])(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o={"cs-CZ":function(e){return/^(([ABCDEFHKIJKLMNPRSTUVXYZ]|[0-9])-?){5,8}$/.test(e)},"de-DE":function(e){return/^((AW|UL|AK|GA|A\xd6|LF|AZ|AM|AS|ZE|AN|AB|A|KG|KH|BA|EW|BZ|HY|KM|BT|HP|B|BC|BI|BO|FN|TT|\xdcB|BN|AH|BS|FR|HB|ZZ|BB|BK|B\xd6|OC|OK|CW|CE|C|CO|LH|CB|KW|LC|LN|DA|DI|DE|DH|SY|N\xd6|DO|DD|DU|DN|D|EI|EA|EE|FI|EM|EL|EN|PF|ED|EF|ER|AU|ZP|E|ES|NT|EU|FL|FO|FT|FF|F|FS|FD|F\xdc|GE|G|GI|GF|GS|ZR|GG|GP|GR|NY|ZI|G\xd6|GZ|GT|HA|HH|HM|HU|WL|HZ|WR|RN|HK|HD|HN|HS|GK|HE|HF|RZ|HI|HG|HO|HX|IK|IL|IN|J|JL|KL|KA|KS|KF|KE|KI|KT|KO|KN|KR|KC|KU|K|LD|LL|LA|L|OP|LM|LI|LB|LU|L\xd6|HL|LG|MD|GN|MZ|MA|ML|MR|MY|AT|DM|MC|NZ|RM|RG|MM|ME|MB|MI|FG|DL|HC|MW|RL|MK|MG|M\xdc|WS|MH|M|MS|NU|NB|ND|NM|NK|NW|NR|NI|NF|DZ|EB|OZ|TG|TO|N|OA|GM|OB|CA|EH|FW|OF|OL|OE|OG|BH|LR|OS|AA|GD|OH|KY|NP|WK|PB|PA|PE|PI|PS|P|PM|PR|RA|RV|RE|R|H|SB|WN|RS|RD|RT|BM|NE|GV|RP|SU|GL|RO|G\xdc|RH|EG|RW|PN|SK|MQ|RU|SZ|RI|SL|SM|SC|HR|FZ|VS|SW|SN|CR|SE|SI|SO|LP|SG|NH|SP|IZ|ST|BF|TE|HV|OD|SR|S|AC|DW|ZW|TF|TS|TR|T\xdc|UM|PZ|TP|UE|UN|UH|MN|KK|VB|V|AE|PL|RC|VG|GW|PW|VR|VK|KB|WA|WT|BE|WM|WE|AP|MO|WW|FB|WZ|WI|WB|JE|WF|WO|W|W\xdc|BL|Z|GC)[- ]?[A-Z]{1,2}[- ]?\d{1,4}|(AIC|FDB|ABG|SLN|SAW|KLZ|BUL|ESB|NAB|SUL|WST|ABI|AZE|BTF|K\xd6T|DKB|FEU|ROT|ALZ|SM\xdc|WER|AUR|NOR|D\xdcW|BRK|HAB|T\xd6L|WOR|BAD|BAR|BER|BIW|EBS|KEM|M\xdcB|PEG|BGL|BGD|REI|WIL|BKS|BIR|WAT|BOR|BOH|BOT|BRB|BLK|HHM|NEB|NMB|WSF|LEO|HDL|WMS|WZL|B\xdcS|CHA|K\xd6Z|ROD|W\xdcM|CLP|NEC|COC|ZEL|COE|CUX|DAH|LDS|DEG|DEL|RSL|DLG|DGF|LAN|HEI|MED|DON|KIB|ROK|J\xdcL|MON|SLE|EBE|EIC|HIG|WBS|BIT|PR\xdc|LIB|EMD|WIT|ERH|H\xd6S|ERZ|ANA|ASZ|MAB|MEK|STL|SZB|FDS|HCH|HOR|WOL|FRG|GRA|WOS|FRI|FFB|GAP|GER|BRL|CLZ|GTH|NOH|HGW|GRZ|L\xd6B|NOL|WSW|DUD|HM\xdc|OHA|KRU|HAL|HAM|HBS|QLB|HVL|NAU|HAS|EBN|GEO|HOH|HDH|ERK|HER|WAN|HEF|ROF|HBN|ALF|HSK|USI|NAI|REH|SAN|K\xdcN|\xd6HR|HOL|WAR|ARN|BRG|GNT|HOG|WOH|KEH|MAI|PAR|RID|ROL|KLE|GEL|KUS|KYF|ART|SDH|LDK|DIL|MAL|VIB|LER|BNA|GHA|GRM|MTL|WUR|LEV|LIF|STE|WEL|LIP|VAI|LUP|HGN|LBZ|LWL|PCH|STB|DAN|MKK|SL\xdc|MSP|TBB|MGH|MTK|BIN|MSH|EIL|HET|SGH|BID|MYK|MSE|MST|M\xdcR|WRN|MEI|GRH|RIE|MZG|MIL|OBB|BED|FL\xd6|MOL|FRW|SEE|SRB|AIB|MOS|BCH|ILL|SOB|NMS|NEA|SEF|UFF|NEW|VOH|NDH|TDO|NWM|GDB|GVM|WIS|NOM|EIN|GAN|LAU|HEB|OHV|OSL|SFB|ERB|LOS|BSK|KEL|BSB|MEL|WTL|OAL|F\xdcS|MOD|OHZ|OPR|B\xdcR|PAF|PL\xd6|CAS|GLA|REG|VIT|ECK|SIM|GOA|EMS|DIZ|GOH|R\xdcD|SWA|NES|K\xd6N|MET|LRO|B\xdcZ|DBR|ROS|TET|HRO|ROW|BRV|HIP|PAN|GRI|SHK|EIS|SRO|SOK|LBS|SCZ|MER|QFT|SLF|SLS|HOM|SLK|ASL|BBG|SBK|SFT|SHG|MGN|MEG|ZIG|SAD|NEN|OVI|SHA|BLB|SIG|SON|SPN|FOR|GUB|SPB|IGB|WND|STD|STA|SDL|OBG|HST|BOG|SHL|PIR|FTL|SEB|S\xd6M|S\xdcW|TIR|SAB|TUT|ANG|SDT|L\xdcN|LSZ|MHL|VEC|VER|VIE|OVL|ANK|OVP|SBG|UEM|UER|WLG|GMN|NVP|RDG|R\xdcG|DAU|FKB|WAF|WAK|SLZ|WEN|SOG|APD|WUG|GUN|ESW|WIZ|WES|DIN|BRA|B\xdcD|WHV|HWI|GHC|WTM|WOB|WUN|MAK|SEL|OCH|HOT|WDA)[- ]?(([A-Z][- ]?\d{1,4})|([A-Z]{2}[- ]?\d{1,3})))[- ]?(E|H)?$/.test(e)},"de-LI":function(e){return/^FL[- ]?\d{1,5}[UZ]?$/.test(e)},"fi-FI":function(e){return/^(?=.{4,7})(([A-Z]{1,3}|[0-9]{1,3})[\s-]?([A-Z]{1,3}|[0-9]{1,5}))$/.test(e)},"pt-PT":function(e){return/^([A-Z]{2}|[0-9]{2})[ -\xb7]?([A-Z]{2}|[0-9]{2})[ -\xb7]?([A-Z]{2}|[0-9]{2})$/.test(e)},"sq-AL":function(e){return/^[A-Z]{2}[- ]?((\d{3}[- ]?(([A-Z]{2})|T))|(R[- ]?\d{3}))$/.test(e)},"pt-BR":function(e){return/^[A-Z]{3}[ -]?[0-9][A-Z][0-9]{2}|[A-Z]{3}[ -]?[0-9]{4}$/.test(e)}};e.exports=t.default,e.exports.default=t.default},67380:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if((0,i.default)(e),"en_US_POSIX"===e||"ca_ES_VALENCIA"===e)return!0;return o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^[A-Za-z]{2,4}([_-]([A-Za-z]{4}|[\d]{3}))?([_-]([A-Za-z]{2}|[\d]{3}))?$/;e.exports=t.default,e.exports.default=t.default},43928:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e===e.toLowerCase()};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},28999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t&&(t.no_colons||t.no_separators))return a.test(e);return o.test(e)||s.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^(?:[0-9a-fA-F]{2}([-:\s]))([0-9a-fA-F]{2}\1){4}([0-9a-fA-F]{2})$/,a=/^([0-9a-fA-F]){12}$/,s=/^([0-9a-fA-F]{4}\.){2}([0-9a-fA-F]{4})$/;e.exports=t.default,e.exports.default=t.default},90368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^[a-f0-9]{32}$/;e.exports=t.default,e.exports.default=t.default},72776:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e.trim())};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^magnet:\?xt(?:\.1)?=urn:(?:aich|bitprint|btih|ed2k|ed2khash|kzhash|md5|sha1|tree:tiger):[a-z0-9]{32}(?:[a-z0-9]{8})?($|&)/i;e.exports=t.default,e.exports.default=t.default},44554:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)||a.test(e)||s.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^(application|audio|font|image|message|model|multipart|text|video)\/[a-zA-Z0-9\.\-\+]{1,100}$/i,a=/^text\/[a-zA-Z0-9\.\-\+]{1,100};\s?charset=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?$/i,s=/^multipart\/[a-zA-Z0-9\.\-\+]{1,100}(;\s?(boundary|charset)=("[a-zA-Z0-9\.\-\+\s]{0,70}"|[a-zA-Z0-9\.\-\+]{0,70})(\s?\([a-zA-Z0-9\.\-\+\s]{1,20}\))?){0,2}$/i;e.exports=t.default,e.exports.default=t.default},28355:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if((0,i.default)(e),n&&n.strictMode&&!e.startsWith("+"))return!1;if(Array.isArray(t))return t.some((function(t){if(o.hasOwnProperty(t)&&o[t].test(e))return!0;return!1}));if(t in o)return o[t].test(e);if(!t||"any"===t){for(var r in o){if(o.hasOwnProperty(r))if(o[r].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o={"am-AM":/^(\+?374|0)((10|[9|7][0-9])\d{6}$|[2-4]\d{7}$)/,"ar-AE":/^((\+?971)|0)?5[024568]\d{7}$/,"ar-BH":/^(\+?973)?(3|6)\d{7}$/,"ar-DZ":/^(\+?213|0)(5|6|7)\d{8}$/,"ar-LB":/^(\+?961)?((3|81)\d{6}|7\d{7})$/,"ar-EG":/^((\+?20)|0)?1[0125]\d{8}$/,"ar-IQ":/^(\+?964|0)?7[0-9]\d{8}$/,"ar-JO":/^(\+?962|0)?7[789]\d{7}$/,"ar-KW":/^(\+?965)[569]\d{7}$/,"ar-LY":/^((\+?218)|0)?(9[1-6]\d{7}|[1-8]\d{7,9})$/,"ar-MA":/^(?:(?:\+|00)212|0)[5-7]\d{8}$/,"ar-OM":/^((\+|00)968)?(9[1-9])\d{6}$/,"ar-PS":/^(\+?970|0)5[6|9](\d{7})$/,"ar-SA":/^(!?(\+?966)|0)?5\d{8}$/,"ar-SY":/^(!?(\+?963)|0)?9\d{8}$/,"ar-TN":/^(\+?216)?[2459]\d{7}$/,"az-AZ":/^(\+994|0)(5[015]|7[07]|99)\d{7}$/,"bs-BA":/^((((\+|00)3876)|06))((([0-3]|[5-6])\d{6})|(4\d{7}))$/,"be-BY":/^(\+?375)?(24|25|29|33|44)\d{7}$/,"bg-BG":/^(\+?359|0)?8[789]\d{7}$/,"bn-BD":/^(\+?880|0)1[13456789][0-9]{8}$/,"ca-AD":/^(\+376)?[346]\d{5}$/,"cs-CZ":/^(\+?420)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"da-DK":/^(\+?45)?\s?\d{2}\s?\d{2}\s?\d{2}\s?\d{2}$/,"de-DE":/^((\+49|0)[1|3])([0|5][0-45-9]\d|6([23]|0\d?)|7([0-57-9]|6\d))\d{7,9}$/,"de-AT":/^(\+43|0)\d{1,4}\d{3,12}$/,"de-CH":/^(\+41|0)([1-9])\d{1,9}$/,"de-LU":/^(\+352)?((6\d1)\d{6})$/,"dv-MV":/^(\+?960)?(7[2-9]|91|9[3-9])\d{7}$/,"el-GR":/^(\+?30|0)?(69\d{8})$/,"en-AU":/^(\+?61|0)4\d{8}$/,"en-BM":/^(\+?1)?441(((3|7)\d{6}$)|(5[0-3][0-9]\d{4}$)|(59\d{5}))/,"en-GB":/^(\+?44|0)7\d{9}$/,"en-GG":/^(\+?44|0)1481\d{6}$/,"en-GH":/^(\+233|0)(20|50|24|54|27|57|26|56|23|28|55|59)\d{7}$/,"en-GY":/^(\+592|0)6\d{6}$/,"en-HK":/^(\+?852[-\s]?)?[456789]\d{3}[-\s]?\d{4}$/,"en-MO":/^(\+?853[-\s]?)?[6]\d{3}[-\s]?\d{4}$/,"en-IE":/^(\+?353|0)8[356789]\d{7}$/,"en-IN":/^(\+?91|0)?[6789]\d{9}$/,"en-KE":/^(\+?254|0)(7|1)\d{8}$/,"en-KI":/^((\+686|686)?)?( )?((6|7)(2|3|8)[0-9]{6})$/,"en-MT":/^(\+?356|0)?(99|79|77|21|27|22|25)[0-9]{6}$/,"en-MU":/^(\+?230|0)?\d{8}$/,"en-NA":/^(\+?264|0)(6|8)\d{7}$/,"en-NG":/^(\+?234|0)?[789]\d{9}$/,"en-NZ":/^(\+?64|0)[28]\d{7,9}$/,"en-PK":/^((00|\+)?92|0)3[0-6]\d{8}$/,"en-PH":/^(09|\+639)\d{9}$/,"en-RW":/^(\+?250|0)?[7]\d{8}$/,"en-SG":/^(\+65)?[3689]\d{7}$/,"en-SL":/^(\+?232|0)\d{8}$/,"en-TZ":/^(\+?255|0)?[67]\d{8}$/,"en-UG":/^(\+?256|0)?[7]\d{8}$/,"en-US":/^((\+1|1)?( |-)?)?(\([2-9][0-9]{2}\)|[2-9][0-9]{2})( |-)?([2-9][0-9]{2}( |-)?[0-9]{4})$/,"en-ZA":/^(\+?27|0)\d{9}$/,"en-ZM":/^(\+?26)?09[567]\d{7}$/,"en-ZW":/^(\+263)[0-9]{9}$/,"en-BW":/^(\+?267)?(7[1-8]{1})\d{6}$/,"es-AR":/^\+?549(11|[2368]\d)\d{8}$/,"es-BO":/^(\+?591)?(6|7)\d{7}$/,"es-CO":/^(\+?57)?3(0(0|1|2|4|5)|1\d|2[0-4]|5(0|1))\d{7}$/,"es-CL":/^(\+?56|0)[2-9]\d{1}\d{7}$/,"es-CR":/^(\+506)?[2-8]\d{7}$/,"es-CU":/^(\+53|0053)?5\d{7}/,"es-DO":/^(\+?1)?8[024]9\d{7}$/,"es-HN":/^(\+?504)?[9|8]\d{7}$/,"es-EC":/^(\+?593|0)([2-7]|9[2-9])\d{7}$/,"es-ES":/^(\+?34)?[6|7]\d{8}$/,"es-PE":/^(\+?51)?9\d{8}$/,"es-MX":/^(\+?52)?(1|01)?\d{10,11}$/,"es-PA":/^(\+?507)\d{7,8}$/,"es-PY":/^(\+?595|0)9[9876]\d{7}$/,"es-SV":/^(\+?503)?[67]\d{7}$/,"es-UY":/^(\+598|0)9[1-9][\d]{6}$/,"es-VE":/^(\+?58)?(2|4)\d{9}$/,"et-EE":/^(\+?372)?\s?(5|8[1-4])\s?([0-9]\s?){6,7}$/,"fa-IR":/^(\+?98[\-\s]?|0)9[0-39]\d[\-\s]?\d{3}[\-\s]?\d{4}$/,"fi-FI":/^(\+?358|0)\s?(4(0|1|2|4|5|6)?|50)\s?(\d\s?){4,8}\d$/,"fj-FJ":/^(\+?679)?\s?\d{3}\s?\d{4}$/,"fo-FO":/^(\+?298)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"fr-BF":/^(\+226|0)[67]\d{7}$/,"fr-CM":/^(\+?237)6[0-9]{8}$/,"fr-FR":/^(\+?33|0)[67]\d{8}$/,"fr-GF":/^(\+?594|0|00594)[67]\d{8}$/,"fr-GP":/^(\+?590|0|00590)[67]\d{8}$/,"fr-MQ":/^(\+?596|0|00596)[67]\d{8}$/,"fr-PF":/^(\+?689)?8[789]\d{6}$/,"fr-RE":/^(\+?262|0|00262)[67]\d{8}$/,"he-IL":/^(\+972|0)([23489]|5[012345689]|77)[1-9]\d{6}$/,"hu-HU":/^(\+?36|06)(20|30|31|50|70)\d{7}$/,"id-ID":/^(\+?62|0)8(1[123456789]|2[1238]|3[1238]|5[12356789]|7[78]|9[56789]|8[123456789])([\s?|\d]{5,11})$/,"it-IT":/^(\+?39)?\s?3\d{2} ?\d{6,7}$/,"it-SM":/^((\+378)|(0549)|(\+390549)|(\+3780549))?6\d{5,9}$/,"ja-JP":/^(\+81[ \-]?(\(0\))?|0)[6789]0[ \-]?\d{4}[ \-]?\d{4}$/,"ka-GE":/^(\+?995)?(5|79)\d{7}$/,"kk-KZ":/^(\+?7|8)?7\d{9}$/,"kl-GL":/^(\+?299)?\s?\d{2}\s?\d{2}\s?\d{2}$/,"ko-KR":/^((\+?82)[ \-]?)?0?1([0|1|6|7|8|9]{1})[ \-]?\d{3,4}[ \-]?\d{4}$/,"lt-LT":/^(\+370|8)\d{8}$/,"lv-LV":/^(\+?371)2\d{7}$/,"ms-MY":/^(\+?6?01){1}(([0145]{1}(\-|\s)?\d{7,8})|([236789]{1}(\s|\-)?\d{7}))$/,"mz-MZ":/^(\+?258)?8[234567]\d{7}$/,"nb-NO":/^(\+?47)?[49]\d{7}$/,"ne-NP":/^(\+?977)?9[78]\d{8}$/,"nl-BE":/^(\+?32|0)4\d{8}$/,"nl-NL":/^(((\+|00)?31\(0\))|((\+|00)?31)|0)6{1}\d{8}$/,"nn-NO":/^(\+?47)?[49]\d{7}$/,"pl-PL":/^(\+?48)? ?[5-8]\d ?\d{3} ?\d{2} ?\d{2}$/,"pt-BR":/^((\+?55\ ?[1-9]{2}\ ?)|(\+?55\ ?\([1-9]{2}\)\ ?)|(0[1-9]{2}\ ?)|(\([1-9]{2}\)\ ?)|([1-9]{2}\ ?))((\d{4}\-?\d{4})|(9[2-9]{1}\d{3}\-?\d{4}))$/,"pt-PT":/^(\+?351)?9[1236]\d{7}$/,"pt-AO":/^(\+244)\d{9}$/,"ro-RO":/^(\+?4?0)\s?7\d{2}(\/|\s|\.|\-)?\d{3}(\s|\.|\-)?\d{3}$/,"ru-RU":/^(\+?7|8)?9\d{9}$/,"si-LK":/^(?:0|94|\+94)?(7(0|1|2|4|5|6|7|8)( |-)?)\d{7}$/,"sl-SI":/^(\+386\s?|0)(\d{1}\s?\d{3}\s?\d{2}\s?\d{2}|\d{2}\s?\d{3}\s?\d{3})$/,"sk-SK":/^(\+?421)? ?[1-9][0-9]{2} ?[0-9]{3} ?[0-9]{3}$/,"sq-AL":/^(\+355|0)6[789]\d{6}$/,"sr-RS":/^(\+3816|06)[- \d]{5,9}$/,"sv-SE":/^(\+?46|0)[\s\-]?7[\s\-]?[02369]([\s\-]?\d){7}$/,"tg-TJ":/^(\+?992)?[5][5]\d{7}$/,"th-TH":/^(\+66|66|0)\d{9}$/,"tr-TR":/^(\+?90|0)?5\d{9}$/,"tk-TM":/^(\+993|993|8)\d{8}$/,"uk-UA":/^(\+?38|8)?0\d{9}$/,"uz-UZ":/^(\+?998)?(6[125-79]|7[1-69]|88|9\d)\d{7}$/,"vi-VN":/^((\+?84)|0)((3([2-9]))|(5([25689]))|(7([0|6-9]))|(8([1-9]))|(9([0-9])))([0-9]{7})$/,"zh-CN":/^((\+|00)86)?(1[3-9]|9[28])\d{9}$/,"zh-TW":/^(\+?886\-?|0)?9\d{8}$/,"dz-BT":/^(\+?975|0)?(17|16|77|02)\d{6}$/};o["en-CA"]=o["en-US"],o["fr-CA"]=o["en-CA"],o["fr-BE"]=o["nl-BE"],o["zh-HK"]=o["en-HK"],o["zh-MO"]=o["en-MO"],o["ga-IE"]=o["en-IE"],o["fr-CH"]=o["de-CH"],o["it-CH"]=o["fr-CH"];var a=Object.keys(o);t.locales=a},19131:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),(0,i.default)(e)&&24===e.length};var r=o(n(65571)),i=o(n(77117));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},13590:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/[^\x00-\x7F]/;e.exports=t.default,e.exports.default=t.default},24986:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t&&t.no_symbols)return a.test(e);return new RegExp("^[+-]?([0-9]*[".concat((t||{}).locale?o.decimal[t.locale]:".","])?[0-9]+$")).test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r},o=n(60079);var a=/^[0-9]+$/;e.exports=t.default,e.exports.default=t.default},66090:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^(0o)?[0-7]+$/i;e.exports=t.default,e.exports.default=t.default},51513:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=e.replace(/\s/g,"").toUpperCase();return t.toUpperCase()in o&&o[t].test(n)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o={AM:/^[A-Z]{2}\d{7}$/,AR:/^[A-Z]{3}\d{6}$/,AT:/^[A-Z]\d{7}$/,AU:/^[A-Z]\d{7}$/,BE:/^[A-Z]{2}\d{6}$/,BG:/^\d{9}$/,BR:/^[A-Z]{2}\d{6}$/,BY:/^[A-Z]{2}\d{7}$/,CA:/^[A-Z]{2}\d{6}$/,CH:/^[A-Z]\d{7}$/,CN:/^G\d{8}$|^E(?![IO])[A-Z0-9]\d{7}$/,CY:/^[A-Z](\d{6}|\d{8})$/,CZ:/^\d{8}$/,DE:/^[CFGHJKLMNPRTVWXYZ0-9]{9}$/,DK:/^\d{9}$/,DZ:/^\d{9}$/,EE:/^([A-Z]\d{7}|[A-Z]{2}\d{7})$/,ES:/^[A-Z0-9]{2}([A-Z0-9]?)\d{6}$/,FI:/^[A-Z]{2}\d{7}$/,FR:/^\d{2}[A-Z]{2}\d{5}$/,GB:/^\d{9}$/,GR:/^[A-Z]{2}\d{7}$/,HR:/^\d{9}$/,HU:/^[A-Z]{2}(\d{6}|\d{7})$/,IE:/^[A-Z0-9]{2}\d{7}$/,IN:/^[A-Z]{1}-?\d{7}$/,ID:/^[A-C]\d{7}$/,IR:/^[A-Z]\d{8}$/,IS:/^(A)\d{7}$/,IT:/^[A-Z0-9]{2}\d{7}$/,JP:/^[A-Z]{2}\d{7}$/,KR:/^[MS]\d{8}$/,LT:/^[A-Z0-9]{8}$/,LU:/^[A-Z0-9]{8}$/,LV:/^[A-Z0-9]{2}\d{7}$/,LY:/^[A-Z0-9]{8}$/,MT:/^\d{7}$/,MZ:/^([A-Z]{2}\d{7})|(\d{2}[A-Z]{2}\d{5})$/,MY:/^[AHK]\d{8}$/,NL:/^[A-Z]{2}[A-Z0-9]{6}\d$/,PL:/^[A-Z]{2}\d{7}$/,PT:/^[A-Z]\d{6}$/,RO:/^\d{8,9}$/,RU:/^\d{9}$/,SE:/^\d{8}$/,SL:/^(P)[A-Z]\d{7}$/,SK:/^[0-9A-Z]\d{7}$/,TR:/^[A-Z]\d{8}$/,UA:/^[A-Z]{2}\d{6}$/,US:/^\d{9}$/};e.exports=t.default,e.exports.default=t.default},24595:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e,{min:0,max:65535})};var r,i=(r=n(20937))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},78140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t in l)return l[t].test(e);if("any"===t){for(var n in l){if(l.hasOwnProperty(n))if(l[n].test(e))return!0}return!1}throw new Error("Invalid locale '".concat(t,"'"))},t.locales=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^\d{4}$/,a=/^\d{5}$/,s=/^\d{6}$/,l={AD:/^AD\d{3}$/,AT:o,AU:o,AZ:/^AZ\d{4}$/,BE:o,BG:o,BR:/^\d{5}-\d{3}$/,BY:/2[1-4]{1}\d{4}$/,CA:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJ-NPRSTV-Z][\s\-]?\d[ABCEGHJ-NPRSTV-Z]\d$/i,CH:o,CN:/^(0[1-7]|1[012356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[1-5]|8[1345]|9[09])\d{4}$/,CZ:/^\d{3}\s?\d{2}$/,DE:a,DK:o,DO:a,DZ:a,EE:a,ES:/^(5[0-2]{1}|[0-4]{1}\d{1})\d{3}$/,FI:a,FR:/^\d{2}\s?\d{3}$/,GB:/^(gir\s?0aa|[a-z]{1,2}\d[\da-z]?\s?(\d[a-z]{2})?)$/i,GR:/^\d{3}\s?\d{2}$/,HR:/^([1-5]\d{4}$)/,HT:/^HT\d{4}$/,HU:o,ID:a,IE:/^(?!.*(?:o))[A-Za-z]\d[\dw]\s\w{4}$/i,IL:/^(\d{5}|\d{7})$/,IN:/^((?!10|29|35|54|55|65|66|86|87|88|89)[1-9][0-9]{5})$/,IR:/\b(?!(\d)\1{3})[13-9]{4}[1346-9][013-9]{5}\b/,IS:/^\d{3}$/,IT:a,JP:/^\d{3}\-\d{4}$/,KE:a,KR:/^(\d{5}|\d{6})$/,LI:/^(948[5-9]|949[0-7])$/,LT:/^LT\-\d{5}$/,LU:o,LV:/^LV\-\d{4}$/,LK:a,MX:a,MT:/^[A-Za-z]{3}\s{0,1}\d{4}$/,MY:a,NL:/^\d{4}\s?[a-z]{2}$/i,NO:o,NP:/^(10|21|22|32|33|34|44|45|56|57)\d{3}$|^(977)$/i,NZ:o,PL:/^\d{2}\-\d{3}$/,PR:/^00[679]\d{2}([ -]\d{4})?$/,PT:/^\d{4}\-\d{3}?$/,RO:s,RU:s,SA:a,SE:/^[1-9]\d{2}\s?\d{2}$/,SG:s,SI:o,SK:/^\d{3}\s?\d{2}$/,TH:a,TN:o,TW:/^\d{3}(\d{2})?$/,UA:a,US:/^\d{5}(-\d{4})?$/,ZA:o,ZM:a},c=Object.keys(l);t.locales=c},94611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),p.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/([01][0-9]|2[0-3])/,a=/[0-5][0-9]/,s=new RegExp("[-+]".concat(o.source,":").concat(a.source)),l=new RegExp("([zZ]|".concat(s.source,")")),c=new RegExp("".concat(o.source,":").concat(a.source,":").concat(/([0-5][0-9]|60)/.source).concat(/(\.[0-9]+)?/.source)),u=new RegExp("".concat(/[0-9]{4}/.source,"-").concat(/(0[1-9]|1[0-2])/.source,"-").concat(/([12]\d|0[1-9]|3[01])/.source)),d=new RegExp("".concat(c.source).concat(l.source)),p=new RegExp("^".concat(u.source,"[ tT]").concat(d.source,"$"));e.exports=t.default,e.exports.default=t.default},6454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if((0,i.default)(e),!t)return o.test(e)||a.test(e);return o.test(e)||a.test(e)||s.test(e)||l.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^rgb\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){2}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\)$/,a=/^rgba\((([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)$/,s=/^rgb\((([0-9]%|[1-9][0-9]%|100%),){2}([0-9]%|[1-9][0-9]%|100%)\)/,l=/^rgba\((([0-9]%|[1-9][0-9]%|100%),){3}(0?\.\d|1(\.0)?|0(\.0)?)\)/;e.exports=t.default,e.exports.default=t.default},86826:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,r.default)(e),o.test(e)};var r=i(n(65571));function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,i(n(24731)).default)(["^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)","(?:-((?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-z-][0-9a-z-]*))*))","?(?:\\+([0-9a-z-]+(?:\\.[0-9a-z-]+)*))?$"],"i");e.exports=t.default,e.exports.default=t.default},68220:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/^[^\s-_](?!.*?[-_]{2,})[a-z0-9-\\][^\s]*[^-_\s]$/;e.exports=t.default,e.exports.default=t.default},17633:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;(0,i.default)(e);var n=d(e);if((t=(0,r.default)(t||{},u)).returnScore)return p(n,t);return n.length>=t.minLength&&n.lowercaseCount>=t.minLowercase&&n.uppercaseCount>=t.minUppercase&&n.numberCount>=t.minNumbers&&n.symbolCount>=t.minSymbols};var r=o(n(84808)),i=o(n(65571));function o(e){return e&&e.__esModule?e:{default:e}}var a=/^[A-Z]$/,s=/^[a-z]$/,l=/^[0-9]$/,c=/^[-#!$@%^&*()_+|~=`{}\[\]:";'<>?,.\/ ]$/,u={minLength:8,minLowercase:1,minUppercase:1,minNumbers:1,minSymbols:1,returnScore:!1,pointsPerUnique:1,pointsPerRepeat:.5,pointsForContainingLower:10,pointsForContainingUpper:10,pointsForContainingNumber:10,pointsForContainingSymbol:10};function d(e){var t,n,r=(t=e,n={},Array.from(t).forEach((function(e){n[e]?n[e]+=1:n[e]=1})),n),i={length:e.length,uniqueChars:Object.keys(r).length,uppercaseCount:0,lowercaseCount:0,numberCount:0,symbolCount:0};return Object.keys(r).forEach((function(e){a.test(e)?i.uppercaseCount+=r[e]:s.test(e)?i.lowercaseCount+=r[e]:l.test(e)?i.numberCount+=r[e]:c.test(e)&&(i.symbolCount+=r[e])})),i}function p(e,t){var n=0;return n+=e.uniqueChars*t.pointsPerUnique,n+=(e.length-e.uniqueChars)*t.pointsPerRepeat,e.lowercaseCount>0&&(n+=t.pointsForContainingLower),e.uppercaseCount>0&&(n+=t.pointsForContainingUpper),e.numberCount>0&&(n+=t.pointsForContainingNumber),e.symbolCount>0&&(n+=t.pointsForContainingSymbol),n}e.exports=t.default,e.exports.default=t.default},72828:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o=/[\uD800-\uDBFF][\uDC00-\uDFFF]/;e.exports=t.default,e.exports.default=t.default},53058:(e,t,n)=>{"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US";(0,i.default)(e);var n=e.slice(0);if(t in f)return t in g&&(n=n.replace(g[t],"")),!!f[t].test(n)&&(!(t in h)||h[t](n));throw new Error("Invalid locale '".concat(t,"'"))};var i=l(n(65571)),o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=i?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(83672)),a=l(n(82549));function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function c(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d={andover:["10","12"],atlanta:["60","67"],austin:["50","53"],brookhaven:["01","02","03","04","05","06","11","13","14","16","21","22","23","25","34","51","52","54","55","56","57","58","59","65"],cincinnati:["30","32","35","36","37","38","61"],fresno:["15","24"],internet:["20","26","27","45","46","47"],kansas:["40","44"],memphis:["94","95"],ogden:["80","90"],philadelphia:["33","39","41","42","43","46","48","62","63","64","66","68","71","72","73","74","75","76","77","81","82","83","84","85","86","87","88","91","92","93","98","99"],sba:["31"]};function p(e){for(var t=!1,n=!1,r=0;r<3;r++)if(!t&&/[AEIOU]/.test(e[r]))t=!0;else if(!n&&t&&"X"===e[r])n=!0;else if(r>0){if(t&&!n&&!/[AEIOU]/.test(e[r]))return!1;if(n&&!/X/.test(e[r]))return!1}return!0}var f={"bg-BG":/^\d{10}$/,"cs-CZ":/^\d{6}\/{0,1}\d{3,4}$/,"de-AT":/^\d{9}$/,"de-DE":/^[1-9]\d{10}$/,"dk-DK":/^\d{6}-{0,1}\d{4}$/,"el-CY":/^[09]\d{7}[A-Z]$/,"el-GR":/^([0-4]|[7-9])\d{8}$/,"en-GB":/^\d{10}$|^(?!GB|NK|TN|ZZ)(?![DFIQUV])[A-Z](?![DFIQUVO])[A-Z]\d{6}[ABCD ]$/i,"en-IE":/^\d{7}[A-W][A-IW]{0,1}$/i,"en-US":/^\d{2}[- ]{0,1}\d{7}$/,"es-ES":/^(\d{0,8}|[XYZKLM]\d{7})[A-HJ-NP-TV-Z]$/i,"et-EE":/^[1-6]\d{6}(00[1-9]|0[1-9][0-9]|[1-6][0-9]{2}|70[0-9]|710)\d$/,"fi-FI":/^\d{6}[-+A]\d{3}[0-9A-FHJ-NPR-Y]$/i,"fr-BE":/^\d{11}$/,"fr-FR":/^[0-3]\d{12}$|^[0-3]\d\s\d{2}(\s\d{3}){3}$/,"fr-LU":/^\d{13}$/,"hr-HR":/^\d{11}$/,"hu-HU":/^8\d{9}$/,"it-IT":/^[A-Z]{6}[L-NP-V0-9]{2}[A-EHLMPRST][L-NP-V0-9]{2}[A-ILMZ][L-NP-V0-9]{3}[A-Z]$/i,"lv-LV":/^\d{6}-{0,1}\d{5}$/,"mt-MT":/^\d{3,7}[APMGLHBZ]$|^([1-8])\1\d{7}$/i,"nl-NL":/^\d{9}$/,"pl-PL":/^\d{10,11}$/,"pt-BR":/(?:^\d{11}$)|(?:^\d{14}$)/,"pt-PT":/^\d{9}$/,"ro-RO":/^\d{13}$/,"sk-SK":/^\d{6}\/{0,1}\d{3,4}$/,"sl-SI":/^[1-9]\d{7}$/,"sv-SE":/^(\d{6}[-+]{0,1}\d{4}|(18|19|20)\d{6}[-+]{0,1}\d{4})$/};f["lb-LU"]=f["fr-LU"],f["lt-LT"]=f["et-EE"],f["nl-BE"]=f["fr-BE"];var h={"bg-BG":function(e){var t=e.slice(0,2),n=parseInt(e.slice(2,4),10);n>40?(n-=40,t="20".concat(t)):n>20?(n-=20,t="18".concat(t)):t="19".concat(t),n<10&&(n="0".concat(n));var r="".concat(t,"/").concat(n,"/").concat(e.slice(4,6));if(!(0,a.default)(r,"YYYY/MM/DD"))return!1;for(var i=e.split("").map((function(e){return parseInt(e,10)})),o=[2,4,8,5,10,9,7,3,6],s=0,l=0;l<o.length;l++)s+=i[l]*o[l];return(s=s%11===10?0:s%11)===i[9]},"cs-CZ":function(e){e=e.replace(/\W/,"");var t=parseInt(e.slice(0,2),10);if(10===e.length)t=t<54?"20".concat(t):"19".concat(t);else{if("000"===e.slice(6))return!1;if(!(t<54))return!1;t="19".concat(t)}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var n=parseInt(e.slice(2,4),10);if(n>50&&(n-=50),n>20){if(parseInt(t,10)<2004)return!1;n-=20}n<10&&(n="0".concat(n));var r="".concat(t,"/").concat(n,"/").concat(e.slice(4,6));if(!(0,a.default)(r,"YYYY/MM/DD"))return!1;if(10===e.length&&parseInt(e,10)%11!==0){var i=parseInt(e.slice(0,9),10)%11;if(!(parseInt(t,10)<1986&&10===i))return!1;if(0!==parseInt(e.slice(9),10))return!1}return!0},"de-AT":function(e){return o.luhnCheck(e)},"de-DE":function(e){for(var t=e.split("").map((function(e){return parseInt(e,10)})),n=[],r=0;r<t.length-1;r++){n.push("");for(var i=0;i<t.length-1;i++)t[r]===t[i]&&(n[r]+=i)}if(2!==(n=n.filter((function(e){return e.length>1}))).length&&3!==n.length)return!1;if(3===n[0].length){for(var a=n[0].split("").map((function(e){return parseInt(e,10)})),s=0,l=0;l<a.length-1;l++)a[l]+1===a[l+1]&&(s+=1);if(2===s)return!1}return o.iso7064Check(e)},"dk-DK":function(e){e=e.replace(/\W/,"");var t=parseInt(e.slice(4,6),10);switch(e.slice(6,7)){case"0":case"1":case"2":case"3":t="19".concat(t);break;case"4":case"9":t=t<37?"20".concat(t):"19".concat(t);break;default:if(t<37)t="20".concat(t);else{if(!(t>58))return!1;t="18".concat(t)}}3===t.length&&(t=[t.slice(0,2),"0",t.slice(2)].join(""));var n="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,a.default)(n,"YYYY/MM/DD"))return!1;for(var r=e.split("").map((function(e){return parseInt(e,10)})),i=0,o=4,s=0;s<9;s++)i+=r[s]*o,1===(o-=1)&&(o=7);return 1!==(i%=11)&&(0===i?0===r[9]:r[9]===11-i)},"el-CY":function(e){for(var t=e.slice(0,8).split("").map((function(e){return parseInt(e,10)})),n=0,r=1;r<t.length;r+=2)n+=t[r];for(var i=0;i<t.length;i+=2)t[i]<2?n+=1-t[i]:(n+=2*(t[i]-2)+5,t[i]>4&&(n+=2));return String.fromCharCode(n%26+65)===e.charAt(8)},"el-GR":function(e){for(var t=e.split("").map((function(e){return parseInt(e,10)})),n=0,r=0;r<8;r++)n+=t[r]*Math.pow(2,8-r);return n%11%10===t[8]},"en-IE":function(e){var t=o.reverseMultiplyAndSum(e.split("").slice(0,7).map((function(e){return parseInt(e,10)})),8);return 9===e.length&&"W"!==e[8]&&(t+=9*(e[8].charCodeAt(0)-64)),0===(t%=23)?"W"===e[7].toUpperCase():e[7].toUpperCase()===String.fromCharCode(64+t)},"en-US":function(e){return-1!==function(){var e=[];for(var t in d)d.hasOwnProperty(t)&&e.push.apply(e,c(d[t]));return e}().indexOf(e.substr(0,2))},"es-ES":function(e){var t=e.toUpperCase().split("");if(isNaN(parseInt(t[0],10))&&t.length>1){var n=0;switch(t[0]){case"Y":n=1;break;case"Z":n=2}t.splice(0,1,n)}else for(;t.length<9;)t.unshift(0);t=t.join("");var r=parseInt(t.slice(0,8),10)%23;return t[8]===["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"][r]},"et-EE":function(e){var t=e.slice(1,3);switch(e.slice(0,1)){case"1":case"2":t="18".concat(t);break;case"3":case"4":t="19".concat(t);break;default:t="20".concat(t)}var n="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(!(0,a.default)(n,"YYYY/MM/DD"))return!1;for(var r=e.split("").map((function(e){return parseInt(e,10)})),i=0,o=1,s=0;s<10;s++)i+=r[s]*o,10===(o+=1)&&(o=1);if(i%11===10){i=0,o=3;for(var l=0;l<10;l++)i+=r[l]*o,10===(o+=1)&&(o=1);if(i%11===10)return 0===r[10]}return i%11===r[10]},"fi-FI":function(e){var t=e.slice(4,6);switch(e.slice(6,7)){case"+":t="18".concat(t);break;case"-":t="19".concat(t);break;default:t="20".concat(t)}var n="".concat(t,"/").concat(e.slice(2,4),"/").concat(e.slice(0,2));if(!(0,a.default)(n,"YYYY/MM/DD"))return!1;var r=parseInt(e.slice(0,6)+e.slice(7,10),10)%31;return r<10?r===parseInt(e.slice(10),10):["A","B","C","D","E","F","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y"][r-=10]===e.slice(10)},"fr-BE":function(e){if("00"!==e.slice(2,4)||"00"!==e.slice(4,6)){var t="".concat(e.slice(0,2),"/").concat(e.slice(2,4),"/").concat(e.slice(4,6));if(!(0,a.default)(t,"YY/MM/DD"))return!1}var n=97-parseInt(e.slice(0,9),10)%97,r=parseInt(e.slice(9,11),10);return n===r||(n=97-parseInt("2".concat(e.slice(0,9)),10)%97)===r},"fr-FR":function(e){return e=e.replace(/\s/g,""),parseInt(e.slice(0,10),10)%511===parseInt(e.slice(10,13),10)},"fr-LU":function(e){var t="".concat(e.slice(0,4),"/").concat(e.slice(4,6),"/").concat(e.slice(6,8));return!!(0,a.default)(t,"YYYY/MM/DD")&&(!!o.luhnCheck(e.slice(0,12))&&o.verhoeffCheck("".concat(e.slice(0,11)).concat(e[12])))},"hr-HR":function(e){return o.iso7064Check(e)},"hu-HU":function(e){for(var t=e.split("").map((function(e){return parseInt(e,10)})),n=8,r=1;r<9;r++)n+=t[r]*(r+1);return n%11===t[9]},"it-IT":function(e){var t=e.toUpperCase().split("");if(!p(t.slice(0,3)))return!1;if(!p(t.slice(3,6)))return!1;for(var n={L:"0",M:"1",N:"2",P:"3",Q:"4",R:"5",S:"6",T:"7",U:"8",V:"9"},r=0,i=[6,7,9,10,12,13,14];r<i.length;r++){var o=i[r];t[o]in n&&t.splice(o,1,n[t[o]])}var s={A:"01",B:"02",C:"03",D:"04",E:"05",H:"06",L:"07",M:"08",P:"09",R:"10",S:"11",T:"12"}[t[8]],l=parseInt(t[9]+t[10],10);l>40&&(l-=40),l<10&&(l="0".concat(l));var c="".concat(t[6]).concat(t[7],"/").concat(s,"/").concat(l);if(!(0,a.default)(c,"YY/MM/DD"))return!1;for(var u=0,d=1;d<t.length-1;d+=2){var f=parseInt(t[d],10);isNaN(f)&&(f=t[d].charCodeAt(0)-65),u+=f}for(var h={A:1,B:0,C:5,D:7,E:9,F:13,G:15,H:17,I:19,J:21,K:2,L:4,M:18,N:20,O:11,P:3,Q:6,R:8,S:12,T:14,U:16,V:10,W:22,X:25,Y:24,Z:23,0:1,1:0},m=0;m<t.length-1;m+=2){var g=0;if(t[m]in h)g=h[t[m]];else{var v=parseInt(t[m],10);g=2*v+1,v>4&&(g+=2)}u+=g}return String.fromCharCode(65+u%26)===t[15]},"lv-LV":function(e){var t=(e=e.replace(/\W/,"")).slice(0,2);if("32"!==t){if("00"!==e.slice(2,4)){var n=e.slice(4,6);switch(e[6]){case"0":n="18".concat(n);break;case"1":n="19".concat(n);break;default:n="20".concat(n)}var r="".concat(n,"/").concat(e.slice(2,4),"/").concat(t);if(!(0,a.default)(r,"YYYY/MM/DD"))return!1}for(var i=1101,o=[1,6,3,7,9,10,5,8,4,2],s=0;s<e.length-1;s++)i-=parseInt(e[s],10)*o[s];return parseInt(e[10],10)===i%11}return!0},"mt-MT":function(e){if(9!==e.length){for(var t=e.toUpperCase().split("");t.length<8;)t.unshift(0);switch(e[7]){case"A":case"P":if(0===parseInt(t[6],10))return!1;break;default:var n=parseInt(t.join("").slice(0,5),10);if(n>32e3)return!1;if(n===parseInt(t.join("").slice(5,7),10))return!1}}return!0},"nl-NL":function(e){return o.reverseMultiplyAndSum(e.split("").slice(0,8).map((function(e){return parseInt(e,10)})),9)%11===parseInt(e[8],10)},"pl-PL":function(e){if(10===e.length){for(var t=[6,5,7,2,3,4,5,6,7],n=0,r=0;r<t.length;r++)n+=parseInt(e[r],10)*t[r];return 10!==(n%=11)&&n===parseInt(e[9],10)}var i=e.slice(0,2),o=parseInt(e.slice(2,4),10);o>80?(i="18".concat(i),o-=80):o>60?(i="22".concat(i),o-=60):o>40?(i="21".concat(i),o-=40):o>20?(i="20".concat(i),o-=20):i="19".concat(i),o<10&&(o="0".concat(o));var s="".concat(i,"/").concat(o,"/").concat(e.slice(4,6));if(!(0,a.default)(s,"YYYY/MM/DD"))return!1;for(var l=0,c=1,u=0;u<e.length-1;u++)l+=parseInt(e[u],10)*c%10,(c+=2)>10?c=1:5===c&&(c+=2);return(l=10-l%10)===parseInt(e[10],10)},"pt-BR":function(e){if(11===e.length){var t,n;if(t=0,"11111111111"===e||"22222222222"===e||"33333333333"===e||"44444444444"===e||"55555555555"===e||"66666666666"===e||"77777777777"===e||"88888888888"===e||"99999999999"===e||"00000000000"===e)return!1;for(var r=1;r<=9;r++)t+=parseInt(e.substring(r-1,r),10)*(11-r);if(10===(n=10*t%11)&&(n=0),n!==parseInt(e.substring(9,10),10))return!1;t=0;for(var i=1;i<=10;i++)t+=parseInt(e.substring(i-1,i),10)*(12-i);return 10===(n=10*t%11)&&(n=0),n===parseInt(e.substring(10,11),10)}if("00000000000000"===e||"11111111111111"===e||"22222222222222"===e||"33333333333333"===e||"44444444444444"===e||"55555555555555"===e||"66666666666666"===e||"77777777777777"===e||"88888888888888"===e||"99999999999999"===e)return!1;for(var o=e.length-2,a=e.substring(0,o),s=e.substring(o),l=0,c=o-7,u=o;u>=1;u--)l+=a.charAt(o-u)*c,(c-=1)<2&&(c=9);var d=l%11<2?0:11-l%11;if(d!==parseInt(s.charAt(0),10))return!1;o+=1,a=e.substring(0,o),l=0,c=o-7;for(var p=o;p>=1;p--)l+=a.charAt(o-p)*c,(c-=1)<2&&(c=9);return(d=l%11<2?0:11-l%11)===parseInt(s.charAt(1),10)},"pt-PT":function(e){var t=11-o.reverseMultiplyAndSum(e.split("").slice(0,8).map((function(e){return parseInt(e,10)})),9)%11;return t>9?0===parseInt(e[8],10):t===parseInt(e[8],10)},"ro-RO":function(e){if("9000"!==e.slice(0,4)){var t=e.slice(1,3);switch(e[0]){case"1":case"2":t="19".concat(t);break;case"3":case"4":t="18".concat(t);break;case"5":case"6":t="20".concat(t)}var n="".concat(t,"/").concat(e.slice(3,5),"/").concat(e.slice(5,7));if(8===n.length){if(!(0,a.default)(n,"YY/MM/DD"))return!1}else if(!(0,a.default)(n,"YYYY/MM/DD"))return!1;for(var r=e.split("").map((function(e){return parseInt(e,10)})),i=[2,7,9,1,4,6,3,5,8,2,7,9],o=0,s=0;s<i.length;s++)o+=r[s]*i[s];return o%11===10?1===r[12]:r[12]===o%11}return!0},"sk-SK":function(e){if(9===e.length){if("000"===(e=e.replace(/\W/,"")).slice(6))return!1;var t=parseInt(e.slice(0,2),10);if(t>53)return!1;t=t<10?"190".concat(t):"19".concat(t);var n=parseInt(e.slice(2,4),10);n>50&&(n-=50),n<10&&(n="0".concat(n));var r="".concat(t,"/").concat(n,"/").concat(e.slice(4,6));if(!(0,a.default)(r,"YYYY/MM/DD"))return!1}return!0},"sl-SI":function(e){var t=11-o.reverseMultiplyAndSum(e.split("").slice(0,7).map((function(e){return parseInt(e,10)})),8)%11;return 10===t?0===parseInt(e[7],10):t===parseInt(e[7],10)},"sv-SE":function(e){var t=e.slice(0);e.length>11&&(t=t.slice(2));var n="",r=t.slice(2,4),i=parseInt(t.slice(4,6),10);if(e.length>11)n=e.slice(0,4);else if(n=e.slice(0,2),11===e.length&&i<60){var s=(new Date).getFullYear().toString(),l=parseInt(s.slice(0,2),10);if(s=parseInt(s,10),"-"===e[6])n=parseInt("".concat(l).concat(n),10)>s?"".concat(l-1).concat(n):"".concat(l).concat(n);else if(n="".concat(l-1).concat(n),s-parseInt(n,10)<100)return!1}i>60&&(i-=60),i<10&&(i="0".concat(i));var c="".concat(n,"/").concat(r,"/").concat(i);if(8===c.length){if(!(0,a.default)(c,"YY/MM/DD"))return!1}else if(!(0,a.default)(c,"YYYY/MM/DD"))return!1;return o.luhnCheck(e.replace(/\W/,""))}};h["lb-LU"]=h["fr-LU"],h["lt-LT"]=h["et-EE"],h["nl-BE"]=h["fr-BE"];var m=/[-\\\/!@#$%\^&\*\(\)\+\=\[\]]+/g,g={"de-AT":m,"de-DE":/[\/\\]/g,"fr-BE":m};g["nl-BE"]=g["fr-BE"],e.exports=t.default,e.exports.default=t.default},2492:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,r.default)(e),!e||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;if((t=(0,a.default)(t,c)).validate_length&&e.length>=2083)return!1;if(!t.allow_fragments&&e.includes("#"))return!1;if(!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;var n,s,p,f,h,m,g,v;if(g=e.split("#"),e=g.shift(),g=e.split("?"),e=g.shift(),(g=e.split("://")).length>1){if(n=g.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(n))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;g[0]=e.substr(2)}}if(""===(e=g.join("://")))return!1;if(g=e.split("/"),""===(e=g.shift())&&!t.require_host)return!0;if((g=e.split("@")).length>1){if(t.disallow_auth)return!1;if(""===g[0])return!1;if((s=g.shift()).indexOf(":")>=0&&s.split(":").length>2)return!1;var y=s.split(":"),b=(k=2,function(e){if(Array.isArray(e))return e}(S=y)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(S,k)||function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(S,k)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),w=b[0],x=b[1];if(""===w&&""===x)return!1}var S,k;f=g.join("@"),m=null,v=null;var T=f.match(u);T?(p="",v=T[1],m=T[2]||null):(g=f.split(":"),p=g.shift(),g.length&&(m=g.join(":")));if(null!==m&&m.length>0){if(h=parseInt(m,10),!/^[0-9]+$/.test(m)||h<=0||h>65535)return!1}else if(t.require_port)return!1;if(t.host_whitelist)return d(p,t.host_whitelist);if(!(0,o.default)(p)&&!(0,i.default)(p,t)&&(!v||!(0,o.default)(v,6)))return!1;if(p=p||v,t.host_blacklist&&d(p,t.host_blacklist))return!1;return!0};var r=s(n(65571)),i=s(n(10221)),o=s(n(61028)),a=s(n(84808));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},u=/^\[([^\]]+)\](?::([0-9]+))?$/;function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(e===r||(i=r,"[object RegExp]"===Object.prototype.toString.call(i)&&r.test(e)))return!0}var i;return!1}e.exports=t.default,e.exports.default=t.default},57278:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=o[[void 0,null].includes(t)?"all":t];return!!n&&n.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o={1:/^[0-9A-F]{8}-[0-9A-F]{4}-1[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,2:/^[0-9A-F]{8}-[0-9A-F]{4}-2[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,3:/^[0-9A-F]{8}-[0-9A-F]{4}-3[0-9A-F]{3}-[0-9A-F]{4}-[0-9A-F]{12}$/i,4:/^[0-9A-F]{8}-[0-9A-F]{4}-4[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,5:/^[0-9A-F]{8}-[0-9A-F]{4}-5[0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}$/i,all:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i};e.exports=t.default,e.exports.default=t.default},57245:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e===e.toUpperCase()};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},55977:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),(0,i.default)(t),t in o)return o[t].test(e);throw new Error("Invalid country code: '".concat(t,"'"))},t.vatMatchers=void 0;var r,i=(r=n(65571))&&r.__esModule?r:{default:r};var o={GB:/^GB((\d{3} \d{4} ([0-8][0-9]|9[0-6]))|(\d{9} \d{3})|(((GD[0-4])|(HA[5-9]))[0-9]{2}))$/,IT:/^(IT)?[0-9]{11}$/,NL:/^(NL)?[0-9]{9}B[0-9]{2}$/};t.vatMatchers=o},49019:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),o.fullWidth.test(e)&&a.halfWidth.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r},o=n(77146),a=n(82941);e.exports=t.default,e.exports.default=t.default},88346:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);for(var n=e.length-1;n>=0;n--)if(-1===t.indexOf(e[n]))return!1;return!0};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},14959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,i.default)(e);var n=t?new RegExp("^[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+"),"g"):/^\s+/g;return e.replace(n,"")};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},30661:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){(0,i.default)(e),"[object RegExp]"!==Object.prototype.toString.call(t)&&(t=new RegExp(t,n));return t.test(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},2900:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){t=(0,i.default)(t,o);var n=e.split("@"),r=n.pop(),d=[n.join("@"),r];if(d[1]=d[1].toLowerCase(),"gmail.com"===d[1]||"googlemail.com"===d[1]){if(t.gmail_remove_subaddress&&(d[0]=d[0].split("+")[0]),t.gmail_remove_dots&&(d[0]=d[0].replace(/\.+/g,u)),!d[0].length)return!1;(t.all_lowercase||t.gmail_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]=t.gmail_convert_googlemaildotcom?"gmail.com":d[1]}else if(a.indexOf(d[1])>=0){if(t.icloud_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.icloud_lowercase)&&(d[0]=d[0].toLowerCase())}else if(s.indexOf(d[1])>=0){if(t.outlookdotcom_remove_subaddress&&(d[0]=d[0].split("+")[0]),!d[0].length)return!1;(t.all_lowercase||t.outlookdotcom_lowercase)&&(d[0]=d[0].toLowerCase())}else if(l.indexOf(d[1])>=0){if(t.yahoo_remove_subaddress){var p=d[0].split("-");d[0]=p.length>1?p.slice(0,-1).join("-"):p[0]}if(!d[0].length)return!1;(t.all_lowercase||t.yahoo_lowercase)&&(d[0]=d[0].toLowerCase())}else c.indexOf(d[1])>=0?((t.all_lowercase||t.yandex_lowercase)&&(d[0]=d[0].toLowerCase()),d[1]="yandex.ru"):t.all_lowercase&&(d[0]=d[0].toLowerCase());return d.join("@")};var r,i=(r=n(84808))&&r.__esModule?r:{default:r};var o={all_lowercase:!0,gmail_lowercase:!0,gmail_remove_dots:!0,gmail_remove_subaddress:!0,gmail_convert_googlemaildotcom:!0,outlookdotcom_lowercase:!0,outlookdotcom_remove_subaddress:!0,yahoo_lowercase:!0,yahoo_remove_subaddress:!0,yandex_lowercase:!0,icloud_lowercase:!0,icloud_remove_subaddress:!0},a=["icloud.com","me.com"],s=["hotmail.at","hotmail.be","hotmail.ca","hotmail.cl","hotmail.co.il","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.gr","hotmail.com.mx","hotmail.com.pe","hotmail.com.tr","hotmail.com.vn","hotmail.cz","hotmail.de","hotmail.dk","hotmail.es","hotmail.fr","hotmail.hu","hotmail.id","hotmail.ie","hotmail.in","hotmail.it","hotmail.jp","hotmail.kr","hotmail.lv","hotmail.my","hotmail.ph","hotmail.pt","hotmail.sa","hotmail.sg","hotmail.sk","live.be","live.co.uk","live.com","live.com.ar","live.com.mx","live.de","live.es","live.eu","live.fr","live.it","live.nl","msn.com","outlook.at","outlook.be","outlook.cl","outlook.co.il","outlook.co.nz","outlook.co.th","outlook.com","outlook.com.ar","outlook.com.au","outlook.com.br","outlook.com.gr","outlook.com.pe","outlook.com.tr","outlook.com.vn","outlook.cz","outlook.de","outlook.dk","outlook.es","outlook.fr","outlook.hu","outlook.id","outlook.ie","outlook.in","outlook.it","outlook.jp","outlook.kr","outlook.lv","outlook.my","outlook.ph","outlook.pt","outlook.sa","outlook.sg","outlook.sk","passport.com"],l=["rocketmail.com","yahoo.ca","yahoo.co.uk","yahoo.com","yahoo.de","yahoo.fr","yahoo.in","yahoo.it","ymail.com"],c=["yandex.ru","yandex.ua","yandex.kz","yandex.com","yandex.by","ya.ru"];function u(e){return e.length>1?e:""}e.exports=t.default,e.exports.default=t.default},29778:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t){var n=new RegExp("[".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"]+$"),"g");return e.replace(n,"")}var r=e.length-1;for(;/\s/.test(e.charAt(r));)r-=1;return e.slice(0,r+1)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},8035:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,r.default)(e);var n=t?"\\x00-\\x09\\x0B\\x0C\\x0E-\\x1F\\x7F":"\\x00-\\x1F\\x7F";return(0,i.default)(e,n)};var r=o(n(65571)),i=o(n(44928));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},557:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,i.default)(e),t)return"1"===e||/^true$/i.test(e);return"0"!==e&&!/^false$/i.test(e)&&""!==e};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},8469:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e=Date.parse(e),isNaN(e)?null:new Date(e)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},77536:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e)?parseFloat(e):NaN};var r,i=(r=n(79146))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},21359:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),parseInt(e,t||10)};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},24790:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,r.default)((0,i.default)(e,t),t)};var r=o(n(29778)),i=o(n(14959));function o(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default,e.exports.default=t.default},94816:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,i.default)(e),e.replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&#x2F;/g,"/").replace(/&#x5C;/g,"\\").replace(/&#96;/g,"`").replace(/&amp;/g,"&")};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},83672:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.iso7064Check=function(e){for(var t=10,n=0;n<e.length-1;n++)t=(parseInt(e[n],10)+t)%10===0?9:(parseInt(e[n],10)+t)%10*2%11;return(t=1===t?0:11-t)===parseInt(e[10],10)},t.luhnCheck=function(e){for(var t=0,n=!1,r=e.length-1;r>=0;r--){if(n){var i=2*parseInt(e[r],10);t+=i>9?i.toString().split("").map((function(e){return parseInt(e,10)})).reduce((function(e,t){return e+t}),0):i}else t+=parseInt(e[r],10);n=!n}return t%10===0},t.reverseMultiplyAndSum=function(e,t){for(var n=0,r=0;r<e.length;r++)n+=e[r]*(t-r);return n},t.verhoeffCheck=function(e){for(var t=[[0,1,2,3,4,5,6,7,8,9],[1,2,3,4,0,6,7,8,9,5],[2,3,4,0,1,7,8,9,5,6],[3,4,0,1,2,8,9,5,6,7],[4,0,1,2,3,9,5,6,7,8],[5,9,8,7,6,0,4,3,2,1],[6,5,9,8,7,1,0,4,3,2],[7,6,5,9,8,2,1,0,4,3],[8,7,6,5,9,3,2,1,0,4],[9,8,7,6,5,4,3,2,1,0]],n=[[0,1,2,3,4,5,6,7,8,9],[1,5,7,6,2,8,3,0,9,4],[5,8,0,3,7,9,6,1,4,2],[8,9,1,6,0,4,3,5,2,7],[9,4,5,3,1,2,6,8,7,0],[4,2,8,6,5,7,3,9,0,1],[2,7,9,3,8,0,6,4,1,5],[7,0,4,6,9,1,3,2,5,8]],r=e.split("").reverse().join(""),i=0,o=0;o<r.length;o++)i=t[i][n[o%8][parseInt(r[o],10)]];return 0===i}},65571:(e,t)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"===typeof e||e instanceof String)){var t=n(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},18343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=function(e,t){return e.some((function(e){return t===e}))};t.default=n,e.exports=t.default,e.exports.default=t.default},84808:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in t)"undefined"===typeof e[n]&&(e[n]=t[n]);return e},e.exports=t.default,e.exports.default=t.default},24731:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.join("");return new RegExp(n,t)},e.exports=t.default,e.exports.default=t.default},31913:(e,t)=>{"use strict";function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){"object"===n(e)&&null!==e?e="function"===typeof e.toString?e.toString():"[object Object]":(null===e||"undefined"===typeof e||isNaN(e)&&!e.length)&&(e="");return String(e)},e.exports=t.default,e.exports.default=t.default},34714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e),e.replace(new RegExp("[^".concat(t,"]+"),"g"),"")};var r,i=(r=n(65571))&&r.__esModule?r:{default:r};e.exports=t.default,e.exports.default=t.default},50835:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>le});var r={};n.r(r),n.d(r,{fixNegotiationNeeded:()=>A,shimAddTrackRemoveTrack:()=>O,shimAddTrackRemoveTrackWithNative:()=>C,shimGetDisplayMedia:()=>x,shimGetSendersWithDtmf:()=>T,shimGetStats:()=>E,shimGetUserMedia:()=>w,shimMediaStream:()=>S,shimOnTrack:()=>k,shimPeerConnection:()=>P,shimSenderReceiverGetStats:()=>_});var i={};n.r(i),n.d(i,{shimAddTransceiver:()=>F,shimCreateAnswer:()=>H,shimCreateOffer:()=>$,shimGetDisplayMedia:()=>M,shimGetParameters:()=>U,shimGetUserMedia:()=>I,shimOnTrack:()=>N,shimPeerConnection:()=>R,shimRTCDataChannel:()=>B,shimReceiverGetStats:()=>L,shimRemoveStream:()=>j,shimSenderGetStats:()=>D});var o={};n.r(o),n.d(o,{shimAudioContext:()=>Y,shimCallbacksAPI:()=>z,shimConstraints:()=>K,shimCreateOfferLegacy:()=>Z,shimGetUserMedia:()=>W,shimLocalStreamsAPI:()=>G,shimRTCIceServerUrls:()=>q,shimRemoteStreamsAPI:()=>V,shimTrackEventTransceiver:()=>X});var a={};n.r(a),n.d(a,{removeExtmapAllowMixed:()=>ie,shimAddIceCandidateNullOrEmpty:()=>oe,shimConnectionState:()=>re,shimMaxMessageSize:()=>te,shimParameterlessSetLocalDescription:()=>ae,shimRTCIceCandidate:()=>ee,shimSendThrowTypeError:()=>ne});let s=!0,l=!0;function c(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)}function u(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const o=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};const o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function d(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(s=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function p(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(l=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function f(){if("object"===typeof window){if(s)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function h(e,t){l&&console.warn(e+" is deprecated, please use "+t+" instead.")}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function g(e){return m(e)?Object.keys(e).reduce((function(t,n){const r=m(e[n]),i=r?g(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[n]:i})}),{}):e}function v(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((r=>{r.endsWith("Id")?v(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((t=>{v(e,e.get(t),n)}))})))}function y(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const o=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&v(e,n,i)}))})),i}const b=f;function w(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"===typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),e={},e[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"===typeof e.video){let o=e.video.facingMode;o=o&&("object"===typeof o?o:{ideal:o});const a=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let a=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&n.length&&t.includes("back")&&(a=n[n.length-1]),a&&(e.video.deviceId=o.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=r(e.video),b("chrome: "+JSON.stringify(e)),i(e)}))}e.video=r(e.video)}return b("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(o(e))))))}}}function x(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function S(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function k(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else u(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function T(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function E(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"===typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof e))return t.apply(this,[]);const i=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const r=function(e){n(o(i(e)))};return t.apply(this,[r,e])}return new Promise(((e,n)=>{t.apply(this,[function(t){e(o(i(t)))},n])})).then(n,r)}}function _(e){if(!("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>y(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),u(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>y(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function C(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function O(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return C(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}function a(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");const i=this.getSenders().find((e=>e.track===t));if(i)throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[n.id];if(o)o.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"===typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=a(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const l=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=l.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function P(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function A(e,t){u(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}function I(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){h("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"===typeof n&&"object"===typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"===typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function M(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function N(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function R(e,t){if("object"!==typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,o]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(r){if("TypeError"!==r.name)throw r;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,o)}}function D(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function L(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),u(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function j(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){h("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function B(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function F(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];const e=arguments[1],n=e&&"sendEncodings"in e;n&&e.sendEncodings.forEach((e=>{if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e.sendEncodings,t.sendEncodings=e.sendEncodings,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function U(e){if("object"!==typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function $(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function H(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function G(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e,...n){return n&&n.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function V(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function z(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let s=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=s,s=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=s,s=function(e,t,n){const r=a.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=s}function W(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(K(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function K(e){return e&&void 0!==e.video?Object.assign({},e,{video:g(e.video)}):e}function q(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];!r.hasOwnProperty("urls")&&r.hasOwnProperty("url")?(h("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function X(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Z(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Y(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Q=n(57539),J=n.n(Q);function ee(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const n=new t(e),r=J().parseCandidate(e.candidate),i=Object.assign(n,r);return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,u(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function te(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp}});const n=function(e){if(!e||!e.sdp)return!1;const t=J().splitSections(e.sdp);return t.shift(),t.some((e=>{const t=J().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))},r=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!==n?-1:n},i=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n},o=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=J().matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substr(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r},a=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const e=r(arguments[0]),t=i(e),n=o(arguments[0],e);let a;a=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>a}),this._sctp=s}return a.apply(this,arguments)}}function ne(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},u(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function re(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function ie(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t.version>=605)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function oe(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ae(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!==typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}if(e.sdp||"offer"!==e.type&&"answer"!==e.type)return n.apply(this,[e]);const t="offer"===e.type?this.createOffer:this.createAnswer;return t.apply(this).then((e=>n.apply(this,[e])))})}const se=function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=f,s=function(e){const t={browser:null,version:null};if("undefined"===typeof e||!e.navigator)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=c(n.userAgent,/Firefox\/(\d+)\./,1);else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection&&!e.RTCIceGatherer)t.browser="chrome",t.version=c(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=c(n.userAgent,/AppleWebKit\/(\d+)\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype}return t}(e),l={browserDetails:s,commonShim:a,extractVersion:c,disableLog:d,disableWarnings:p,sdp:Q};switch(s.browser){case"chrome":if(!r||!P||!t.shimChrome)return n("Chrome shim is not included in this adapter release."),l;if(null===s.version)return n("Chrome shim can not determine version, not shimming."),l;n("adapter.js shimming chrome."),l.browserShim=r,oe(e,s),ae(e),w(e,s),S(e),P(e,s),k(e),O(e,s),T(e),E(e),_(e),A(e,s),ee(e),re(e),te(e,s),ne(e),ie(e,s);break;case"firefox":if(!i||!R||!t.shimFirefox)return n("Firefox shim is not included in this adapter release."),l;n("adapter.js shimming firefox."),l.browserShim=i,oe(e,s),ae(e),I(e,s),R(e,s),N(e),j(e),D(e),L(e),B(e),F(e),U(e),$(e),H(e),ee(e),re(e),te(e,s),ne(e);break;case"safari":if(!o||!t.shimSafari)return n("Safari shim is not included in this adapter release."),l;n("adapter.js shimming safari."),l.browserShim=o,oe(e,s),ae(e),q(e),Z(e),z(e),G(e),V(e),X(e),W(e),Y(e),ee(e),te(e,s),ne(e),ie(e,s);break;default:n("Unsupported browser!")}return l}({window:"undefined"===typeof window?void 0:window}),le=se},83154:(e,t,n)=>{var r;if("function"===typeof fetch&&("undefined"!==typeof n.g&&n.g.fetch?r=n.g.fetch:"undefined"!==typeof window&&window.fetch&&(r=window.fetch)),"undefined"===typeof window||"undefined"===typeof window.document){var i=r||n(54098);i.default&&(i=i.default),t.default=i,e.exports=t.default}},62961:e=>{e.exports={nanoid:(e=21)=>{let t="",n=e;for(;n--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[64*Math.random()|0];return t},customAlphabet:(e,t=21)=>(n=t)=>{let r="",i=n;for(;i--;)r+=e[Math.random()*e.length|0];return r}}},83878:(e,t,n)=>{"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:()=>r})},15671:(e,t,n)=>{"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:()=>r})},43144:(e,t,n)=>{"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:()=>i})},4942:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:()=>r})},25267:(e,t,n)=>{"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:()=>r})},88192:(e,t,n)=>{"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}n.d(t,{Z:()=>i})},56727:(e,t,n)=>{"use strict";n.d(t,{OK:()=>St,Vq:()=>ve,rs:()=>gt,uT:()=>Dt,v2:()=>He});var r=n(67294),i=n(73935);function o(){let e=[],t=[],n={enqueue(e){t.push(e)},requestAnimationFrame(...e){let t=requestAnimationFrame(...e);n.add((()=>cancelAnimationFrame(t)))},nextFrame(...e){n.requestAnimationFrame((()=>{n.requestAnimationFrame(...e)}))},setTimeout(...e){let t=setTimeout(...e);n.add((()=>clearTimeout(t)))},add(t){e.push(t)},dispose(){for(let t of e.splice(0))t()},async workQueue(){for(let e of t.splice(0))await e()}};return n}function a(){let[e]=(0,r.useState)(o);return(0,r.useEffect)((()=>()=>e.dispose()),[e]),e}var s="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,l={serverHandoffComplete:!1};function c(){let[e,t]=(0,r.useState)(l.serverHandoffComplete);return(0,r.useEffect)((()=>{!0!==e&&t(!0)}),[e]),(0,r.useEffect)((()=>{!1===l.serverHandoffComplete&&(l.serverHandoffComplete=!0)}),[]),e}var u=0;function d(){return++u}function p(){let e=c(),[t,n]=(0,r.useState)(e?d:null);return s((()=>{null===t&&n(d())}),[t]),null!=t?""+t:void 0}function f(e){let t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e}),[e]),t}function h(e,t){let[n,i]=(0,r.useState)(e),o=f(e);return s((()=>i(o.current)),[o,i,...t]),n}function m(...e){let t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e}),[e]),(0,r.useCallback)((e=>{for(let n of t.current)null!=n&&("function"==typeof n?n(e):n.current=e)}),[t])}function g(e,t,...n){if(e in t){let r=t[e];return"function"==typeof r?r(...n):r}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map((e=>`"${e}"`)).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,g),r}function v({props:e,slot:t,defaultTag:n,features:r,visible:i=!0,name:o}){if(i)return y(e,t,n,o);let a=null!=r?r:0;if(2&a){let{static:r=!1,...i}=e;if(r)return y(i,t,n,o)}if(1&a){let{unmount:r=!0,...i}=e;return g(r?0:1,{0:()=>null,1:()=>y({...i,hidden:!0,style:{display:"none"}},t,n,o)})}return y(e,t,n,o)}function y(e,t={},n,i){let{as:o=n,children:a,refName:s="ref",...l}=w(e,["unmount","static"]),c=void 0!==e.ref?{[s]:e.ref}:{},u="function"==typeof a?a(t):a;if(l.className&&"function"==typeof l.className&&(l.className=l.className(t)),o===r.Fragment&&Object.keys(l).length>0){if(!(0,r.isValidElement)(u)||Array.isArray(u)&&u.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${i} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(l).map((e=>`  - ${e}`)).join("\n"),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map((e=>`  - ${e}`)).join("\n")].join("\n"));return(0,r.cloneElement)(u,Object.assign({},function(e,t,n){let r=Object.assign({},e);for(let i of n)void 0!==e[i]&&void 0!==t[i]&&Object.assign(r,{[i](n){n.defaultPrevented||e[i](n),n.defaultPrevented||t[i](n)}});return r}(function(e){let t=Object.assign({},e);for(let n in t)void 0===t[n]&&delete t[n];return t}(w(l,["ref"])),u.props,["onClick"]),c))}return(0,r.createElement)(o,Object.assign({},w(l,["ref"]),o!==r.Fragment&&c),u)}function b(e){var t;return Object.assign((0,r.forwardRef)(e),{displayName:null!=(t=e.displayName)?t:e.name})}function w(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function x(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=null!=r?r:-1,o=(()=>{switch(e.focus){case 0:return n.findIndex((e=>!t.resolveDisabled(e)));case 1:{let e=n.slice().reverse().findIndex(((e,n,r)=>!(-1!==i&&r.length-n-1>=i)&&!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 2:return n.findIndex(((e,n)=>!(n<=i)&&!t.resolveDisabled(e)));case 3:{let e=n.slice().reverse().findIndex((e=>!t.resolveDisabled(e)));return-1===e?e:n.length-1-e}case 4:return n.findIndex((n=>t.resolveId(n)===e.id));case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}})();return-1===o?r:o}function S(e){let t=e.parentElement,n=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(n=t),t=t.parentElement;let r=""===(null==t?void 0:t.getAttribute("disabled"));return(!r||!function(e){if(!e)return!1;let t=e.previousElementSibling;for(;null!==t;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}(n))&&r}function k(e,t,n){let i=(0,r.useRef)(t);i.current=t,(0,r.useEffect)((()=>{function t(e){i.current.call(window,e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)}),[e,n])}var T=(0,r.createContext)(null);function E(){return(0,r.useContext)(T)}function _({value:e,children:t}){return r.createElement(T.Provider,{value:e},t)}function C(e){var t;if(e.type)return e.type;let n=null!=(t=e.as)?t:"button";return"string"==typeof n&&"button"===n.toLowerCase()?"button":void 0}function O(e,t){let[n,i]=(0,r.useState)((()=>C(e)));return s((()=>{i(C(e))}),[e.type,e.as]),s((()=>{n||!t.current||t.current instanceof HTMLButtonElement&&!t.current.hasAttribute("type")&&i("button")}),[n,t]),n}function P({container:e,accept:t,walk:n,enabled:i=!0}){let o=(0,r.useRef)(t),a=(0,r.useRef)(n);(0,r.useEffect)((()=>{o.current=t,a.current=n}),[t,n]),s((()=>{if(!e||!i)return;let t=o.current,n=a.current,r=Object.assign((e=>t(e)),{acceptNode:t}),s=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,r,!1);for(;s.nextNode();)n(s.currentNode)}),[e,i,o,a])}T.displayName="OpenClosedContext";var A={1:e=>e.disabled||1===e.comboboxState?e:{...e,activeOptionIndex:null,comboboxState:1},0:e=>e.disabled||0===e.comboboxState?e:{...e,comboboxState:0},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3(e,t){if(e.disabled||e.optionsRef.current&&!e.optionsPropsRef.current.static&&1===e.comboboxState)return e;let n=x(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return e.activeOptionIndex===n?e:{...e,activeOptionIndex:n}},4:(e,t)=>{var n;let r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,i=Array.from(null==(n=e.optionsRef.current)?void 0:n.querySelectorAll('[id^="headlessui-combobox-option-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),o=[...e.options,{id:t.id,dataRef:t.dataRef}].sort(((e,t)=>i[e.id]-i[t.id]));return{...e,options:o,activeOptionIndex:null===r?null:o.indexOf(r)}},5:(e,t)=>{let n=e.options.slice(),r=null!==e.activeOptionIndex?n[e.activeOptionIndex]:null,i=n.findIndex((e=>e.id===t.id));return-1!==i&&n.splice(i,1),{...e,options:n,activeOptionIndex:i===e.activeOptionIndex||null===r?null:n.indexOf(r)}}},I=(0,r.createContext)(null);function M(e){let t=(0,r.useContext)(I);if(null===t){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,M),t}return t}I.displayName="ComboboxContext";var N=(0,r.createContext)(null);function R(){let e=(0,r.useContext)(N);if(null===e){let e=new Error("ComboboxActions is missing a parent <Combobox /> component.");throw Error.captureStackTrace&&Error.captureStackTrace(e,R),e}return e}function D(e,t){return g(t.type,A,e,t)}N.displayName="ComboboxActions";var L=r.Fragment,j=b((function(e,t){let{value:n,onChange:i,disabled:o=!1,...a}=e,l=(0,r.useRef)({value:n,onChange:i}),c=(0,r.useRef)({static:!1,hold:!1}),u=(0,r.useRef)({displayValue:void 0}),d=(0,r.useReducer)(D,{comboboxState:1,comboboxPropsRef:l,optionsPropsRef:c,inputPropsRef:u,labelRef:(0,r.createRef)(),inputRef:(0,r.createRef)(),buttonRef:(0,r.createRef)(),optionsRef:(0,r.createRef)(),disabled:o,options:[],activeOptionIndex:null}),[{comboboxState:p,options:f,activeOptionIndex:h,optionsRef:m,inputRef:y,buttonRef:b},w]=d;s((()=>{l.current.value=n}),[n,l]),s((()=>{l.current.onChange=i}),[i,l]),s((()=>w({type:2,disabled:o})),[o]),k("mousedown",(e=>{var t,n,r;let i=e.target;0===p&&((null==(t=b.current)?void 0:t.contains(i))||(null==(n=y.current)?void 0:n.contains(i))||(null==(r=m.current)?void 0:r.contains(i))||w({type:1}))}));let x=null===h?null:f[h].dataRef.current.value,S=(0,r.useMemo)((()=>({open:0===p,disabled:o,activeIndex:h,activeOption:x})),[p,o,f,h]),T=(0,r.useCallback)((()=>{if(!y.current||void 0===n)return;let e=u.current.displayValue;"function"==typeof e?y.current.value=e(n):"string"==typeof n&&(y.current.value=n)}),[n,y,u]),E=(0,r.useCallback)((e=>{let t=f.find((t=>t.id===e));if(!t)return;let{dataRef:n}=t;l.current.onChange(n.current.value),T()}),[f,l,y]),C=(0,r.useCallback)((()=>{if(null!==h){let{dataRef:e}=f[h];l.current.onChange(e.current.value),T()}}),[h,f,l,y]),O=(0,r.useMemo)((()=>({selectOption:E,selectActiveOption:C})),[E,C]);return s((()=>{1===p&&T()}),[T,p]),s(T,[T]),r.createElement(N.Provider,{value:O},r.createElement(I.Provider,{value:d},r.createElement(_,{value:g(p,{0:0,1:1})},v({props:null===t?a:{...a,ref:t},slot:S,defaultTag:L,name:"Combobox"}))))})),B=b((function(e,t){var n,i;let{value:o,onChange:l,displayValue:c,...u}=e,[d,y]=M("Combobox.Input"),b=R(),w=m(d.inputRef,t),x=d.inputPropsRef,S=`headlessui-combobox-input-${p()}`,k=a(),T=f(l);s((()=>{x.current.displayValue=c}),[c,x]);let E=(0,r.useCallback)((e=>{switch(e.key){case"Enter":e.preventDefault(),e.stopPropagation(),b.selectActiveOption(),y({type:1});break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),g(d.comboboxState,{0:()=>y({type:3,focus:2}),1:()=>{y({type:0}),k.nextFrame((()=>{d.comboboxPropsRef.current.value||y({type:3,focus:0})}))}});case"ArrowUp":return e.preventDefault(),e.stopPropagation(),g(d.comboboxState,{0:()=>y({type:3,focus:1}),1:()=>{y({type:0}),k.nextFrame((()=>{d.comboboxPropsRef.current.value||y({type:3,focus:3})}))}});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),y({type:3,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),y({type:3,focus:3});case"Escape":return e.preventDefault(),d.optionsRef.current&&!d.optionsPropsRef.current.static&&e.stopPropagation(),y({type:1});case"Tab":b.selectActiveOption(),y({type:1})}}),[k,y,d,b]),_=(0,r.useCallback)((e=>{var t;y({type:0}),null==(t=T.current)||t.call(T,e)}),[y,T]),C=h((()=>{if(d.labelRef.current)return[d.labelRef.current.id].join(" ")}),[d.labelRef.current]),O=(0,r.useMemo)((()=>({open:0===d.comboboxState,disabled:d.disabled})),[d]);return v({props:{...u,...{ref:w,id:S,role:"combobox",type:"text","aria-controls":null==(n=d.optionsRef.current)?void 0:n.id,"aria-expanded":d.disabled?void 0:0===d.comboboxState,"aria-activedescendant":null===d.activeOptionIndex||null==(i=d.options[d.activeOptionIndex])?void 0:i.id,"aria-labelledby":C,disabled:d.disabled,onKeyDown:E,onChange:_}},slot:O,defaultTag:"input",name:"Combobox.Input"})})),F=b((function(e,t){var n;let[i,o]=M("Combobox.Button"),s=R(),l=m(i.buttonRef,t),c=`headlessui-combobox-button-${p()}`,u=a(),d=(0,r.useCallback)((e=>{switch(e.key){case"ArrowDown":return e.preventDefault(),e.stopPropagation(),1===i.comboboxState&&(o({type:0}),u.nextFrame((()=>{i.comboboxPropsRef.current.value||o({type:3,focus:0})}))),u.nextFrame((()=>{var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case"ArrowUp":return e.preventDefault(),e.stopPropagation(),1===i.comboboxState&&(o({type:0}),u.nextFrame((()=>{i.comboboxPropsRef.current.value||o({type:3,focus:3})}))),u.nextFrame((()=>{var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}));case"Escape":return e.preventDefault(),i.optionsRef.current&&!i.optionsPropsRef.current.static&&e.stopPropagation(),o({type:1}),u.nextFrame((()=>{var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}))}}),[u,o,i,s]),f=(0,r.useCallback)((e=>{if(S(e.currentTarget))return e.preventDefault();0===i.comboboxState?o({type:1}):(e.preventDefault(),o({type:0})),u.nextFrame((()=>{var e;return null==(e=i.inputRef.current)?void 0:e.focus({preventScroll:!0})}))}),[o,u,i]),g=h((()=>{if(i.labelRef.current)return[i.labelRef.current.id,c].join(" ")}),[i.labelRef.current,c]),y=(0,r.useMemo)((()=>({open:0===i.comboboxState,disabled:i.disabled})),[i]);return v({props:{...e,...{ref:l,id:c,type:O(e,i.buttonRef),tabIndex:-1,"aria-haspopup":!0,"aria-controls":null==(n=i.optionsRef.current)?void 0:n.id,"aria-expanded":i.disabled?void 0:0===i.comboboxState,"aria-labelledby":g,disabled:i.disabled,onClick:f,onKeyDown:d}},slot:y,defaultTag:"button",name:"Combobox.Button"})}));var U=b((function(e,t){var n;let{hold:i=!1,...o}=e,[a]=M("Combobox.Options"),{optionsPropsRef:l}=a,c=m(a.optionsRef,t),u=`headlessui-combobox-options-${p()}`,d=E(),f=null!==d?0===d:0===a.comboboxState;s((()=>{var t;l.current.static=null!=(t=e.static)&&t}),[l,e.static]),s((()=>{l.current.hold=i}),[i,l]),P({container:a.optionsRef.current,enabled:0===a.comboboxState,accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let g=h((()=>{var e,t,n;return null!=(n=null==(e=a.labelRef.current)?void 0:e.id)?n:null==(t=a.buttonRef.current)?void 0:t.id}),[a.labelRef.current,a.buttonRef.current]),y=(0,r.useMemo)((()=>({open:0===a.comboboxState})),[a]);return v({props:{...o,...{"aria-activedescendant":null===a.activeOptionIndex||null==(n=a.options[a.activeOptionIndex])?void 0:n.id,"aria-labelledby":g,role:"listbox",id:u,ref:c}},slot:y,defaultTag:"ul",features:3,visible:f,name:"Combobox.Options"})}));Object.assign(j,{Input:B,Button:F,Label:function(e){let[t]=M("Combobox.Label"),n=`headlessui-combobox-label-${p()}`,i=(0,r.useCallback)((()=>{var e;return null==(e=t.inputRef.current)?void 0:e.focus({preventScroll:!0})}),[t.inputRef]),o=(0,r.useMemo)((()=>({open:0===t.comboboxState,disabled:t.disabled})),[t]);return v({props:{...e,...{ref:t.labelRef,id:n,onClick:i}},slot:o,defaultTag:"label",name:"Combobox.Label"})},Options:U,Option:function(e){let{disabled:t=!1,value:n,...i}=e,[a,l]=M("Combobox.Option"),c=R(),u=`headlessui-combobox-option-${p()}`,d=null!==a.activeOptionIndex&&a.options[a.activeOptionIndex].id===u,f=a.comboboxPropsRef.current.value===n,h=(0,r.useRef)({disabled:t,value:n});s((()=>{h.current.disabled=t}),[h,t]),s((()=>{h.current.value=n}),[h,n]),s((()=>{var e,t;h.current.textValue=null==(t=null==(e=document.getElementById(u))?void 0:e.textContent)?void 0:t.toLowerCase()}),[h,u]);let m=(0,r.useCallback)((()=>c.selectOption(u)),[c,u]);s((()=>(l({type:4,id:u,dataRef:h}),()=>l({type:5,id:u}))),[h,u]),s((()=>{0===a.comboboxState&&(!f||l({type:3,focus:4,id:u}))}),[a.comboboxState,f,u]),s((()=>{if(0!==a.comboboxState||!d)return;let e=o();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=document.getElementById(u))?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[u,d,a.comboboxState,a.activeOptionIndex]);let g=(0,r.useCallback)((e=>{if(t)return e.preventDefault();m(),l({type:1}),o().nextFrame((()=>{var e;return null==(e=a.inputRef.current)?void 0:e.focus({preventScroll:!0})}))}),[l,a.inputRef,t,m]),y=(0,r.useCallback)((()=>{if(t)return l({type:3,focus:5});l({type:3,focus:4,id:u})}),[t,u,l]),b=(0,r.useCallback)((()=>{t||d||l({type:3,focus:4,id:u})}),[t,d,u,l]),w=(0,r.useCallback)((()=>{t||!d||a.optionsPropsRef.current.hold||l({type:3,focus:5})}),[t,d,l,a.comboboxState,a.comboboxPropsRef]),x=(0,r.useMemo)((()=>({active:d,selected:f,disabled:t})),[d,f,t]);return v({props:{...i,id:u,role:"option",tabIndex:!0===t?void 0:-1,"aria-disabled":!0===t||void 0,"aria-selected":!0===f||void 0,disabled:void 0,onClick:g,onFocus:y,onPointerMove:b,onMouseMove:b,onPointerLeave:w,onMouseLeave:w},slot:x,defaultTag:"li",name:"Combobox.Option"})}});var $=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map((e=>`${e}:not([tabindex='-1'])`)).join(",");function H(e=document.body){return null==e?[]:Array.from(e.querySelectorAll($))}function G(e,t=0){return e!==document.body&&g(t,{0:()=>e.matches($),1(){let t=e;for(;null!==t;){if(t.matches($))return!0;t=t.parentElement}return!1}})}function V(e){null==e||e.focus({preventScroll:!0})}function z(e,t){let n,r=Array.isArray(e)?e.slice().sort(((e,t)=>{let n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING?-1:n&Node.DOCUMENT_POSITION_PRECEDING?1:0})):H(e),i=document.activeElement,o=(()=>{if(5&t)return 1;if(10&t)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),a=(()=>{if(1&t)return 0;if(2&t)return Math.max(0,r.indexOf(i))-1;if(4&t)return Math.max(0,r.indexOf(i))+1;if(8&t)return r.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),s=32&t?{preventScroll:!0}:{},l=0,c=r.length;do{if(l>=c||l+c<=0)return 0;let e=a+l;if(16&t)e=(e+c)%c;else{if(e<0)return 3;if(e>=c)return 1}n=r[e],null==n||n.focus(s),l+=o}while(n!==document.activeElement);return n.hasAttribute("tabindex")||n.setAttribute("tabindex","0"),2}function W(){let e=(0,r.useRef)(!1);return(0,r.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e}function K(e,t=30,{initialFocus:n,containers:i}={}){let o=(0,r.useRef)("undefined"!=typeof window?document.activeElement:null),a=(0,r.useRef)(null),s=W(),l=Boolean(16&t),c=Boolean(2&t);(0,r.useEffect)((()=>{!l||(o.current=document.activeElement)}),[l]),(0,r.useEffect)((()=>{if(l)return()=>{V(o.current),o.current=null}}),[l]),(0,r.useEffect)((()=>{if(!c||!e.current)return;let t=document.activeElement;if(null==n?void 0:n.current){if((null==n?void 0:n.current)===t)return void(a.current=t)}else if(e.current.contains(t))return void(a.current=t);(null==n?void 0:n.current)?V(n.current):0===z(e.current,1)&&console.warn("There are no focusable elements inside the <FocusTrap />"),a.current=document.activeElement}),[e,n,c]),k("keydown",(n=>{!(4&t)||!e.current||"Tab"===n.key&&(n.preventDefault(),2===z(e.current,16|(n.shiftKey?2:4))&&(a.current=document.activeElement))})),k("focus",(n=>{if(!(8&t))return;let r=new Set(null==i?void 0:i.current);if(r.add(e),!r.size)return;let o=a.current;if(!o||!s.current)return;let l=n.target;l&&l instanceof HTMLElement?function(e,t){var n;for(let r of e)if(null==(n=r.current)?void 0:n.contains(t))return!0;return!1}(r,l)?(a.current=l,V(l)):(n.preventDefault(),n.stopPropagation(),V(o)):V(a.current)}),!0)}var q=new Set,X=new Map;function Z(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function Y(e){let t=X.get(e);!t||(null===t["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}var Q=(0,r.createContext)(!1);function J(e){return r.createElement(Q.Provider,{value:e.force},e.children)}function ee(){let e=(0,r.useContext)(Q),t=(0,r.useContext)(ie),[n,i]=(0,r.useState)((()=>{if(!e&&null!==t||"undefined"==typeof window)return null;let n=document.getElementById("headlessui-portal-root");if(n)return n;let r=document.createElement("div");return r.setAttribute("id","headlessui-portal-root"),document.body.appendChild(r)}));return(0,r.useEffect)((()=>{null!==n&&(document.body.contains(n)||document.body.appendChild(n))}),[n]),(0,r.useEffect)((()=>{e||null!==t&&i(t.current)}),[t,i,e]),n}var te=r.Fragment;function ne(e){let t=e,n=ee(),[o]=(0,r.useState)((()=>"undefined"==typeof window?null:document.createElement("div"))),a=c();return s((()=>{if(n&&o)return n.appendChild(o),()=>{var e;!n||!o||(n.removeChild(o),n.childNodes.length<=0&&(null==(e=n.parentElement)||e.removeChild(n)))}}),[n,o]),a&&n&&o?(0,i.createPortal)(v({props:t,defaultTag:te,name:"Portal"}),o):null}var re=r.Fragment,ie=(0,r.createContext)(null);ne.Group=function(e){let{target:t,...n}=e;return r.createElement(ie.Provider,{value:t},v({props:n,defaultTag:re,name:"Popover.Group"}))};var oe=(0,r.createContext)(null);function ae(){let e=(0,r.useContext)(oe);if(null===e){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,ae),e}return e}function se(){let[e,t]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)((()=>function(e){let n=(0,r.useCallback)((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n})))),[]),i=(0,r.useMemo)((()=>({register:n,slot:e.slot,name:e.name,props:e.props})),[n,e.slot,e.name,e.props]);return r.createElement(oe.Provider,{value:i},e.children)}),[t])]}function le(e){let t=ae(),n=`headlessui-description-${p()}`;return s((()=>t.register(n)),[n,t.register]),v({props:{...e,...{...t.props,id:n}},slot:t.slot||{},defaultTag:"p",name:t.name||"Description"})}var ce=(0,r.createContext)((()=>{}));function ue({children:e,onUpdate:t,type:n,element:i}){let o=(0,r.useContext)(ce),a=(0,r.useCallback)(((...e)=>{null==t||t(...e),o(...e)}),[o,t]);return s((()=>(a(0,n,i),()=>a(1,n,i))),[a,n,i]),r.createElement(ce.Provider,{value:a},e)}ce.displayName="StackContext";var de={0:(e,t)=>e.titleId===t.id?e:{...e,titleId:t.id}},pe=(0,r.createContext)(null);function fe(e){let t=(0,r.useContext)(pe);if(null===t){let t=new Error(`<${e} /> is missing a parent <${ve.displayName} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,fe),t}return t}function he(e,t){return g(t.type,de,e,t)}pe.displayName="DialogContext";var me=b((function(e,t){let{open:n,onClose:i,initialFocus:o,...a}=e,[l,u]=(0,r.useState)(0),d=E();void 0===n&&null!==d&&(n=g(d,{0:!0,1:!1}));let f=(0,r.useRef)(new Set),h=(0,r.useRef)(null),y=m(h,t),b=e.hasOwnProperty("open")||null!==d,w=e.hasOwnProperty("onClose");if(!b&&!w)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!b)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!w)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof n)throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${n}`);if("function"!=typeof i)throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${i}`);let x=n?0:1,S=null!==d?0===d:0===x,[T,_]=(0,r.useReducer)(he,{titleId:null,descriptionId:null}),C=(0,r.useCallback)((()=>i(!1)),[i]),O=(0,r.useCallback)((e=>_({type:0,id:e})),[_]),P=c()&&0===x,A=l>1,I=null!==(0,r.useContext)(pe);K(h,P?g(A?"parent":"leaf",{parent:16,leaf:30}):1,{initialFocus:o,containers:f}),function(e,t=!0){s((()=>{if(!t||!e.current)return;let n=e.current;q.add(n);for(let e of X.keys())e.contains(n)&&(Y(e),X.delete(e));return document.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement){for(let t of q)if(e.contains(t))return;1===q.size&&(X.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Z(e))}})),()=>{if(q.delete(n),q.size>0)document.querySelectorAll("body > *").forEach((e=>{if(e instanceof HTMLElement&&!X.has(e)){for(let t of q)if(e.contains(t))return;X.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),Z(e)}}));else for(let e of X.keys())Y(e),X.delete(e)}}),[t])}(h,!!A&&P),k("mousedown",(e=>{var t;let n=e.target;0===x&&(A||(null==(t=h.current)?void 0:t.contains(n))||C())})),k("keydown",(e=>{"Escape"===e.key&&0===x&&(A||(e.preventDefault(),e.stopPropagation(),C()))})),(0,r.useEffect)((()=>{if(0!==x||I)return;let e=document.documentElement.style.overflow,t=document.documentElement.style.paddingRight,n=window.innerWidth-document.documentElement.clientWidth;return document.documentElement.style.overflow="hidden",document.documentElement.style.paddingRight=`${n}px`,()=>{document.documentElement.style.overflow=e,document.documentElement.style.paddingRight=t}}),[x,I]),(0,r.useEffect)((()=>{if(0!==x||!h.current)return;let e=new IntersectionObserver((e=>{for(let t of e)0===t.boundingClientRect.x&&0===t.boundingClientRect.y&&0===t.boundingClientRect.width&&0===t.boundingClientRect.height&&C()}));return e.observe(h.current),()=>e.disconnect()}),[x,h,C]);let[M,N]=se(),R=`headlessui-dialog-${p()}`,D=(0,r.useMemo)((()=>[{dialogState:x,close:C,setTitleId:O},T]),[x,T,C,O]),L=(0,r.useMemo)((()=>({open:0===x})),[x]),j={ref:y,id:R,role:"dialog","aria-modal":0===x||void 0,"aria-labelledby":T.titleId,"aria-describedby":M,onClick(e){e.stopPropagation()}},B=a;return r.createElement(ue,{type:"Dialog",element:h,onUpdate:(0,r.useCallback)(((e,t,n)=>{"Dialog"===t&&g(e,{0(){f.current.add(n),u((e=>e+1))},1(){f.current.add(n),u((e=>e-1))}})}),[])},r.createElement(J,{force:!0},r.createElement(ne,null,r.createElement(pe.Provider,{value:D},r.createElement(ne.Group,{target:h},r.createElement(J,{force:!1},r.createElement(N,{slot:L,name:"Dialog.Description"},v({props:{...B,...j},slot:L,defaultTag:"div",features:3,visible:S,name:"Dialog"}))))))))})),ge=b((function(e,t){let[{dialogState:n,close:i}]=fe("Dialog.Overlay");return v({props:{...e,ref:m(t),id:`headlessui-dialog-overlay-${p()}`,"aria-hidden":!0,onClick:(0,r.useCallback)((e=>{if(e.target===e.currentTarget){if(S(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),i()}}),[i])},slot:(0,r.useMemo)((()=>({open:0===n})),[n]),defaultTag:"div",name:"Dialog.Overlay"})}));var ve=Object.assign(me,{Overlay:ge,Title:function(e){let[{dialogState:t,setTitleId:n}]=fe("Dialog.Title"),i=`headlessui-dialog-title-${p()}`;(0,r.useEffect)((()=>(n(i),()=>n(null))),[i,n]);let o=(0,r.useMemo)((()=>({open:0===t})),[t]);return v({props:{...e,id:i},slot:o,defaultTag:"h2",name:"Dialog.Title"})},Description:le}),ye={0:e=>({...e,disclosureState:g(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},be=(0,r.createContext)(null);function we(e){let t=(0,r.useContext)(be);if(null===t){let t=new Error(`<${e} /> is missing a parent <${_e.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,we),t}return t}be.displayName="DisclosureContext";var xe=(0,r.createContext)(null);function Se(e){let t=(0,r.useContext)(xe);if(null===t){let t=new Error(`<${e} /> is missing a parent <${_e.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Se),t}return t}xe.displayName="DisclosureAPIContext";var ke=(0,r.createContext)(null);function Te(e,t){return g(t.type,ye,e,t)}ke.displayName="DisclosurePanelContext";var Ee=r.Fragment;function _e(e){let{defaultOpen:t=!1,...n}=e,i=`headlessui-disclosure-button-${p()}`,o=`headlessui-disclosure-panel-${p()}`,a=(0,r.useReducer)(Te,{disclosureState:t?0:1,linkedPanel:!1,buttonId:i,panelId:o}),[{disclosureState:s},l]=a;(0,r.useEffect)((()=>l({type:2,buttonId:i})),[i,l]),(0,r.useEffect)((()=>l({type:3,panelId:o})),[o,l]);let c=(0,r.useCallback)((e=>{l({type:1});let t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:document.getElementById(i):document.getElementById(i);null==t||t.focus()}),[l,i]),u=(0,r.useMemo)((()=>({close:c})),[c]),d=(0,r.useMemo)((()=>({open:0===s,close:c})),[s,c]);return r.createElement(be.Provider,{value:a},r.createElement(xe.Provider,{value:u},r.createElement(_,{value:g(s,{0:0,1:1})},v({props:n,slot:d,defaultTag:Ee,name:"Disclosure"}))))}var Ce=b((function(e,t){let[n,i]=we("Disclosure.Button"),o=(0,r.useRef)(null),a=m(o,t),s=(0,r.useContext)(ke),l=null!==s&&s===n.panelId,c=(0,r.useCallback)((e=>{var t;if(l){if(1===n.disclosureState)return;switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),i({type:0}),null==(t=document.getElementById(n.buttonId))||t.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),i({type:0})}}),[i,l,n.disclosureState,n.buttonId]),u=(0,r.useCallback)((e=>{if(" "===e.key)e.preventDefault()}),[]),d=(0,r.useCallback)((t=>{var r;S(t.currentTarget)||e.disabled||(l?(i({type:0}),null==(r=document.getElementById(n.buttonId))||r.focus()):i({type:0}))}),[i,e.disabled,n.buttonId,l]),p=(0,r.useMemo)((()=>({open:0===n.disclosureState})),[n]),f=O(e,o);return v({props:{...e,...l?{ref:a,type:f,onKeyDown:c,onClick:d}:{ref:a,id:n.buttonId,type:f,"aria-expanded":e.disabled?void 0:0===n.disclosureState,"aria-controls":n.linkedPanel?n.panelId:void 0,onKeyDown:c,onKeyUp:u,onClick:d}},slot:p,defaultTag:"button",name:"Disclosure.Button"})})),Oe=b((function(e,t){let[n,i]=we("Disclosure.Panel"),{close:o}=Se("Disclosure.Panel"),a=m(t,(()=>{n.linkedPanel||i({type:4})})),s=E(),l=null!==s?0===s:0===n.disclosureState;(0,r.useEffect)((()=>()=>i({type:5})),[i]),(0,r.useEffect)((()=>{var t;1===n.disclosureState&&(null==(t=e.unmount)||t)&&i({type:5})}),[n.disclosureState,e.unmount,i]);let c=(0,r.useMemo)((()=>({open:0===n.disclosureState,close:o})),[n,o]),u={ref:a,id:n.panelId},d=e;return r.createElement(ke.Provider,{value:n.panelId},v({props:{...d,...u},slot:c,defaultTag:"div",features:3,visible:l,name:"Disclosure.Panel"}))}));_e.Button=Ce,_e.Panel=Oe;var Pe={1:e=>e.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0:e=>e.disabled||0===e.listboxState?e:{...e,listboxState:0},2:(e,t)=>e.disabled===t.disabled?e:{...e,disabled:t.disabled},3:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},4(e,t){if(e.disabled||1===e.listboxState)return e;let n=x(t,{resolveItems:()=>e.options,resolveActiveIndex:()=>e.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return""===e.searchQuery&&e.activeOptionIndex===n?e:{...e,searchQuery:"",activeOptionIndex:n}},5:(e,t)=>{if(e.disabled||1===e.listboxState)return e;let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+n).concat(e.options.slice(0,e.activeOptionIndex+n)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))})),o=i?e.options.indexOf(i):-1;return-1===o||o===e.activeOptionIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeOptionIndex:o}},6:e=>e.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},7:(e,t)=>{var n;let r=Array.from(null==(n=e.optionsRef.current)?void 0:n.querySelectorAll('[id^="headlessui-listbox-option-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),i=[...e.options,{id:t.id,dataRef:t.dataRef}].sort(((e,t)=>r[e.id]-r[t.id]));return{...e,options:i}},8:(e,t)=>{let n=e.options.slice(),r=null!==e.activeOptionIndex?n[e.activeOptionIndex]:null,i=n.findIndex((e=>e.id===t.id));return-1!==i&&n.splice(i,1),{...e,options:n,activeOptionIndex:i===e.activeOptionIndex||null===r?null:n.indexOf(r)}}},Ae=(0,r.createContext)(null);function Ie(e){let t=(0,r.useContext)(Ae);if(null===t){let t=new Error(`<${e} /> is missing a parent <${Re.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ie),t}return t}function Me(e,t){return g(t.type,Pe,e,t)}Ae.displayName="ListboxContext";var Ne=r.Fragment;function Re(e){let{value:t,onChange:n,disabled:i=!1,horizontal:o=!1,...a}=e,l=o?"horizontal":"vertical",c=(0,r.useReducer)(Me,{listboxState:1,propsRef:{current:{value:t,onChange:n}},labelRef:(0,r.createRef)(),buttonRef:(0,r.createRef)(),optionsRef:(0,r.createRef)(),disabled:i,orientation:l,options:[],searchQuery:"",activeOptionIndex:null}),[{listboxState:u,propsRef:d,optionsRef:p,buttonRef:f},h]=c;s((()=>{d.current.value=t}),[t,d]),s((()=>{d.current.onChange=n}),[n,d]),s((()=>h({type:2,disabled:i})),[i]),s((()=>h({type:3,orientation:l})),[l]),k("mousedown",(e=>{var t,n,r;let i=e.target;0===u&&((null==(t=f.current)?void 0:t.contains(i))||(null==(n=p.current)?void 0:n.contains(i))||(h({type:1}),G(i,1)||(e.preventDefault(),null==(r=f.current)||r.focus())))}));let m=(0,r.useMemo)((()=>({open:0===u,disabled:i})),[u,i]);return r.createElement(Ae.Provider,{value:c},r.createElement(_,{value:g(u,{0:0,1:1})},v({props:a,slot:m,defaultTag:Ne,name:"Listbox"})))}var De=b((function(e,t){var n;let[i,o]=Ie("Listbox.Button"),s=m(i.buttonRef,t),l=`headlessui-listbox-button-${p()}`,c=a(),u=(0,r.useCallback)((e=>{switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),o({type:0}),c.nextFrame((()=>{i.propsRef.current.value||o({type:4,focus:0})}));break;case"ArrowUp":e.preventDefault(),o({type:0}),c.nextFrame((()=>{i.propsRef.current.value||o({type:4,focus:3})}))}}),[o,i,c]),d=(0,r.useCallback)((e=>{if(" "===e.key)e.preventDefault()}),[]),f=(0,r.useCallback)((e=>{if(S(e.currentTarget))return e.preventDefault();0===i.listboxState?(o({type:1}),c.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),o({type:0}))}),[o,c,i]),g=h((()=>{if(i.labelRef.current)return[i.labelRef.current.id,l].join(" ")}),[i.labelRef.current,l]),y=(0,r.useMemo)((()=>({open:0===i.listboxState,disabled:i.disabled})),[i]);return v({props:{...e,...{ref:s,id:l,type:O(e,i.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=i.optionsRef.current)?void 0:n.id,"aria-expanded":i.disabled?void 0:0===i.listboxState,"aria-labelledby":g,disabled:i.disabled,onKeyDown:u,onKeyUp:d,onClick:f}},slot:y,defaultTag:"button",name:"Listbox.Button"})}));var Le=b((function(e,t){var n;let[i,l]=Ie("Listbox.Options"),c=m(i.optionsRef,t),u=`headlessui-listbox-options-${p()}`,d=a(),f=a(),y=E(),b=null!==y?0===y:0===i.listboxState;s((()=>{let e=i.optionsRef.current;!e||0===i.listboxState&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[i.listboxState,i.optionsRef]);let w=(0,r.useCallback)((e=>{switch(f.dispose(),e.key){case" ":if(""!==i.searchQuery)return e.preventDefault(),e.stopPropagation(),l({type:5,value:e.key});case"Enter":if(e.preventDefault(),e.stopPropagation(),l({type:1}),null!==i.activeOptionIndex){let{dataRef:e}=i.options[i.activeOptionIndex];i.propsRef.current.onChange(e.current.value)}o().nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case g(i.orientation,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return e.preventDefault(),e.stopPropagation(),l({type:4,focus:2});case g(i.orientation,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return e.preventDefault(),e.stopPropagation(),l({type:4,focus:1});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),l({type:4,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),l({type:4,focus:3});case"Escape":return e.preventDefault(),e.stopPropagation(),l({type:1}),d.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case"Tab":e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l({type:5,value:e.key}),f.setTimeout((()=>l({type:6})),350))}}),[d,l,f,i]),x=h((()=>{var e,t,n;return null!=(n=null==(e=i.labelRef.current)?void 0:e.id)?n:null==(t=i.buttonRef.current)?void 0:t.id}),[i.labelRef.current,i.buttonRef.current]),S=(0,r.useMemo)((()=>({open:0===i.listboxState})),[i]);return v({props:{...e,...{"aria-activedescendant":null===i.activeOptionIndex||null==(n=i.options[i.activeOptionIndex])?void 0:n.id,"aria-labelledby":x,"aria-orientation":i.orientation,id:u,onKeyDown:w,role:"listbox",tabIndex:0,ref:c}},slot:S,defaultTag:"ul",features:3,visible:b,name:"Listbox.Options"})}));Re.Button=De,Re.Label=function(e){let[t]=Ie("Listbox.Label"),n=`headlessui-listbox-label-${p()}`,i=(0,r.useCallback)((()=>{var e;return null==(e=t.buttonRef.current)?void 0:e.focus({preventScroll:!0})}),[t.buttonRef]),o=(0,r.useMemo)((()=>({open:0===t.listboxState,disabled:t.disabled})),[t]);return v({props:{...e,...{ref:t.labelRef,id:n,onClick:i}},slot:o,defaultTag:"label",name:"Listbox.Label"})},Re.Options=Le,Re.Option=function(e){let{disabled:t=!1,value:n,...i}=e,[a,l]=Ie("Listbox.Option"),c=`headlessui-listbox-option-${p()}`,u=null!==a.activeOptionIndex&&a.options[a.activeOptionIndex].id===c,d=a.propsRef.current.value===n,f=(0,r.useRef)({disabled:t,value:n});s((()=>{f.current.disabled=t}),[f,t]),s((()=>{f.current.value=n}),[f,n]),s((()=>{var e,t;f.current.textValue=null==(t=null==(e=document.getElementById(c))?void 0:e.textContent)?void 0:t.toLowerCase()}),[f,c]);let h=(0,r.useCallback)((()=>a.propsRef.current.onChange(n)),[a.propsRef,n]);s((()=>(l({type:7,id:c,dataRef:f}),()=>l({type:8,id:c}))),[f,c]),s((()=>{var e,t;0===a.listboxState&&(!d||(l({type:4,focus:4,id:c}),null==(t=null==(e=document.getElementById(c))?void 0:e.focus)||t.call(e)))}),[a.listboxState]),s((()=>{if(0!==a.listboxState||!u)return;let e=o();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=document.getElementById(c))?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[c,u,a.listboxState,a.activeOptionIndex]);let m=(0,r.useCallback)((e=>{if(t)return e.preventDefault();h(),l({type:1}),o().nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))}),[l,a.buttonRef,t,h]),g=(0,r.useCallback)((()=>{if(t)return l({type:4,focus:5});l({type:4,focus:4,id:c})}),[t,c,l]),y=(0,r.useCallback)((()=>{t||u||l({type:4,focus:4,id:c})}),[t,u,c,l]),b=(0,r.useCallback)((()=>{t||!u||l({type:4,focus:5})}),[t,u,l]),w=(0,r.useMemo)((()=>({active:u,selected:d,disabled:t})),[u,d,t]);return v({props:{...i,id:c,role:"option",tabIndex:!0===t?void 0:-1,"aria-disabled":!0===t||void 0,"aria-selected":!0===d||void 0,disabled:void 0,onClick:m,onFocus:g,onPointerMove:y,onMouseMove:y,onPointerLeave:b,onMouseLeave:b},slot:w,defaultTag:"li",name:"Listbox.Option"})};var je={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,menuState:0},2:(e,t)=>{let n=x(t,{resolveItems:()=>e.items,resolveActiveIndex:()=>e.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return""===e.searchQuery&&e.activeItemIndex===n?e:{...e,searchQuery:"",activeItemIndex:n}},3:(e,t)=>{let n=""!==e.searchQuery?0:1,r=e.searchQuery+t.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+n).concat(e.items.slice(0,e.activeItemIndex+n)):e.items).find((e=>{var t;return(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(r))&&!e.dataRef.current.disabled})),o=i?e.items.indexOf(i):-1;return-1===o||o===e.activeItemIndex?{...e,searchQuery:r}:{...e,searchQuery:r,activeItemIndex:o}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,t)=>{var n;let r=Array.from(null==(n=e.itemsRef.current)?void 0:n.querySelectorAll('[id^="headlessui-menu-item-"]')).reduce(((e,t,n)=>Object.assign(e,{[t.id]:n})),{}),i=[...e.items,{id:t.id,dataRef:t.dataRef}].sort(((e,t)=>r[e.id]-r[t.id]));return{...e,items:i}},6:(e,t)=>{let n=e.items.slice(),r=null!==e.activeItemIndex?n[e.activeItemIndex]:null,i=n.findIndex((e=>e.id===t.id));return-1!==i&&n.splice(i,1),{...e,items:n,activeItemIndex:i===e.activeItemIndex||null===r?null:n.indexOf(r)}}},Be=(0,r.createContext)(null);function Fe(e){let t=(0,r.useContext)(Be);if(null===t){let t=new Error(`<${e} /> is missing a parent <${He.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Fe),t}return t}function Ue(e,t){return g(t.type,je,e,t)}Be.displayName="MenuContext";var $e=r.Fragment;function He(e){let t=(0,r.useReducer)(Ue,{menuState:1,buttonRef:(0,r.createRef)(),itemsRef:(0,r.createRef)(),items:[],searchQuery:"",activeItemIndex:null}),[{menuState:n,itemsRef:i,buttonRef:o},a]=t;k("mousedown",(e=>{var t,r,s;let l=e.target;0===n&&((null==(t=o.current)?void 0:t.contains(l))||(null==(r=i.current)?void 0:r.contains(l))||(a({type:1}),G(l,1)||(e.preventDefault(),null==(s=o.current)||s.focus())))}));let s=(0,r.useMemo)((()=>({open:0===n})),[n]);return r.createElement(Be.Provider,{value:t},r.createElement(_,{value:g(n,{0:0,1:1})},v({props:e,slot:s,defaultTag:$e,name:"Menu"})))}var Ge=b((function(e,t){var n;let[i,o]=Fe("Menu.Button"),s=m(i.buttonRef,t),l=`headlessui-menu-button-${p()}`,c=a(),u=(0,r.useCallback)((e=>{switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),e.stopPropagation(),o({type:0}),c.nextFrame((()=>o({type:2,focus:0})));break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),o({type:0}),c.nextFrame((()=>o({type:2,focus:3})))}}),[o,c]),d=(0,r.useCallback)((e=>{if(" "===e.key)e.preventDefault()}),[]),f=(0,r.useCallback)((t=>{if(S(t.currentTarget))return t.preventDefault();e.disabled||(0===i.menuState?(o({type:1}),c.nextFrame((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(t.preventDefault(),t.stopPropagation(),o({type:0})))}),[o,c,i,e.disabled]),h=(0,r.useMemo)((()=>({open:0===i.menuState})),[i]);return v({props:{...e,...{ref:s,id:l,type:O(e,i.buttonRef),"aria-haspopup":!0,"aria-controls":null==(n=i.itemsRef.current)?void 0:n.id,"aria-expanded":e.disabled?void 0:0===i.menuState,onKeyDown:u,onKeyUp:d,onClick:f}},slot:h,defaultTag:"button",name:"Menu.Button"})})),Ve=b((function(e,t){var n,i;let[s,l]=Fe("Menu.Items"),c=m(s.itemsRef,t),u=`headlessui-menu-items-${p()}`,d=a(),f=E(),h=null!==f?0===f:0===s.menuState;(0,r.useEffect)((()=>{let e=s.itemsRef.current;!e||0===s.menuState&&e!==document.activeElement&&e.focus({preventScroll:!0})}),[s.menuState,s.itemsRef]),P({container:s.itemsRef.current,enabled:0===s.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let g=(0,r.useCallback)((e=>{var t;switch(d.dispose(),e.key){case" ":if(""!==s.searchQuery)return e.preventDefault(),e.stopPropagation(),l({type:3,value:e.key});case"Enter":if(e.preventDefault(),e.stopPropagation(),l({type:1}),null!==s.activeItemIndex){let{id:e}=s.items[s.activeItemIndex];null==(t=document.getElementById(e))||t.click()}o().nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),l({type:2,focus:2});case"ArrowUp":return e.preventDefault(),e.stopPropagation(),l({type:2,focus:1});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),l({type:2,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),l({type:2,focus:3});case"Escape":e.preventDefault(),e.stopPropagation(),l({type:1}),o().nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case"Tab":e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(l({type:3,value:e.key}),d.setTimeout((()=>l({type:4})),350))}}),[l,d,s]),y=(0,r.useCallback)((e=>{if(" "===e.key)e.preventDefault()}),[]),b=(0,r.useMemo)((()=>({open:0===s.menuState})),[s]);return v({props:{...e,...{"aria-activedescendant":null===s.activeItemIndex||null==(n=s.items[s.activeItemIndex])?void 0:n.id,"aria-labelledby":null==(i=s.buttonRef.current)?void 0:i.id,id:u,onKeyDown:g,onKeyUp:y,role:"menu",tabIndex:0,ref:c}},slot:b,defaultTag:"div",features:3,visible:h,name:"Menu.Items"})})),ze=r.Fragment;He.Button=Ge,He.Items=Ve,He.Item=function(e){let{disabled:t=!1,onClick:n,...i}=e,[a,l]=Fe("Menu.Item"),c=`headlessui-menu-item-${p()}`,u=null!==a.activeItemIndex&&a.items[a.activeItemIndex].id===c;s((()=>{if(0!==a.menuState||!u)return;let e=o();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=document.getElementById(c))?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[c,u,a.menuState,a.activeItemIndex]);let d=(0,r.useRef)({disabled:t});s((()=>{d.current.disabled=t}),[d,t]),s((()=>{var e,t;d.current.textValue=null==(t=null==(e=document.getElementById(c))?void 0:e.textContent)?void 0:t.toLowerCase()}),[d,c]),s((()=>(l({type:5,id:c,dataRef:d}),()=>l({type:6,id:c}))),[d,c]);let f=(0,r.useCallback)((e=>t?e.preventDefault():(l({type:1}),o().nextFrame((()=>{var e;return null==(e=a.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),n?n(e):void 0)),[l,a.buttonRef,t,n]),h=(0,r.useCallback)((()=>{if(t)return l({type:2,focus:5});l({type:2,focus:4,id:c})}),[t,c,l]),m=(0,r.useCallback)((()=>{t||u||l({type:2,focus:4,id:c})}),[t,u,c,l]),g=(0,r.useCallback)((()=>{t||!u||l({type:2,focus:5})}),[t,u,l]),y=(0,r.useMemo)((()=>({active:u,disabled:t})),[u,t]);return v({props:{...i,id:c,role:"menuitem",tabIndex:!0===t?void 0:-1,"aria-disabled":!0===t||void 0,disabled:void 0,onClick:f,onFocus:h,onPointerMove:m,onMouseMove:m,onPointerLeave:g,onMouseLeave:g},slot:y,defaultTag:ze,name:"Menu.Item"})};var We={0:e=>({...e,popoverState:g(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,t)=>e.button===t.button?e:{...e,button:t.button},3:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},4:(e,t)=>e.panel===t.panel?e:{...e,panel:t.panel},5:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},Ke=(0,r.createContext)(null);function qe(e){let t=(0,r.useContext)(Ke);if(null===t){let t=new Error(`<${e} /> is missing a parent <${tt.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,qe),t}return t}Ke.displayName="PopoverContext";var Xe=(0,r.createContext)(null);function Ze(e){let t=(0,r.useContext)(Xe);if(null===t){let t=new Error(`<${e} /> is missing a parent <${tt.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,Ze),t}return t}Xe.displayName="PopoverAPIContext";var Ye=(0,r.createContext)(null);function Qe(){return(0,r.useContext)(Ye)}Ye.displayName="PopoverGroupContext";var Je=(0,r.createContext)(null);function et(e,t){return g(t.type,We,e,t)}Je.displayName="PopoverPanelContext";function tt(e){let t=`headlessui-popover-button-${p()}`,n=`headlessui-popover-panel-${p()}`,i=(0,r.useReducer)(et,{popoverState:1,button:null,buttonId:t,panel:null,panelId:n}),[{popoverState:o,button:a,panel:s},l]=i;(0,r.useEffect)((()=>l({type:3,buttonId:t})),[t,l]),(0,r.useEffect)((()=>l({type:5,panelId:n})),[n,l]);let c=(0,r.useMemo)((()=>({buttonId:t,panelId:n,close:()=>l({type:1})})),[t,n,l]),u=Qe(),d=null==u?void 0:u.registerPopover,f=(0,r.useCallback)((()=>{var e;return null!=(e=null==u?void 0:u.isFocusWithinPopoverGroup())?e:(null==a?void 0:a.contains(document.activeElement))||(null==s?void 0:s.contains(document.activeElement))}),[u,a,s]);(0,r.useEffect)((()=>null==d?void 0:d(c)),[d,c]),k("focus",(()=>{0===o&&(f()||!a||!s||l({type:1}))}),!0),k("mousedown",(e=>{let t=e.target;0===o&&((null==a?void 0:a.contains(t))||(null==s?void 0:s.contains(t))||(l({type:1}),G(t,1)||(e.preventDefault(),null==a||a.focus())))}));let h=(0,r.useCallback)((e=>{l({type:1});let t=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:a:a;null==t||t.focus()}),[l,a]),m=(0,r.useMemo)((()=>({close:h})),[h]),y=(0,r.useMemo)((()=>({open:0===o,close:h})),[o,h]);return r.createElement(Ke.Provider,{value:i},r.createElement(Xe.Provider,{value:m},r.createElement(_,{value:g(o,{0:0,1:1})},v({props:e,slot:y,defaultTag:"div",name:"Popover"}))))}var nt=b((function(e,t){let[n,i]=qe("Popover.Button"),o=(0,r.useRef)(null),a=Qe(),s=null==a?void 0:a.closeOthers,l=(0,r.useContext)(Je),c=null!==l&&l===n.panelId,u=m(o,t,c?null:e=>i({type:2,button:e})),d=m(o,t),p=(0,r.useRef)(null),f=(0,r.useRef)("undefined"==typeof window?null:document.activeElement);k("focus",(()=>{f.current=p.current,p.current=document.activeElement}),!0);let h=(0,r.useCallback)((e=>{var t,r;if(c){if(1===n.popoverState)return;switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),i({type:1}),null==(t=n.button)||t.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),1===n.popoverState&&(null==s||s(n.buttonId)),i({type:0});break;case"Escape":if(0!==n.popoverState)return null==s?void 0:s(n.buttonId);if(!o.current||!o.current.contains(document.activeElement))return;e.preventDefault(),e.stopPropagation(),i({type:1});break;case"Tab":if(0!==n.popoverState||!n.panel||!n.button)return;if(e.shiftKey){if(!f.current||(null==(r=n.button)?void 0:r.contains(f.current))||n.panel.contains(f.current))return;let t=H(),i=t.indexOf(f.current);if(t.indexOf(n.button)>i)return;e.preventDefault(),e.stopPropagation(),z(n.panel,8)}else e.preventDefault(),e.stopPropagation(),z(n.panel,1)}}),[i,n.popoverState,n.buttonId,n.button,n.panel,o,s,c]),g=(0,r.useCallback)((e=>{var t;if(!c&&(" "===e.key&&e.preventDefault(),0===n.popoverState&&n.panel&&n.button)&&"Tab"===e.key){if(!f.current||(null==(t=n.button)?void 0:t.contains(f.current))||n.panel.contains(f.current))return;let r=H(),i=r.indexOf(f.current);if(r.indexOf(n.button)>i)return;e.preventDefault(),e.stopPropagation(),z(n.panel,8)}}),[n.popoverState,n.panel,n.button,c]),y=(0,r.useCallback)((t=>{var r,o;S(t.currentTarget)||e.disabled||(c?(i({type:1}),null==(r=n.button)||r.focus()):(1===n.popoverState&&(null==s||s(n.buttonId)),null==(o=n.button)||o.focus(),i({type:0})))}),[i,n.button,n.popoverState,n.buttonId,e.disabled,s,c]),b=(0,r.useMemo)((()=>({open:0===n.popoverState})),[n]),w=O(e,o);return v({props:{...e,...c?{ref:d,type:w,onKeyDown:h,onClick:y}:{ref:u,id:n.buttonId,type:w,"aria-expanded":e.disabled?void 0:0===n.popoverState,"aria-controls":n.panel?n.panelId:void 0,onKeyDown:h,onKeyUp:g,onClick:y}},slot:b,defaultTag:"button",name:"Popover.Button"})})),rt=b((function(e,t){let[{popoverState:n},i]=qe("Popover.Overlay"),o=m(t),a=`headlessui-popover-overlay-${p()}`,s=E(),l=null!==s?0===s:0===n;return v({props:{...e,ref:o,id:a,"aria-hidden":!0,onClick:(0,r.useCallback)((e=>{if(S(e.currentTarget))return e.preventDefault();i({type:1})}),[i])},slot:(0,r.useMemo)((()=>({open:0===n})),[n]),defaultTag:"div",features:3,visible:l,name:"Popover.Overlay"})})),it=b((function(e,t){let{focus:n=!1,...i}=e,[o,a]=qe("Popover.Panel"),{close:s}=Ze("Popover.Panel"),l=(0,r.useRef)(null),c=m(l,t,(e=>{a({type:4,panel:e})})),u=E(),d=null!==u?0===u:0===o.popoverState,p=(0,r.useCallback)((e=>{var t;if("Escape"===e.key){if(0!==o.popoverState||!l.current||!l.current.contains(document.activeElement))return;e.preventDefault(),e.stopPropagation(),a({type:1}),null==(t=o.button)||t.focus()}}),[o,l,a]);(0,r.useEffect)((()=>()=>a({type:4,panel:null})),[a]),(0,r.useEffect)((()=>{var t;e.static||1===o.popoverState&&(null==(t=e.unmount)||t)&&a({type:4,panel:null})}),[o.popoverState,e.unmount,e.static,a]),(0,r.useEffect)((()=>{if(!n||0!==o.popoverState||!l.current)return;let e=document.activeElement;l.current.contains(e)||z(l.current,1)}),[n,l,o.popoverState]),k("keydown",(e=>{var t;if(0!==o.popoverState||!l.current||"Tab"!==e.key||!document.activeElement||!l.current||!l.current.contains(document.activeElement))return;e.preventDefault();let n=z(l.current,e.shiftKey?2:4);if(3===n)return null==(t=o.button)?void 0:t.focus();if(1===n){if(!o.button)return;let e=H(),t=e.indexOf(o.button);0===z(e.splice(t+1).filter((e=>{var t;return!(null==(t=l.current)?void 0:t.contains(e))})),1)&&z(document.body,1)}})),k("focus",(()=>{var e;!n||0===o.popoverState&&(!l.current||(null==(e=l.current)?void 0:e.contains(document.activeElement))||a({type:1}))}),!0);let f=(0,r.useMemo)((()=>({open:0===o.popoverState,close:s})),[o,s]),h={ref:c,id:o.panelId,onKeyDown:p};return r.createElement(Je.Provider,{value:o.panelId},v({props:{...i,...h},slot:f,defaultTag:"div",features:3,visible:d,name:"Popover.Panel"}))}));tt.Button=nt,tt.Overlay=rt,tt.Panel=it,tt.Group=function(e){let t=(0,r.useRef)(null),[n,i]=(0,r.useState)([]),o=(0,r.useCallback)((e=>{i((t=>{let n=t.indexOf(e);if(-1!==n){let e=t.slice();return e.splice(n,1),e}return t}))}),[i]),a=(0,r.useCallback)((e=>(i((t=>[...t,e])),()=>o(e))),[i,o]),s=(0,r.useCallback)((()=>{var e;let r=document.activeElement;return!!(null==(e=t.current)?void 0:e.contains(r))||n.some((e=>{var t,n;return(null==(t=document.getElementById(e.buttonId))?void 0:t.contains(r))||(null==(n=document.getElementById(e.panelId))?void 0:n.contains(r))}))}),[t,n]),l=(0,r.useCallback)((e=>{for(let t of n)t.buttonId!==e&&t.close()}),[n]),c=(0,r.useMemo)((()=>({registerPopover:a,unregisterPopover:o,isFocusWithinPopoverGroup:s,closeOthers:l})),[a,o,s,l]),u=(0,r.useMemo)((()=>({})),[]),d={ref:t},p=e;return r.createElement(Ye.Provider,{value:c},v({props:{...p,...d},slot:u,defaultTag:"div",name:"Popover.Group"}))};var ot=(0,r.createContext)(null);function at(){let e=(0,r.useContext)(ot);if(null===e){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,at),e}return e}function st(){let[e,t]=(0,r.useState)([]);return[e.length>0?e.join(" "):void 0,(0,r.useMemo)((()=>function(e){let n=(0,r.useCallback)((e=>(t((t=>[...t,e])),()=>t((t=>{let n=t.slice(),r=n.indexOf(e);return-1!==r&&n.splice(r,1),n})))),[]),i=(0,r.useMemo)((()=>({register:n,slot:e.slot,name:e.name,props:e.props})),[n,e.slot,e.name,e.props]);return r.createElement(ot.Provider,{value:i},e.children)}),[t])]}function lt(e){let{passive:t=!1,...n}=e,r=at(),i=`headlessui-label-${p()}`;s((()=>r.register(i)),[i,r.register]);let o={...n,...{...r.props,id:i}};return t&&delete o.onClick,v({props:o,slot:r.slot||{},defaultTag:"label",name:r.name||"Label"})}var ct={0:(e,t)=>({...e,options:[...e.options,{id:t.id,element:t.element,propsRef:t.propsRef}]}),1(e,t){let n=e.options.slice(),r=e.options.findIndex((e=>e.id===t.id));return-1===r?e:(n.splice(r,1),{...e,options:n})}},ut=(0,r.createContext)(null);function dt(e){let t=(0,r.useContext)(ut);if(null===t){let t=new Error(`<${e} /> is missing a parent <${ft.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,dt),t}return t}function pt(e,t){return g(t.type,ct,e,t)}ut.displayName="RadioGroupContext";function ft(e){let{value:t,onChange:n,disabled:i=!1,...o}=e,[{options:a},s]=(0,r.useReducer)(pt,{options:[]}),[l,c]=st(),[u,d]=se(),f=`headlessui-radiogroup-${p()}`,h=(0,r.useRef)(null),m=(0,r.useMemo)((()=>a.find((e=>!e.propsRef.current.disabled))),[a]),g=(0,r.useMemo)((()=>a.some((e=>e.propsRef.current.value===t))),[a,t]),y=(0,r.useCallback)((e=>{var r;if(i||e===t)return!1;let o=null==(r=a.find((t=>t.propsRef.current.value===e)))?void 0:r.propsRef.current;return!(null==o?void 0:o.disabled)&&(n(e),!0)}),[n,t,i,a]);P({container:h.current,accept:e=>"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let b=(0,r.useCallback)((e=>{if(!h.current)return;let t=a.filter((e=>!1===e.propsRef.current.disabled)).map((e=>e.element.current));switch(e.key){case"ArrowLeft":case"ArrowUp":if(e.preventDefault(),e.stopPropagation(),2===z(t,18)){let e=a.find((e=>e.element.current===document.activeElement));e&&y(e.propsRef.current.value)}break;case"ArrowRight":case"ArrowDown":if(e.preventDefault(),e.stopPropagation(),2===z(t,20)){let e=a.find((e=>e.element.current===document.activeElement));e&&y(e.propsRef.current.value)}break;case" ":{e.preventDefault(),e.stopPropagation();let t=a.find((e=>e.element.current===document.activeElement));t&&y(t.propsRef.current.value)}}}),[h,a,y]),w=(0,r.useCallback)((e=>(s({type:0,...e}),()=>s({type:1,id:e.id}))),[s]),x=(0,r.useMemo)((()=>({registerOption:w,firstOption:m,containsCheckedOption:g,change:y,disabled:i,value:t})),[w,m,g,y,i,t]),S={ref:h,id:f,role:"radiogroup","aria-labelledby":l,"aria-describedby":u,onKeyDown:b};return r.createElement(d,{name:"RadioGroup.Description"},r.createElement(c,{name:"RadioGroup.Label"},r.createElement(ut.Provider,{value:x},v({props:{...o,...S},defaultTag:"div",name:"RadioGroup"}))))}ft.Option=function(e){let t=(0,r.useRef)(null),n=`headlessui-radiogroup-option-${p()}`,[i,o]=st(),[a,l]=se(),{addFlag:c,removeFlag:u,hasFlag:d}=function(e=0){let[t,n]=(0,r.useState)(e);return{addFlag:(0,r.useCallback)((e=>n((t=>t|e))),[n]),hasFlag:(0,r.useCallback)((e=>Boolean(t&e)),[t]),removeFlag:(0,r.useCallback)((e=>n((t=>t&~e))),[n]),toggleFlag:(0,r.useCallback)((e=>n((t=>t^e))),[n])}}(1),{value:f,disabled:h=!1,...m}=e,g=(0,r.useRef)({value:f,disabled:h});s((()=>{g.current.value=f}),[f,g]),s((()=>{g.current.disabled=h}),[h,g]);let{registerOption:y,disabled:b,change:w,firstOption:x,containsCheckedOption:S,value:k}=dt("RadioGroup.Option");s((()=>y({id:n,element:t,propsRef:g})),[n,y,t,e]);let T=(0,r.useCallback)((()=>{var e;!w(f)||(c(2),null==(e=t.current)||e.focus())}),[c,w,f]),E=(0,r.useCallback)((()=>c(2)),[c]),_=(0,r.useCallback)((()=>u(2)),[u]),C=(null==x?void 0:x.id)===n,O=b||h,P=k===f,A={ref:t,id:n,role:"radio","aria-checked":P?"true":"false","aria-labelledby":i,"aria-describedby":a,"aria-disabled":!!O||void 0,tabIndex:O?-1:P||!S&&C?0:-1,onClick:O?void 0:T,onFocus:O?void 0:E,onBlur:O?void 0:_},I=(0,r.useMemo)((()=>({checked:P,disabled:O,active:d(2)})),[P,O,d]);return r.createElement(l,{name:"RadioGroup.Description"},r.createElement(o,{name:"RadioGroup.Label"},v({props:{...m,...A},slot:I,defaultTag:"div",name:"RadioGroup.Option"})))},ft.Label=lt,ft.Description=le;var ht=(0,r.createContext)(null);ht.displayName="GroupContext";var mt=r.Fragment;function gt(e){let{checked:t,onChange:n,...i}=e,o=`headlessui-switch-${p()}`,a=(0,r.useContext)(ht),s=(0,r.useRef)(null),l=m(s,null===a?null:a.setSwitch),c=(0,r.useCallback)((()=>n(!t)),[n,t]),u=(0,r.useCallback)((e=>{if(S(e.currentTarget))return e.preventDefault();e.preventDefault(),c()}),[c]),d=(0,r.useCallback)((e=>{"Tab"!==e.key&&e.preventDefault()," "===e.key&&c()}),[c]),f=(0,r.useCallback)((e=>e.preventDefault()),[]),h=(0,r.useMemo)((()=>({checked:t})),[t]);return v({props:{...i,...{id:o,ref:l,role:"switch",type:O(e,s),tabIndex:0,"aria-checked":t,"aria-labelledby":null==a?void 0:a.labelledby,"aria-describedby":null==a?void 0:a.describedby,onClick:u,onKeyUp:d,onKeyPress:f}},slot:h,defaultTag:"button",name:"Switch"})}gt.Group=function(e){let[t,n]=(0,r.useState)(null),[i,o]=st(),[a,s]=se(),l=(0,r.useMemo)((()=>({switch:t,setSwitch:n,labelledby:i,describedby:a})),[t,n,i,a]);return r.createElement(s,{name:"Switch.Description"},r.createElement(o,{name:"Switch.Label",props:{onClick(){!t||(t.click(),t.focus({preventScroll:!0}))}}},r.createElement(ht.Provider,{value:l},v({props:e,defaultTag:mt,name:"Switch.Group"}))))},gt.Label=lt,gt.Description=le;var vt={0:(e,t)=>e.selectedIndex===t.index?e:{...e,selectedIndex:t.index},1:(e,t)=>e.orientation===t.orientation?e:{...e,orientation:t.orientation},2:(e,t)=>e.activation===t.activation?e:{...e,activation:t.activation},3:(e,t)=>e.tabs.includes(t.tab)?e:{...e,tabs:[...e.tabs,t.tab]},4:(e,t)=>({...e,tabs:e.tabs.filter((e=>e!==t.tab))}),5:(e,t)=>e.panels.includes(t.panel)?e:{...e,panels:[...e.panels,t.panel]},6:(e,t)=>({...e,panels:e.panels.filter((e=>e!==t.panel))}),7:e=>({...e})},yt=(0,r.createContext)(null);function bt(e){let t=(0,r.useContext)(yt);if(null===t){let t=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,bt),t}return t}function wt(e,t){return g(t.type,vt,e,t)}yt.displayName="TabsContext";var xt=r.Fragment;function St(e){var t,n;let i=`headlessui-tabs-tab-${p()}`,[{selectedIndex:o,tabs:a,panels:l,orientation:c,activation:u},{dispatch:d,change:f}]=bt(St.name),h=(0,r.useRef)(null),y=m(h,(e=>{!e||d({type:7})}));s((()=>(d({type:3,tab:h}),()=>d({type:4,tab:h}))),[d,h]);let b=a.indexOf(h),w=b===o,x=(0,r.useCallback)((e=>{let t=a.map((e=>e.current)).filter(Boolean);if(" "===e.key||"Enter"===e.key)return e.preventDefault(),e.stopPropagation(),void f(b);switch(e.key){case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),z(t,1);case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),z(t,8)}return g(c,{vertical:()=>"ArrowUp"===e.key?z(t,18):"ArrowDown"===e.key?z(t,20):void 0,horizontal:()=>"ArrowLeft"===e.key?z(t,18):"ArrowRight"===e.key?z(t,20):void 0})}),[a,c,b,f]),S=(0,r.useCallback)((()=>{var e;null==(e=h.current)||e.focus()}),[h]),k=(0,r.useCallback)((()=>{var e;null==(e=h.current)||e.focus(),f(b)}),[f,b,h]),T=(0,r.useMemo)((()=>({selected:w})),[w]),E={ref:y,onKeyDown:x,onFocus:"manual"===u?S:k,onClick:k,id:i,role:"tab",type:O(e,h),"aria-controls":null==(n=null==(t=l[b])?void 0:t.current)?void 0:n.id,"aria-selected":w,tabIndex:w?0:-1};return v({props:{...e,...E},slot:T,defaultTag:"button",name:"Tabs.Tab"})}function kt(e,...t){e&&t.length>0&&e.classList.add(...t)}function Tt(e,...t){e&&t.length>0&&e.classList.remove(...t)}function Et(e,t,n,r,i,a){let s=o(),l=void 0!==a?function(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}(a):()=>{};return Tt(e,...i),kt(e,...t,...n),s.nextFrame((()=>{Tt(e,...n),kt(e,...r),s.add(function(e,t){let n=o();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[a,s]=[r,i].map((e=>{let[t=0]=e.split(",").filter(Boolean).map((e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e))).sort(((e,t)=>t-e));return t}));return 0!==a?n.setTimeout((()=>{t("finished")}),a+s):t("finished"),n.add((()=>t("cancelled"))),n.dispose}(e,(n=>(Tt(e,...r,...t),kt(e,...i),l(n)))))})),s.add((()=>Tt(e,...t,...n,...r,...i))),s.add((()=>l("cancelled"))),s.dispose}function _t(e=""){return(0,r.useMemo)((()=>e.split(" ").filter((e=>e.trim().length>1))),[e])}St.Group=function(e){let{defaultIndex:t=0,vertical:n=!1,manual:i=!1,onChange:o,selectedIndex:a=null,...s}=e,l=n?"vertical":"horizontal",c=i?"manual":"auto",[u,d]=(0,r.useReducer)(wt,{selectedIndex:null,tabs:[],panels:[],orientation:l,activation:c}),p=(0,r.useMemo)((()=>({selectedIndex:u.selectedIndex})),[u.selectedIndex]),f=(0,r.useRef)((()=>{}));(0,r.useEffect)((()=>{d({type:1,orientation:l})}),[l]),(0,r.useEffect)((()=>{d({type:2,activation:c})}),[c]),(0,r.useEffect)((()=>{"function"==typeof o&&(f.current=o)}),[o]),(0,r.useEffect)((()=>{if(u.tabs.length<=0||null===a&&null!==u.selectedIndex)return;let e=u.tabs.map((e=>e.current)).filter(Boolean),n=e.filter((e=>!e.hasAttribute("disabled"))),r=null!=a?a:t;if(r<0)d({type:0,index:e.indexOf(n[0])});else if(r>u.tabs.length)d({type:0,index:e.indexOf(n[n.length-1])});else{let t=e.slice(0,r),i=[...e.slice(r),...t].find((e=>n.includes(e)));if(!i)return;d({type:0,index:e.indexOf(i)})}}),[t,a,u.tabs,u.selectedIndex]);let h=(0,r.useRef)(u.selectedIndex);(0,r.useEffect)((()=>{h.current=u.selectedIndex}),[u.selectedIndex]);let m=(0,r.useMemo)((()=>[u,{dispatch:d,change(e){h.current!==e&&f.current(e),h.current=e,d({type:0,index:e})}}]),[u,d]);return r.createElement(yt.Provider,{value:m},v({props:{...s},slot:p,defaultTag:xt,name:"Tabs"}))},St.List=function(e){let[{selectedIndex:t,orientation:n}]=bt("Tab.List");return v({props:{...e,role:"tablist","aria-orientation":n},slot:{selectedIndex:t},defaultTag:"div",name:"Tabs.List"})},St.Panels=function(e){let[{selectedIndex:t}]=bt("Tab.Panels");return v({props:e,slot:(0,r.useMemo)((()=>({selectedIndex:t})),[t]),defaultTag:"div",name:"Tabs.Panels"})},St.Panel=function(e){var t,n;let[{selectedIndex:i,tabs:o,panels:a},{dispatch:l}]=bt("Tab.Panel"),c=`headlessui-tabs-panel-${p()}`,u=(0,r.useRef)(null),d=m(u,(e=>{!e||l({type:7})}));s((()=>(l({type:5,panel:u}),()=>l({type:6,panel:u}))),[l,u]);let f=a.indexOf(u),h=f===i,g=(0,r.useMemo)((()=>({selected:h})),[h]);return v({props:{...e,...{ref:d,id:c,role:"tabpanel","aria-labelledby":null==(n=null==(t=o[f])?void 0:t.current)?void 0:n.id,tabIndex:h?0:-1}},slot:g,defaultTag:"div",features:3,visible:h,name:"Tabs.Panel"})};var Ct=(0,r.createContext)(null);Ct.displayName="TransitionContext";var Ot=(0,r.createContext)(null);function Pt(e){return"children"in e?Pt(e.children):e.current.filter((({state:e})=>"visible"===e)).length>0}function At(e){let t=(0,r.useRef)(e),n=(0,r.useRef)([]),i=W();(0,r.useEffect)((()=>{t.current=e}),[e]);let o=(0,r.useCallback)(((e,r=1)=>{var o;let a=n.current.findIndex((({id:t})=>t===e));-1!==a&&(g(r,{0(){n.current.splice(a,1)},1(){n.current[a].state="hidden"}}),!Pt(n)&&i.current&&(null==(o=t.current)||o.call(t)))}),[t,i,n]),a=(0,r.useCallback)((e=>{let t=n.current.find((({id:t})=>t===e));return t?"visible"!==t.state&&(t.state="visible"):n.current.push({id:e,state:"visible"}),()=>o(e,0)}),[n,o]);return(0,r.useMemo)((()=>({children:n,register:a,unregister:o})),[a,o,n])}function It(){}Ot.displayName="NestingContext";var Mt=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function Nt(e){var t;let n={};for(let r of Mt)n[r]=null!=(t=e[r])?t:It;return n}function Rt(e){let{beforeEnter:t,afterEnter:n,beforeLeave:i,afterLeave:o,enter:a,enterFrom:l,enterTo:u,entered:d,leave:f,leaveFrom:h,leaveTo:m,...y}=e,b=(0,r.useRef)(null),[w,x]=(0,r.useState)("visible"),S=y.unmount?0:1,{show:k,appear:T,initial:E}=function(){let e=(0,r.useContext)(Ct);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:C,unregister:O}=function(){let e=(0,r.useContext)(Ot);if(null===e)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),P=p(),A=(0,r.useRef)(!1),I=At((()=>{A.current||(x("hidden"),O(P),F.current.afterLeave())}));s((()=>{if(P)return C(P)}),[C,P]),s((()=>{if(1===S&&P){if(k&&"visible"!==w)return void x("visible");g(w,{hidden:()=>O(P),visible:()=>C(P)})}}),[w,P,C,O,k,S]);let M=_t(a),N=_t(l),R=_t(u),D=_t(d),L=_t(f),j=_t(h),B=_t(m),F=function(e){let t=(0,r.useRef)(Nt(e));return(0,r.useEffect)((()=>{t.current=Nt(e)}),[e]),t}({beforeEnter:t,afterEnter:n,beforeLeave:i,afterLeave:o}),U=c();(0,r.useEffect)((()=>{if(U&&"visible"===w&&null===b.current)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}),[b,w,U]);let $=E&&!T;s((()=>{let e=b.current;if(e&&!$)return A.current=!0,k&&F.current.beforeEnter(),k||F.current.beforeLeave(),k?Et(e,M,N,R,D,(e=>{A.current=!1,"finished"===e&&F.current.afterEnter()})):Et(e,L,j,B,D,(e=>{A.current=!1,"finished"===e&&(Pt(I)||(x("hidden"),O(P),F.current.afterLeave()))}))}),[F,P,A,O,I,b,$,k,M,N,R,L,j,B]);let H={ref:b},G=y;return r.createElement(Ot.Provider,{value:I},r.createElement(_,{value:g(w,{visible:0,hidden:1})},v({props:{...G,...H},defaultTag:"div",features:1,visible:"visible"===w,name:"Transition.Child"})))}function Dt(e){let{show:t,appear:n=!1,unmount:i,...o}=e,a=E();if(void 0===t&&null!==a&&(t=g(a,{0:!0,1:!1})),![!0,!1].includes(t))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[s,l]=(0,r.useState)(t?"visible":"hidden"),c=At((()=>{l("hidden")})),u=function(){let e=(0,r.useRef)(!0);return(0,r.useEffect)((()=>{e.current=!1}),[]),e.current}(),d=(0,r.useMemo)((()=>({show:t,appear:n||!u,initial:u})),[t,n,u]);(0,r.useEffect)((()=>{t?l("visible"):Pt(c)||l("hidden")}),[t,c]);let p={unmount:i};return r.createElement(Ot.Provider,{value:c},r.createElement(Ct.Provider,{value:d},v({props:{...p,as:r.Fragment,children:r.createElement(Rt,{...p,...o})},defaultTag:r.Fragment,features:1,visible:"visible"===s,name:"Transition"})))}Dt.Child=function(e){let t=null!==(0,r.useContext)(Ct),n=null!==E();return!t&&n?r.createElement(Dt,{...e}):r.createElement(Rt,{...e})},Dt.Root=Dt},65538:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:()=>x});var i=[],o=i.forEach,a=i.slice;function s(e){return o.call(a.call(arguments,1),(function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])})),e}function l(){return"function"===typeof XMLHttpRequest||"object"===("undefined"===typeof XMLHttpRequest?"undefined":r(XMLHttpRequest))}var c,u,d,p=n(83154),f=n.t(p,2);function h(e){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}"function"===typeof fetch&&("undefined"!==typeof global&&global.fetch?c=global.fetch:"undefined"!==typeof window&&window.fetch&&(c=window.fetch)),l&&("undefined"!==typeof global&&global.XMLHttpRequest?u=global.XMLHttpRequest:"undefined"!==typeof window&&window.XMLHttpRequest&&(u=window.XMLHttpRequest)),"function"===typeof ActiveXObject&&("undefined"!==typeof global&&global.ActiveXObject?d=global.ActiveXObject:"undefined"!==typeof window&&window.ActiveXObject&&(d=window.ActiveXObject)),c||!f||u||d||(c=p||f),"function"!==typeof c&&(c=void 0);var m=function(e,t){if(t&&"object"===h(t)){var n="";for(var r in t)n+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);if(!n)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+n.slice(1)}return e};const g=function(e,t,n,r){return"function"===typeof n&&(r=n,n=void 0),r=r||function(){},c?function(e,t,n,r){e.queryStringParams&&(t=m(t,e.queryStringParams));var i=s({},"function"===typeof e.customHeaders?e.customHeaders():e.customHeaders);n&&(i["Content-Type"]="application/json"),c(t,s({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:i},"function"===typeof e.requestOptions?e.requestOptions(n):e.requestOptions)).then((function(e){if(!e.ok)return r(e.statusText||"Error",{status:e.status});e.text().then((function(t){r(null,{status:e.status,data:t})})).catch(r)})).catch(r)}(e,t,n,r):l||"function"===typeof ActiveXObject?function(e,t,n,r){n&&"object"===h(n)&&(n=m("",n).slice(1)),e.queryStringParams&&(t=m(t,e.queryStringParams));try{var i;(i=u?new u:new d("MSXML2.XMLHTTP.3.0")).open(n?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,n&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var o=e.customHeaders;if(o="function"===typeof o?o():o)for(var a in o)i.setRequestHeader(a,o[a]);i.onreadystatechange=function(){i.readyState>3&&r(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(n)}catch(s){console&&console.log(s)}}(e,t,n,r):void 0};function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var b=function(){return{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",allowMultiLoading:!1,parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,n){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,n||"")},request:g,reloadInterval:"undefined"===typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}},w=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};v(this,e),this.services=t,this.options=n,this.allOptions=r,this.type="backend",this.init(t,n,r)}var t,n,r;return t=e,n=[{key:"init",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=s(n,this.options||{},b()),this.allOptions=r,this.services&&this.options.reloadInterval&&setInterval((function(){return t.reload()}),this.options.reloadInterval)}},{key:"readMulti",value:function(e,t,n){this._readAny(e,e,t,t,n)}},{key:"read",value:function(e,t,n){this._readAny([e],e,[t],t,n)}},{key:"_readAny",value:function(e,t,n,r,i){var o,a=this,s=this.options.loadPath;"function"===typeof this.options.loadPath&&(s=this.options.loadPath(e,n)),(s=function(e){return!!e&&"function"===typeof e.then}(o=s)?o:Promise.resolve(o)).then((function(o){if(!o)return i(null,{});var s=a.services.interpolator.interpolate(o,{lng:e.join("+"),ns:n.join("+")});a.loadUrl(s,i,t,r)}))}},{key:"loadUrl",value:function(e,t,n,r){var i=this;this.options.request(this.options,e,void 0,(function(o,a){if(a&&(a.status>=500&&a.status<600||!a.status))return t("failed loading "+e+"; status code: "+a.status,!0);if(a&&a.status>=400&&a.status<500)return t("failed loading "+e+"; status code: "+a.status,!1);if(!a&&o&&o.message&&o.message.indexOf("Failed to fetch")>-1)return t("failed loading "+e+": "+o.message,!0);if(o)return t(o,!1);var s,l;try{s="string"===typeof a.data?i.options.parse(a.data,n,r):a.data}catch(c){l="failed parsing "+e+" to json"}if(l)return t(l,!1);t(null,s)}))}},{key:"create",value:function(e,t,n,r,i){var o=this;if(this.options.addPath){"string"===typeof e&&(e=[e]);var a=this.options.parsePayload(t,n,r),s=0,l=[],c=[];e.forEach((function(n){var r=o.options.addPath;"function"===typeof o.options.addPath&&(r=o.options.addPath(n,t));var u=o.services.interpolator.interpolate(r,{lng:n,ns:t});o.options.request(o.options,u,a,(function(t,n){s+=1,l.push(t),c.push(n),s===e.length&&i&&i(l,c)}))}))}}},{key:"reload",value:function(){var e=this,t=this.services,n=t.backendConnector,r=t.languageUtils,i=t.logger,o=n.language;if(!o||"cimode"!==o.toLowerCase()){var a=[],s=function(e){r.toResolveHierarchy(e).forEach((function(e){a.indexOf(e)<0&&a.push(e)}))};s(o),this.allOptions.preload&&this.allOptions.preload.forEach((function(e){return s(e)})),a.forEach((function(t){e.allOptions.ns.forEach((function(e){n.read(t,e,"read",null,null,(function(r,o){r&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),r),!r&&o&&i.log("loaded namespace ".concat(e," for language ").concat(t),o),n.loaded("".concat(t,"|").concat(e),r,o)}))}))}))}}}],n&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();w.type="backend";const x=w},41796:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{ZP:()=>ye});var i=n(15671),o=n(43144);function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}function c(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return a(e)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var d=n(4942),p=n(83878);var f=n(88192),h=n(25267);function m(e){return(0,p.Z)(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,f.Z)(e)||(0,h.Z)()}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},b=new(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,e),this.init(t,n)}return(0,o.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||y,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,n,r){return r&&!this.debug?null:("string"===typeof e[0]&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,v(v({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}}]),e}()),w=function(){function e(){(0,i.Z)(this,e),this.observers={}}return(0,o.Z)(e,[{key:"on",value:function(e,t){var n=this;return e.split(" ").forEach((function(e){n.observers[e]=n.observers[e]||[],n.observers[e].push(t)})),this}},{key:"off",value:function(e,t){this.observers[e]&&(t?this.observers[e]=this.observers[e].filter((function(e){return e!==t})):delete this.observers[e])}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){var i=[].concat(this.observers[e]);i.forEach((function(e){e.apply(void 0,n)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(t){t.apply(t,[e].concat(n))}))}}}]),e}();function x(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return n.resolve=e,n.reject=t,n}function S(e){return null==e?"":""+e}function k(e,t,n){e.forEach((function(e){t[e]&&(n[e]=t[e])}))}function T(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||"string"===typeof e}for(var o="string"!==typeof t?[].concat(t):t.split(".");o.length>1;){if(i())return{};var a=r(o.shift());!e[a]&&n&&(e[a]=new n),e=Object.prototype.hasOwnProperty.call(e,a)?e[a]:{}}return i()?{}:{obj:e,k:r(o.shift())}}function E(e,t,n){var r=T(e,t,Object);r.obj[r.k]=n}function _(e,t){var n=T(e,t),r=n.obj,i=n.k;if(r)return r[i]}function C(e,t,n){var r=_(e,n);return void 0!==r?r:_(t,n)}function O(e,t,n){for(var r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?"string"===typeof e[r]||e[r]instanceof String||"string"===typeof t[r]||t[r]instanceof String?n&&(e[r]=t[r]):O(e[r],t[r],n):e[r]=t[r]);return e}function P(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function I(e){return"string"===typeof e?e.replace(/[&<>"'\/]/g,(function(e){return A[e]})):e}var M="undefined"!==typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,N=[" ",",","?","!",";"];function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function j(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var r=t.split(n),i=e,o=0;o<r.length;++o){if(!i)return;if("string"===typeof i[r[o]]&&o+1<r.length)return;if(void 0===i[r[o]]){for(var a=2,s=r.slice(o,o+a).join(n),l=i[s];void 0===l&&r.length>o+a;)a++,l=i[s=r.slice(o,o+a).join(n)];if(void 0===l)return;if(t.endsWith(s)){if("string"===typeof l)return l;if(s&&"string"===typeof l[s])return l[s]}var c=r.slice(o+a).join(n);return c?j(l,c,n):void 0}i=i[r[o]]}return i}}var B=function(e){l(n,e);var t=L(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return(0,i.Z)(this,n),r=t.call(this),M&&w.call(a(r)),r.data=e||{},r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return(0,o.Z)(n,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure,a=[e,t];n&&"string"!==typeof n&&(a=a.concat(n)),n&&"string"===typeof n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."));var s=_(this.data,a);return s||!o||"string"!==typeof n?s:j(this.data&&this.data[e]&&this.data[e][t],n,i)}},{key:"addResource",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},o=this.options.keySeparator;void 0===o&&(o=".");var a=[e,t];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(r=t,t=(a=e.split("."))[1]),this.addNamespaces(t),E(this.data,a,r),i.silent||this.emit("added",e,t,n,r)}},{key:"addResources",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var i in n)"string"!==typeof n[i]&&"[object Array]"!==Object.prototype.toString.apply(n[i])||this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}},{key:"addResourceBundle",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},a=[e,t];e.indexOf(".")>-1&&(r=n,n=t,t=(a=e.split("."))[1]),this.addNamespaces(t);var s=_(this.data,a)||{};r?O(s,n,i):s=D(D({},s),n),E(this.data,a,s),o.silent||this.emit("added",e,t,n)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?D(D({},{}),this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"hasLanguageSomeTranslations",value:function(e){var t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((function(e){return t[e]&&Object.keys(t[e]).length>0}))}},{key:"toJSON",value:function(){return this.data}}]),n}(w),F={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,n,r,i){var o=this;return e.forEach((function(e){o.processors[e]&&(t=o.processors[e].process(t,n,r,i))})),t}};function U(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}var G={},V=function(e){l(n,e);var t=H(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.Z)(this,n),r=t.call(this),M&&w.call(a(r)),k(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,a(r)),r.options=o,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=b.create("translator"),r}return(0,o.Z)(n,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;var n=this.resolve(e,t);return n&&void 0!==n.res}},{key:"extractFromKey",value:function(e,t){var n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");var r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,i=t.ns||this.options.defaultNS||[],o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!function(e,t,n){t=t||"",n=n||"";var r=N.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(0===r.length)return!0;var i=new RegExp("(".concat(r.map((function(e){return"?"===e?"\\?":e})).join("|"),")")),o=!i.test(e);if(!o){var a=e.indexOf(n);a>0&&!i.test(e.substring(0,a))&&(o=!0)}return o}(e,n,r);if(o&&!a){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:i};var l=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(l[0])>-1)&&(i=l.shift()),e=l.join(r)}return"string"===typeof i&&(i=[i]),{key:e,namespaces:i}}},{key:"translate",value:function(e,t,i){var o=this;if("object"!==r(t)&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);var a=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,s=this.extractFromKey(e[e.length-1],t),l=s.key,c=s.namespaces,u=c[c.length-1],d=t.lng||this.language,p=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&"cimode"===d.toLowerCase()){if(p){var f=t.nsSeparator||this.options.nsSeparator;return u+f+l}return l}var h=this.resolve(e,t),m=h&&h.res,g=h&&h.usedKey||l,v=h&&h.exactUsedKey||l,y=Object.prototype.toString.apply(m),b=["[object Number]","[object Function]","[object RegExp]"],w=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject,S="string"!==typeof m&&"boolean"!==typeof m&&"number"!==typeof m;if(x&&m&&S&&b.indexOf(y)<0&&("string"!==typeof w||"[object Array]"!==y)){if(!t.returnObjects&&!this.options.returnObjects)return this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,m,$($({},t),{},{ns:c})):"key '".concat(l," (").concat(this.language,")' returned an object instead of string.");if(a){var k="[object Array]"===y,T=k?[]:{},E=k?v:g;for(var _ in m)if(Object.prototype.hasOwnProperty.call(m,_)){var C="".concat(E).concat(a).concat(_);T[_]=this.translate(C,$($({},t),{joinArrays:!1,ns:c})),T[_]===C&&(T[_]=m[_])}m=T}}else if(x&&"string"===typeof w&&"[object Array]"===y)(m=m.join(w))&&(m=this.extendTranslation(m,e,t,i));else{var O=!1,P=!1,A=void 0!==t.count&&"string"!==typeof t.count,I=n.hasDefaultValue(t),M=A?this.pluralResolver.getSuffix(d,t.count,t):"",N=t["defaultValue".concat(M)]||t.defaultValue;!this.isValidLookup(m)&&I&&(O=!0,m=N),this.isValidLookup(m)||(P=!0,m=l);var R=t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,D=R&&P?void 0:m,L=I&&N!==m&&this.options.updateMissing;if(P||O||L){if(this.logger.log(L?"updateKey":"missingKey",d,u,l,L?N:m),a){var j=this.resolve(l,$($({},t),{},{keySeparator:!1}));j&&j.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var B=[],F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&F&&F[0])for(var U=0;U<F.length;U++)B.push(F[U]);else"all"===this.options.saveMissingTo?B=this.languageUtils.toResolveHierarchy(t.lng||this.language):B.push(t.lng||this.language);var H=function(e,n,r){var i=I&&r!==m?r:D;o.options.missingKeyHandler?o.options.missingKeyHandler(e,u,n,i,L,t):o.backendConnector&&o.backendConnector.saveMissing&&o.backendConnector.saveMissing(e,u,n,i,L,t),o.emit("missingKey",e,u,n,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?B.forEach((function(e){o.pluralResolver.getSuffixes(e,t).forEach((function(n){H([e],l+n,t["defaultValue".concat(n)]||N)}))})):H(B,l,N))}m=this.extendTranslation(m,e,t,h,i),P&&m===l&&this.options.appendNamespaceToMissingKey&&(m="".concat(u,":").concat(l)),(P||O)&&this.options.parseMissingKeyHandler&&(m="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(l,O?m:void 0):this.options.parseMissingKeyHandler(m))}return m}},{key:"extendTranslation",value:function(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,n,r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init($($({},n),{interpolation:$($({},this.options.interpolation),n.interpolation)}));var a,s="string"===typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);if(s){var l=e.match(this.interpolator.nestingRegexp);a=l&&l.length}var c=n.replace&&"string"!==typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(c=$($({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,n.lng||this.language,n),s){var u=e.match(this.interpolator.nestingRegexp);a<(u&&u.length)&&(n.nest=!1)}!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return i&&i[0]===r[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(r[0]," in key: ").concat(t[0])),null):o.translate.apply(o,r.concat([t]))}),n)),n.interpolation&&this.interpolator.reset()}var d=n.postProcess||this.options.postProcess,p="string"===typeof d?[d]:d;return void 0!==e&&null!==e&&p&&p.length&&!1!==n.applyPostProcessor&&(e=F.handle(p,e,t,this.options&&this.options.postProcessPassResolved?$({i18nResolved:r},n):n,this)),e}},{key:"resolve",value:function(e){var t,n,r,i,o,a=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"===typeof e&&(e=[e]),e.forEach((function(e){if(!a.isValidLookup(t)){var l=a.extractFromKey(e,s),c=l.key;n=c;var u=l.namespaces;a.options.fallbackNS&&(u=u.concat(a.options.fallbackNS));var d=void 0!==s.count&&"string"!==typeof s.count,p=d&&!s.ordinal&&0===s.count&&a.pluralResolver.shouldUseIntlApi(),f=void 0!==s.context&&("string"===typeof s.context||"number"===typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:a.languageUtils.toResolveHierarchy(s.lng||a.language,s.fallbackLng);u.forEach((function(e){a.isValidLookup(t)||(o=e,!G["".concat(h[0],"-").concat(e)]&&a.utils&&a.utils.hasLoadedNamespace&&!a.utils.hasLoadedNamespace(o)&&(G["".concat(h[0],"-").concat(e)]=!0,a.logger.warn('key "'.concat(n,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((function(n){if(!a.isValidLookup(t)){i=n;var o,l=[c];if(a.i18nFormat&&a.i18nFormat.addLookupKeys)a.i18nFormat.addLookupKeys(l,c,n,e,s);else{var u;d&&(u=a.pluralResolver.getSuffix(n,s.count,s));var h="_zero";if(d&&(l.push(c+u),p&&l.push(c+h)),f){var m="".concat(c).concat(a.options.contextSeparator).concat(s.context);l.push(m),d&&(l.push(m+u),p&&l.push(m+h))}}for(;o=l.pop();)a.isValidLookup(t)||(r=o,t=a.getResource(n,e,o,s))}})))}))}})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}},{key:"isValidLookup",value:function(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}}],[{key:"hasDefaultValue",value:function(e){var t="defaultValue";for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,t.length)&&void 0!==e[n])return!0;return!1}}]),n}(w);function z(e){return e.charAt(0).toUpperCase()+e.slice(1)}var W=function(){function e(t){(0,i.Z)(this,e),this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=b.create("languageUtils")}return(0,o.Z)(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"===typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],n=e.split("-");return this.options.lowerCaseLng?n=n.map((function(e){return e.toLowerCase()})):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=z(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=z(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=z(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,n=this;return e?(e.forEach((function(e){if(!t){var r=n.formatLanguageCode(e);n.options.supportedLngs&&!n.isSupportedCode(r)||(t=r)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var r=n.getLanguagePartFromCode(e);if(n.isSupportedCode(r))return t=r;t=n.options.supportedLngs.find((function(e){if(0===e.indexOf(r))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),"string"===typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}},{key:"toResolveHierarchy",value:function(e,t){var n=this,r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),i=[],o=function(e){e&&(n.isSupportedCode(e)?i.push(e):n.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"===typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&o(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&o(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&o(this.getLanguagePartFromCode(e))):"string"===typeof e&&o(this.formatLanguageCode(e)),r.forEach((function(e){i.indexOf(e)<0&&o(n.formatLanguageCode(e))})),i}}]),e}(),K=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],q={1:function(e){return Number(e>1)},2:function(e){return Number(1!=e)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(1==e?0:e>=2&&e<=4?1:2)},7:function(e){return Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(1==e?0:2==e?1:8!=e&&11!=e?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(1==e?0:2==e?1:e<7?2:e<11?3:4)},11:function(e){return Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(0!==e)},14:function(e){return Number(1==e?0:2==e?1:3==e?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:0!==e?1:2)},17:function(e){return Number(1==e||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(0==e?0:1==e?1:2)},19:function(e){return Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(1==e?0:0==e||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)}},X=["v1","v2","v3"],Z={zero:0,one:1,two:2,few:3,many:4,other:5};function Y(){var e={};return K.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:q[t.fc]}}))})),e}var Q=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.Z)(this,e),this.languageUtils=t,this.options=n,this.logger=b.create("pluralResolver"),this.options.compatibilityJSON&&"v4"!==this.options.compatibilityJSON||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Y()}return(0,o.Z)(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(e,{type:t.ordinal?"ordinal":"cardinal"})}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((function(e){return"".concat(t).concat(e)}))}},{key:"getSuffixes",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((function(e,t){return Z[e]-Z[t]})).map((function(e){return"".concat(t.options.prepend).concat(e)})):r.numbers.map((function(r){return t.getSuffix(e,r,n)})):[]}},{key:"getSuffix",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this.getRule(e,n);return r?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.select(t)):this.getSuffixRetroCompatible(r,t):(this.logger.warn("no plural rule found for: ".concat(e)),"")}},{key:"getSuffixRetroCompatible",value:function(e,t){var n=this,r=e.noAbs?e.plurals(t):e.plurals(Math.abs(t)),i=e.numbers[r];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===i?i="plural":1===i&&(i=""));var o=function(){return n.options.prepend&&i.toString()?n.options.prepend+i.toString():i.toString()};return"v1"===this.options.compatibilityJSON?1===i?"":"number"===typeof i?"_plural_".concat(i.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?o():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}},{key:"shouldUseIntlApi",value:function(){return!X.includes(this.options.compatibilityJSON)}}]),e}();function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var te=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this.logger=b.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return(0,o.Z)(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:I,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?P(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?P(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?P(t.nestingPrefix):t.nestingPrefixEscaped||P("$t("),this.nestingSuffix=t.nestingSuffix?P(t.nestingSuffix):t.nestingSuffixEscaped||P(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var n="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(n,"g")}},{key:"interpolate",value:function(e,t,n,r){var i,o,a,s=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var u=function(e){if(e.indexOf(s.formatSeparator)<0){var i=C(t,l,e);return s.alwaysFormat?s.format(i,void 0,n,ee(ee(ee({},r),t),{},{interpolationkey:e})):i}var o=e.split(s.formatSeparator),a=o.shift().trim(),c=o.join(s.formatSeparator).trim();return s.format(C(t,l,a),c,n,ee(ee(ee({},r),t),{},{interpolationkey:a}))};this.resetRegExp();var d=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,p=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return c(e)}},{regex:this.regexp,safeValue:function(e){return s.escapeValue?c(s.escape(e)):c(e)}}].forEach((function(t){for(a=0;i=t.regex.exec(e);){var n=i[1].trim();if(void 0===(o=u(n)))if("function"===typeof d){var l=d(e,i,r);o="string"===typeof l?l:""}else if(r&&r.hasOwnProperty(n))o="";else{if(p){o=i[0];continue}s.logger.warn("missed to pass in variable ".concat(n," for interpolating ").concat(e)),o=""}else"string"===typeof o||s.useRawValueToEscape||(o=S(o));var c=t.safeValue(o);if(e=e.replace(i[0],c),p?(t.regex.lastIndex+=c.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,++a>=s.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var n,r,i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=ee({},o);function s(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var r=e.split(new RegExp("".concat(n,"[ ]*{"))),i="{".concat(r[1]);e=r[0],i=(i=this.interpolate(i,a)).replace(/'/g,'"');try{a=JSON.parse(i),t&&(a=ee(ee({},t),a))}catch(o){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),o),"".concat(e).concat(n).concat(i)}return delete a.defaultValue,e}for(a.applyPostProcessor=!1,delete a.defaultValue;n=this.nestingRegexp.exec(e);){var l=[],c=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){var u=n[1].split(this.formatSeparator).map((function(e){return e.trim()}));n[1]=u.shift(),l=u,c=!0}if((r=t(s.call(this,n[1].trim(),a),a))&&n[0]===e&&"string"!==typeof r)return r;"string"!==typeof r&&(r=S(r)),r||(this.logger.warn("missed to resolve ".concat(n[1]," for nesting ").concat(e)),r=""),c&&(r=l.reduce((function(e,t){return i.format(e,t,o.lng,ee(ee({},o),{},{interpolationkey:n[1].trim()}))}),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}]),e}();function ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ne(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ie=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,i.Z)(this,e),this.logger=b.create("formatter"),this.options=t,this.formats={number:function(e,t,n){return new Intl.NumberFormat(t,n).format(e)},currency:function(e,t,n){return new Intl.NumberFormat(t,re(re({},n),{},{style:"currency"})).format(e)},datetime:function(e,t,n){return new Intl.DateTimeFormat(t,re({},n)).format(e)},relativetime:function(e,t,n){return new Intl.RelativeTimeFormat(t,re({},n)).format(e,n.range||"day")},list:function(e,t,n){return new Intl.ListFormat(t,re({},n)).format(e)}},this.init(t)}return(0,o.Z)(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},n=t.interpolation;this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||","}},{key:"add",value:function(e,t){this.formats[e.toLowerCase().trim()]=t}},{key:"format",value:function(e,t,n,r){var i=this;return t.split(this.formatSeparator).reduce((function(e,t){var o=function(e){var t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){var r=e.split("(");t=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((function(e){if(e){var t=m(e.split(":")),r=t[0],i=t.slice(1).join(":");n[r.trim()]||(n[r.trim()]=i.trim()),"false"===i.trim()&&(n[r.trim()]=!1),"true"===i.trim()&&(n[r.trim()]=!0),isNaN(i.trim())||(n[r.trim()]=parseInt(i.trim(),10))}}))}return{formatName:t,formatOptions:n}}(t),a=o.formatName,s=o.formatOptions;if(i.formats[a]){var l=e;try{var c=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},u=c.locale||c.lng||r.locale||r.lng||n;l=i.formats[a](e,u,re(re(re({},s),r),c))}catch(d){i.logger.warn(d)}return l}return i.logger.warn("there was no format function for ".concat(a)),e}),e)}}]),e}();function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}var le=function(e){l(n,e);var t=se(n);function n(e,r,o){var s,l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return(0,i.Z)(this,n),s=t.call(this),M&&w.call(a(s)),s.backend=e,s.store=r,s.services=o,s.languageUtils=o.languageUtils,s.options=l,s.logger=b.create("backendConnector"),s.state={},s.queue=[],s.backend&&s.backend.init&&s.backend.init(o,l.backend,l),s}return(0,o.Z)(n,[{key:"queueLoad",value:function(e,t,n,r){var i=this,o=[],a=[],s=[],l=[];return e.forEach((function(e){var r=!0;t.forEach((function(t){var s="".concat(e,"|").concat(t);!n.reload&&i.store.hasResourceBundle(e,t)?i.state[s]=2:i.state[s]<0||(1===i.state[s]?a.indexOf(s)<0&&a.push(s):(i.state[s]=1,r=!1,a.indexOf(s)<0&&a.push(s),o.indexOf(s)<0&&o.push(s),l.indexOf(t)<0&&l.push(t)))})),r||s.push(e)})),(o.length||a.length)&&this.queue.push({pending:a,loaded:{},errors:[],callback:r}),{toLoad:o,pending:a,toLoadLanguages:s,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,n){var r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),n&&this.store.addResourceBundle(i,o,n),this.state[e]=t?-1:2;var a={};this.queue.forEach((function(n){var r,s,l,c,u,d;r=n.loaded,s=o,c=T(r,[i],Object),u=c.obj,d=c.k,u[d]=u[d]||[],l&&(u[d]=u[d].concat(s)),l||u[d].push(s),function(e,t){for(var n=e.indexOf(t);-1!==n;)e.splice(n,1),n=e.indexOf(t)}(n.pending,e),t&&n.errors.push(t),0!==n.pending.length||n.done||(Object.keys(n.loaded).forEach((function(e){a[e]||(a[e]=[]),n.loaded[e].length&&n.loaded[e].forEach((function(t){a[e].indexOf(t)<0&&a[e].push(t)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",a),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,n){var r=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,a=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[n](e,t,(function(s,l){s&&l&&i<5?setTimeout((function(){r.read.call(r,e,t,n,i+1,2*o,a)}),o):a(s,l)})):a(null,{})}},{key:"prepareLoading",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();"string"===typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"===typeof t&&(t=[t]);var o=this.queueLoad(e,t,r,i);if(!o.toLoad.length)return o.pending.length||i(),null;o.toLoad.forEach((function(e){n.loadOne(e)}))}},{key:"load",value:function(e,t,n){this.prepareLoading(e,t,{},n)}},{key:"reload",value:function(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}},{key:"loadOne",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=e.split("|"),i=r[0],o=r[1];this.read(i,o,"read",void 0,void 0,(function(r,a){r&&t.logger.warn("".concat(n,"loading namespace ").concat(o," for language ").concat(i," failed"),r),!r&&a&&t.logger.log("".concat(n,"loaded namespace ").concat(o," for language ").concat(i),a),t.loaded(e,r,a)}))}},{key:"saveMissing",value:function(e,t,n,r,i){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):void 0!==n&&null!==n&&""!==n&&(this.backend&&this.backend.create&&this.backend.create(e,t,n,r,null,ae(ae({},o),{},{isUpdate:i})),e&&e[0]&&this.store.addResource(e[0],t,n,r))}}]),n}(w);function ce(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===r(e[1])&&(t=e[1]),"string"===typeof e[1]&&(t.defaultValue=e[1]),"string"===typeof e[2]&&(t.tDescription=e[2]),"object"===r(e[2])||"object"===r(e[3])){var n=e[3]||e[2];Object.keys(n).forEach((function(e){t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,n,r){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function ue(e){return"string"===typeof e.ns&&(e.ns=[e.ns]),"string"===typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"===typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function he(){}function me(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach((function(t){"function"===typeof e[t]&&(e[t]=e[t].bind(e))}))}var ge=function(e){l(n,e);var t=fe(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if((0,i.Z)(this,n),e=t.call(this),M&&w.call(a(e)),e.options=ue(r),e.services={},e.logger=b,e.modules={external:[]},me(a(e)),o&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,o),c(e,a(e));setTimeout((function(){e.init(r,o)}),0)}return e}return(0,o.Z)(n,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;"function"===typeof t&&(n=t,t={}),!t.defaultNS&&t.ns&&("string"===typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));var r=ce();function i(e){return e?"function"===typeof e?new e:e:null}if(this.options=pe(pe(pe({},r),this.options),ue(t)),"v1"!==this.options.compatibilityAPI&&(this.options.interpolation=pe(pe({},r.interpolation),this.options.interpolation)),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),!this.options.isClone){var o;this.modules.logger?b.init(i(this.modules.logger),this.options):b.init(null,this.options),this.modules.formatter?o=this.modules.formatter:"undefined"!==typeof Intl&&(o=ie);var a=new W(this.options);this.store=new B(this.options.resources,this.options);var s=this.services;s.logger=b,s.resourceStore=this.store,s.languageUtils=a,s.pluralResolver=new Q(a,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!o||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(s.formatter=i(o),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new te(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new le(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new V(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit.apply(e,[t].concat(r))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.format=this.options.interpolation.format,n||(n=he),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var l=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);l.length>0&&"dev"!==l[0]&&(this.options.lng=l[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var c=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];c.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments)}}));var u=["addResource","addResources","addResourceBundle","removeResourceBundle"];u.forEach((function(t){e[t]=function(){var n;return(n=e.store)[t].apply(n,arguments),e}}));var d=x(),p=function(){var t=function(t,r){e.isInitialized&&!e.initializedStoreOnce&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),d.resolve(r),n(t,r)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?p():setTimeout(p,0),d}},{key:"loadResources",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,r=n,i="string"===typeof e?e:this.language;if("function"===typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var o=[],a=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){o.indexOf(e)<0&&o.push(e)}))};if(i)a(i);else{var s=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);s.forEach((function(e){return a(e)}))}this.options.preload&&this.options.preload.forEach((function(e){return a(e)})),this.services.backendConnector.load(o,this.options.ns,(function(e){e||t.resolvedLanguage||!t.language||t.setResolvedLanguage(t.language),r(e)}))}else r(null)}},{key:"reloadResources",value:function(e,t,n){var r=x();return e||(e=this.languages),t||(t=this.options.ns),n||(n=he),this.services.backendConnector.reload(e,t,(function(e){r.resolve(),n(e)})),r}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&F.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"setResolvedLanguage",value:function(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(var t=0;t<this.languages.length;t++){var n=this.languages[t];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}},{key:"changeLanguage",value:function(e,t){var n=this;this.isLanguageChangingTo=e;var r=x();this.emit("languageChanging",e);var i=function(e){n.language=e,n.languages=n.services.languageUtils.toResolveHierarchy(e),n.resolvedLanguage=void 0,n.setResolvedLanguage(e)},o=function(o){e||o||!n.services.languageDetector||(o=[]);var a="string"===typeof o?o:n.services.languageUtils.getBestMatchFromCodes(o);a&&(n.language||i(a),n.translator.language||n.translator.changeLanguage(a),n.services.languageDetector&&n.services.languageDetector.cacheUserLanguage(a)),n.loadResources(a,(function(e){!function(e,o){o?(i(o),n.translator.changeLanguage(o),n.isLanguageChangingTo=void 0,n.emit("languageChanged",o),n.logger.log("languageChanged",o)):n.isLanguageChangingTo=void 0,r.resolve((function(){return n.t.apply(n,arguments)})),t&&t(e,(function(){return n.t.apply(n,arguments)}))}(e,a)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(o):o(e):o(this.services.languageDetector.detect()),r}},{key:"getFixedT",value:function(e,t,n){var i=this,o=function e(t,o){var a;if("object"!==r(o)){for(var s=arguments.length,l=new Array(s>2?s-2:0),c=2;c<s;c++)l[c-2]=arguments[c];a=i.options.overloadTranslationOptionHandler([t,o].concat(l))}else a=pe({},o);a.lng=a.lng||e.lng,a.lngs=a.lngs||e.lngs,a.ns=a.ns||e.ns;var u=i.options.keySeparator||".",d=n?"".concat(n).concat(u).concat(t):t;return i.t(d,a)};return"string"===typeof e?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=n,o}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var r=this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,o=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;var a=function(e,n){var r=t.services.backendConnector.state["".concat(e,"|").concat(n)];return-1===r||2===r};if(n.precheck){var s=n.precheck(this,a);if(void 0!==s)return s}return!!this.hasResourceBundle(r,e)||(!this.services.backendConnector.backend||!(!a(r,e)||i&&!a(o,e)))}},{key:"loadNamespaces",value:function(e,t){var n=this,r=x();return this.options.ns?("string"===typeof e&&(e=[e]),e.forEach((function(e){n.options.ns.indexOf(e)<0&&n.options.ns.push(e)})),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var n=x();"string"===typeof e&&(e=[e]);var r=this.options.preload||[],i=e.filter((function(e){return r.indexOf(e)<0}));return i.length?(this.options.preload=r.concat(i),this.loadResources((function(e){n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:he,i=pe(pe(pe({},this.options),t),{isClone:!0}),o=new n(i),a=["store","services","language"];return a.forEach((function(t){o[t]=e[t]})),o.services=pe({},this.services),o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o.translator=new V(o.services,o.options),o.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];o.emit.apply(o,[e].concat(n))})),o.init(i,r),o.translator.options=o.options,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(w);(0,d.Z)(ge,"createInstance",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new ge(e,t)}));var ve=ge.createInstance();ve.createInstance=ge.createInstance;ve.createInstance,ve.init,ve.loadResources,ve.reloadResources,ve.use,ve.changeLanguage,ve.getFixedT,ve.t,ve.exists,ve.setDefaultNamespace,ve.hasLoadedNamespace,ve.loadNamespaces,ve.loadLanguages;const ye=ve},33600:e=>{"use strict";e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},59323:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\u{1d504}","afr":"\u{1d51e}","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1d538}","aopf":"\u{1d552}","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\u{1d49c}","ascr":"\u{1d4b6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\u{1d505}","bfr":"\u{1d51f}","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\u{1d539}","bopf":"\u{1d553}","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\u{1d4b7}","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\u{1d520}","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\u{1d554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\u{1d49e}","cscr":"\u{1d4b8}","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\u{1d507}","dfr":"\u{1d521}","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\u{1d53b}","dopf":"\u{1d555}","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\u{1d49f}","dscr":"\u{1d4b9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1d508}","efr":"\u{1d522}","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1d53c}","eopf":"\u{1d556}","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\u{1d509}","ffr":"\u{1d523}","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\u{1d53d}","fopf":"\u{1d557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\u{1d4bb}","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\u{1d50a}","gfr":"\u{1d524}","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\u{1d53e}","gopf":"\u{1d558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\u{1d4a2}","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\u{1d525}","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\u{1d559}","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1d4bd}","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\u{1d526}","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\u{1d540}","iopf":"\u{1d55a}","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\u{1d4be}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1d50d}","jfr":"\u{1d527}","jmath":"\u0237","Jopf":"\u{1d541}","jopf":"\u{1d55b}","Jscr":"\u{1d4a5}","jscr":"\u{1d4bf}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\u{1d50e}","kfr":"\u{1d528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\u{1d542}","kopf":"\u{1d55c}","Kscr":"\u{1d4a6}","kscr":"\u{1d4c0}","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\u{1d50f}","lfr":"\u{1d529}","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\u{1d543}","lopf":"\u{1d55d}","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\u{1d4c1}","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\u{1d510}","mfr":"\u{1d52a}","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\u{1d544}","mopf":"\u{1d55e}","mp":"\u2213","mscr":"\u{1d4c2}","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1d511}","nfr":"\u{1d52b}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\u{1d55f}","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\u{1d4a9}","nscr":"\u{1d4c3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\u{1d512}","ofr":"\u{1d52c}","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\u{1d546}","oopf":"\u{1d560}","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\u{1d4aa}","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\u{1d513}","pfr":"\u{1d52d}","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\u{1d561}","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\u{1d4ab}","pscr":"\u{1d4c5}","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\u{1d514}","qfr":"\u{1d52e}","qint":"\u2a0c","qopf":"\u{1d562}","Qopf":"\u211a","qprime":"\u2057","Qscr":"\u{1d4ac}","qscr":"\u{1d4c6}","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\u{1d52f}","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\u{1d563}","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\u{1d4c7}","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1d516}","sfr":"\u{1d530}","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\u{1d54a}","sopf":"\u{1d564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\u{1d4ae}","sscr":"\u{1d4c8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\u{1d517}","tfr":"\u{1d531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\u{1d54b}","topf":"\u{1d565}","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\u{1d4af}","tscr":"\u{1d4c9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\u{1d518}","ufr":"\u{1d532}","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1d54c}","uopf":"\u{1d566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\u{1d4b0}","uscr":"\u{1d4ca}","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\u{1d519}","vfr":"\u{1d533}","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\u{1d54d}","vopf":"\u{1d567}","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\u{1d4b1}","vscr":"\u{1d4cb}","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1d51a}","wfr":"\u{1d534}","Wopf":"\u{1d54e}","wopf":"\u{1d568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1d4b2}","wscr":"\u{1d4cc}","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\u{1d51b}","xfr":"\u{1d535}","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\u{1d54f}","xopf":"\u{1d569}","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\u{1d4b3}","xscr":"\u{1d4cd}","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\u{1d51c}","yfr":"\u{1d536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1d550}","yopf":"\u{1d56a}","Yscr":"\u{1d4b4}","yscr":"\u{1d4ce}","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\u{1d537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\u{1d56b}","Zopf":"\u2124","Zscr":"\u{1d4b5}","zscr":"\u{1d4cf}","zwj":"\u200d","zwnj":"\u200c"}')},29591:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},2586:e=>{"use strict";e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}}]);